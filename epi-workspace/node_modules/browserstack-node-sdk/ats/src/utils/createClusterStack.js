const a27_0x508271=a27_0xbd27;function a27_0xbd27(_0x5b5142,_0x59b04e){const _0x240707=a27_0x2407();return a27_0xbd27=function(_0xbd2707,_0x199aab){_0xbd2707=_0xbd2707-0xe5;let _0x1b2be5=_0x240707[_0xbd2707];return _0x1b2be5;},a27_0xbd27(_0x5b5142,_0x59b04e);}(function(_0x4d9c1d,_0x1c0700){const _0xb4f958=a27_0xbd27,_0x14bb9f=_0x4d9c1d();while(!![]){try{const _0x672084=-parseInt(_0xb4f958(0xf2))/0x1+parseInt(_0xb4f958(0x15b))/0x2+-parseInt(_0xb4f958(0x153))/0x3+-parseInt(_0xb4f958(0xec))/0x4+-parseInt(_0xb4f958(0x13b))/0x5*(-parseInt(_0xb4f958(0x117))/0x6)+parseInt(_0xb4f958(0x192))/0x7+parseInt(_0xb4f958(0x147))/0x8*(parseInt(_0xb4f958(0x173))/0x9);if(_0x672084===_0x1c0700)break;else _0x14bb9f['push'](_0x14bb9f['shift']());}catch(_0x41ba8f){_0x14bb9f['push'](_0x14bb9f['shift']());}}}(a27_0x2407,0x4ccd6));function a27_0x2407(){const _0x4b03c4=['9dQvpMB','ParameterValue','NodeGroupWindows','DependsOn','NodeAutoScalingGroupMinSizeWindows','XeOuX','CloudFormation','push','Properties','vpc-create.yaml','WLjsV','Resources','HRpvT','sDRph','VEswL','hzkTg','FcEdg','HCgQZ','bweKn','padStart','DELETE','yJivo','ResourcesVpcConfig','zYjXD','kAOqd','ZpYxw','Subnet03Block','js-yaml-cloudformation-schema','2|1|3|4|0|5','pzLyF','waitFor','137690cBRfVN','Metadata','OVeSO','mGQEj','NodeGroupNameWindows','promise','Key','doXjk','toString','zqRSP','BTwjX','RTjCq','KhpPd','EbMge','XhgGC','lAXGW','ngujh','RoeDs','1981264BRRQyc','guKST','ClusterAutoUpgrade','Tags','pUFDQ','RdwKJ','148139LSCYtJ','ZjDMa','rwQRM','CFTemplates','Subnets','ParameterGroups','forEach','WnOWe','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','AFGmz','DZaAw','qJHir','VWTeW','schema','stringify','ami','IHgbo','hAdMu','awsObj','CAPABILITY_NAMED_IAM','HJXJW','nMSdA','MSMSb','Capabilities','browserstack:cluster','Subnet','PhFui','xCNgN','CCSpS','bzeBD','Subnet02','subnet-create.yaml','MrvrK','bFcjZ','soToo','giXYs','TemplateBody','84SShoGg','js-yaml','AQXKG','oBJgY','NodeGroup','CpNfZ','NodeImageId','ryWzW','SlVla','jJliN','vpc-import.yaml','StackName','Value','FmmPz','RlFzN','BsZnY','lfWrl','Subnet03','rUcoG','mQPaN','AWS::CloudFormation::Interface','IVGQU','BrASK','eNAEV','./AWSUtils','gwMwQ','BjRES','BwxSb','EKSCluster','Qlwea','AUbjn','NodeInstanceType','NodeAutoScalingGroupMaxSize','split','msdKm','s3-create.yaml','150130IGEhhf','Tckwr','FBtTL','GvPrK','cfNTl','createClusterStack','XKGcE','2010-05-15','piXjO','browserstack:creationDate','SubnetIds','oxzzw','2938456RtHyAF','xHsGD','jeIbW','poLsw','../config/logger','PUxpt','Fn::Join','OKLBS','DZLkX','dkxIY','-Windows-NodeGroup','load','224790KcTLQH','1|0|3|5|2|4','Parameters','-NodeGroup','ClusterName','ParameterKey','keys','Outputs','451252fYRUHE','bluebird','GTjsz','instanceType','utf-8','arIVH','Ref','readFileAsync','value','RuNRu','stackCreateComplete','VPC','QeXAL','join','LAAIV','debug','s3Bucket','Subnet01Block','false','oVMpW','OnFailure','createStack','Subnet01','S3BucketName'];a27_0x2407=function(){return _0x4b03c4;};return a27_0x2407();}const fs=require('fs'),path=require('path'),Promise=require(a27_0x508271(0x15c)),yaml=require(a27_0x508271(0x118)),{CLOUDFORMATION_SCHEMA}=require(a27_0x508271(0x18e)),AWS=require(a27_0x508271(0x12f))[a27_0x508271(0x104)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x508271(0x14b)),{isBucketPresent}=require(a27_0x508271(0x12f));Promise['promisifyAll'](fs);const mergeTemplates=(_0x271dde,_0x243e21)=>{const _0x284812=a27_0x508271,_0x256633={'BjRES':function(_0x33331b,_0x5d6a38,_0x2338d3){return _0x33331b(_0x5d6a38,_0x2338d3);},'HCgQZ':function(_0x514359,_0x4f1e1f){return _0x514359!==_0x4f1e1f;},'KZVPe':_0x284812(0x14a),'AQXKG':'bCizZ'};Object[_0x284812(0x159)](_0x243e21)[_0x284812(0xf8)](_0x10b9b5=>{const _0x48f1b6=_0x284812,_0x5b5a3e={'mGQEj':function(_0x5c688e,_0x3601e0,_0x43c5ac){const _0x7cdd9a=a27_0xbd27;return _0x256633[_0x7cdd9a(0x131)](_0x5c688e,_0x3601e0,_0x43c5ac);},'DZLkX':function(_0x5c2bfc,_0x2669e1){const _0xf5231d=a27_0xbd27;return _0x256633[_0xf5231d(0x184)](_0x5c2bfc,_0x2669e1);},'HJXJW':_0x256633['KZVPe']};if(_0x256633[_0x48f1b6(0x184)](_0x256633[_0x48f1b6(0x119)],_0x256633[_0x48f1b6(0x119)]))_0x11bfdb['Resources'][_0x36f399]['Properties']&&_0x1ceadb[_0x48f1b6(0x17e)][_0x3fc87f][_0x48f1b6(0x17b)][_0x48f1b6(0xef)]&&_0x44d804['Resources'][_0x2e1cab]['Properties'][_0x48f1b6(0xef)][_0x48f1b6(0x17a)](..._0x4af266);else{var _0x2671b5=_0x243e21[_0x10b9b5];Object[_0x48f1b6(0x159)](_0x2671b5)[_0x48f1b6(0xf8)](_0x4ae0a0=>{const _0x1bcf27=_0x48f1b6,_0x1c700c={'lfWrl':function(_0xdc4f1d,_0x332a4b,_0xdacc70){const _0x4fdf4b=a27_0xbd27;return _0x5b5a3e[_0x4fdf4b(0x195)](_0xdc4f1d,_0x332a4b,_0xdacc70);}};_0x5b5a3e[_0x1bcf27(0x14f)](_0x5b5a3e[_0x1bcf27(0x106)],_0x5b5a3e['HJXJW'])?_0x1c700c[_0x1bcf27(0x127)](_0x328bf0,_0x3ab2bd,_0x404865):_0x271dde[_0x10b9b5][_0x4ae0a0]=_0x2671b5[_0x4ae0a0];});}});},addVPCData=async(_0x1f6c32,_0x475178)=>{const _0x781d65=a27_0x508271,_0x1d119f={'ZpYxw':'VPC','nVozo':function(_0x52a04f,_0x31f83f){return _0x52a04f===_0x31f83f;},'oBJgY':'aRrIH','ZjDMa':_0x781d65(0x181),'oxzzw':'CFTemplates','MSMSb':_0x781d65(0x121),'Tckwr':'utf-8','MrvrK':function(_0x2e4afb,_0x36726f,_0x3230d8){return _0x2e4afb(_0x36726f,_0x3230d8);},'PhFui':'AWS::CloudFormation::Interface','CmEAB':function(_0x43f6fc,_0x335bae){return _0x43f6fc!==_0x335bae;},'hwIyJ':'hYEMP','SheYe':_0x781d65(0x17c),'pUFDQ':function(_0x1b81e5,_0xa344ae,_0x37b81f){return _0x1b81e5(_0xa344ae,_0x37b81f);},'RpfrQ':'VpcBlock'};if(_0x475178){if(_0x1d119f['nVozo'](_0x1d119f[_0x781d65(0x11a)],_0x1d119f[_0x781d65(0xf3)])){const _0x43d3fc={};_0x43d3fc[_0x781d65(0x158)]=_0x1d119f['ZpYxw'],_0x43d3fc[_0x781d65(0x174)]=_0x120d18,_0x31a998['Parameters'][_0x781d65(0x17a)](_0x43d3fc);}else{const _0x38c530=await fs[_0x781d65(0x162)](path[_0x781d65(0x168)](__dirname,'..',_0x1d119f['oxzzw'],_0x1d119f[_0x781d65(0x108)]),_0x1d119f[_0x781d65(0x13c)]),_0x562d70={};_0x562d70[_0x781d65(0xff)]=CLOUDFORMATION_SCHEMA;const _0x345f54=yaml[_0x781d65(0x152)](_0x38c530,_0x562d70);_0x1d119f[_0x781d65(0x112)](mergeTemplates,_0x1f6c32,_0x345f54),_0x1f6c32[_0x781d65(0x193)][_0x1d119f['PhFui']]['ParameterGroups'][0x0][_0x781d65(0x155)][_0x781d65(0x17a)](_0x1d119f[_0x781d65(0x18c)]);}}else{if(_0x1d119f['CmEAB'](_0x1d119f['hwIyJ'],_0x1d119f['hwIyJ']))_0x268d6b[_0x781d65(0x17e)][_0x1b6f9e][_0x781d65(0x17b)][_0x781d65(0xef)]['push'](..._0x241aa4);else{const _0x1d4077=await fs['readFileAsync'](path[_0x781d65(0x168)](__dirname,'..',_0x1d119f[_0x781d65(0x146)],_0x1d119f['SheYe']),_0x1d119f[_0x781d65(0x13c)]),_0x19aa3e={};_0x19aa3e[_0x781d65(0xff)]=CLOUDFORMATION_SCHEMA;const _0x5262b9=yaml['load'](_0x1d4077,_0x19aa3e);_0x1d119f[_0x781d65(0xf0)](mergeTemplates,_0x1f6c32,_0x5262b9),_0x1f6c32[_0x781d65(0x193)][_0x1d119f[_0x781d65(0x10c)]][_0x781d65(0xf7)][0x0][_0x781d65(0x155)][_0x781d65(0x17a)](_0x1d119f['RpfrQ']);}}},addS3Data=async _0x1519a7=>{const _0x5f0b18=a27_0x508271,_0xe16498={'jeIbW':_0x5f0b18(0x154),'GTjsz':_0x5f0b18(0x12b),'mQPaN':function(_0x3ce776,_0x4dfc31){return _0x3ce776(_0x4dfc31);},'piXjO':function(_0x5132a0,_0x48b2b7){return _0x5132a0(_0x48b2b7);},'bentz':'Fn::Join','OVeSO':function(_0xea9964,_0x5a6c6a){return _0xea9964(_0x5a6c6a);},'XKGcE':_0x5f0b18(0xf5),'YzMMU':_0x5f0b18(0x13a),'OsHiA':_0x5f0b18(0x15f),'kAOqd':function(_0x4edfc7,_0x28e52c){return _0x4edfc7(_0x28e52c);},'IVGQU':function(_0xf0063,_0x34d953){return _0xf0063===_0x34d953;},'xCNgN':_0x5f0b18(0xe8),'ryWzW':_0x5f0b18(0x11c),'CGvcg':function(_0x14f0b8,_0x5be596,_0x4510a9){return _0x14f0b8(_0x5be596,_0x4510a9);}},_0x48150f=await fs[_0x5f0b18(0x162)](path[_0x5f0b18(0x168)](__dirname,'..',_0xe16498[_0x5f0b18(0x141)],_0xe16498['YzMMU']),_0xe16498['OsHiA']),_0x268c41={};_0x268c41['schema']=CLOUDFORMATION_SCHEMA;const _0x1d1a67=yaml[_0x5f0b18(0x152)](_0x48150f,_0x268c41),_0xc1ee66=await _0xe16498[_0x5f0b18(0x18b)](isBucketPresent,global_registry[_0x5f0b18(0x16b)]);if(_0xe16498[_0x5f0b18(0x12c)](_0xc1ee66,![])){if(_0xe16498[_0x5f0b18(0x12c)](_0xe16498[_0x5f0b18(0x10d)],_0xe16498[_0x5f0b18(0x11e)])){const _0x4d764b=_0xe16498[_0x5f0b18(0x149)][_0x5f0b18(0x138)]('|');let _0x4c9d8d=0x0;while(!![]){switch(_0x4d764b[_0x4c9d8d++]){case'0':_0x354fbc['Metadata'][_0xe16498[_0x5f0b18(0x15d)]][_0x5f0b18(0xf7)][0x0][_0x5f0b18(0x155)][_0x5f0b18(0x17a)]('Subnet'+_0xe16498[_0x5f0b18(0x12a)](_0x4c6a0b,_0x1b899f)[_0x5f0b18(0x186)](0x2,'0'));continue;case'1':_0x100858['Resources'][_0x5f0b18(0x133)][_0x5f0b18(0x17b)][_0x5f0b18(0x189)]['SubnetIds'][_0x5f0b18(0x17a)]({'Ref':_0x5f0b18(0x10b)+_0xe16498[_0x5f0b18(0x143)](_0x2a2aeb,_0x24840e)[_0x5f0b18(0x186)](0x2,'0')});continue;case'2':_0x5ac4ca['Outputs'][_0x5f0b18(0x145)][_0x5f0b18(0x123)][_0xe16498['bentz']][0x1][_0x5f0b18(0x17a)]({'Ref':_0x5f0b18(0x10b)+_0xe16498[_0x5f0b18(0x12a)](_0xaa9e65,_0x119524)['padStart'](0x2,'0')});continue;case'3':_0x5c8a34[_0x5f0b18(0x17e)][_0x5f0b18(0x11b)][_0x5f0b18(0x17b)][_0x5f0b18(0xf6)][_0x5f0b18(0x17a)]({'Ref':_0x5f0b18(0x10b)+_0xe16498['mQPaN'](_0x49f104,_0x41a804)[_0x5f0b18(0x186)](0x2,'0')});continue;case'4':_0x2ff71e+=0x1;continue;case'5':_0x5be368[_0x5f0b18(0x17e)]['NodeGroupWindows']['Properties'][_0x5f0b18(0xf6)][_0x5f0b18(0x17a)]({'Ref':_0x5f0b18(0x10b)+_0xe16498[_0x5f0b18(0x194)](_0x2cc1a3,_0x245994)[_0x5f0b18(0x186)](0x2,'0')});continue;}break;}}else _0xe16498['CGvcg'](mergeTemplates,_0x1519a7,_0x1d1a67);}},addSubnetData=async(_0x464dc3,_0x16f7e3)=>{const _0x2c173d=a27_0x508271,_0x4e818={'hzkTg':function(_0x22b76a,_0x5b23b6){return _0x22b76a(_0x5b23b6);},'lAXGW':function(_0x19b5b7,_0xafccf9){return _0x19b5b7===_0xafccf9;},'VONgn':_0x2c173d(0x10e),'rUcoG':_0x2c173d(0x18f),'AUbjn':_0x2c173d(0x14d),'QeXAL':function(_0x39d37b,_0x51cc52){return _0x39d37b(_0x51cc52);},'xaDAr':_0x2c173d(0x12b),'HRpvT':function(_0x2308a3,_0x25c7a3){return _0x2308a3(_0x25c7a3);},'hAdMu':function(_0x2252d7,_0xd42729){return _0x2252d7(_0xd42729);},'bweKn':_0x2c173d(0xf1),'KiWtF':'PGwLH','RlFzN':'CFTemplates','BsZnY':'subnet-import.yaml','BwxSb':'utf-8','lhsvg':function(_0xc3c546,_0x2a1b8d,_0x3138b5){return _0xc3c546(_0x2a1b8d,_0x3138b5);},'RTjCq':_0x2c173d(0x13f),'zqRSP':_0x2c173d(0x111),'FcEdg':function(_0x4adbe7,_0x3703a7,_0x414e50){return _0x4adbe7(_0x3703a7,_0x414e50);},'zYjXD':_0x2c173d(0x171),'FmmPz':_0x2c173d(0x110),'BTwjX':_0x2c173d(0x128),'rwQRM':_0x2c173d(0x16c),'WLjsV':'Subnet02Block','bFcjZ':_0x2c173d(0x18d)};if(_0x16f7e3){if(_0x4e818[_0x2c173d(0xe9)](_0x4e818[_0x2c173d(0x185)],_0x4e818['KiWtF']))_0x28d17f[_0x2c173d(0x155)][_0x2c173d(0x17a)]({'ParameterKey':'Subnet'+_0x4e818[_0x2c173d(0x182)](_0x2a1d33,_0x3b8784)[_0x2c173d(0x186)](0x2,'0'),'ParameterValue':_0x2ed1bd[_0x2c173d(0x163)]}),_0x313103+=0x1;else{const _0x5baaca=await fs[_0x2c173d(0x162)](path[_0x2c173d(0x168)](__dirname,'..',_0x4e818[_0x2c173d(0x125)],_0x4e818[_0x2c173d(0x126)]),_0x4e818[_0x2c173d(0x132)]),_0x5339b7={};_0x5339b7['schema']=CLOUDFORMATION_SCHEMA;const _0xff0ecc=yaml['load'](_0x5baaca,_0x5339b7);_0x4e818['lhsvg'](mergeTemplates,_0x464dc3,_0xff0ecc);let _0x538846=0x1;_0x16f7e3[_0x2c173d(0xf8)](_0x3b56bb=>{const _0x56dba4=_0x2c173d,_0x28e948={'iTnBI':function(_0x62799d,_0x255685){const _0x56c5e0=a27_0xbd27;return _0x4e818[_0x56c5e0(0x182)](_0x62799d,_0x255685);}};if(_0x4e818['lAXGW'](_0x4e818['VONgn'],_0x4e818['VONgn'])){const _0x14da90=_0x4e818[_0x56dba4(0x129)][_0x56dba4(0x138)]('|');let _0x1b7879=0x0;while(!![]){switch(_0x14da90[_0x1b7879++]){case'0':_0x464dc3[_0x56dba4(0x15a)][_0x56dba4(0x145)][_0x56dba4(0x123)][_0x4e818[_0x56dba4(0x135)]][0x1]['push']({'Ref':_0x56dba4(0x10b)+_0x4e818[_0x56dba4(0x167)](String,_0x538846)[_0x56dba4(0x186)](0x2,'0')});continue;case'1':_0x464dc3[_0x56dba4(0x193)][_0x4e818['xaDAr']]['ParameterGroups'][0x0][_0x56dba4(0x155)][_0x56dba4(0x17a)]('Subnet'+_0x4e818[_0x56dba4(0x17f)](String,_0x538846)[_0x56dba4(0x186)](0x2,'0'));continue;case'2':_0x464dc3[_0x56dba4(0x17e)][_0x56dba4(0x133)]['Properties'][_0x56dba4(0x189)]['SubnetIds'][_0x56dba4(0x17a)]({'Ref':'Subnet'+_0x4e818[_0x56dba4(0x167)](String,_0x538846)[_0x56dba4(0x186)](0x2,'0')});continue;case'3':_0x464dc3[_0x56dba4(0x17e)]['NodeGroup'][_0x56dba4(0x17b)]['Subnets'][_0x56dba4(0x17a)]({'Ref':_0x56dba4(0x10b)+_0x4e818[_0x56dba4(0x182)](String,_0x538846)[_0x56dba4(0x186)](0x2,'0')});continue;case'4':_0x464dc3[_0x56dba4(0x17e)]['NodeGroupWindows'][_0x56dba4(0x17b)][_0x56dba4(0xf6)]['push']({'Ref':_0x56dba4(0x10b)+_0x4e818[_0x56dba4(0x103)](String,_0x538846)[_0x56dba4(0x186)](0x2,'0')});continue;case'5':_0x538846+=0x1;continue;}break;}}else{let _0xc4df5=0x1;_0x44c3be[_0x56dba4(0xf8)](_0x378d75=>{const _0x5323f5=_0x56dba4;_0x49f618[_0x5323f5(0x155)][_0x5323f5(0x17a)]({'ParameterKey':'Subnet'+_0x28e948['iTnBI'](_0x73ac56,_0xc4df5)[_0x5323f5(0x186)](0x2,'0'),'ParameterValue':_0x378d75['value']}),_0xc4df5+=0x1;});}});}}else{if(_0x4e818[_0x2c173d(0xe9)](_0x4e818[_0x2c173d(0xe5)],_0x4e818[_0x2c173d(0xe5)])){const _0x2ab8a7=await fs[_0x2c173d(0x162)](path[_0x2c173d(0x168)](__dirname,'..',_0x4e818[_0x2c173d(0x125)],_0x4e818[_0x2c173d(0x19b)]),_0x4e818[_0x2c173d(0x132)]),_0x475a83={};_0x475a83[_0x2c173d(0xff)]=CLOUDFORMATION_SCHEMA;const _0x514596=yaml[_0x2c173d(0x152)](_0x2ab8a7,_0x475a83);_0x4e818[_0x2c173d(0x183)](mergeTemplates,_0x464dc3,_0x514596),_0x464dc3[_0x2c173d(0x17e)][_0x2c173d(0x133)][_0x2c173d(0x176)][_0x2c173d(0x17a)](_0x4e818[_0x2c173d(0x18a)],_0x4e818[_0x2c173d(0x124)],_0x4e818['BTwjX']);const _0x494b89={};_0x494b89['Ref']=_0x4e818[_0x2c173d(0x18a)];const _0x232db3={};_0x232db3[_0x2c173d(0x161)]=_0x4e818[_0x2c173d(0x124)];const _0xd01a39={};_0xd01a39[_0x2c173d(0x161)]=_0x4e818[_0x2c173d(0x19c)],_0x464dc3[_0x2c173d(0x17e)]['EKSCluster'][_0x2c173d(0x17b)][_0x2c173d(0x189)][_0x2c173d(0x145)]=[_0x494b89,_0x232db3,_0xd01a39],_0x464dc3[_0x2c173d(0x193)][_0x4e818['xaDAr']]['ParameterGroups'][0x0][_0x2c173d(0x155)]['push'](_0x4e818[_0x2c173d(0xf4)],_0x4e818[_0x2c173d(0x17d)],_0x4e818[_0x2c173d(0x113)]);const _0x93bb8c={};_0x93bb8c[_0x2c173d(0x161)]=_0x4e818[_0x2c173d(0x18a)];const _0x2cd6f1={};_0x2cd6f1[_0x2c173d(0x161)]=_0x4e818['FmmPz'];const _0x126c2b={};_0x126c2b[_0x2c173d(0x161)]=_0x4e818['BTwjX'],_0x464dc3[_0x2c173d(0x17e)][_0x2c173d(0x11b)]['Properties'][_0x2c173d(0xf6)]=[_0x93bb8c,_0x2cd6f1,_0x126c2b];const _0x43d9b9={};_0x43d9b9[_0x2c173d(0x161)]=_0x4e818[_0x2c173d(0x18a)];const _0x44d820={};_0x44d820[_0x2c173d(0x161)]=_0x4e818[_0x2c173d(0x124)];const _0x5766d3={};_0x5766d3[_0x2c173d(0x161)]=_0x4e818[_0x2c173d(0x19c)],_0x464dc3[_0x2c173d(0x17e)][_0x2c173d(0x175)][_0x2c173d(0x17b)][_0x2c173d(0xf6)]=[_0x43d9b9,_0x44d820,_0x5766d3],_0x464dc3['Outputs'][_0x2c173d(0x145)][_0x2c173d(0x123)][_0x4e818['AUbjn']][0x1]=[{'Ref':_0x4e818[_0x2c173d(0x18a)]},{'Ref':_0x4e818[_0x2c173d(0x124)]},{'Ref':_0x4e818['BTwjX']}];}else{var _0x3e2c2b=_0x464a25[_0x3bda12];_0x190e11[_0x2c173d(0x159)](_0x3e2c2b)[_0x2c173d(0xf8)](_0x3a0de6=>{_0x475031[_0x4bf254][_0x3a0de6]=_0x3e2c2b[_0x3a0de6];});}}},addTags=async(_0x390c7b,_0x43fb8d,_0x42b060)=>{const _0xe13e75=a27_0x508271,_0x19b2c8={};_0x19b2c8['FJryV']=_0xe13e75(0x11b),_0x19b2c8[_0xe13e75(0x130)]='NodeGroupWindows',_0x19b2c8['nMSdA']=function(_0x4b4472,_0x45d5fb){return _0x4b4472===_0x45d5fb;},_0x19b2c8[_0xe13e75(0xfd)]=_0xe13e75(0x180),_0x19b2c8[_0xe13e75(0xfb)]=_0xe13e75(0x134),_0x19b2c8[_0xe13e75(0xfe)]=function(_0x2e4fa0,_0x548b52){return _0x2e4fa0!==_0x548b52;},_0x19b2c8[_0xe13e75(0xf9)]=_0xe13e75(0x12e),_0x19b2c8['doXjk']=_0xe13e75(0xfc);const _0x1f7045=_0x19b2c8;for(const _0x83d761 in _0x390c7b[_0xe13e75(0x17e)]){_0x1f7045[_0xe13e75(0x107)](_0x1f7045[_0xe13e75(0xfb)],_0x1f7045[_0xe13e75(0xfb)])?_0x390c7b[_0xe13e75(0x17e)][_0x83d761][_0xe13e75(0x17b)]&&_0x390c7b['Resources'][_0x83d761][_0xe13e75(0x17b)][_0xe13e75(0xef)]&&(_0x1f7045[_0xe13e75(0xfe)](_0x1f7045[_0xe13e75(0xf9)],_0x1f7045[_0xe13e75(0x199)])?_0x390c7b[_0xe13e75(0x17e)][_0x83d761]['Properties'][_0xe13e75(0xef)][_0xe13e75(0x17a)](..._0x42b060):_0x229bce[_0x121781][_0x331be5]=_0x30eb60[_0x58f086]):_0x3312f2[_0xe13e75(0x159)](_0x57e062)['forEach'](_0x154fc6=>{const _0x63dc44=_0xe13e75;var _0x2cdb9f=_0x1d1d33[_0x154fc6];_0x58ac59[_0x63dc44(0x159)](_0x2cdb9f)[_0x63dc44(0xf8)](_0x26e0fa=>{_0x1bfefc[_0x154fc6][_0x26e0fa]=_0x2cdb9f[_0x26e0fa];});});}const _0x5e98d2={};_0x42b060['forEach'](_0x4bdd7a=>{const _0x4e35a3=_0xe13e75;if(_0x1f7045[_0x4e35a3(0x107)](_0x1f7045[_0x4e35a3(0xfd)],_0x1f7045[_0x4e35a3(0xfd)]))_0x5e98d2[_0x4bdd7a['Key']]=_0x4bdd7a[_0x4e35a3(0x123)];else{for(const _0x410766 in _0xf16113['Resources']){_0x5f2500[_0x4e35a3(0x17e)][_0x410766][_0x4e35a3(0x17b)]&&_0x156810[_0x4e35a3(0x17e)][_0x410766][_0x4e35a3(0x17b)]['Tags']&&_0xf409fe[_0x4e35a3(0x17e)][_0x410766]['Properties'][_0x4e35a3(0xef)][_0x4e35a3(0x17a)](..._0x12992d);}const _0x3138a={};_0x1bf86a[_0x4e35a3(0xf8)](_0x4f6899=>{const _0x20803b=_0x4e35a3;_0x3138a[_0x4f6899[_0x20803b(0x198)]]=_0x4f6899['Value'];}),_0x41ff0e['Resources'][_0x1f7045['FJryV']][_0x4e35a3(0x17b)][_0x4e35a3(0xef)]=_0x3138a,_0x127354[_0x4e35a3(0x17e)][_0x1f7045[_0x4e35a3(0x130)]][_0x4e35a3(0x17b)][_0x4e35a3(0xef)]=_0x3138a;}}),_0x390c7b['Resources'][_0x1f7045['FJryV']][_0xe13e75(0x17b)][_0xe13e75(0xef)]=_0x5e98d2,_0x390c7b[_0xe13e75(0x17e)][_0x1f7045[_0xe13e75(0x130)]][_0xe13e75(0x17b)][_0xe13e75(0xef)]=_0x5e98d2;};exports[a27_0x508271(0x140)]=async(_0x373767,_0x751742,_0x587bb0,_0x5590fb=null,_0x4d8e59=null,_0x4e225a)=>{const _0x5f6cb8=a27_0x508271,_0x1fb7a8={'BrASK':function(_0x36e7f8,_0x2ecd58){return _0x36e7f8(_0x2ecd58);},'vOzRE':_0x5f6cb8(0x10a),'IHgbo':_0x5f6cb8(0x144),'RoeDs':_0x5f6cb8(0x142),'LAAIV':_0x5f6cb8(0xf5),'PUxpt':'aws-eks-cluster-dep.yaml','yCHMp':_0x5f6cb8(0x15f),'ngujh':function(_0x3e6125,_0x575379,_0x2a1a57){return _0x3e6125(_0x575379,_0x2a1a57);},'guKST':function(_0x36d340,_0x46cf96,_0x33a759,_0x5ab6f1){return _0x36d340(_0x46cf96,_0x33a759,_0x5ab6f1);},'giXYs':_0x5f6cb8(0x187),'FBtTL':_0x5f6cb8(0x157),'XeOuX':'NodeGroupName','soToo':'NodeAutoScalingGroupMinSize','Lgpdg':_0x5f6cb8(0x177),'bzeBD':'NodeAutoScalingGroupDesiredSizeWindows','EbMge':_0x5f6cb8(0x137),'msdKm':_0x5f6cb8(0x11d),'KhpPd':_0x5f6cb8(0x136),'SlVla':_0x5f6cb8(0x172),'oVMpW':_0x5f6cb8(0x196),'jJliN':_0x5f6cb8(0xee),'yJivo':'true','RuNRu':_0x5f6cb8(0x16d),'pzLyF':_0x5f6cb8(0x105),'GvPrK':function(_0xe12603,_0x4415a8){return _0xe12603!=_0x4415a8;},'OKLBS':function(_0x5f29a8,_0x5c901a){return _0x5f29a8!==_0x5c901a;},'dkxIY':function(_0x8c6e0e,_0x18c7e1){return _0x8c6e0e===_0x18c7e1;},'xHsGD':'PSFmm','IqYyX':_0x5f6cb8(0x166),'ShCIL':function(_0x331def,_0x38c2b1){return _0x331def!=_0x38c2b1;},'arIVH':_0x5f6cb8(0xfa),'gVIjo':_0x5f6cb8(0x165)},_0x520b5c=COMMON_HST_TAGS,_0x232bd8={};_0x232bd8[_0x5f6cb8(0x198)]=_0x1fb7a8['vOzRE'],_0x232bd8[_0x5f6cb8(0x123)]=_0x373767,_0x520b5c['push'](_0x232bd8),_0x520b5c['push']({'Key':_0x1fb7a8[_0x5f6cb8(0x102)],'Value':new Date()['valueOf']()[_0x5f6cb8(0x19a)]()});const _0x45de21={};_0x45de21['apiVersion']=_0x1fb7a8[_0x5f6cb8(0xeb)];const _0xa7f729=new AWS[(_0x5f6cb8(0x179))](_0x45de21),_0x5d1b43=await fs['readFileAsync'](path[_0x5f6cb8(0x168)](__dirname,'..',_0x1fb7a8[_0x5f6cb8(0x169)],_0x1fb7a8[_0x5f6cb8(0x14c)]),_0x1fb7a8['yCHMp']),_0x14c17e={};_0x14c17e[_0x5f6cb8(0xff)]=CLOUDFORMATION_SCHEMA;const _0x1e8286=yaml['load'](_0x5d1b43,_0x14c17e);await _0x1fb7a8[_0x5f6cb8(0xea)](addVPCData,_0x1e8286,_0x5590fb),await _0x1fb7a8[_0x5f6cb8(0x12d)](addS3Data,_0x1e8286),await _0x1fb7a8[_0x5f6cb8(0xea)](addSubnetData,_0x1e8286,_0x4d8e59),await _0x1fb7a8[_0x5f6cb8(0xed)](addTags,_0x1e8286,_0x373767,_0x520b5c);const _0x360f25=JSON[_0x5f6cb8(0x100)](_0x1e8286),_0x5b4f99={};_0x5b4f99[_0x5f6cb8(0x122)]=CLUSTER_DEP_STACK_NAME+'-'+_0x373767,_0x5b4f99[_0x5f6cb8(0x16f)]=_0x1fb7a8[_0x5f6cb8(0x115)],_0x5b4f99[_0x5f6cb8(0x116)]=_0x360f25,_0x5b4f99[_0x5f6cb8(0x155)]=[{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x13d)],'ParameterValue':_0x373767},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x178)],'ParameterValue':_0x373767+_0x5f6cb8(0x156)},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x114)],'ParameterValue':''+_0x751742},{'ParameterKey':_0x1fb7a8['Lgpdg'],'ParameterValue':'0'},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x10f)],'ParameterValue':'1'},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0xe7)],'ParameterValue':''+_0x587bb0},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x139)],'ParameterValue':global_registry[_0x5f6cb8(0x101)]},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0xe6)],'ParameterValue':global_registry[_0x5f6cb8(0x15e)]},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x11f)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x16e)],'ParameterValue':_0x373767+_0x5f6cb8(0x151)},{'ParameterKey':_0x1fb7a8[_0x5f6cb8(0x120)],'ParameterValue':_0x4e225a?_0x1fb7a8[_0x5f6cb8(0x188)]:_0x1fb7a8[_0x5f6cb8(0x164)]}],_0x5b4f99[_0x5f6cb8(0x109)]=[_0x1fb7a8[_0x5f6cb8(0x190)]],_0x5b4f99['Tags']=_0x520b5c;const _0x40bd02=_0x5b4f99;if(_0x1fb7a8[_0x5f6cb8(0x13e)](_0x5590fb,null)&&_0x1fb7a8[_0x5f6cb8(0x14e)](_0x5590fb,undefined)){if(_0x1fb7a8[_0x5f6cb8(0x150)](_0x1fb7a8[_0x5f6cb8(0x148)],_0x1fb7a8['xHsGD'])){const _0x312db3={};_0x312db3[_0x5f6cb8(0x158)]=_0x1fb7a8['IqYyX'],_0x312db3['ParameterValue']=_0x5590fb,_0x40bd02[_0x5f6cb8(0x155)]['push'](_0x312db3);}else _0x36ccfd[_0x52479b[_0x5f6cb8(0x198)]]=_0x203f9d['Value'];}if(_0x1fb7a8['ShCIL'](_0x4d8e59,null)&&_0x1fb7a8['OKLBS'](_0x4d8e59,undefined)){let _0x199bfc=0x1;_0x4d8e59[_0x5f6cb8(0xf8)](_0x2a8c2a=>{const _0x2bb8d9=_0x5f6cb8;_0x40bd02[_0x2bb8d9(0x155)][_0x2bb8d9(0x17a)]({'ParameterKey':_0x2bb8d9(0x10b)+_0x1fb7a8[_0x2bb8d9(0x12d)](String,_0x199bfc)['padStart'](0x2,'0'),'ParameterValue':_0x2a8c2a[_0x2bb8d9(0x163)]}),_0x199bfc+=0x1;});}const _0x31e1d4=await _0xa7f729[_0x5f6cb8(0x170)](_0x40bd02)[_0x5f6cb8(0x197)]();logger[_0x5f6cb8(0x16a)](_0x1fb7a8[_0x5f6cb8(0x160)]);const _0xf62204={};return _0xf62204[_0x5f6cb8(0x122)]=_0x31e1d4['StackId'],_0xa7f729[_0x5f6cb8(0x191)](_0x1fb7a8['gVIjo'],_0xf62204)[_0x5f6cb8(0x197)]();};