const a27_0x2777de=a27_0x5078;(function(_0x2e492a,_0x31c29c){const _0x3ce5d8=a27_0x5078,_0x444b86=_0x2e492a();while(!![]){try{const _0x4fcba4=parseInt(_0x3ce5d8(0x1e5))/0x1+-parseInt(_0x3ce5d8(0x231))/0x2*(-parseInt(_0x3ce5d8(0x1ba))/0x3)+-parseInt(_0x3ce5d8(0x233))/0x4+-parseInt(_0x3ce5d8(0x23b))/0x5*(parseInt(_0x3ce5d8(0x214))/0x6)+parseInt(_0x3ce5d8(0x1a1))/0x7*(-parseInt(_0x3ce5d8(0x235))/0x8)+parseInt(_0x3ce5d8(0x23a))/0x9+parseInt(_0x3ce5d8(0x211))/0xa;if(_0x4fcba4===_0x31c29c)break;else _0x444b86['push'](_0x444b86['shift']());}catch(_0x44bf7f){_0x444b86['push'](_0x444b86['shift']());}}}(a27_0x31e1,0xbdce3));const fs=require('fs'),path=require(a27_0x2777de(0x1ff)),Promise=require(a27_0x2777de(0x1ec)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a27_0x2777de(0x1f5))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x2777de(0x20f)),{logger}=require(a27_0x2777de(0x22a)),{isBucketPresent}=require('./AWSUtils');Promise['promisifyAll'](fs);function a27_0x5078(_0xfc96bb,_0x3a66dd){const _0x31e141=a27_0x31e1();return a27_0x5078=function(_0x5078bb,_0x261603){_0x5078bb=_0x5078bb-0x19b;let _0x487132=_0x31e141[_0x5078bb];return _0x487132;},a27_0x5078(_0xfc96bb,_0x3a66dd);}const mergeTemplates=(_0x27659d,_0x159366)=>{const _0x55b2dd=a27_0x2777de,_0x2b6cd2={'bpdXm':function(_0x1b7942,_0x3177f6){return _0x1b7942!==_0x3177f6;},'OXGYO':_0x55b2dd(0x226),'lLGSX':'VHXtg','TDKRK':function(_0x4db606,_0x3c2d42,_0x4a5c40){return _0x4db606(_0x3c2d42,_0x4a5c40);},'KpprS':function(_0x41b033,_0x3989c8){return _0x41b033===_0x3989c8;},'dMXwy':_0x55b2dd(0x23c)};Object[_0x55b2dd(0x1bf)](_0x159366)['forEach'](_0xa5bc25=>{const _0x30cdfb=_0x55b2dd,_0x292443={'tjpPG':function(_0x3e432f,_0x574083,_0xb8b683){const _0x12152b=a27_0x5078;return _0x2b6cd2[_0x12152b(0x1ce)](_0x3e432f,_0x574083,_0xb8b683);}};if(_0x2b6cd2[_0x30cdfb(0x1a8)](_0x2b6cd2[_0x30cdfb(0x229)],_0x2b6cd2[_0x30cdfb(0x229)])){var _0x4f2c41=_0x159366[_0xa5bc25];Object[_0x30cdfb(0x1bf)](_0x4f2c41)[_0x30cdfb(0x248)](_0x33d1e8=>{const _0x113e86=_0x30cdfb;_0x2b6cd2[_0x113e86(0x1c6)](_0x2b6cd2['OXGYO'],_0x2b6cd2[_0x113e86(0x207)])?_0x27659d[_0xa5bc25][_0x33d1e8]=_0x4f2c41[_0x33d1e8]:_0x292443[_0x113e86(0x1d8)](_0x3b4100,_0x4c555c,_0xfa61ca);});}else{var _0x45538d=_0x554ee5[_0x57179b];_0x29a96b[_0x30cdfb(0x1bf)](_0x45538d)[_0x30cdfb(0x248)](_0x17fd29=>{_0x1ab87b[_0x4b8f56][_0x17fd29]=_0x45538d[_0x17fd29];});}});},addVPCData=async(_0x23f031,_0x161514)=>{const _0x542f87=a27_0x2777de,_0x22d970={'WiYcP':_0x542f87(0x21d),'HsNLS':_0x542f87(0x1df),'skPRx':function(_0x515c94,_0x542090){return _0x515c94===_0x542090;},'VMIiO':'JLaeA','EfSEL':'CFTemplates','QZfne':_0x542f87(0x1b9),'HZUPY':'utf-8','NXfjH':function(_0x4985c1,_0x28c207,_0x22648a){return _0x4985c1(_0x28c207,_0x22648a);},'ypbEW':_0x542f87(0x19d),'mdepx':'VPC','sbcxg':_0x542f87(0x1cd),'RNzcf':_0x542f87(0x222),'YxwMQ':'vpc-create.yaml','CNtGi':_0x542f87(0x240)};if(_0x161514){if(_0x22d970['skPRx'](_0x22d970[_0x542f87(0x1ea)],_0x22d970[_0x542f87(0x1ea)])){const _0x301be7=await fs[_0x542f87(0x228)](path[_0x542f87(0x20d)](__dirname,'..',_0x22d970['EfSEL'],_0x22d970[_0x542f87(0x1ee)]),_0x22d970[_0x542f87(0x20b)]),_0x26ca1a={};_0x26ca1a[_0x542f87(0x1dc)]=CLOUDFORMATION_SCHEMA;const _0x1fa016=yaml[_0x542f87(0x1e8)](_0x301be7,_0x26ca1a);_0x22d970[_0x542f87(0x1a7)](mergeTemplates,_0x23f031,_0x1fa016),_0x23f031[_0x542f87(0x220)][_0x22d970['ypbEW']][_0x542f87(0x1a0)][0x0]['Parameters']['push'](_0x22d970['mdepx']);}else{for(const _0x57a4fc in _0x3fbb5c[_0x542f87(0x203)]){_0x4d511e[_0x542f87(0x203)][_0x57a4fc][_0x542f87(0x23e)]&&_0xce68b0['Resources'][_0x57a4fc][_0x542f87(0x23e)]['Tags']&&_0x2289f1[_0x542f87(0x203)][_0x57a4fc]['Properties']['Tags'][_0x542f87(0x1bb)](..._0x1116d5);}const _0x3bfa1e={};_0x509c9e[_0x542f87(0x248)](_0x2ae336=>{const _0x2438cb=_0x542f87;_0x3bfa1e[_0x2ae336[_0x2438cb(0x21a)]]=_0x2ae336[_0x2438cb(0x219)];}),_0x5d585e['Resources'][_0x22d970[_0x542f87(0x223)]]['Properties'][_0x542f87(0x1c8)]=_0x3bfa1e,_0x34721f['Resources'][_0x22d970['HsNLS']][_0x542f87(0x23e)][_0x542f87(0x1c8)]=_0x3bfa1e;}}else{if(_0x22d970[_0x542f87(0x205)](_0x22d970[_0x542f87(0x1be)],_0x22d970[_0x542f87(0x1ac)]))_0x5be75a['Resources'][_0x439fb7][_0x542f87(0x23e)]&&_0x3dade0['Resources'][_0x261b24]['Properties'][_0x542f87(0x1c8)]&&_0x2981ee[_0x542f87(0x203)][_0x8d894][_0x542f87(0x23e)]['Tags'][_0x542f87(0x1bb)](..._0x52ae49);else{const _0x1c58e2=await fs[_0x542f87(0x228)](path[_0x542f87(0x20d)](__dirname,'..',_0x22d970[_0x542f87(0x224)],_0x22d970[_0x542f87(0x204)]),_0x22d970[_0x542f87(0x20b)]),_0x4f9d42={};_0x4f9d42[_0x542f87(0x1dc)]=CLOUDFORMATION_SCHEMA;const _0x27a73a=yaml[_0x542f87(0x1e8)](_0x1c58e2,_0x4f9d42);_0x22d970[_0x542f87(0x1a7)](mergeTemplates,_0x23f031,_0x27a73a),_0x23f031['Metadata'][_0x22d970['ypbEW']][_0x542f87(0x1a0)][0x0]['Parameters'][_0x542f87(0x1bb)](_0x22d970['CNtGi']);}}},addS3Data=async _0x55e05d=>{const _0xcb9a43=a27_0x2777de,_0x4c03fa={'BAirp':function(_0x455b4,_0x30513d){return _0x455b4(_0x30513d);},'mdqYq':'CFTemplates','BTAaa':_0xcb9a43(0x202),'uIhUF':_0xcb9a43(0x1b0),'VIPQc':function(_0x14d239,_0x29a0f8){return _0x14d239===_0x29a0f8;},'goduu':_0xcb9a43(0x243),'yzZDv':_0xcb9a43(0x1bd),'pevog':function(_0x3b4404,_0x34a545,_0x660703){return _0x3b4404(_0x34a545,_0x660703);}},_0x41ab87=await fs['readFileAsync'](path[_0xcb9a43(0x20d)](__dirname,'..',_0x4c03fa['mdqYq'],_0x4c03fa[_0xcb9a43(0x215)]),_0x4c03fa[_0xcb9a43(0x1a4)]),_0x139f4c={};_0x139f4c['schema']=CLOUDFORMATION_SCHEMA;const _0x5e5acc=yaml[_0xcb9a43(0x1e8)](_0x41ab87,_0x139f4c),_0xd71dd4=await _0x4c03fa[_0xcb9a43(0x20e)](isBucketPresent,global_registry[_0xcb9a43(0x1c3)]);if(_0x4c03fa[_0xcb9a43(0x19b)](_0xd71dd4,![])){if(_0x4c03fa[_0xcb9a43(0x19b)](_0x4c03fa[_0xcb9a43(0x22d)],_0x4c03fa['yzZDv'])){let _0x103ce4=0x1;_0x152102[_0xcb9a43(0x248)](_0x340365=>{const _0x454fcd=_0xcb9a43;_0x591ff6[_0x454fcd(0x1f2)][_0x454fcd(0x1bb)]({'ParameterKey':_0x454fcd(0x1b6)+_0x4c03fa[_0x454fcd(0x20e)](_0xc449a1,_0x103ce4)[_0x454fcd(0x206)](0x2,'0'),'ParameterValue':_0x340365[_0x454fcd(0x1af)]}),_0x103ce4+=0x1;});}else _0x4c03fa[_0xcb9a43(0x24e)](mergeTemplates,_0x55e05d,_0x5e5acc);}},addSubnetData=async(_0x23d583,_0x1412a9)=>{const _0x5d9199=a27_0x2777de,_0x204688={'qILmM':function(_0xa97050,_0x4e03a7){return _0xa97050!==_0x4e03a7;},'unOgs':_0x5d9199(0x242),'uetiM':'5|3|0|2|4|1','gHfwo':function(_0x1355fc,_0x37b6ca){return _0x1355fc(_0x37b6ca);},'HzICb':'AWS::CloudFormation::Interface','CqPqC':_0x5d9199(0x1ef),'sfRHs':function(_0x8cbe7d,_0x42c044){return _0x8cbe7d(_0x42c044);},'rNFAb':function(_0x3624b4,_0x49c3ac){return _0x3624b4(_0x49c3ac);},'PumCw':function(_0xb61389,_0x5cbb28){return _0xb61389===_0x5cbb28;},'BWbPK':'qdcIv','sZpJU':'CFTemplates','tvfEu':_0x5d9199(0x234),'Ajzdc':_0x5d9199(0x1b0),'YQnGe':function(_0x2bfa7c,_0x404fe0,_0x565db9){return _0x2bfa7c(_0x404fe0,_0x565db9);},'hMlfh':_0x5d9199(0x1f0),'OkIAu':_0x5d9199(0x1b3),'jDHLP':_0x5d9199(0x1b8),'fRLVJ':function(_0x1a505e,_0x2e5e8c,_0x33fbd6){return _0x1a505e(_0x2e5e8c,_0x33fbd6);},'NZCeU':_0x5d9199(0x1bc),'tFkGn':_0x5d9199(0x241),'TxKBg':_0x5d9199(0x24a),'TWOyo':_0x5d9199(0x217),'CAezk':'Subnet02Block','OFcmO':_0x5d9199(0x216)};if(_0x1412a9){if(_0x204688[_0x5d9199(0x1c5)](_0x204688['BWbPK'],_0x204688['BWbPK'])){const _0x4199fd=await fs[_0x5d9199(0x228)](path[_0x5d9199(0x20d)](__dirname,'..',_0x204688[_0x5d9199(0x1b1)],_0x204688['tvfEu']),_0x204688[_0x5d9199(0x1b7)]),_0x3e8574={};_0x3e8574[_0x5d9199(0x1dc)]=CLOUDFORMATION_SCHEMA;const _0x45d64b=yaml[_0x5d9199(0x1e8)](_0x4199fd,_0x3e8574);_0x204688['YQnGe'](mergeTemplates,_0x23d583,_0x45d64b);let _0x308206=0x1;_0x1412a9[_0x5d9199(0x248)](_0x5dfc0a=>{const _0x1298ea=_0x5d9199;if(_0x204688[_0x1298ea(0x239)](_0x204688[_0x1298ea(0x22f)],_0x204688[_0x1298ea(0x22f)]))_0x246dd6[_0x1298ea(0x1bf)](_0x5c1013)[_0x1298ea(0x248)](_0x236441=>{const _0x15a924=_0x1298ea;var _0x238a11=_0x412d4d[_0x236441];_0xbd72ca['keys'](_0x238a11)[_0x15a924(0x248)](_0x55de63=>{_0x169d37[_0x236441][_0x55de63]=_0x238a11[_0x55de63];});});else{const _0x1862ea=_0x204688[_0x1298ea(0x24d)]['split']('|');let _0x157f0a=0x0;while(!![]){switch(_0x1862ea[_0x157f0a++]){case'0':_0x23d583['Resources'][_0x1298ea(0x21d)][_0x1298ea(0x23e)][_0x1298ea(0x1dd)]['push']({'Ref':_0x1298ea(0x1b6)+_0x204688[_0x1298ea(0x1c4)](String,_0x308206)['padStart'](0x2,'0')});continue;case'1':_0x308206+=0x1;continue;case'2':_0x23d583[_0x1298ea(0x203)][_0x1298ea(0x1df)][_0x1298ea(0x23e)]['Subnets'][_0x1298ea(0x1bb)]({'Ref':_0x1298ea(0x1b6)+_0x204688['gHfwo'](String,_0x308206)[_0x1298ea(0x206)](0x2,'0')});continue;case'3':_0x23d583[_0x1298ea(0x220)][_0x204688['HzICb']][_0x1298ea(0x1a0)][0x0][_0x1298ea(0x1f2)][_0x1298ea(0x1bb)](_0x1298ea(0x1b6)+_0x204688[_0x1298ea(0x1c4)](String,_0x308206)[_0x1298ea(0x206)](0x2,'0'));continue;case'4':_0x23d583['Outputs'][_0x1298ea(0x1fa)][_0x1298ea(0x219)][_0x204688['CqPqC']][0x1][_0x1298ea(0x1bb)]({'Ref':'Subnet'+_0x204688[_0x1298ea(0x1d3)](String,_0x308206)[_0x1298ea(0x206)](0x2,'0')});continue;case'5':_0x23d583[_0x1298ea(0x203)][_0x1298ea(0x1f7)]['Properties'][_0x1298ea(0x21b)][_0x1298ea(0x1fa)][_0x1298ea(0x1bb)]({'Ref':_0x1298ea(0x1b6)+_0x204688['rNFAb'](String,_0x308206)[_0x1298ea(0x206)](0x2,'0')});continue;}break;}}});}else _0x5b4f37[_0x4cb8e0][_0x1d54f5]=_0x2e8f76[_0x3a410b];}else{if(_0x204688['qILmM'](_0x204688[_0x5d9199(0x20c)],_0x204688[_0x5d9199(0x21c)])){const _0x4d3ca1=await fs[_0x5d9199(0x228)](path[_0x5d9199(0x20d)](__dirname,'..',_0x204688[_0x5d9199(0x1b1)],_0x204688[_0x5d9199(0x1f3)]),_0x204688[_0x5d9199(0x1b7)]),_0x18e85e={};_0x18e85e[_0x5d9199(0x1dc)]=CLOUDFORMATION_SCHEMA;const _0x110b4b=yaml[_0x5d9199(0x1e8)](_0x4d3ca1,_0x18e85e);_0x204688[_0x5d9199(0x1b5)](mergeTemplates,_0x23d583,_0x110b4b),_0x23d583['Resources']['EKSCluster'][_0x5d9199(0x1eb)]['push'](_0x204688[_0x5d9199(0x1da)],_0x204688['tFkGn'],_0x204688[_0x5d9199(0x1fe)]);const _0x4b0830={};_0x4b0830['Ref']=_0x204688[_0x5d9199(0x1da)];const _0x4f535c={};_0x4f535c[_0x5d9199(0x24b)]=_0x204688[_0x5d9199(0x1c0)];const _0x336b7a={};_0x336b7a[_0x5d9199(0x24b)]=_0x204688[_0x5d9199(0x1fe)],_0x23d583[_0x5d9199(0x203)]['EKSCluster']['Properties']['ResourcesVpcConfig'][_0x5d9199(0x1fa)]=[_0x4b0830,_0x4f535c,_0x336b7a],_0x23d583[_0x5d9199(0x220)][_0x204688[_0x5d9199(0x225)]][_0x5d9199(0x1a0)][0x0][_0x5d9199(0x1f2)]['push'](_0x204688[_0x5d9199(0x200)],_0x204688[_0x5d9199(0x1f4)],_0x204688['OFcmO']);const _0x258bea={};_0x258bea[_0x5d9199(0x24b)]=_0x204688[_0x5d9199(0x1da)];const _0x2d5bd7={};_0x2d5bd7['Ref']=_0x204688[_0x5d9199(0x1c0)];const _0x18425a={};_0x18425a['Ref']=_0x204688[_0x5d9199(0x1fe)],_0x23d583['Resources'][_0x5d9199(0x21d)][_0x5d9199(0x23e)]['Subnets']=[_0x258bea,_0x2d5bd7,_0x18425a];const _0x2fcf1b={};_0x2fcf1b['Ref']=_0x204688[_0x5d9199(0x1da)];const _0x59d734={};_0x59d734[_0x5d9199(0x24b)]=_0x204688[_0x5d9199(0x1c0)];const _0x2ccc67={};_0x2ccc67[_0x5d9199(0x24b)]=_0x204688[_0x5d9199(0x1fe)],_0x23d583['Resources'][_0x5d9199(0x1df)]['Properties']['Subnets']=[_0x2fcf1b,_0x59d734,_0x2ccc67],_0x23d583[_0x5d9199(0x213)][_0x5d9199(0x1fa)][_0x5d9199(0x219)][_0x204688[_0x5d9199(0x246)]][0x1]=[{'Ref':_0x204688[_0x5d9199(0x1da)]},{'Ref':_0x204688[_0x5d9199(0x1c0)]},{'Ref':_0x204688[_0x5d9199(0x1fe)]}];}else _0x76a492[_0x126e2d[_0x5d9199(0x21a)]]=_0x5652fe[_0x5d9199(0x219)];}},addTags=async(_0x21284b,_0x35fab7,_0x232d7c)=>{const _0x1f35e0=a27_0x2777de,_0x11b95a={'MLrhp':'1|3|0|4|2|5','nvmdH':function(_0x198d6b,_0x49ba73){return _0x198d6b(_0x49ba73);},'kuUFQ':function(_0x37485f,_0x353a86){return _0x37485f(_0x353a86);},'OzjJT':_0x1f35e0(0x1ef),'hNGAb':function(_0x59db32,_0x12cb65){return _0x59db32(_0x12cb65);},'ZcvBx':_0x1f35e0(0x19d),'nZEGo':function(_0x10e421,_0x137195){return _0x10e421(_0x137195);},'hTETx':function(_0x35dde4,_0x46e72a){return _0x35dde4(_0x46e72a);},'tuNil':function(_0xf8e978,_0x4be1ef){return _0xf8e978(_0x4be1ef);},'leElC':function(_0x20cb86,_0x168b15){return _0x20cb86!==_0x168b15;},'UPZgz':_0x1f35e0(0x1fb),'NYsOo':_0x1f35e0(0x1d5),'ibgfH':function(_0x11f767,_0x43e403){return _0x11f767!==_0x43e403;},'ZyLGG':_0x1f35e0(0x1a9),'sBoej':'cQrqo','cnPDH':function(_0x48502d,_0x3ac283){return _0x48502d!==_0x3ac283;},'abtiy':_0x1f35e0(0x1e9),'apDVF':_0x1f35e0(0x1a2),'tfAfa':_0x1f35e0(0x21d),'Gcgbr':_0x1f35e0(0x1df)};for(const _0x46ebc8 in _0x21284b['Resources']){if(_0x11b95a[_0x1f35e0(0x1d4)](_0x11b95a['ZyLGG'],_0x11b95a[_0x1f35e0(0x221)])){if(_0x21284b[_0x1f35e0(0x203)][_0x46ebc8][_0x1f35e0(0x23e)]&&_0x21284b['Resources'][_0x46ebc8][_0x1f35e0(0x23e)][_0x1f35e0(0x1c8)]){if(_0x11b95a[_0x1f35e0(0x1f6)](_0x11b95a[_0x1f35e0(0x1c9)],_0x11b95a['apDVF']))_0x21284b[_0x1f35e0(0x203)][_0x46ebc8][_0x1f35e0(0x23e)][_0x1f35e0(0x1c8)][_0x1f35e0(0x1bb)](..._0x232d7c);else{const _0x55a091=_0x11b95a['MLrhp'][_0x1f35e0(0x247)]('|');let _0x120da6=0x0;while(!![]){switch(_0x55a091[_0x120da6++]){case'0':_0x59d387[_0x1f35e0(0x203)][_0x1f35e0(0x21d)][_0x1f35e0(0x23e)]['Subnets'][_0x1f35e0(0x1bb)]({'Ref':_0x1f35e0(0x1b6)+_0x11b95a[_0x1f35e0(0x1ae)](_0x21e695,_0x586815)[_0x1f35e0(0x206)](0x2,'0')});continue;case'1':_0x5cea3a[_0x1f35e0(0x203)][_0x1f35e0(0x1f7)][_0x1f35e0(0x23e)]['ResourcesVpcConfig']['SubnetIds'][_0x1f35e0(0x1bb)]({'Ref':'Subnet'+_0x11b95a[_0x1f35e0(0x22e)](_0x2b3888,_0x5c984f)[_0x1f35e0(0x206)](0x2,'0')});continue;case'2':_0x4636fe['Outputs'][_0x1f35e0(0x1fa)][_0x1f35e0(0x219)][_0x11b95a[_0x1f35e0(0x19c)]][0x1]['push']({'Ref':_0x1f35e0(0x1b6)+_0x11b95a[_0x1f35e0(0x1fc)](_0x2e6dbb,_0x4b0171)[_0x1f35e0(0x206)](0x2,'0')});continue;case'3':_0x36686a[_0x1f35e0(0x220)][_0x11b95a[_0x1f35e0(0x1e6)]][_0x1f35e0(0x1a0)][0x0]['Parameters']['push'](_0x1f35e0(0x1b6)+_0x11b95a['nZEGo'](_0x296727,_0x395e36)[_0x1f35e0(0x206)](0x2,'0'));continue;case'4':_0x31b1ae[_0x1f35e0(0x203)]['NodeGroupWindows'][_0x1f35e0(0x23e)]['Subnets'][_0x1f35e0(0x1bb)]({'Ref':_0x1f35e0(0x1b6)+_0x11b95a[_0x1f35e0(0x1ad)](_0xde2ff7,_0x1c0937)['padStart'](0x2,'0')});continue;case'5':_0x44faf2+=0x1;continue;}break;}}}}else _0x509af5[_0x1f35e0(0x203)][_0x14b971][_0x1f35e0(0x23e)][_0x1f35e0(0x1c8)][_0x1f35e0(0x1bb)](..._0x359890);}const _0x164d45={};_0x232d7c['forEach'](_0x5c68ac=>{const _0x1cd95a=_0x1f35e0;_0x11b95a['leElC'](_0x11b95a['UPZgz'],_0x11b95a[_0x1cd95a(0x232)])?_0x164d45[_0x5c68ac[_0x1cd95a(0x21a)]]=_0x5c68ac[_0x1cd95a(0x219)]:(_0x244628['Parameters']['push']({'ParameterKey':_0x1cd95a(0x1b6)+_0x11b95a['tuNil'](_0x2fb220,_0x36061c)['padStart'](0x2,'0'),'ParameterValue':_0xed8b40[_0x1cd95a(0x1af)]}),_0xf16933+=0x1);}),_0x21284b['Resources'][_0x11b95a[_0x1f35e0(0x1ca)]]['Properties']['Tags']=_0x164d45,_0x21284b[_0x1f35e0(0x203)][_0x11b95a[_0x1f35e0(0x1f8)]]['Properties'][_0x1f35e0(0x1c8)]=_0x164d45;};exports[a27_0x2777de(0x24c)]=async(_0x382fe8,_0x74c8d5,_0x168101,_0x4e96f3=null,_0xc66f6a=null)=>{const _0x171234=a27_0x2777de,_0x5b9f3e={'dzibc':_0x171234(0x1db),'OEhkw':function(_0x49550d,_0xbdecec){return _0x49550d(_0xbdecec);},'hFFGK':_0x171234(0x22c),'fRRXC':_0x171234(0x1aa),'AYHlF':'2010-05-15','UiRdc':'CFTemplates','IdjDQ':_0x171234(0x1ed),'GJLLJ':'utf-8','LbbJB':function(_0x2668af,_0x2c29f6,_0x8163de){return _0x2668af(_0x2c29f6,_0x8163de);},'lomeU':function(_0x330e84,_0x1c3b66){return _0x330e84(_0x1c3b66);},'FCruW':function(_0x4b6454,_0x34c99e,_0x1d6d58){return _0x4b6454(_0x34c99e,_0x1d6d58);},'svHRP':function(_0x5233f1,_0xd1e9e,_0x4a6994,_0x412f9d){return _0x5233f1(_0xd1e9e,_0x4a6994,_0x412f9d);},'deFtr':'DELETE','GRlgY':_0x171234(0x23d),'mOhTJ':_0x171234(0x218),'CaWvG':_0x171234(0x1d0),'jRscK':_0x171234(0x227),'XsOjE':_0x171234(0x1e0),'fLGcY':_0x171234(0x23f),'KKbYU':'NodeImageId','MyuLC':_0x171234(0x1b2),'iZjjq':_0x171234(0x230),'fDoDb':_0x171234(0x209),'RkRHb':_0x171234(0x201),'FctVy':function(_0x123cc3,_0x3c8531){return _0x123cc3!=_0x3c8531;},'ELUHa':function(_0x1b7a74,_0x2a6b8a){return _0x1b7a74!==_0x2a6b8a;},'fJlgz':function(_0x49fe1b,_0x46467b){return _0x49fe1b===_0x46467b;},'wWnLQ':'pFdqY','atwDi':'htIkd','hLcsY':function(_0x514069,_0x1253d9){return _0x514069!==_0x1253d9;},'raCjN':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','ZhOUC':'stackCreateComplete'},_0xc8a48d=COMMON_HST_TAGS,_0xa93d8c={};_0xa93d8c[_0x171234(0x21a)]=_0x5b9f3e['hFFGK'],_0xa93d8c['Value']=_0x382fe8,_0xc8a48d['push'](_0xa93d8c),_0xc8a48d[_0x171234(0x1bb)]({'Key':_0x5b9f3e[_0x171234(0x1c2)],'Value':new Date()['valueOf']()[_0x171234(0x210)]()});const _0x4ca746={};_0x4ca746[_0x171234(0x208)]=_0x5b9f3e[_0x171234(0x1f1)];const _0x2c4cc8=new AWS[(_0x171234(0x1e3))](_0x4ca746),_0x16c065=await fs['readFileAsync'](path[_0x171234(0x20d)](__dirname,'..',_0x5b9f3e['UiRdc'],_0x5b9f3e[_0x171234(0x1e1)]),_0x5b9f3e[_0x171234(0x21f)]),_0x3b4195={};_0x3b4195['schema']=CLOUDFORMATION_SCHEMA;const _0x3bd226=yaml[_0x171234(0x1e8)](_0x16c065,_0x3b4195);await _0x5b9f3e[_0x171234(0x1a5)](addVPCData,_0x3bd226,_0x4e96f3),await _0x5b9f3e[_0x171234(0x19e)](addS3Data,_0x3bd226),await _0x5b9f3e[_0x171234(0x1c7)](addSubnetData,_0x3bd226,_0xc66f6a),await _0x5b9f3e[_0x171234(0x1a6)](addTags,_0x3bd226,_0x382fe8,_0xc8a48d);const _0x3ee7a9=JSON[_0x171234(0x245)](_0x3bd226),_0x19c50a={};_0x19c50a[_0x171234(0x1d6)]=CLUSTER_DEP_STACK_NAME+'-'+_0x382fe8,_0x19c50a['OnFailure']=_0x5b9f3e[_0x171234(0x1d9)],_0x19c50a[_0x171234(0x237)]=_0x3ee7a9,_0x19c50a[_0x171234(0x1f2)]=[{'ParameterKey':_0x5b9f3e[_0x171234(0x1ab)],'ParameterValue':_0x382fe8},{'ParameterKey':_0x5b9f3e[_0x171234(0x1f9)],'ParameterValue':_0x382fe8+'-NodeGroup'},{'ParameterKey':_0x5b9f3e[_0x171234(0x1cc)],'ParameterValue':''+_0x74c8d5},{'ParameterKey':_0x5b9f3e[_0x171234(0x212)],'ParameterValue':'0'},{'ParameterKey':_0x5b9f3e[_0x171234(0x20a)],'ParameterValue':'1'},{'ParameterKey':_0x5b9f3e[_0x171234(0x22b)],'ParameterValue':''+_0x168101},{'ParameterKey':_0x5b9f3e[_0x171234(0x249)],'ParameterValue':global_registry[_0x171234(0x21e)]},{'ParameterKey':_0x5b9f3e[_0x171234(0x1d2)],'ParameterValue':global_registry[_0x171234(0x1b4)]},{'ParameterKey':_0x5b9f3e['iZjjq'],'ParameterValue':global_registry[_0x171234(0x1c3)]},{'ParameterKey':_0x5b9f3e['fDoDb'],'ParameterValue':_0x382fe8+_0x171234(0x19f)}],_0x19c50a[_0x171234(0x1de)]=[_0x5b9f3e[_0x171234(0x1c1)]],_0x19c50a[_0x171234(0x1c8)]=_0xc8a48d;const _0x4b1aee=_0x19c50a;if(_0x5b9f3e[_0x171234(0x1cb)](_0x4e96f3,null)&&_0x5b9f3e[_0x171234(0x238)](_0x4e96f3,undefined)){if(_0x5b9f3e[_0x171234(0x1e7)](_0x5b9f3e['wWnLQ'],_0x5b9f3e[_0x171234(0x236)])){const _0x128dde={};_0x128dde['ParameterKey']=_0x5b9f3e['dzibc'],_0x128dde['ParameterValue']=_0x541a3d,_0x1b793b[_0x171234(0x1f2)][_0x171234(0x1bb)](_0x128dde);}else{const _0x18ea52={};_0x18ea52[_0x171234(0x1fd)]=_0x5b9f3e[_0x171234(0x1e4)],_0x18ea52['ParameterValue']=_0x4e96f3,_0x4b1aee[_0x171234(0x1f2)][_0x171234(0x1bb)](_0x18ea52);}}if(_0x5b9f3e[_0x171234(0x1cb)](_0xc66f6a,null)&&_0x5b9f3e['hLcsY'](_0xc66f6a,undefined)){let _0x209406=0x1;_0xc66f6a[_0x171234(0x248)](_0x5437b0=>{const _0xacf50b=_0x171234;_0x4b1aee[_0xacf50b(0x1f2)][_0xacf50b(0x1bb)]({'ParameterKey':_0xacf50b(0x1b6)+_0x5b9f3e[_0xacf50b(0x1a3)](String,_0x209406)['padStart'](0x2,'0'),'ParameterValue':_0x5437b0[_0xacf50b(0x1af)]}),_0x209406+=0x1;});}const _0x41e269=await _0x2c4cc8[_0x171234(0x244)](_0x4b1aee)[_0x171234(0x1e2)]();logger[_0x171234(0x1d7)](_0x5b9f3e[_0x171234(0x1cf)]);const _0x44eec5={};return _0x44eec5[_0x171234(0x1d6)]=_0x41e269['StackId'],_0x2c4cc8[_0x171234(0x1d1)](_0x5b9f3e['ZhOUC'],_0x44eec5)[_0x171234(0x1e2)]();};function a27_0x31e1(){const _0x5e3b56=['KpprS','wZFtN','browserstack:creationDate','GRlgY','RNzcf','hTETx','nvmdH','value','utf-8','sZpJU','NodeInstanceType','PatGZ','instanceType','fRLVJ','Subnet','Ajzdc','subnet-create.yaml','vpc-import.yaml','3fHjyWc','push','Subnet01','sVHVW','sbcxg','keys','tFkGn','RkRHb','fRRXC','s3Bucket','gHfwo','PumCw','bpdXm','FCruW','Tags','abtiy','tfAfa','FctVy','CaWvG','KUkKK','TDKRK','raCjN','NodeAutoScalingGroupMinSize','waitFor','MyuLC','sfRHs','ibgfH','hsoNo','StackName','debug','tjpPG','deFtr','NZCeU','VPC','schema','Subnets','Capabilities','NodeGroupWindows','NodeAutoScalingGroupDesiredSizeWindows','IdjDQ','promise','CloudFormation','dzibc','659705rkyNhi','ZcvBx','fJlgz','load','QZFNB','VMIiO','DependsOn','bluebird','aws-eks-cluster-dep.yaml','QZfne','Fn::Join','RINJE','AYHlF','Parameters','jDHLP','CAezk','./AWSUtils','cnPDH','EKSCluster','Gcgbr','mOhTJ','SubnetIds','QjnYL','hNGAb','ParameterKey','TxKBg','path','TWOyo','CAPABILITY_NAMED_IAM','s3-create.yaml','Resources','YxwMQ','skPRx','padStart','lLGSX','apiVersion','NodeGroupNameWindows','XsOjE','HZUPY','hMlfh','join','BAirp','../config/constants','toString','24435940cifAep','jRscK','Outputs','3017706kaAUxD','BTAaa','Subnet03Block','Subnet01Block','NodeGroupName','Value','Key','ResourcesVpcConfig','OkIAu','NodeGroup','ami','GJLLJ','Metadata','sBoej','swIsj','WiYcP','EfSEL','HzICb','PbkeQ','NodeAutoScalingGroupMinSizeWindows','readFileAsync','dMXwy','../config/logger','fLGcY','browserstack:cluster','goduu','kuUFQ','unOgs','S3BucketName','429766wqHusB','NYsOo','4693400KDMTOt','subnet-import.yaml','8BuUrYI','atwDi','TemplateBody','ELUHa','qILmM','5096151NpqJDg','5TtSiyi','DvLwY','ClusterName','Properties','NodeAutoScalingGroupMaxSize','VpcBlock','Subnet02','BKTxf','AkmBT','createStack','stringify','CqPqC','split','forEach','KKbYU','Subnet03','Ref','createClusterStack','uetiM','pevog','VIPQc','OzjJT','AWS::CloudFormation::Interface','lomeU','-Windows-NodeGroup','ParameterGroups','10014739UeWxIb','mEWTs','OEhkw','uIhUF','LbbJB','svHRP','NXfjH'];a27_0x31e1=function(){return _0x5e3b56;};return a27_0x31e1();}