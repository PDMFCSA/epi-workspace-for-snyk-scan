const a27_0x406e72=a27_0x28d5;function a27_0x134d(){const _0xf8258f=['browserstack:creationDate','jiEkf','JtJQu','nfnnt','Outputs','instanceType','Subnet03Block','Properties','dDoiK','LZXaj','toString','MGJMx','XaHQV','NRbCV','StackId','iEiFG','aws-eks-cluster-dep.yaml','avYhJ','pXVGK','gtTWr','VdiWP','ozSeT','PWXFS','TpOKw','s3Bucket','ZguVn','NodeAutoScalingGroupMaxSize','2010-05-15','lNoZg','jBgQd','value','Subnet','load','NodeGroupName','vKLJl','Tags','TbfXg','ORQeU','VpcBlock','mOFCu','NsNpW','./AWSUtils','Subnets','DRvsH','1200012VNsPVB','ZoyKW','NodeAutoScalingGroupMinSizeWindows','JhAis','kMdml','yMdmm','CFTemplates','BLCcL','Capabilities','NodeAutoScalingGroupMinSize','5|0|3|4|1|2','dcncp','subnet-import.yaml','WdDpM','YCddU','KBlZR','vKwdi','fiPYs','browserstack:cluster','ParameterGroups','HMiLe','ResourcesVpcConfig','js-yaml-cloudformation-schema','TemplateBody','EKSCluster','1590785dcMfpf','hguUX','NodeInstanceType','Metadata','ThNrQ','forEach','YLnIr','Ref','yjXDP','NodeGroupNameWindows','dfwue','push','407070ovHAYI','0|5|2|4|1|3','hgyLH','SAkTZ','EFpkd','QmhoI','utf-8','KXUBp','34213qPQFKi','JtJRd','stringify','split','stackCreateComplete','waitFor','cxSOC','902752yPlNvy','subnet-create.yaml','Subnet02','YRvHT','UQacH','DELETE','nbUny','NodeImageId','bluebird','HOMIA','ZHLOt','valueOf','rpUOp','-Windows-NodeGroup','Subnet03','xbbLY','DAnko','schema','DZjOY','readFileAsync','gSTts','PxJed','GfXXl','WQOUl','CAPABILITY_NAMED_IAM','ami','keys','zcxvM','117172HBTHFq','YDKAQ','DRdGI','SODCT','awsObj','HNiWM','DNpMU','ovyAq','join','OnFailure','sqXKU','false','StackName','hizHD','dUGJI','oskBI','PatLL','Resources','fDqZs','jxsqR','AobjS','-NodeGroup','IqniP','Parameters','kqgGK','TZKoR','../config/logger','SyuTH','createClusterStack','3BeYoIx','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','../config/constants','EarTc','NodeGroupWindows','Key','hvfVV','vnRHn','VKcqi','padStart','path','MnOag','BHvll','lzboO','AWS::CloudFormation::Interface','Value','kintr','bixwx','cpNuH','RztEJ','apiVersion','obmcH','Subnet01Block','createStack','SubnetIds','aQZdm','ParameterKey','1874442NLItSG','ZmLhx','USpMU','promise','wAQZY','fENYw','promisifyAll','Ljtsp','KRUNL','tHMGp','debug','NodeGroup','VPC','vpc-import.yaml'];a27_0x134d=function(){return _0xf8258f;};return a27_0x134d();}function a27_0x28d5(_0x4f0a60,_0x21924c){const _0x134db3=a27_0x134d();return a27_0x28d5=function(_0x28d5bc,_0x232326){_0x28d5bc=_0x28d5bc-0x19c;let _0x5cd64a=_0x134db3[_0x28d5bc];return _0x5cd64a;},a27_0x28d5(_0x4f0a60,_0x21924c);}(function(_0x4db0b5,_0x4a40fd){const _0x289100=a27_0x28d5,_0x4ede93=_0x4db0b5();while(!![]){try{const _0x5521d5=-parseInt(_0x289100(0x236))/0x1+-parseInt(_0x289100(0x259))/0x2*(parseInt(_0x289100(0x1b4))/0x3)+-parseInt(_0x289100(0x209))/0x4+-parseInt(_0x289100(0x22e))/0x5+parseInt(_0x289100(0x1cf))/0x6+parseInt(_0x289100(0x222))/0x7+parseInt(_0x289100(0x23d))/0x8;if(_0x5521d5===_0x4a40fd)break;else _0x4ede93['push'](_0x4ede93['shift']());}catch(_0x292c5c){_0x4ede93['push'](_0x4ede93['shift']());}}}(a27_0x134d,0x2b872));const fs=require('fs'),path=require(a27_0x406e72(0x1be)),Promise=require(a27_0x406e72(0x245)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0x406e72(0x21f)),AWS=require('./AWSUtils')[a27_0x406e72(0x25d)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x406e72(0x1b6)),{logger}=require(a27_0x406e72(0x1b1)),{isBucketPresent}=require(a27_0x406e72(0x206));Promise[a27_0x406e72(0x1d5)](fs);const mergeTemplates=(_0x1825ee,_0x3073de)=>{const _0x8aef1a=a27_0x406e72,_0x5caad6={'jiEkf':function(_0x1adb19,_0x6edaee){return _0x1adb19===_0x6edaee;},'QmhoI':'Sbqix','IqniP':function(_0x4d1c1a,_0x14655b){return _0x4d1c1a(_0x14655b);},'YRvHT':function(_0x596af1,_0x22be58,_0x25082d){return _0x596af1(_0x22be58,_0x25082d);},'VKcqi':function(_0x5e2c16,_0x55b0ee){return _0x5e2c16!==_0x55b0ee;},'ZHLOt':_0x8aef1a(0x1e5)};Object[_0x8aef1a(0x257)](_0x3073de)[_0x8aef1a(0x227)](_0x31ed8a=>{const _0x444af4=_0x8aef1a,_0x414e0b={'DRdGI':function(_0xdc4c25,_0x2a6806){const _0xf532a8=a27_0x28d5;return _0x5caad6[_0xf532a8(0x1ad)](_0xdc4c25,_0x2a6806);},'hizHD':function(_0x1f37e2,_0x392096,_0x200953){const _0x21ce8f=a27_0x28d5;return _0x5caad6[_0x21ce8f(0x240)](_0x1f37e2,_0x392096,_0x200953);}};if(_0x5caad6[_0x444af4(0x1bc)](_0x5caad6['ZHLOt'],_0x5caad6[_0x444af4(0x247)]))_0x2febf6[_0x444af4(0x1ae)]['push']({'ParameterKey':_0x444af4(0x1fc)+_0x414e0b[_0x444af4(0x25b)](_0x3ed726,_0xec45db)[_0x444af4(0x1bd)](0x2,'0'),'ParameterValue':_0x56177b[_0x444af4(0x1fb)]}),_0x4b731e+=0x1;else{var _0x574be7=_0x3073de[_0x31ed8a];Object[_0x444af4(0x257)](_0x574be7)[_0x444af4(0x227)](_0x40765e=>{const _0x42424f=_0x444af4;_0x5caad6[_0x42424f(0x1de)](_0x5caad6[_0x42424f(0x233)],_0x5caad6[_0x42424f(0x233)])?_0x1825ee[_0x31ed8a][_0x40765e]=_0x574be7[_0x40765e]:_0x414e0b[_0x42424f(0x1a4)](_0x5c59de,_0x119990,_0x7c39c7);});}});},addVPCData=async(_0x4e23f8,_0x375aa7)=>{const _0x4d35ac=a27_0x406e72,_0x441d2c={'nfnnt':_0x4d35ac(0x1da),'gSTts':_0x4d35ac(0x1b8),'zcxvM':function(_0x5592f4,_0x19390f){return _0x5592f4!==_0x19390f;},'ThNrQ':_0x4d35ac(0x235),'fENYw':_0x4d35ac(0x20f),'PWXFS':_0x4d35ac(0x1dc),'DAnko':_0x4d35ac(0x234),'xbbLY':function(_0x350791,_0x30ac9c,_0x41e54d){return _0x350791(_0x30ac9c,_0x41e54d);},'dUGJI':_0x4d35ac(0x1c2),'OhrXl':_0x4d35ac(0x1db),'TZKoR':function(_0x1b8c17,_0x4c028b){return _0x1b8c17!==_0x4c028b;},'mOFCu':'rkGwm','tHMGp':'vpc-create.yaml','iEiFG':function(_0x2599d6,_0xbfd643,_0x382686){return _0x2599d6(_0xbfd643,_0x382686);},'uSvMB':_0x4d35ac(0x203)};if(_0x375aa7){if(_0x441d2c[_0x4d35ac(0x258)](_0x441d2c[_0x4d35ac(0x226)],_0x441d2c[_0x4d35ac(0x226)])){for(const _0x3123df in _0x148385[_0x4d35ac(0x1a8)]){_0x2ec795['Resources'][_0x3123df]['Properties']&&_0xeb29b8['Resources'][_0x3123df][_0x4d35ac(0x1e4)][_0x4d35ac(0x200)]&&_0x55172a[_0x4d35ac(0x1a8)][_0x3123df][_0x4d35ac(0x1e4)][_0x4d35ac(0x200)]['push'](..._0x17f65d);}const _0x561dcc={};_0x366b57['forEach'](_0x3ae738=>{const _0x83878=_0x4d35ac;_0x561dcc[_0x3ae738[_0x83878(0x1b9)]]=_0x3ae738['Value'];}),_0x42069c[_0x4d35ac(0x1a8)][_0x441d2c[_0x4d35ac(0x1e0)]]['Properties']['Tags']=_0x561dcc,_0x4e4e7f[_0x4d35ac(0x1a8)][_0x441d2c[_0x4d35ac(0x251)]][_0x4d35ac(0x1e4)][_0x4d35ac(0x200)]=_0x561dcc;}else{const _0x1f76e3=await fs[_0x4d35ac(0x250)](path['join'](__dirname,'..',_0x441d2c[_0x4d35ac(0x1d4)],_0x441d2c[_0x4d35ac(0x1f3)]),_0x441d2c[_0x4d35ac(0x24d)]),_0x507b30={};_0x507b30[_0x4d35ac(0x24e)]=CLOUDFORMATION_SCHEMA;const _0x184fe0=yaml[_0x4d35ac(0x1fd)](_0x1f76e3,_0x507b30);_0x441d2c[_0x4d35ac(0x24c)](mergeTemplates,_0x4e23f8,_0x184fe0),_0x4e23f8[_0x4d35ac(0x225)][_0x441d2c[_0x4d35ac(0x1a5)]][_0x4d35ac(0x21c)][0x0][_0x4d35ac(0x1ae)]['push'](_0x441d2c['OhrXl']);}}else{if(_0x441d2c[_0x4d35ac(0x1b0)](_0x441d2c[_0x4d35ac(0x204)],_0x441d2c['mOFCu']))_0x1967a2[_0x4d5502[_0x4d35ac(0x1b9)]]=_0x1dda0f[_0x4d35ac(0x1c3)];else{const _0x12efd6=await fs['readFileAsync'](path[_0x4d35ac(0x19f)](__dirname,'..',_0x441d2c['fENYw'],_0x441d2c[_0x4d35ac(0x1d8)]),_0x441d2c[_0x4d35ac(0x24d)]),_0xb8d2e4={};_0xb8d2e4[_0x4d35ac(0x24e)]=CLOUDFORMATION_SCHEMA;const _0x5aadea=yaml[_0x4d35ac(0x1fd)](_0x12efd6,_0xb8d2e4);_0x441d2c[_0x4d35ac(0x1ec)](mergeTemplates,_0x4e23f8,_0x5aadea),_0x4e23f8[_0x4d35ac(0x225)][_0x441d2c[_0x4d35ac(0x1a5)]]['ParameterGroups'][0x0][_0x4d35ac(0x1ae)][_0x4d35ac(0x22d)](_0x441d2c['uSvMB']);}}},addS3Data=async _0x272c19=>{const _0x296ed1=a27_0x406e72,_0x171a49={'GfXXl':_0x296ed1(0x20f),'SAkTZ':'s3-create.yaml','YCddU':_0x296ed1(0x234),'WdDpM':function(_0x40ae64,_0x17c7ce){return _0x40ae64(_0x17c7ce);},'Jyoby':function(_0x27945a,_0x2a7ea1){return _0x27945a===_0x2a7ea1;},'yLoTs':function(_0x51c22a,_0xa41d25){return _0x51c22a!==_0xa41d25;},'cHBZR':_0x296ed1(0x210),'bixwx':_0x296ed1(0x1a9),'JccZb':function(_0x1be68b,_0x18663c,_0xd46acf){return _0x1be68b(_0x18663c,_0xd46acf);}},_0x5aea48=await fs[_0x296ed1(0x250)](path['join'](__dirname,'..',_0x171a49[_0x296ed1(0x253)],_0x171a49[_0x296ed1(0x231)]),_0x171a49[_0x296ed1(0x217)]),_0x29fca0={};_0x29fca0[_0x296ed1(0x24e)]=CLOUDFORMATION_SCHEMA;const _0x57d2e2=yaml[_0x296ed1(0x1fd)](_0x5aea48,_0x29fca0),_0x269a3c=await _0x171a49[_0x296ed1(0x216)](isBucketPresent,global_registry[_0x296ed1(0x1f5)]);_0x171a49['Jyoby'](_0x269a3c,![])&&(_0x171a49['yLoTs'](_0x171a49['cHBZR'],_0x171a49[_0x296ed1(0x1c5)])?_0x171a49['JccZb'](mergeTemplates,_0x272c19,_0x57d2e2):_0x33d9f3[_0x296ed1(0x257)](_0x103591)[_0x296ed1(0x227)](_0x2645b1=>{const _0x4efbae=_0x296ed1;var _0x2951b4=_0xe9c17[_0x2645b1];_0x45d950[_0x4efbae(0x257)](_0x2951b4)['forEach'](_0xdd6e8e=>{_0x22804e[_0x2645b1][_0xdd6e8e]=_0x2951b4[_0xdd6e8e];});}));},addSubnetData=async(_0x55b815,_0x359f65)=>{const _0x3a1321=a27_0x406e72,_0x5c74e3={'avYhJ':function(_0x3a8a94,_0x42cd01){return _0x3a8a94===_0x42cd01;},'NRbCV':_0x3a1321(0x20d),'ORQeU':_0x3a1321(0x213),'ZguVn':_0x3a1321(0x1c2),'SyuTH':function(_0x48c8b5,_0x33c44d){return _0x48c8b5(_0x33c44d);},'EarTc':'Fn::Join','vnRHn':function(_0x1bac02,_0x31ca02){return _0x1bac02(_0x31ca02);},'USpMU':function(_0x5b18d5,_0x318e13){return _0x5b18d5(_0x318e13);},'kintr':function(_0x1bfafe,_0x19a97d){return _0x1bfafe(_0x19a97d);},'aQZdm':_0x3a1321(0x22f),'HOMIA':function(_0x335d33,_0x154de4){return _0x335d33(_0x154de4);},'HMiLe':function(_0x199617,_0x272901){return _0x199617(_0x272901);},'dfwue':function(_0x39b435,_0x337fe5){return _0x39b435(_0x337fe5);},'DRvsH':function(_0x41b447,_0x2d41e9){return _0x41b447(_0x2d41e9);},'vKwdi':function(_0x11925d,_0x65be2a){return _0x11925d!==_0x65be2a;},'TshOr':_0x3a1321(0x1ab),'hUdAx':_0x3a1321(0x1d6),'YDKAQ':_0x3a1321(0x20f),'vKLJl':_0x3a1321(0x215),'NvShE':_0x3a1321(0x234),'jxsqR':function(_0x47579d,_0x27594e,_0x529bb1){return _0x47579d(_0x27594e,_0x529bb1);},'LZXaj':_0x3a1321(0x1af),'yjXDP':_0x3a1321(0x23e),'TbfXg':function(_0x27e065,_0x81ac09,_0x8f327a){return _0x27e065(_0x81ac09,_0x8f327a);},'VdiWP':'Subnet01','PatLL':_0x3a1321(0x23f),'ovyAq':_0x3a1321(0x24b),'AUqno':_0x3a1321(0x1ca),'YLULY':'Subnet02Block','DZjOY':_0x3a1321(0x1e3)};if(_0x359f65){if(_0x5c74e3['vKwdi'](_0x5c74e3['TshOr'],_0x5c74e3['hUdAx'])){const _0x48815a=await fs[_0x3a1321(0x250)](path[_0x3a1321(0x19f)](__dirname,'..',_0x5c74e3['YDKAQ'],_0x5c74e3[_0x3a1321(0x1ff)]),_0x5c74e3['NvShE']),_0xa360a2={};_0xa360a2[_0x3a1321(0x24e)]=CLOUDFORMATION_SCHEMA;const _0x2e5046=yaml[_0x3a1321(0x1fd)](_0x48815a,_0xa360a2);_0x5c74e3[_0x3a1321(0x1aa)](mergeTemplates,_0x55b815,_0x2e5046);let _0x4b8c11=0x1;_0x359f65[_0x3a1321(0x227)](_0x31c8ae=>{const _0x1ed9bd=_0x3a1321;if(_0x5c74e3[_0x1ed9bd(0x1ee)](_0x5c74e3[_0x1ed9bd(0x1ea)],_0x5c74e3['NRbCV'])){const _0x5bbcba=_0x5c74e3[_0x1ed9bd(0x202)][_0x1ed9bd(0x239)]('|');let _0xdca569=0x0;while(!![]){switch(_0x5bbcba[_0xdca569++]){case'0':_0x55b815[_0x1ed9bd(0x225)][_0x5c74e3[_0x1ed9bd(0x1f6)]]['ParameterGroups'][0x0][_0x1ed9bd(0x1ae)][_0x1ed9bd(0x22d)]('Subnet'+_0x5c74e3[_0x1ed9bd(0x1b2)](String,_0x4b8c11)[_0x1ed9bd(0x1bd)](0x2,'0'));continue;case'1':_0x55b815[_0x1ed9bd(0x1e1)][_0x1ed9bd(0x1cc)][_0x1ed9bd(0x1c3)][_0x5c74e3[_0x1ed9bd(0x1b7)]][0x1]['push']({'Ref':_0x1ed9bd(0x1fc)+_0x5c74e3[_0x1ed9bd(0x1bb)](String,_0x4b8c11)[_0x1ed9bd(0x1bd)](0x2,'0')});continue;case'2':_0x4b8c11+=0x1;continue;case'3':_0x55b815[_0x1ed9bd(0x1a8)][_0x1ed9bd(0x1da)][_0x1ed9bd(0x1e4)]['Subnets'][_0x1ed9bd(0x22d)]({'Ref':_0x1ed9bd(0x1fc)+_0x5c74e3[_0x1ed9bd(0x1d1)](String,_0x4b8c11)[_0x1ed9bd(0x1bd)](0x2,'0')});continue;case'4':_0x55b815[_0x1ed9bd(0x1a8)][_0x1ed9bd(0x1b8)][_0x1ed9bd(0x1e4)][_0x1ed9bd(0x207)]['push']({'Ref':_0x1ed9bd(0x1fc)+_0x5c74e3[_0x1ed9bd(0x1c4)](String,_0x4b8c11)[_0x1ed9bd(0x1bd)](0x2,'0')});continue;case'5':_0x55b815[_0x1ed9bd(0x1a8)]['EKSCluster'][_0x1ed9bd(0x1e4)][_0x1ed9bd(0x21e)][_0x1ed9bd(0x1cc)][_0x1ed9bd(0x22d)]({'Ref':_0x1ed9bd(0x1fc)+_0x5c74e3[_0x1ed9bd(0x1d1)](String,_0x4b8c11)[_0x1ed9bd(0x1bd)](0x2,'0')});continue;}break;}}else{var _0x1e6ddb=_0x7d2fe6[_0x211c38];_0x379179[_0x1ed9bd(0x257)](_0x1e6ddb)[_0x1ed9bd(0x227)](_0x1e5d01=>{_0xd15c7c[_0x3ea2c8][_0x1e5d01]=_0x1e6ddb[_0x1e5d01];});}});}else _0x11cf3f[_0x49cb05][_0xe15ef7]=_0x3fc6c3[_0x4e5ccd];}else{if(_0x5c74e3[_0x3a1321(0x219)](_0x5c74e3['LZXaj'],_0x5c74e3[_0x3a1321(0x1e6)])){const _0x2f4175=_0x5c74e3[_0x3a1321(0x1cd)][_0x3a1321(0x239)]('|');let _0x1046f0=0x0;while(!![]){switch(_0x2f4175[_0x1046f0++]){case'0':_0x40e5f1[_0x3a1321(0x1a8)][_0x3a1321(0x221)][_0x3a1321(0x1e4)][_0x3a1321(0x21e)][_0x3a1321(0x1cc)][_0x3a1321(0x22d)]({'Ref':_0x3a1321(0x1fc)+_0x5c74e3[_0x3a1321(0x246)](_0x1d3f51,_0x91ca44)['padStart'](0x2,'0')});continue;case'1':_0x15da62[_0x3a1321(0x1e1)][_0x3a1321(0x1cc)][_0x3a1321(0x1c3)][_0x5c74e3[_0x3a1321(0x1b7)]][0x1]['push']({'Ref':_0x3a1321(0x1fc)+_0x5c74e3[_0x3a1321(0x21d)](_0x47ecf3,_0x13d8d2)['padStart'](0x2,'0')});continue;case'2':_0x43abf3[_0x3a1321(0x1a8)]['NodeGroup'][_0x3a1321(0x1e4)]['Subnets'][_0x3a1321(0x22d)]({'Ref':_0x3a1321(0x1fc)+_0x5c74e3[_0x3a1321(0x22c)](_0x5cf36f,_0x4f6802)[_0x3a1321(0x1bd)](0x2,'0')});continue;case'3':_0x3065e9+=0x1;continue;case'4':_0x2779a9['Resources'][_0x3a1321(0x1b8)][_0x3a1321(0x1e4)][_0x3a1321(0x207)]['push']({'Ref':'Subnet'+_0x5c74e3[_0x3a1321(0x1d1)](_0x225c8f,_0xbc96aa)['padStart'](0x2,'0')});continue;case'5':_0x6b19be['Metadata'][_0x5c74e3[_0x3a1321(0x1f6)]][_0x3a1321(0x21c)][0x0][_0x3a1321(0x1ae)]['push'](_0x3a1321(0x1fc)+_0x5c74e3[_0x3a1321(0x208)](_0x31b7b1,_0x576e37)['padStart'](0x2,'0'));continue;}break;}}else{const _0x543ce8=await fs[_0x3a1321(0x250)](path[_0x3a1321(0x19f)](__dirname,'..',_0x5c74e3[_0x3a1321(0x25a)],_0x5c74e3[_0x3a1321(0x22a)]),_0x5c74e3['NvShE']),_0x2dd581={};_0x2dd581[_0x3a1321(0x24e)]=CLOUDFORMATION_SCHEMA;const _0x32f90c=yaml[_0x3a1321(0x1fd)](_0x543ce8,_0x2dd581);_0x5c74e3[_0x3a1321(0x201)](mergeTemplates,_0x55b815,_0x32f90c),_0x55b815[_0x3a1321(0x1a8)]['EKSCluster']['DependsOn'][_0x3a1321(0x22d)](_0x5c74e3[_0x3a1321(0x1f1)],_0x5c74e3[_0x3a1321(0x1a7)],_0x5c74e3[_0x3a1321(0x19e)]);const _0x50dea9={};_0x50dea9[_0x3a1321(0x229)]=_0x5c74e3[_0x3a1321(0x1f1)];const _0x2af5a5={};_0x2af5a5['Ref']=_0x5c74e3['PatLL'];const _0x42ea91={};_0x42ea91['Ref']=_0x5c74e3[_0x3a1321(0x19e)],_0x55b815[_0x3a1321(0x1a8)]['EKSCluster'][_0x3a1321(0x1e4)][_0x3a1321(0x21e)][_0x3a1321(0x1cc)]=[_0x50dea9,_0x2af5a5,_0x42ea91],_0x55b815[_0x3a1321(0x225)][_0x5c74e3[_0x3a1321(0x1f6)]][_0x3a1321(0x21c)][0x0]['Parameters'][_0x3a1321(0x22d)](_0x5c74e3['AUqno'],_0x5c74e3['YLULY'],_0x5c74e3[_0x3a1321(0x24f)]);const _0x1e95c6={};_0x1e95c6[_0x3a1321(0x229)]=_0x5c74e3[_0x3a1321(0x1f1)];const _0x4b9e29={};_0x4b9e29[_0x3a1321(0x229)]=_0x5c74e3[_0x3a1321(0x1a7)];const _0x5aa3a4={};_0x5aa3a4[_0x3a1321(0x229)]=_0x5c74e3[_0x3a1321(0x19e)],_0x55b815[_0x3a1321(0x1a8)][_0x3a1321(0x1da)][_0x3a1321(0x1e4)][_0x3a1321(0x207)]=[_0x1e95c6,_0x4b9e29,_0x5aa3a4];const _0x4655e6={};_0x4655e6[_0x3a1321(0x229)]=_0x5c74e3[_0x3a1321(0x1f1)];const _0x5258fb={};_0x5258fb[_0x3a1321(0x229)]=_0x5c74e3[_0x3a1321(0x1a7)];const _0x1df941={};_0x1df941[_0x3a1321(0x229)]=_0x5c74e3['ovyAq'],_0x55b815['Resources'][_0x3a1321(0x1b8)][_0x3a1321(0x1e4)][_0x3a1321(0x207)]=[_0x4655e6,_0x5258fb,_0x1df941],_0x55b815[_0x3a1321(0x1e1)][_0x3a1321(0x1cc)][_0x3a1321(0x1c3)][_0x5c74e3[_0x3a1321(0x1b7)]][0x1]=[{'Ref':_0x5c74e3[_0x3a1321(0x1f1)]},{'Ref':_0x5c74e3[_0x3a1321(0x1a7)]},{'Ref':_0x5c74e3[_0x3a1321(0x19e)]}];}}},addTags=async(_0x598c92,_0x4bc9b0,_0xe34009)=>{const _0x28d6a9=a27_0x406e72,_0x5d882a={'pXVGK':_0x28d6a9(0x1db),'ozSeT':function(_0x4b6ecd,_0x36ee00){return _0x4b6ecd(_0x36ee00);},'sqXKU':function(_0x34196d,_0x266337){return _0x34196d!==_0x266337;},'EFpkd':_0x28d6a9(0x1c9),'rpUOp':function(_0x3fc213,_0x235db6){return _0x3fc213===_0x235db6;},'jWbHc':'EyzTQ','XZuZR':_0x28d6a9(0x1bf),'hgyLH':function(_0x4181e9,_0x53a113){return _0x4181e9!==_0x53a113;},'XaHQV':_0x28d6a9(0x223),'fiPYs':_0x28d6a9(0x1c0),'yMdmm':_0x28d6a9(0x1da),'dcncp':_0x28d6a9(0x1b8)};for(const _0x41fafc in _0x598c92[_0x28d6a9(0x1a8)]){if(_0x5d882a[_0x28d6a9(0x249)](_0x5d882a['jWbHc'],_0x5d882a['XZuZR'])){const _0x332269={};_0x332269['ParameterKey']=_0x5d882a[_0x28d6a9(0x1ef)],_0x332269['ParameterValue']=_0x39b27e,_0xeb02bd[_0x28d6a9(0x1ae)][_0x28d6a9(0x22d)](_0x332269);}else _0x598c92[_0x28d6a9(0x1a8)][_0x41fafc][_0x28d6a9(0x1e4)]&&_0x598c92[_0x28d6a9(0x1a8)][_0x41fafc]['Properties'][_0x28d6a9(0x200)]&&(_0x5d882a[_0x28d6a9(0x230)](_0x5d882a[_0x28d6a9(0x1e9)],_0x5d882a[_0x28d6a9(0x21a)])?_0x598c92['Resources'][_0x41fafc][_0x28d6a9(0x1e4)][_0x28d6a9(0x200)][_0x28d6a9(0x22d)](..._0xe34009):_0x3bf374[_0x28d6a9(0x1a8)][_0x2acde4][_0x28d6a9(0x1e4)]&&_0x5c529c['Resources'][_0x24b528]['Properties'][_0x28d6a9(0x200)]&&_0x1ff022[_0x28d6a9(0x1a8)][_0x226d93]['Properties'][_0x28d6a9(0x200)][_0x28d6a9(0x22d)](..._0x420c99));}const _0x257752={};_0xe34009['forEach'](_0x5295a8=>{const _0xfd9522=_0x28d6a9,_0x4db33a={'hvfVV':function(_0x26a9f9,_0x1f11d9){const _0x4ce867=a27_0x28d5;return _0x5d882a[_0x4ce867(0x1f2)](_0x26a9f9,_0x1f11d9);}};if(_0x5d882a[_0xfd9522(0x1a1)](_0x5d882a[_0xfd9522(0x232)],_0x5d882a[_0xfd9522(0x232)])){const _0x437d95={'TnsGT':function(_0x51d512,_0x5585c9){const _0x4ce339=_0xfd9522;return _0x4db33a[_0x4ce339(0x1ba)](_0x51d512,_0x5585c9);}};let _0x125e26=0x1;_0x53aa65[_0xfd9522(0x227)](_0x81e3a4=>{const _0x1975ea=_0xfd9522;_0x2db4fa['Parameters']['push']({'ParameterKey':_0x1975ea(0x1fc)+_0x437d95['TnsGT'](_0x2a8dbe,_0x125e26)[_0x1975ea(0x1bd)](0x2,'0'),'ParameterValue':_0x81e3a4[_0x1975ea(0x1fb)]}),_0x125e26+=0x1;});}else _0x257752[_0x5295a8[_0xfd9522(0x1b9)]]=_0x5295a8[_0xfd9522(0x1c3)];}),_0x598c92[_0x28d6a9(0x1a8)][_0x5d882a[_0x28d6a9(0x20e)]]['Properties'][_0x28d6a9(0x200)]=_0x257752,_0x598c92[_0x28d6a9(0x1a8)][_0x5d882a[_0x28d6a9(0x214)]][_0x28d6a9(0x1e4)][_0x28d6a9(0x200)]=_0x257752;};exports[a27_0x406e72(0x1b3)]=async(_0x67eefd,_0x23d01e,_0xd33442,_0x3932a4=null,_0xa15324=null,_0x547a24)=>{const _0x4d8c45=a27_0x406e72,_0x116f97={'DNpMU':function(_0x193966,_0x4d4fe4){return _0x193966(_0x4d4fe4);},'TJXNp':_0x4d8c45(0x21b),'efxlS':_0x4d8c45(0x1dd),'lNoZg':_0x4d8c45(0x1f8),'lzboO':'CFTemplates','cxSOC':_0x4d8c45(0x1ed),'xXDLQ':_0x4d8c45(0x234),'KRUNL':function(_0x134734,_0x533522,_0x57f269){return _0x134734(_0x533522,_0x57f269);},'SODCT':function(_0x255a90,_0x9a772d,_0x57d729){return _0x255a90(_0x9a772d,_0x57d729);},'ZmLhx':function(_0x165ee9,_0x3c40fa,_0x30923f,_0x55505c){return _0x165ee9(_0x3c40fa,_0x30923f,_0x55505c);},'FaHcz':_0x4d8c45(0x242),'TpOKw':'ClusterName','KBlZR':_0x4d8c45(0x1fe),'gtTWr':_0x4d8c45(0x212),'CumXA':_0x4d8c45(0x20b),'PxJed':'NodeAutoScalingGroupDesiredSizeWindows','JtJQu':_0x4d8c45(0x1f7),'nbUny':_0x4d8c45(0x244),'UQacH':_0x4d8c45(0x224),'HNiWM':'S3BucketName','jBgQd':_0x4d8c45(0x22b),'YLnIr':'ClusterAutoUpgrade','NsNpW':'true','JhAis':_0x4d8c45(0x1a2),'WQOUl':_0x4d8c45(0x255),'wAQZY':function(_0x1fb0a7,_0x32304a){return _0x1fb0a7!=_0x32304a;},'JtJRd':function(_0x3aa883,_0x27856e){return _0x3aa883!==_0x27856e;},'RztEJ':function(_0x167d4e,_0x2db656){return _0x167d4e===_0x2db656;},'oskBI':_0x4d8c45(0x1c6),'MGJMx':_0x4d8c45(0x1db),'cXWoT':_0x4d8c45(0x1b5),'ZoyKW':_0x4d8c45(0x23a)},_0x8b5292=COMMON_HST_TAGS,_0x107973={};_0x107973[_0x4d8c45(0x1b9)]=_0x116f97['TJXNp'],_0x107973[_0x4d8c45(0x1c3)]=_0x67eefd,_0x8b5292[_0x4d8c45(0x22d)](_0x107973),_0x8b5292['push']({'Key':_0x116f97['efxlS'],'Value':new Date()[_0x4d8c45(0x248)]()[_0x4d8c45(0x1e7)]()});const _0x4fe7cb={};_0x4fe7cb[_0x4d8c45(0x1c8)]=_0x116f97[_0x4d8c45(0x1f9)];const _0x2694bd=new AWS['CloudFormation'](_0x4fe7cb),_0x296127=await fs['readFileAsync'](path[_0x4d8c45(0x19f)](__dirname,'..',_0x116f97[_0x4d8c45(0x1c1)],_0x116f97[_0x4d8c45(0x23c)]),_0x116f97['xXDLQ']),_0x248dd9={};_0x248dd9[_0x4d8c45(0x24e)]=CLOUDFORMATION_SCHEMA;const _0x4e0528=yaml[_0x4d8c45(0x1fd)](_0x296127,_0x248dd9);await _0x116f97[_0x4d8c45(0x1d7)](addVPCData,_0x4e0528,_0x3932a4),await _0x116f97[_0x4d8c45(0x19d)](addS3Data,_0x4e0528),await _0x116f97[_0x4d8c45(0x25c)](addSubnetData,_0x4e0528,_0xa15324),await _0x116f97[_0x4d8c45(0x1d0)](addTags,_0x4e0528,_0x67eefd,_0x8b5292);const _0x5f45c2=JSON[_0x4d8c45(0x238)](_0x4e0528),_0x5e6cc0={};_0x5e6cc0[_0x4d8c45(0x1a3)]=CLUSTER_DEP_STACK_NAME+'-'+_0x67eefd,_0x5e6cc0[_0x4d8c45(0x1a0)]=_0x116f97['FaHcz'],_0x5e6cc0[_0x4d8c45(0x220)]=_0x5f45c2,_0x5e6cc0[_0x4d8c45(0x1ae)]=[{'ParameterKey':_0x116f97[_0x4d8c45(0x1f4)],'ParameterValue':_0x67eefd},{'ParameterKey':_0x116f97[_0x4d8c45(0x218)],'ParameterValue':_0x67eefd+_0x4d8c45(0x1ac)},{'ParameterKey':_0x116f97[_0x4d8c45(0x1f0)],'ParameterValue':''+_0x23d01e},{'ParameterKey':_0x116f97['CumXA'],'ParameterValue':'0'},{'ParameterKey':_0x116f97[_0x4d8c45(0x252)],'ParameterValue':'1'},{'ParameterKey':_0x116f97[_0x4d8c45(0x1df)],'ParameterValue':''+_0xd33442},{'ParameterKey':_0x116f97[_0x4d8c45(0x243)],'ParameterValue':global_registry[_0x4d8c45(0x256)]},{'ParameterKey':_0x116f97[_0x4d8c45(0x241)],'ParameterValue':global_registry[_0x4d8c45(0x1e2)]},{'ParameterKey':_0x116f97[_0x4d8c45(0x19c)],'ParameterValue':global_registry[_0x4d8c45(0x1f5)]},{'ParameterKey':_0x116f97[_0x4d8c45(0x1fa)],'ParameterValue':_0x67eefd+_0x4d8c45(0x24a)},{'ParameterKey':_0x116f97[_0x4d8c45(0x228)],'ParameterValue':_0x547a24?_0x116f97[_0x4d8c45(0x205)]:_0x116f97[_0x4d8c45(0x20c)]}],_0x5e6cc0[_0x4d8c45(0x211)]=[_0x116f97[_0x4d8c45(0x254)]],_0x5e6cc0[_0x4d8c45(0x200)]=_0x8b5292;const _0x244bce=_0x5e6cc0;if(_0x116f97['wAQZY'](_0x3932a4,null)&&_0x116f97[_0x4d8c45(0x237)](_0x3932a4,undefined)){if(_0x116f97[_0x4d8c45(0x1c7)](_0x116f97[_0x4d8c45(0x1a6)],_0x116f97[_0x4d8c45(0x1a6)])){const _0x29bab6={};_0x29bab6[_0x4d8c45(0x1ce)]=_0x116f97[_0x4d8c45(0x1e8)],_0x29bab6['ParameterValue']=_0x3932a4,_0x244bce[_0x4d8c45(0x1ae)][_0x4d8c45(0x22d)](_0x29bab6);}else _0x44d722['Resources'][_0x6dd815][_0x4d8c45(0x1e4)][_0x4d8c45(0x200)]['push'](..._0x1bf14a);}if(_0x116f97[_0x4d8c45(0x1d3)](_0xa15324,null)&&_0x116f97[_0x4d8c45(0x237)](_0xa15324,undefined)){let _0x50001e=0x1;_0xa15324[_0x4d8c45(0x227)](_0x1eb7e1=>{const _0x3e24b4=_0x4d8c45;_0x244bce[_0x3e24b4(0x1ae)][_0x3e24b4(0x22d)]({'ParameterKey':_0x3e24b4(0x1fc)+_0x116f97['DNpMU'](String,_0x50001e)[_0x3e24b4(0x1bd)](0x2,'0'),'ParameterValue':_0x1eb7e1[_0x3e24b4(0x1fb)]}),_0x50001e+=0x1;});}const _0x3459a4=await _0x2694bd[_0x4d8c45(0x1cb)](_0x244bce)[_0x4d8c45(0x1d2)]();logger[_0x4d8c45(0x1d9)](_0x116f97['cXWoT']);const _0x5c73c6={};return _0x5c73c6[_0x4d8c45(0x1a3)]=_0x3459a4[_0x4d8c45(0x1eb)],_0x2694bd[_0x4d8c45(0x23b)](_0x116f97[_0x4d8c45(0x20a)],_0x5c73c6)[_0x4d8c45(0x1d2)]();};