const a27_0x1df06b=a27_0x27a4;(function(_0x51fa84,_0x40019b){const _0x5f3b50=a27_0x27a4,_0x4f2049=_0x51fa84();while(!![]){try{const _0x2c4d3c=-parseInt(_0x5f3b50(0x1f8))/0x1*(-parseInt(_0x5f3b50(0x27c))/0x2)+-parseInt(_0x5f3b50(0x23c))/0x3*(parseInt(_0x5f3b50(0x24f))/0x4)+parseInt(_0x5f3b50(0x280))/0x5*(parseInt(_0x5f3b50(0x277))/0x6)+-parseInt(_0x5f3b50(0x241))/0x7*(parseInt(_0x5f3b50(0x252))/0x8)+parseInt(_0x5f3b50(0x296))/0x9*(parseInt(_0x5f3b50(0x26f))/0xa)+-parseInt(_0x5f3b50(0x1e7))/0xb+parseInt(_0x5f3b50(0x28f))/0xc*(parseInt(_0x5f3b50(0x269))/0xd);if(_0x2c4d3c===_0x40019b)break;else _0x4f2049['push'](_0x4f2049['shift']());}catch(_0x34a74f){_0x4f2049['push'](_0x4f2049['shift']());}}}(a27_0x449a,0x33353));function a27_0x27a4(_0x277426,_0xc18df){const _0x449a57=a27_0x449a();return a27_0x27a4=function(_0x27a469,_0x17ee6e){_0x27a469=_0x27a469-0x1e3;let _0x29f199=_0x449a57[_0x27a469];return _0x29f199;},a27_0x27a4(_0x277426,_0xc18df);}const fs=require('fs'),path=require(a27_0x1df06b(0x21b)),Promise=require(a27_0x1df06b(0x236)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0x1df06b(0x285)),AWS=require(a27_0x1df06b(0x262))[a27_0x1df06b(0x210)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x1df06b(0x262));Promise[a27_0x1df06b(0x297)](fs);function a27_0x449a(){const _0x4e4214=['1048344qTMAoW','brDDK','uMmVs','Metadata','lTdKf','cEDwS','promise','Value','UHcJq','ClusterAutoUpgrade','Kurro','Properties','yHhgr','JMjzA','stackCreateComplete','DyKMl','cUYJN','2CxnFsR','saUKZ','TbLbG','gJxrH','forEach','COknl','xhteb','PknhQ','xPflC','4|2|0|3|1|5','Subnet01','oPAub','NodeGroupName','EqWlW','NodeAutoScalingGroupMaxSize','mJQkn','qasHr','jkEYa','KbndJ','Fn::Join','gIJHa','OLmso','fpjug','NodeAutoScalingGroupMinSize','awsObj','DELETE','padStart','GBfya','aws-eks-cluster-dep.yaml','IpNoU','qXwpe','qUGOM','RNJmQ','krSPA','sdfrG','path','ULkxV','ParameterGroups','browserstack:cluster','NodeGroupWindows','uIkrr','split','join','CFTemplates','false','OnFailure','-NodeGroup','EKuJf','Subnet01Block','Outputs','qLoZd','mDxpS','tgqBd','push','AKCkL','Subnet','utf-8','StackName','CloudFormation','wwuYw','LFRSW','AlLJP','bluebird','jGSHA','NodeInstanceType','mZKKF','qboio','BisUX','3poRCYq','bLKIU','UsRoW','hLojk','stringify','679hyEcHi','SLryb','value','Subnet02Block','cNHpV','XptKn','SuVMA','pdMqe','S3BucketName','Parameters','uwlHY','subnet-import.yaml','JylTX','wvNPk','1211356nJfaZf','Subnets','NodeGroup','12304UnTYIh','ShCAS','VpcBlock','DependsOn','2010-05-15','createClusterStack','instanceType','QuagL','NKCzk','Capabilities','jVSXI','Subnet02','ZHOuq','browserstack:creationDate','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','gaLjs','./AWSUtils','WblbF','EKSCluster','OtmWb','dwoKz','LyyWK','WphEz','174044txFqKl','keys','qlnCd','LhHwj','waitFor','load','3670CHWxHn','EHliX','Subnet03','bCNkl','NodeAutoScalingGroupMinSizeWindows','AWS::CloudFormation::Interface','TMqwF','toString','650478mOAliP','YHZcJ','jcCfH','VPC','ResourcesVpcConfig','367938isxEUd','readFileAsync','Tags','CAAZr','5kSdEnK','thwVe','irDYA','NodeImageId','JfIJs','js-yaml-cloudformation-schema','BBgGL','ParameterValue','CfvFL','ziFqS','ParameterKey','vpc-create.yaml','subnet-create.yaml','valueOf','-Windows-NodeGroup','48VSPVjM','Subnet03Block','s3Bucket','Nanfj','OkhJy','HlCHK','NodeAutoScalingGroupDesiredSizeWindows','5571VqGPkr','promisifyAll','qracV','ClusterName','vhhoK','Key','UHrlD','LqtOR','schema','Unlyi','Resources','sBdDl','RuEgo','xUWjz','SubnetIds','debug','ByUyG','BAHJp','Ref','XmCiQ'];a27_0x449a=function(){return _0x4e4214;};return a27_0x449a();}const mergeTemplates=(_0x23d710,_0x16dd44)=>{const _0x1a845d=a27_0x1df06b,_0x20f76b={'gIJHa':function(_0x45f5ec,_0x1261d0){return _0x45f5ec(_0x1261d0);},'qLoZd':function(_0x3a4a60,_0x4b5776){return _0x3a4a60===_0x4b5776;},'qasHr':_0x1a845d(0x298),'fpjug':_0x1a845d(0x1e4),'ipTWY':function(_0x544cdd,_0x5c714e){return _0x544cdd!==_0x5c714e;},'xUWjz':_0x1a845d(0x246)};Object[_0x1a845d(0x26a)](_0x16dd44)['forEach'](_0x13991b=>{const _0x1594f4=_0x1a845d,_0x5dccb6={'Kurro':function(_0x5ccc33,_0x425f56){const _0x3354c0=a27_0x27a4;return _0x20f76b[_0x3354c0(0x20c)](_0x5ccc33,_0x425f56);},'RNJmQ':function(_0x29a15e,_0x52542e){const _0x30aaf2=a27_0x27a4;return _0x20f76b[_0x30aaf2(0x22a)](_0x29a15e,_0x52542e);},'OtmWb':_0x20f76b[_0x1594f4(0x208)],'kvady':_0x20f76b[_0x1594f4(0x20e)]};if(_0x20f76b['ipTWY'](_0x20f76b[_0x1594f4(0x2a3)],_0x20f76b[_0x1594f4(0x2a3)])){let _0x256855=0x1;_0x58f6d9[_0x1594f4(0x1fc)](_0x45a95b=>{const _0x2ad0ec=_0x1594f4;_0x537eba[_0x2ad0ec(0x24a)][_0x2ad0ec(0x22d)]({'ParameterKey':'Subnet'+_0x5dccb6[_0x2ad0ec(0x1f1)](_0x290631,_0x256855)[_0x2ad0ec(0x212)](0x2,'0'),'ParameterValue':_0x45a95b[_0x2ad0ec(0x243)]}),_0x256855+=0x1;});}else{var _0x2a8dde=_0x16dd44[_0x13991b];Object[_0x1594f4(0x26a)](_0x2a8dde)[_0x1594f4(0x1fc)](_0x4b9a6e=>{const _0x56bcb9=_0x1594f4;if(_0x5dccb6[_0x56bcb9(0x218)](_0x5dccb6[_0x56bcb9(0x265)],_0x5dccb6['kvady'])){var _0x377a6d=_0x1f5195[_0x5d3ab5];_0x45d289[_0x56bcb9(0x26a)](_0x377a6d)[_0x56bcb9(0x1fc)](_0x2135ec=>{_0x21e2e6[_0x1b8614][_0x2135ec]=_0x377a6d[_0x2135ec];});}else _0x23d710[_0x13991b][_0x4b9a6e]=_0x2a8dde[_0x4b9a6e];});}});},addVPCData=async(_0x1d5fb0,_0x33c020)=>{const _0x387998=a27_0x1df06b,_0x2ff2a4={'irDYA':function(_0x2059a1,_0x320bc7){return _0x2059a1!==_0x320bc7;},'CvWNR':'rwZNq','bamBQ':_0x387998(0x223),'EKuJf':'vpc-import.yaml','NKCzk':_0x387998(0x230),'GBfya':function(_0x4f1a60,_0x4903c4,_0xd2d74b){return _0x4f1a60(_0x4903c4,_0xd2d74b);},'sBdDl':_0x387998(0x274),'CAAZr':_0x387998(0x27a),'PFRpU':function(_0x3dc936,_0x5bf75b){return _0x3dc936!==_0x5bf75b;},'ziFqS':_0x387998(0x247),'tgqBd':_0x387998(0x28b),'obITl':_0x387998(0x254)};if(_0x33c020){if(_0x2ff2a4[_0x387998(0x282)](_0x2ff2a4['CvWNR'],_0x2ff2a4['CvWNR']))_0x447be7['Resources'][_0x39c048][_0x387998(0x1f2)]&&_0x38a52e[_0x387998(0x2a0)][_0x4b6a63][_0x387998(0x1f2)][_0x387998(0x27e)]&&_0x90a02c['Resources'][_0x360dc0][_0x387998(0x1f2)][_0x387998(0x27e)]['push'](..._0x5d153f);else{const _0x2c9459=await fs['readFileAsync'](path['join'](__dirname,'..',_0x2ff2a4['bamBQ'],_0x2ff2a4[_0x387998(0x227)]),_0x2ff2a4[_0x387998(0x25a)]),_0x26d897={};_0x26d897[_0x387998(0x29e)]=CLOUDFORMATION_SCHEMA;const _0x5c6732=yaml[_0x387998(0x26e)](_0x2c9459,_0x26d897);_0x2ff2a4[_0x387998(0x213)](mergeTemplates,_0x1d5fb0,_0x5c6732),_0x1d5fb0['Metadata'][_0x2ff2a4[_0x387998(0x2a1)]][_0x387998(0x21d)][0x0][_0x387998(0x24a)][_0x387998(0x22d)](_0x2ff2a4[_0x387998(0x27f)]);}}else{if(_0x2ff2a4['PFRpU'](_0x2ff2a4['ziFqS'],_0x2ff2a4[_0x387998(0x289)]))_0x48b5e2[_0x57edde['Key']]=_0x34204c[_0x387998(0x1ee)];else{const _0xf5353a=await fs[_0x387998(0x27d)](path[_0x387998(0x222)](__dirname,'..',_0x2ff2a4['bamBQ'],_0x2ff2a4[_0x387998(0x22c)]),_0x2ff2a4['NKCzk']),_0x35e96d={};_0x35e96d['schema']=CLOUDFORMATION_SCHEMA;const _0x43819e=yaml['load'](_0xf5353a,_0x35e96d);_0x2ff2a4[_0x387998(0x213)](mergeTemplates,_0x1d5fb0,_0x43819e),_0x1d5fb0[_0x387998(0x1ea)][_0x2ff2a4[_0x387998(0x2a1)]][_0x387998(0x21d)][0x0][_0x387998(0x24a)]['push'](_0x2ff2a4['obITl']);}}},addS3Data=async _0xbb71d7=>{const _0x17faee=a27_0x1df06b,_0x593691={'xhteb':function(_0x2f9ba4,_0x2cdc86,_0x19a8f9){return _0x2f9ba4(_0x2cdc86,_0x19a8f9);},'vhhoK':_0x17faee(0x223),'ShCAS':'s3-create.yaml','qboio':_0x17faee(0x230),'HFwJv':function(_0x26d6a0,_0x5c4192){return _0x26d6a0(_0x5c4192);},'jVSXI':function(_0x1e36c9,_0x1e425b){return _0x1e36c9===_0x1e425b;},'ByUyG':_0x17faee(0x22e)},_0x20d09c=await fs[_0x17faee(0x27d)](path[_0x17faee(0x222)](__dirname,'..',_0x593691[_0x17faee(0x29a)],_0x593691[_0x17faee(0x253)]),_0x593691[_0x17faee(0x23a)]),_0x294f54={};_0x294f54[_0x17faee(0x29e)]=CLOUDFORMATION_SCHEMA;const _0x24d9e8=yaml[_0x17faee(0x26e)](_0x20d09c,_0x294f54),_0x39ff2f=await _0x593691['HFwJv'](isBucketPresent,global_registry[_0x17faee(0x291)]);_0x593691[_0x17faee(0x25c)](_0x39ff2f,![])&&(_0x593691['jVSXI'](_0x593691[_0x17faee(0x1e3)],_0x593691['ByUyG'])?_0x593691[_0x17faee(0x1fe)](mergeTemplates,_0xbb71d7,_0x24d9e8):_0x593691[_0x17faee(0x1fe)](_0x2d415c,_0x1f2d93,_0x3a4f96));},addSubnetData=async(_0x32e701,_0x23bf4e)=>{const _0x34ada8=a27_0x1df06b,_0x17424d={'IpNoU':function(_0x190cd7,_0x3500d7){return _0x190cd7!==_0x3500d7;},'mtPRn':_0x34ada8(0x22b),'HlCHK':'UHmex','ZHdnU':_0x34ada8(0x201),'JylTX':function(_0x1268ce,_0x540917){return _0x1268ce(_0x540917);},'SLryb':_0x34ada8(0x20b),'dwoKz':'AWS::CloudFormation::Interface','jkEYa':function(_0x26f25a,_0x410570){return _0x26f25a(_0x410570);},'Unlyi':function(_0x2bc99f,_0x377523){return _0x2bc99f(_0x377523);},'JfIJs':'0|4|3|1|2|5','yHhgr':function(_0x254090,_0x4f1a84){return _0x254090(_0x4f1a84);},'wwuYw':_0x34ada8(0x251),'krSPA':'NodeGroupWindows','DyKMl':function(_0x41f96c,_0x237452){return _0x41f96c!==_0x237452;},'JMjzA':_0x34ada8(0x270),'dvPtz':_0x34ada8(0x25e),'qUGOM':_0x34ada8(0x223),'lTdKf':_0x34ada8(0x24c),'cNHpV':_0x34ada8(0x230),'uwlHY':function(_0x4019de,_0x55551a,_0x50e18d){return _0x4019de(_0x55551a,_0x50e18d);},'uIkrr':function(_0x1be97e,_0x51fabc){return _0x1be97e!==_0x51fabc;},'qXwpe':_0x34ada8(0x29c),'COknl':_0x34ada8(0x28c),'mJQkn':_0x34ada8(0x202),'sdfrG':_0x34ada8(0x25d),'UsRoW':_0x34ada8(0x271),'xCpdu':_0x34ada8(0x228),'YLfJB':_0x34ada8(0x244),'bCNkl':_0x34ada8(0x290)};if(_0x23bf4e){if(_0x17424d[_0x34ada8(0x1f6)](_0x17424d[_0x34ada8(0x1f4)],_0x17424d['dvPtz'])){const _0xeadfdc=await fs['readFileAsync'](path[_0x34ada8(0x222)](__dirname,'..',_0x17424d[_0x34ada8(0x217)],_0x17424d[_0x34ada8(0x1eb)]),_0x17424d[_0x34ada8(0x245)]),_0x37c414={};_0x37c414[_0x34ada8(0x29e)]=CLOUDFORMATION_SCHEMA;const _0x48867e=yaml['load'](_0xeadfdc,_0x37c414);_0x17424d[_0x34ada8(0x24b)](mergeTemplates,_0x32e701,_0x48867e);let _0x54a363=0x1;_0x23bf4e['forEach'](_0x1f232a=>{const _0x17bd19=_0x34ada8;if(_0x17424d[_0x17bd19(0x215)](_0x17424d['mtPRn'],_0x17424d[_0x17bd19(0x294)])){const _0xb72c02=_0x17424d['ZHdnU'][_0x17bd19(0x221)]('|');let _0x56b198=0x0;while(!![]){switch(_0xb72c02[_0x56b198++]){case'0':_0x32e701['Resources']['NodeGroup'][_0x17bd19(0x1f2)][_0x17bd19(0x250)][_0x17bd19(0x22d)]({'Ref':_0x17bd19(0x22f)+_0x17424d[_0x17bd19(0x24d)](String,_0x54a363)[_0x17bd19(0x212)](0x2,'0')});continue;case'1':_0x32e701[_0x17bd19(0x229)][_0x17bd19(0x2a4)][_0x17bd19(0x1ee)][_0x17424d[_0x17bd19(0x242)]][0x1][_0x17bd19(0x22d)]({'Ref':'Subnet'+_0x17424d[_0x17bd19(0x24d)](String,_0x54a363)['padStart'](0x2,'0')});continue;case'2':_0x32e701[_0x17bd19(0x1ea)][_0x17424d[_0x17bd19(0x266)]]['ParameterGroups'][0x0][_0x17bd19(0x24a)][_0x17bd19(0x22d)](_0x17bd19(0x22f)+_0x17424d[_0x17bd19(0x209)](String,_0x54a363)[_0x17bd19(0x212)](0x2,'0'));continue;case'3':_0x32e701[_0x17bd19(0x2a0)][_0x17bd19(0x21f)]['Properties'][_0x17bd19(0x250)][_0x17bd19(0x22d)]({'Ref':_0x17bd19(0x22f)+_0x17424d[_0x17bd19(0x209)](String,_0x54a363)[_0x17bd19(0x212)](0x2,'0')});continue;case'4':_0x32e701[_0x17bd19(0x2a0)][_0x17bd19(0x264)][_0x17bd19(0x1f2)][_0x17bd19(0x27b)][_0x17bd19(0x2a4)][_0x17bd19(0x22d)]({'Ref':_0x17bd19(0x22f)+_0x17424d['Unlyi'](String,_0x54a363)['padStart'](0x2,'0')});continue;case'5':_0x54a363+=0x1;continue;}break;}}else _0x2b0993[_0x14e752][_0x32ab73]=_0x45a58c[_0x359243];});}else{const _0x5e0df9=_0x17424d[_0x34ada8(0x284)][_0x34ada8(0x221)]('|');let _0x455958=0x0;while(!![]){switch(_0x5e0df9[_0x455958++]){case'0':_0xf38c1f[_0x34ada8(0x2a0)][_0x34ada8(0x264)][_0x34ada8(0x1f2)][_0x34ada8(0x27b)][_0x34ada8(0x2a4)][_0x34ada8(0x22d)]({'Ref':_0x34ada8(0x22f)+_0x17424d[_0x34ada8(0x24d)](_0x2b929a,_0x585086)['padStart'](0x2,'0')});continue;case'1':_0x4cb969['Resources'][_0x34ada8(0x21f)][_0x34ada8(0x1f2)]['Subnets'][_0x34ada8(0x22d)]({'Ref':_0x34ada8(0x22f)+_0x17424d[_0x34ada8(0x1f3)](_0x33b566,_0x3c6f02)['padStart'](0x2,'0')});continue;case'2':_0x26b9bc['Outputs'][_0x34ada8(0x2a4)][_0x34ada8(0x1ee)][_0x17424d[_0x34ada8(0x242)]][0x1]['push']({'Ref':_0x34ada8(0x22f)+_0x17424d[_0x34ada8(0x29f)](_0x215fb1,_0x17ecba)['padStart'](0x2,'0')});continue;case'3':_0x453706[_0x34ada8(0x2a0)][_0x34ada8(0x251)][_0x34ada8(0x1f2)][_0x34ada8(0x250)][_0x34ada8(0x22d)]({'Ref':_0x34ada8(0x22f)+_0x17424d[_0x34ada8(0x1f3)](_0x473792,_0x4a98e6)[_0x34ada8(0x212)](0x2,'0')});continue;case'4':_0x381269[_0x34ada8(0x1ea)][_0x17424d[_0x34ada8(0x266)]][_0x34ada8(0x21d)][0x0][_0x34ada8(0x24a)][_0x34ada8(0x22d)](_0x34ada8(0x22f)+_0x17424d['yHhgr'](_0x3c38d2,_0x20fcd6)[_0x34ada8(0x212)](0x2,'0'));continue;case'5':_0x287543+=0x1;continue;}break;}}}else{if(_0x17424d[_0x34ada8(0x220)](_0x17424d[_0x34ada8(0x216)],_0x17424d[_0x34ada8(0x216)])){for(const _0x1b78ff in _0x3242eb['Resources']){_0x341ea8[_0x34ada8(0x2a0)][_0x1b78ff]['Properties']&&_0x2eebb2[_0x34ada8(0x2a0)][_0x1b78ff][_0x34ada8(0x1f2)]['Tags']&&_0x13f01c[_0x34ada8(0x2a0)][_0x1b78ff][_0x34ada8(0x1f2)][_0x34ada8(0x27e)][_0x34ada8(0x22d)](..._0x5065de);}const _0x31df9f={};_0x4a7e65[_0x34ada8(0x1fc)](_0x4240b5=>{const _0x2b3417=_0x34ada8;_0x31df9f[_0x4240b5['Key']]=_0x4240b5[_0x2b3417(0x1ee)];}),_0x3bb18a[_0x34ada8(0x2a0)][_0x17424d[_0x34ada8(0x233)]][_0x34ada8(0x1f2)][_0x34ada8(0x27e)]=_0x31df9f,_0x417415[_0x34ada8(0x2a0)][_0x17424d[_0x34ada8(0x219)]][_0x34ada8(0x1f2)][_0x34ada8(0x27e)]=_0x31df9f;}else{const _0x4d0cf9=await fs['readFileAsync'](path[_0x34ada8(0x222)](__dirname,'..',_0x17424d[_0x34ada8(0x217)],_0x17424d[_0x34ada8(0x1fd)]),_0x17424d[_0x34ada8(0x245)]),_0x171b6a={};_0x171b6a[_0x34ada8(0x29e)]=CLOUDFORMATION_SCHEMA;const _0x4b9b5f=yaml['load'](_0x4d0cf9,_0x171b6a);_0x17424d[_0x34ada8(0x24b)](mergeTemplates,_0x32e701,_0x4b9b5f),_0x32e701[_0x34ada8(0x2a0)][_0x34ada8(0x264)][_0x34ada8(0x255)]['push'](_0x17424d[_0x34ada8(0x207)],_0x17424d[_0x34ada8(0x21a)],_0x17424d[_0x34ada8(0x23e)]);const _0x2ee65d={};_0x2ee65d[_0x34ada8(0x1e5)]=_0x17424d[_0x34ada8(0x207)];const _0x1745e0={};_0x1745e0['Ref']=_0x17424d['sdfrG'];const _0x6d9423={};_0x6d9423[_0x34ada8(0x1e5)]=_0x17424d[_0x34ada8(0x23e)],_0x32e701[_0x34ada8(0x2a0)][_0x34ada8(0x264)][_0x34ada8(0x1f2)][_0x34ada8(0x27b)][_0x34ada8(0x2a4)]=[_0x2ee65d,_0x1745e0,_0x6d9423],_0x32e701[_0x34ada8(0x1ea)][_0x17424d[_0x34ada8(0x266)]][_0x34ada8(0x21d)][0x0][_0x34ada8(0x24a)][_0x34ada8(0x22d)](_0x17424d['xCpdu'],_0x17424d['YLfJB'],_0x17424d[_0x34ada8(0x272)]);const _0xcaca48={};_0xcaca48[_0x34ada8(0x1e5)]=_0x17424d['mJQkn'];const _0x3731e7={};_0x3731e7['Ref']=_0x17424d[_0x34ada8(0x21a)];const _0x147175={};_0x147175[_0x34ada8(0x1e5)]=_0x17424d[_0x34ada8(0x23e)],_0x32e701[_0x34ada8(0x2a0)][_0x34ada8(0x251)][_0x34ada8(0x1f2)]['Subnets']=[_0xcaca48,_0x3731e7,_0x147175];const _0x286c04={};_0x286c04['Ref']=_0x17424d[_0x34ada8(0x207)];const _0xc4b3b5={};_0xc4b3b5[_0x34ada8(0x1e5)]=_0x17424d[_0x34ada8(0x21a)];const _0x1fe461={};_0x1fe461[_0x34ada8(0x1e5)]=_0x17424d[_0x34ada8(0x23e)],_0x32e701[_0x34ada8(0x2a0)][_0x34ada8(0x21f)]['Properties'][_0x34ada8(0x250)]=[_0x286c04,_0xc4b3b5,_0x1fe461],_0x32e701['Outputs'][_0x34ada8(0x2a4)][_0x34ada8(0x1ee)][_0x17424d[_0x34ada8(0x242)]][0x1]=[{'Ref':_0x17424d[_0x34ada8(0x207)]},{'Ref':_0x17424d[_0x34ada8(0x21a)]},{'Ref':_0x17424d[_0x34ada8(0x23e)]}];}}},addTags=async(_0x468491,_0x29e77e,_0x39fb0f)=>{const _0x43509e=a27_0x1df06b,_0x5e8e07={'jGSHA':'VPC','wvNPk':function(_0x5658e9,_0x56bf12){return _0x5658e9(_0x56bf12);},'saUKZ':function(_0x5c3842,_0x32602c){return _0x5c3842!==_0x32602c;},'hLojk':'eSjON','qlnCd':_0x43509e(0x1e9),'gaLjs':'dGPzi','gJxrH':function(_0x2d6131,_0x27e870){return _0x2d6131===_0x27e870;},'xPflC':_0x43509e(0x279),'gqbaq':_0x43509e(0x281),'bLKIU':_0x43509e(0x251),'BisUX':'NodeGroupWindows'};for(const _0x264ae6 in _0x468491[_0x43509e(0x2a0)]){if(_0x5e8e07[_0x43509e(0x1f9)](_0x5e8e07[_0x43509e(0x26b)],_0x5e8e07[_0x43509e(0x261)]))_0x468491[_0x43509e(0x2a0)][_0x264ae6][_0x43509e(0x1f2)]&&_0x468491[_0x43509e(0x2a0)][_0x264ae6][_0x43509e(0x1f2)][_0x43509e(0x27e)]&&(_0x5e8e07[_0x43509e(0x1fb)](_0x5e8e07[_0x43509e(0x200)],_0x5e8e07['gqbaq'])?_0x4b2836[_0x43509e(0x2a0)][_0x34c3ad]['Properties'][_0x43509e(0x27e)]['push'](..._0xbb1756):_0x468491[_0x43509e(0x2a0)][_0x264ae6][_0x43509e(0x1f2)][_0x43509e(0x27e)]['push'](..._0x39fb0f));else{const _0xf04aac={};_0xf04aac['ParameterKey']=_0x5e8e07[_0x43509e(0x237)],_0xf04aac[_0x43509e(0x287)]=_0x15157f,_0x14e6f4[_0x43509e(0x24a)][_0x43509e(0x22d)](_0xf04aac);}}const _0x397115={};_0x39fb0f[_0x43509e(0x1fc)](_0x1f18b0=>{const _0x1009f0=_0x43509e;_0x5e8e07[_0x1009f0(0x1f9)](_0x5e8e07['hLojk'],_0x5e8e07[_0x1009f0(0x23f)])?(_0x8453fd[_0x1009f0(0x24a)][_0x1009f0(0x22d)]({'ParameterKey':_0x1009f0(0x22f)+_0x5e8e07[_0x1009f0(0x24e)](_0x3aa6f8,_0x47be67)[_0x1009f0(0x212)](0x2,'0'),'ParameterValue':_0x3b2993[_0x1009f0(0x243)]}),_0xee8d89+=0x1):_0x397115[_0x1f18b0[_0x1009f0(0x29b)]]=_0x1f18b0[_0x1009f0(0x1ee)];}),_0x468491[_0x43509e(0x2a0)][_0x5e8e07[_0x43509e(0x23d)]][_0x43509e(0x1f2)]['Tags']=_0x397115,_0x468491[_0x43509e(0x2a0)][_0x5e8e07[_0x43509e(0x23b)]][_0x43509e(0x1f2)][_0x43509e(0x27e)]=_0x397115;};exports[a27_0x1df06b(0x257)]=async(_0x4cda8f,_0x4cc35b,_0x24d44d,_0x3734f4=null,_0x513d01=null,_0x427e2a)=>{const _0x4cd152=a27_0x1df06b,_0x291c76={'cEDwS':function(_0x23e847,_0x53f2b3){return _0x23e847(_0x53f2b3);},'ULkxV':_0x4cd152(0x21e),'WblbF':_0x4cd152(0x25f),'CfvFL':_0x4cd152(0x256),'LyyWK':_0x4cd152(0x223),'Nanfj':_0x4cd152(0x214),'TbLbG':_0x4cd152(0x230),'UHcJq':function(_0x4fe6e9,_0xc01e71,_0x399ec8){return _0x4fe6e9(_0xc01e71,_0x399ec8);},'CQxDL':function(_0x2d5ecd,_0x23f246){return _0x2d5ecd(_0x23f246);},'LFRSW':function(_0x4686d3,_0x3b423f,_0x2c5cab,_0x4dedae){return _0x4686d3(_0x3b423f,_0x2c5cab,_0x4dedae);},'WphEz':_0x4cd152(0x211),'LqtOR':_0x4cd152(0x299),'oPAub':_0x4cd152(0x204),'YHZcJ':_0x4cd152(0x20f),'mZKKF':_0x4cd152(0x273),'KbndJ':_0x4cd152(0x295),'TMqwF':_0x4cd152(0x206),'EqWlW':_0x4cd152(0x283),'RuEgo':_0x4cd152(0x238),'QuagL':_0x4cd152(0x249),'XkJGv':'NodeGroupNameWindows','pdMqe':_0x4cd152(0x1f0),'cUYJN':'true','kQSfM':_0x4cd152(0x224),'Ovdne':'CAPABILITY_NAMED_IAM','XmCiQ':function(_0x482717,_0xce0849){return _0x482717!=_0xce0849;},'OkhJy':function(_0x203fe4,_0x191912){return _0x203fe4!==_0x191912;},'LhHwj':function(_0x36239f,_0x57de6a){return _0x36239f!==_0x57de6a;},'brDDK':_0x4cd152(0x235),'PknhQ':_0x4cd152(0x20d),'VPdAS':_0x4cd152(0x27a),'BBgGL':_0x4cd152(0x260),'rHyBW':_0x4cd152(0x1f5)},_0x4ee7a7=COMMON_HST_TAGS,_0x35b972={};_0x35b972['Key']=_0x291c76[_0x4cd152(0x21c)],_0x35b972[_0x4cd152(0x1ee)]=_0x4cda8f,_0x4ee7a7['push'](_0x35b972),_0x4ee7a7[_0x4cd152(0x22d)]({'Key':_0x291c76[_0x4cd152(0x263)],'Value':new Date()[_0x4cd152(0x28d)]()[_0x4cd152(0x276)]()});const _0x16f714={};_0x16f714['apiVersion']=_0x291c76[_0x4cd152(0x288)];const _0xb1d521=new AWS[(_0x4cd152(0x232))](_0x16f714),_0x3c006f=await fs[_0x4cd152(0x27d)](path[_0x4cd152(0x222)](__dirname,'..',_0x291c76[_0x4cd152(0x267)],_0x291c76[_0x4cd152(0x292)]),_0x291c76[_0x4cd152(0x1fa)]),_0x3d4fe2={};_0x3d4fe2[_0x4cd152(0x29e)]=CLOUDFORMATION_SCHEMA;const _0x114f97=yaml[_0x4cd152(0x26e)](_0x3c006f,_0x3d4fe2);await _0x291c76[_0x4cd152(0x1ef)](addVPCData,_0x114f97,_0x3734f4),await _0x291c76['CQxDL'](addS3Data,_0x114f97),await _0x291c76['UHcJq'](addSubnetData,_0x114f97,_0x513d01),await _0x291c76[_0x4cd152(0x234)](addTags,_0x114f97,_0x4cda8f,_0x4ee7a7);const _0x1f512c=JSON[_0x4cd152(0x240)](_0x114f97),_0x128ca4={};_0x128ca4['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0x4cda8f,_0x128ca4[_0x4cd152(0x225)]=_0x291c76[_0x4cd152(0x268)],_0x128ca4['TemplateBody']=_0x1f512c,_0x128ca4[_0x4cd152(0x24a)]=[{'ParameterKey':_0x291c76[_0x4cd152(0x29d)],'ParameterValue':_0x4cda8f},{'ParameterKey':_0x291c76[_0x4cd152(0x203)],'ParameterValue':_0x4cda8f+_0x4cd152(0x226)},{'ParameterKey':_0x291c76[_0x4cd152(0x278)],'ParameterValue':''+_0x4cc35b},{'ParameterKey':_0x291c76[_0x4cd152(0x239)],'ParameterValue':'0'},{'ParameterKey':_0x291c76[_0x4cd152(0x20a)],'ParameterValue':'1'},{'ParameterKey':_0x291c76[_0x4cd152(0x275)],'ParameterValue':''+_0x24d44d},{'ParameterKey':_0x291c76[_0x4cd152(0x205)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x291c76[_0x4cd152(0x2a2)],'ParameterValue':global_registry[_0x4cd152(0x258)]},{'ParameterKey':_0x291c76[_0x4cd152(0x259)],'ParameterValue':global_registry[_0x4cd152(0x291)]},{'ParameterKey':_0x291c76['XkJGv'],'ParameterValue':_0x4cda8f+_0x4cd152(0x28e)},{'ParameterKey':_0x291c76[_0x4cd152(0x248)],'ParameterValue':_0x427e2a?_0x291c76[_0x4cd152(0x1f7)]:_0x291c76['kQSfM']}],_0x128ca4[_0x4cd152(0x25b)]=[_0x291c76['Ovdne']],_0x128ca4['Tags']=_0x4ee7a7;const _0x8d163a=_0x128ca4;if(_0x291c76[_0x4cd152(0x1e6)](_0x3734f4,null)&&_0x291c76[_0x4cd152(0x293)](_0x3734f4,undefined)){if(_0x291c76[_0x4cd152(0x26c)](_0x291c76[_0x4cd152(0x1e8)],_0x291c76[_0x4cd152(0x1ff)])){const _0x4df61a={};_0x4df61a[_0x4cd152(0x28a)]=_0x291c76['VPdAS'],_0x4df61a[_0x4cd152(0x287)]=_0x3734f4,_0x8d163a[_0x4cd152(0x24a)][_0x4cd152(0x22d)](_0x4df61a);}else _0x2c78ed['keys'](_0x27a81c)['forEach'](_0x13b1a6=>{const _0x1b265f=_0x4cd152;var _0x99997f=_0x4ae205[_0x13b1a6];_0x33884c[_0x1b265f(0x26a)](_0x99997f)['forEach'](_0x423c23=>{_0xb4ba31[_0x13b1a6][_0x423c23]=_0x99997f[_0x423c23];});});}if(_0x291c76[_0x4cd152(0x1e6)](_0x513d01,null)&&_0x291c76[_0x4cd152(0x26c)](_0x513d01,undefined)){let _0x4b2e5f=0x1;_0x513d01['forEach'](_0x3ea0cf=>{const _0x7f2d6f=_0x4cd152;_0x8d163a['Parameters'][_0x7f2d6f(0x22d)]({'ParameterKey':_0x7f2d6f(0x22f)+_0x291c76[_0x7f2d6f(0x1ec)](String,_0x4b2e5f)['padStart'](0x2,'0'),'ParameterValue':_0x3ea0cf['value']}),_0x4b2e5f+=0x1;});}const _0x1d8cc1=await _0xb1d521['createStack'](_0x8d163a)[_0x4cd152(0x1ed)]();logger[_0x4cd152(0x2a5)](_0x291c76[_0x4cd152(0x286)]);const _0x35d5a4={};return _0x35d5a4[_0x4cd152(0x231)]=_0x1d8cc1['StackId'],_0xb1d521[_0x4cd152(0x26d)](_0x291c76['rHyBW'],_0x35d5a4)[_0x4cd152(0x1ed)]();};