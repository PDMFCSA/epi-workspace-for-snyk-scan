const a27_0x1859aa=a27_0xfbd2;(function(_0x363dbb,_0x54e958){const _0x169078=a27_0xfbd2,_0x1a65f7=_0x363dbb();while(!![]){try{const _0xb59e=-parseInt(_0x169078(0x1f3))/0x1*(-parseInt(_0x169078(0x1a4))/0x2)+-parseInt(_0x169078(0x1ce))/0x3+-parseInt(_0x169078(0x1e5))/0x4+-parseInt(_0x169078(0x19d))/0x5*(parseInt(_0x169078(0x187))/0x6)+parseInt(_0x169078(0x17e))/0x7+-parseInt(_0x169078(0x14e))/0x8+parseInt(_0x169078(0x155))/0x9*(parseInt(_0x169078(0x1e6))/0xa);if(_0xb59e===_0x54e958)break;else _0x1a65f7['push'](_0x1a65f7['shift']());}catch(_0x6c400d){_0x1a65f7['push'](_0x1a65f7['shift']());}}}(a27_0x43ff,0xbb27c));const fs=require('fs'),path=require('path'),Promise=require(a27_0x1859aa(0x1e1)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0x1859aa(0x17f)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x1859aa(0x1d3)),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x1859aa(0x1c1));function a27_0x43ff(){const _0x2e83df=['5|1|0|2|3|4','JVMiv','DFbwa','GnHjF','WkJJT','Properties','FsEoe','bcjJQ','wwZiN','./AWSUtils','aSDcK','NodeAutoScalingGroupDesiredSizeWindows','Iazha','utf-8','Feoru','QZnJr','DrFSS','xCUTK','readFileAsync','Subnet','VpcBlock','value','1991595LRFeyD','Value','Fn::Join','forEach','yqhla','../config/constants','toString','nbAyJ','load','tNchX','psyib','cIXMz','valueOf','aws-eks-cluster-dep.yaml','subnet-import.yaml','vpc-create.yaml','mVImI','twZym','wDZGe','bluebird','njUba','DbyTN','NodeGroupNameWindows','890616FAIcDd','212550nNSBBp','osOKX','Sqybg','PGcTj','NYysc','xorHL','jWZZa','AWS::CloudFormation::Interface','instanceType','Key','ISCjO','esqLk','qlQwF','1492763BUhoKJ','NRwTE','Wutln','OBMyo','EKSCluster','ClusterName','Subnet01','JpQbZ','s3Bucket','KAmlE','VAyIH','xBRFh','subnet-create.yaml','Subnet02','join','stringify','slMsA','gJXOW','KnvFD','NodeGroup','Rmcak','thNsQ','ParameterGroups','WeVIJ','8956456tbrazr','fqfvT','Subnet03','YuMmz','KXyJD','NodeGroupName','nZePy','378zZRvPA','browserstack:cluster','push','-NodeGroup','NodeAutoScalingGroupMaxSize','KkPcE','vaQLB','HJTEW','NodeGroupWindows','ami','SubnetIds','sbrwX','NHxnT','RxXJv','nOBFk','RCWCt','zzDKD','Ref','vpc-import.yaml','Tags','VPC','NodeInstanceType','waitFor','HQHEg','mzQSd','DNqlf','browserstack:creationDate','zHVMc','vQTHD','XpdDM','YpXWe','split','ZoEYD','stackCreateComplete','KEqEg','oqQDT','ParameterKey','CFTemplates','padStart','WigrG','CAPABILITY_NAMED_IAM','6418132keOuer','js-yaml-cloudformation-schema','Parameters','dZwXf','YfFqq','McSUF','uVvNy','apiVersion','createClusterStack','244470KodVUt','zEszW','vExMP','-Windows-NodeGroup','dOZGL','ResourcesVpcConfig','NodeAutoScalingGroupMinSize','JrdiW','qOtne','Resources','AgwEe','zGqpi','SOpMJ','Subnet03Block','keys','LlEiE','GrFvJ','uZWRJ','OTtDG','Metadata','CFcyp','uMXKO','65KbYZMN','ZZTUT','jXvOJ','WptBf','Subnet02Block','wllOj','promisifyAll','2WOGPtU','KWhma','AxCmF','StackName','zOkIw','NodeAutoScalingGroupMinSizeWindows','gQcaU','Subnets','OkQdi','OgBBe','wjiYf','XqnUT','Outputs','debug','dIOMf','pJcqJ','pvgTf','schema','lSneg','EQUPa'];a27_0x43ff=function(){return _0x2e83df;};return a27_0x43ff();}Promise[a27_0x1859aa(0x1a3)](fs);const mergeTemplates=(_0x374cf1,_0x45371f)=>{const _0x3e1ffb=a27_0x1859aa,_0xbb8928={};_0xbb8928[_0x3e1ffb(0x1df)]=_0x3e1ffb(0x169),_0xbb8928['Wutln']=function(_0x6e844b,_0x3cb6f7){return _0x6e844b!==_0x3cb6f7;},_0xbb8928['mzQSd']=_0x3e1ffb(0x14d),_0xbb8928[_0x3e1ffb(0x165)]=_0x3e1ffb(0x18e),_0xbb8928[_0x3e1ffb(0x160)]=function(_0xbf4190,_0x5175b4){return _0xbf4190===_0x5175b4;},_0xbb8928[_0x3e1ffb(0x1ae)]=_0x3e1ffb(0x1e0),_0xbb8928[_0x3e1ffb(0x1fc)]=_0x3e1ffb(0x1fd);const _0x136bd9=_0xbb8928;Object['keys'](_0x45371f)[_0x3e1ffb(0x1d1)](_0x1e8f7e=>{const _0x58a98d=_0x3e1ffb,_0x55bf5c={'AxCmF':function(_0x2514e6,_0x2290e1){const _0xe995a9=a27_0xfbd2;return _0x136bd9[_0xe995a9(0x1f5)](_0x2514e6,_0x2290e1);},'jXvOJ':_0x136bd9[_0x58a98d(0x16d)],'riOcv':_0x136bd9[_0x58a98d(0x165)]};if(_0x136bd9[_0x58a98d(0x160)](_0x136bd9['wjiYf'],_0x136bd9[_0x58a98d(0x1fc)])){const _0x1a6d7f={};_0x1a6d7f[_0x58a98d(0x179)]=_0x136bd9[_0x58a98d(0x1df)],_0x1a6d7f['ParameterValue']=_0x182b1e,_0xdea93[_0x58a98d(0x180)][_0x58a98d(0x157)](_0x1a6d7f);}else{var _0x42c37c=_0x45371f[_0x1e8f7e];Object[_0x58a98d(0x195)](_0x42c37c)['forEach'](_0x441b77=>{const _0x25774b=_0x58a98d;_0x55bf5c[_0x25774b(0x1a6)](_0x55bf5c[_0x25774b(0x19f)],_0x55bf5c['riOcv'])?_0x374cf1[_0x1e8f7e][_0x441b77]=_0x42c37c[_0x441b77]:_0x3e2f3f[_0x25774b(0x195)](_0x4e9a02)[_0x25774b(0x1d1)](_0x58ed92=>{const _0x19c287=_0x25774b;var _0x2563a9=_0x66203[_0x58ed92];_0x4b2f94['keys'](_0x2563a9)[_0x19c287(0x1d1)](_0x8937dc=>{_0x1cf953[_0x58ed92][_0x8937dc]=_0x2563a9[_0x8937dc];});});});}});},addVPCData=async(_0x4eed01,_0x5f065f)=>{const _0x5f0650=a27_0x1859aa,_0x335b4f={'Tkrbp':function(_0x1c9360,_0x2f14fa){return _0x1c9360(_0x2f14fa);},'osOKX':function(_0xd39032,_0x5a79b9){return _0xd39032(_0x5a79b9);},'yqhla':function(_0x3b59d7,_0x340f05){return _0x3b59d7!==_0x340f05;},'CFcyp':_0x5f0650(0x1a0),'Iazha':'mMYFT','DFbwa':'CFTemplates','psyib':_0x5f0650(0x167),'tNchX':'utf-8','zHVMc':function(_0x4d8917,_0x4f5ab8,_0x5e9094){return _0x4d8917(_0x4f5ab8,_0x5e9094);},'wwZiN':_0x5f0650(0x1ed),'jWZZa':_0x5f0650(0x169),'gJXOW':function(_0x3d492c,_0x2184c1){return _0x3d492c===_0x2184c1;},'KXyJD':'uQDBV','RCWCt':_0x5f0650(0x1dd),'wllOj':_0x5f0650(0x1cc)};if(_0x5f065f){if(_0x335b4f[_0x5f0650(0x1d2)](_0x335b4f[_0x5f0650(0x19b)],_0x335b4f[_0x5f0650(0x1c4)])){const _0x2d23cb=await fs['readFileAsync'](path[_0x5f0650(0x201)](__dirname,'..',_0x335b4f['DFbwa'],_0x335b4f[_0x5f0650(0x1d8)]),_0x335b4f[_0x5f0650(0x1d7)]),_0x195273={};_0x195273[_0x5f0650(0x1b5)]=CLOUDFORMATION_SCHEMA;const _0xeb9b9d=yaml[_0x5f0650(0x1d6)](_0x2d23cb,_0x195273);_0x335b4f[_0x5f0650(0x170)](mergeTemplates,_0x4eed01,_0xeb9b9d),_0x4eed01[_0x5f0650(0x19a)][_0x335b4f['wwZiN']]['ParameterGroups'][0x0]['Parameters']['push'](_0x335b4f[_0x5f0650(0x1ec)]);}else{const _0x1dd6c3={'OTtDG':function(_0x8ed2d3,_0x176922){return _0x335b4f['Tkrbp'](_0x8ed2d3,_0x176922);}};let _0x45dbce=0x1;_0x5d14b9[_0x5f0650(0x1d1)](_0x3ff143=>{const _0x3e71bc=_0x5f0650;_0x1fb485[_0x3e71bc(0x180)]['push']({'ParameterKey':_0x3e71bc(0x1cb)+_0x1dd6c3[_0x3e71bc(0x199)](_0x2dc80d,_0x45dbce)['padStart'](0x2,'0'),'ParameterValue':_0x3ff143[_0x3e71bc(0x1cd)]}),_0x45dbce+=0x1;});}}else{if(_0x335b4f[_0x5f0650(0x147)](_0x335b4f[_0x5f0650(0x152)],_0x335b4f[_0x5f0650(0x152)])){const _0x4258d3=await fs[_0x5f0650(0x1ca)](path[_0x5f0650(0x201)](__dirname,'..',_0x335b4f[_0x5f0650(0x1ba)],_0x335b4f[_0x5f0650(0x164)]),_0x335b4f['tNchX']),_0x435df1={};_0x435df1[_0x5f0650(0x1b5)]=CLOUDFORMATION_SCHEMA;const _0x2f9fc9=yaml[_0x5f0650(0x1d6)](_0x4258d3,_0x435df1);_0x335b4f[_0x5f0650(0x170)](mergeTemplates,_0x4eed01,_0x2f9fc9),_0x4eed01[_0x5f0650(0x19a)][_0x335b4f[_0x5f0650(0x1c0)]][_0x5f0650(0x14c)][0x0][_0x5f0650(0x180)][_0x5f0650(0x157)](_0x335b4f[_0x5f0650(0x1a2)]);}else _0x4ed0e6[_0x5f0650(0x180)][_0x5f0650(0x157)]({'ParameterKey':_0x5f0650(0x1cb)+_0x335b4f[_0x5f0650(0x1e7)](_0x130c13,_0x2388fc)['padStart'](0x2,'0'),'ParameterValue':_0x1ef603['value']}),_0x49b64e+=0x1;}},addS3Data=async _0x3847bc=>{const _0x424a56=a27_0x1859aa,_0x4c518c={'XHulB':_0x424a56(0x17a),'thNsQ':'s3-create.yaml','YpXWe':'utf-8','QZnJr':function(_0x195e5d,_0x2bc7cc){return _0x195e5d(_0x2bc7cc);},'zOkIw':function(_0x400e0d,_0x13149a){return _0x400e0d===_0x13149a;},'Feoru':function(_0x3cc0f6,_0x3291bd){return _0x3cc0f6!==_0x3291bd;},'NYysc':_0x424a56(0x18b),'bEYCo':'gGpNL','NdYBH':function(_0x300f3d,_0x286c3a,_0x53fdb5){return _0x300f3d(_0x286c3a,_0x53fdb5);}},_0xc5ff2f=await fs[_0x424a56(0x1ca)](path[_0x424a56(0x201)](__dirname,'..',_0x4c518c['XHulB'],_0x4c518c[_0x424a56(0x14b)]),_0x4c518c[_0x424a56(0x173)]),_0x241a03={};_0x241a03[_0x424a56(0x1b5)]=CLOUDFORMATION_SCHEMA;const _0xfe82c7=yaml['load'](_0xc5ff2f,_0x241a03),_0x20a753=await _0x4c518c[_0x424a56(0x1c7)](isBucketPresent,global_registry[_0x424a56(0x1fb)]);_0x4c518c[_0x424a56(0x1a8)](_0x20a753,![])&&(_0x4c518c[_0x424a56(0x1c6)](_0x4c518c[_0x424a56(0x1ea)],_0x4c518c['bEYCo'])?_0x4c518c['NdYBH'](mergeTemplates,_0x3847bc,_0xfe82c7):_0x500a98[_0x23db38[_0x424a56(0x1ef)]]=_0x5eea30[_0x424a56(0x1cf)]);},addSubnetData=async(_0x187d21,_0xabaf6b)=>{const _0x388782=a27_0x1859aa,_0x22e4c9={'RxXJv':function(_0x3c7d3c,_0x5578f4,_0xf6cf4c){return _0x3c7d3c(_0x5578f4,_0xf6cf4c);},'nOBFk':function(_0x4ac5cd,_0x2468d2){return _0x4ac5cd!==_0x2468d2;},'lmUJt':_0x388782(0x15a),'KnvFD':_0x388782(0x172),'eVVzR':_0x388782(0x1b8),'AgwEe':function(_0x52ce41,_0x7b68dd){return _0x52ce41(_0x7b68dd);},'nZePy':_0x388782(0x1ed),'kPCLY':function(_0x332921,_0x504968){return _0x332921(_0x504968);},'gQcaU':_0x388782(0x1d0),'uMXKO':function(_0x344eb6,_0x4e1e83){return _0x344eb6===_0x4e1e83;},'DbyTN':_0x388782(0x1c2),'xCUTK':_0x388782(0x1bc),'dIOMf':_0x388782(0x17a),'xorHL':_0x388782(0x1dc),'Rmcak':_0x388782(0x1c5),'Sqybg':'sSdxQ','nbAyJ':_0x388782(0x1ff),'JVMiv':function(_0x2f2c77,_0x3e1787,_0x1eb155){return _0x2f2c77(_0x3e1787,_0x1eb155);},'slMsA':_0x388782(0x1f9),'lSneg':_0x388782(0x200),'ZZTUT':_0x388782(0x150),'SOpMJ':'Subnet01Block','pvgTf':_0x388782(0x1a1),'XqnUT':_0x388782(0x194)};if(_0xabaf6b){if(_0x22e4c9['uMXKO'](_0x22e4c9[_0x388782(0x1e3)],_0x22e4c9[_0x388782(0x1c9)]))_0x22e4c9[_0x388782(0x162)](_0xc00a0c,_0x3dc9e4,_0xaa4814);else{const _0x1fc7fa=await fs[_0x388782(0x1ca)](path[_0x388782(0x201)](__dirname,'..',_0x22e4c9[_0x388782(0x1b2)],_0x22e4c9[_0x388782(0x1eb)]),_0x22e4c9[_0x388782(0x14a)]),_0x1435a0={};_0x1435a0[_0x388782(0x1b5)]=CLOUDFORMATION_SCHEMA;const _0x809530=yaml['load'](_0x1fc7fa,_0x1435a0);_0x22e4c9[_0x388782(0x162)](mergeTemplates,_0x187d21,_0x809530);let _0x15e80d=0x1;_0xabaf6b[_0x388782(0x1d1)](_0x51c9fe=>{const _0x308a18=_0x388782;if(_0x22e4c9[_0x308a18(0x163)](_0x22e4c9['lmUJt'],_0x22e4c9[_0x308a18(0x148)])){const _0x296f57=_0x22e4c9['eVVzR'][_0x308a18(0x174)]('|');let _0x92ec9a=0x0;while(!![]){switch(_0x296f57[_0x92ec9a++]){case'0':_0x187d21[_0x308a18(0x190)]['NodeGroup']['Properties']['Subnets'][_0x308a18(0x157)]({'Ref':_0x308a18(0x1cb)+_0x22e4c9['AgwEe'](String,_0x15e80d)[_0x308a18(0x17b)](0x2,'0')});continue;case'1':_0x187d21[_0x308a18(0x19a)][_0x22e4c9['nZePy']][_0x308a18(0x14c)][0x0][_0x308a18(0x180)][_0x308a18(0x157)]('Subnet'+_0x22e4c9['AgwEe'](String,_0x15e80d)[_0x308a18(0x17b)](0x2,'0'));continue;case'2':_0x187d21[_0x308a18(0x190)][_0x308a18(0x15d)][_0x308a18(0x1bd)][_0x308a18(0x1ab)][_0x308a18(0x157)]({'Ref':_0x308a18(0x1cb)+_0x22e4c9['kPCLY'](String,_0x15e80d)[_0x308a18(0x17b)](0x2,'0')});continue;case'3':_0x187d21['Outputs'][_0x308a18(0x15f)][_0x308a18(0x1cf)][_0x22e4c9[_0x308a18(0x1aa)]][0x1][_0x308a18(0x157)]({'Ref':_0x308a18(0x1cb)+_0x22e4c9[_0x308a18(0x191)](String,_0x15e80d)[_0x308a18(0x17b)](0x2,'0')});continue;case'4':_0x15e80d+=0x1;continue;case'5':_0x187d21[_0x308a18(0x190)][_0x308a18(0x1f7)][_0x308a18(0x1bd)][_0x308a18(0x18c)][_0x308a18(0x15f)][_0x308a18(0x157)]({'Ref':'Subnet'+_0x22e4c9['AgwEe'](String,_0x15e80d)['padStart'](0x2,'0')});continue;}break;}}else _0x108ad5[_0x308a18(0x190)][_0x106f37][_0x308a18(0x1bd)]&&_0x2606b9[_0x308a18(0x190)][_0x465071]['Properties'][_0x308a18(0x168)]&&_0x252e6e[_0x308a18(0x190)][_0x175ef2][_0x308a18(0x1bd)][_0x308a18(0x168)][_0x308a18(0x157)](..._0x2c8a41);});}}else{if(_0x22e4c9[_0x388782(0x19c)](_0x22e4c9[_0x388782(0x1e8)],_0x22e4c9[_0x388782(0x1e8)])){const _0x26e0ef=await fs[_0x388782(0x1ca)](path[_0x388782(0x201)](__dirname,'..',_0x22e4c9[_0x388782(0x1b2)],_0x22e4c9[_0x388782(0x1d5)]),_0x22e4c9[_0x388782(0x14a)]),_0x1aff72={};_0x1aff72['schema']=CLOUDFORMATION_SCHEMA;const _0x40131d=yaml[_0x388782(0x1d6)](_0x26e0ef,_0x1aff72);_0x22e4c9[_0x388782(0x1b9)](mergeTemplates,_0x187d21,_0x40131d),_0x187d21['Resources'][_0x388782(0x1f7)]['DependsOn'][_0x388782(0x157)](_0x22e4c9[_0x388782(0x146)],_0x22e4c9[_0x388782(0x1b6)],_0x22e4c9[_0x388782(0x19e)]);const _0x409769={};_0x409769[_0x388782(0x166)]=_0x22e4c9['slMsA'];const _0x3e274e={};_0x3e274e[_0x388782(0x166)]=_0x22e4c9[_0x388782(0x1b6)];const _0x21021c={};_0x21021c['Ref']=_0x22e4c9[_0x388782(0x19e)],_0x187d21[_0x388782(0x190)]['EKSCluster'][_0x388782(0x1bd)][_0x388782(0x18c)][_0x388782(0x15f)]=[_0x409769,_0x3e274e,_0x21021c],_0x187d21[_0x388782(0x19a)][_0x22e4c9[_0x388782(0x154)]][_0x388782(0x14c)][0x0][_0x388782(0x180)]['push'](_0x22e4c9[_0x388782(0x193)],_0x22e4c9[_0x388782(0x1b4)],_0x22e4c9[_0x388782(0x1af)]);const _0x94c568={};_0x94c568['Ref']=_0x22e4c9[_0x388782(0x146)];const _0x4d236e={};_0x4d236e[_0x388782(0x166)]=_0x22e4c9[_0x388782(0x1b6)];const _0x320774={};_0x320774[_0x388782(0x166)]=_0x22e4c9[_0x388782(0x19e)],_0x187d21[_0x388782(0x190)][_0x388782(0x149)][_0x388782(0x1bd)][_0x388782(0x1ab)]=[_0x94c568,_0x4d236e,_0x320774];const _0x257c1f={};_0x257c1f['Ref']=_0x22e4c9[_0x388782(0x146)];const _0x1a17cf={};_0x1a17cf[_0x388782(0x166)]=_0x22e4c9[_0x388782(0x1b6)];const _0x4f173c={};_0x4f173c[_0x388782(0x166)]=_0x22e4c9['ZZTUT'],_0x187d21['Resources'][_0x388782(0x15d)]['Properties'][_0x388782(0x1ab)]=[_0x257c1f,_0x1a17cf,_0x4f173c],_0x187d21[_0x388782(0x1b0)][_0x388782(0x15f)][_0x388782(0x1cf)][_0x22e4c9[_0x388782(0x1aa)]][0x1]=[{'Ref':_0x22e4c9['slMsA']},{'Ref':_0x22e4c9[_0x388782(0x1b6)]},{'Ref':_0x22e4c9['ZZTUT']}];}else _0x491000[_0x25f20d][_0x594203]=_0x54a3ab[_0x2472a2];}},addTags=async(_0x5c6521,_0x564dda,_0x846a5a)=>{const _0x82030f=a27_0x1859aa,_0x50c86e={'qlQwF':'5|2|0|3|1|4','LlEiE':function(_0xe074d7,_0x13d174){return _0xe074d7(_0x13d174);},'FsEoe':_0x82030f(0x1d0),'AnPZY':function(_0x88d86e,_0x15f361){return _0x88d86e(_0x15f361);},'McSUF':_0x82030f(0x1ed),'HbHmk':function(_0x27503a,_0x405cdc){return _0x27503a(_0x405cdc);},'DNqlf':function(_0x168568,_0x1e8acb){return _0x168568(_0x1e8acb);},'NRwTE':_0x82030f(0x149),'GrFvJ':_0x82030f(0x15d),'vNWUE':function(_0x4ea664,_0x422ace){return _0x4ea664!==_0x422ace;},'njUba':'iIATr','uVvNy':_0x82030f(0x1fa),'OBMyo':function(_0x226374,_0x214e5b){return _0x226374===_0x214e5b;},'zGqpi':_0x82030f(0x1ac),'EQUPa':_0x82030f(0x1bf),'MJvlC':_0x82030f(0x1e9),'yvLov':'NCust'};for(const _0x5b3b95 in _0x5c6521[_0x82030f(0x190)]){if(_0x50c86e[_0x82030f(0x1f6)](_0x50c86e[_0x82030f(0x192)],_0x50c86e[_0x82030f(0x1b7)])){var _0x58f849=_0x2c3931[_0x13a7c6];_0x59ab76[_0x82030f(0x195)](_0x58f849)[_0x82030f(0x1d1)](_0x18cb5c=>{_0x57b144[_0x130c3c][_0x18cb5c]=_0x58f849[_0x18cb5c];});}else{if(_0x5c6521[_0x82030f(0x190)][_0x5b3b95]['Properties']&&_0x5c6521[_0x82030f(0x190)][_0x5b3b95][_0x82030f(0x1bd)][_0x82030f(0x168)]){if(_0x50c86e[_0x82030f(0x1f6)](_0x50c86e['MJvlC'],_0x50c86e['yvLov'])){const _0x31ba81=_0x50c86e[_0x82030f(0x1f2)][_0x82030f(0x174)]('|');let _0x5e28e7=0x0;while(!![]){switch(_0x31ba81[_0x5e28e7++]){case'0':_0x499d16[_0x82030f(0x190)]['NodeGroup'][_0x82030f(0x1bd)][_0x82030f(0x1ab)][_0x82030f(0x157)]({'Ref':_0x82030f(0x1cb)+_0x50c86e[_0x82030f(0x196)](_0x42dc90,_0x143b08)[_0x82030f(0x17b)](0x2,'0')});continue;case'1':_0x5e401a[_0x82030f(0x1b0)][_0x82030f(0x15f)][_0x82030f(0x1cf)][_0x50c86e[_0x82030f(0x1be)]][0x1][_0x82030f(0x157)]({'Ref':_0x82030f(0x1cb)+_0x50c86e['AnPZY'](_0x272eb0,_0xd5307c)['padStart'](0x2,'0')});continue;case'2':_0x100d4b['Metadata'][_0x50c86e[_0x82030f(0x183)]][_0x82030f(0x14c)][0x0][_0x82030f(0x180)][_0x82030f(0x157)](_0x82030f(0x1cb)+_0x50c86e['HbHmk'](_0x2dfcbd,_0x1bc43b)['padStart'](0x2,'0'));continue;case'3':_0x52e588[_0x82030f(0x190)]['NodeGroupWindows'][_0x82030f(0x1bd)][_0x82030f(0x1ab)][_0x82030f(0x157)]({'Ref':_0x82030f(0x1cb)+_0x50c86e[_0x82030f(0x196)](_0x1b636f,_0x1a8c09)['padStart'](0x2,'0')});continue;case'4':_0x4534c2+=0x1;continue;case'5':_0x5c1a21[_0x82030f(0x190)][_0x82030f(0x1f7)][_0x82030f(0x1bd)][_0x82030f(0x18c)][_0x82030f(0x15f)][_0x82030f(0x157)]({'Ref':_0x82030f(0x1cb)+_0x50c86e[_0x82030f(0x16e)](_0x4acadc,_0x27d1bc)['padStart'](0x2,'0')});continue;}break;}}else _0x5c6521[_0x82030f(0x190)][_0x5b3b95]['Properties'][_0x82030f(0x168)][_0x82030f(0x157)](..._0x846a5a);}}}const _0x1aa037={};_0x846a5a[_0x82030f(0x1d1)](_0x1a9954=>{const _0x157f5b=_0x82030f;if(_0x50c86e['vNWUE'](_0x50c86e[_0x157f5b(0x1e2)],_0x50c86e[_0x157f5b(0x184)]))_0x1aa037[_0x1a9954['Key']]=_0x1a9954['Value'];else{for(const _0x1d5141 in _0x18fa8b[_0x157f5b(0x190)]){_0x471def['Resources'][_0x1d5141][_0x157f5b(0x1bd)]&&_0x3f5c55['Resources'][_0x1d5141][_0x157f5b(0x1bd)][_0x157f5b(0x168)]&&_0x76e1a3[_0x157f5b(0x190)][_0x1d5141][_0x157f5b(0x1bd)][_0x157f5b(0x168)][_0x157f5b(0x157)](..._0x110f76);}const _0x187f5={};_0x1c893a['forEach'](_0x1ee2ec=>{const _0x6d6c4b=_0x157f5b;_0x187f5[_0x1ee2ec[_0x6d6c4b(0x1ef)]]=_0x1ee2ec[_0x6d6c4b(0x1cf)];}),_0x3154df[_0x157f5b(0x190)][_0x50c86e[_0x157f5b(0x1f4)]][_0x157f5b(0x1bd)][_0x157f5b(0x168)]=_0x187f5,_0x2cdcd2[_0x157f5b(0x190)][_0x50c86e[_0x157f5b(0x197)]][_0x157f5b(0x1bd)][_0x157f5b(0x168)]=_0x187f5;}}),_0x5c6521['Resources'][_0x50c86e[_0x82030f(0x1f4)]][_0x82030f(0x1bd)][_0x82030f(0x168)]=_0x1aa037,_0x5c6521['Resources'][_0x50c86e[_0x82030f(0x197)]][_0x82030f(0x1bd)][_0x82030f(0x168)]=_0x1aa037;};function a27_0xfbd2(_0x5ca6d9,_0x42aea4){const _0x43fffb=a27_0x43ff();return a27_0xfbd2=function(_0xfbd211,_0x33054c){_0xfbd211=_0xfbd211-0x146;let _0x594914=_0x43fffb[_0xfbd211];return _0x594914;},a27_0xfbd2(_0x5ca6d9,_0x42aea4);}exports[a27_0x1859aa(0x186)]=async(_0x340dd7,_0x4526ea,_0x2f9dcd,_0x287ab7=null,_0x3cea11=null)=>{const _0x12bec9=a27_0x1859aa,_0x3e6ee2={'uZWRJ':function(_0x3f74ad,_0x410220){return _0x3f74ad(_0x410220);},'oqQDT':_0x12bec9(0x156),'HQHEg':_0x12bec9(0x16f),'KEqEg':'2010-05-15','MjQxX':_0x12bec9(0x17a),'qOtne':_0x12bec9(0x1db),'YuMmz':_0x12bec9(0x1c5),'zEszW':function(_0x917223,_0x2196e8,_0x11cdaa){return _0x917223(_0x2196e8,_0x11cdaa);},'GnHjF':function(_0x329992,_0x9bc8ff,_0x20e7fd,_0x1ae05c){return _0x329992(_0x9bc8ff,_0x20e7fd,_0x1ae05c);},'Xblsf':'DELETE','fqfvT':_0x12bec9(0x1f8),'NHxnT':_0x12bec9(0x153),'vaQLB':_0x12bec9(0x18d),'mVImI':_0x12bec9(0x1a9),'ISCjO':_0x12bec9(0x1c3),'tmzPB':_0x12bec9(0x159),'vExMP':'NodeImageId','YfFqq':_0x12bec9(0x16a),'KWhma':'S3BucketName','esqLk':_0x12bec9(0x1e4),'HJTEW':_0x12bec9(0x17d),'OgBBe':function(_0x4439ab,_0x5821e7){return _0x4439ab!=_0x5821e7;},'pjEGM':function(_0x399dd6,_0x328bc7){return _0x399dd6!==_0x328bc7;},'DrFSS':function(_0x2f9206,_0x32b187){return _0x2f9206===_0x32b187;},'dZwXf':_0x12bec9(0x17c),'cIXMz':_0x12bec9(0x175),'vQTHD':_0x12bec9(0x169),'STDFK':function(_0x3152d2,_0x38fafd){return _0x3152d2!=_0x38fafd;},'pJcqJ':function(_0xa10ceb,_0x16b392){return _0xa10ceb!==_0x16b392;},'MAoie':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','xBRFh':_0x12bec9(0x176)},_0x9feabc=COMMON_HST_TAGS,_0x255f04={};_0x255f04[_0x12bec9(0x1ef)]=_0x3e6ee2[_0x12bec9(0x178)],_0x255f04['Value']=_0x340dd7,_0x9feabc[_0x12bec9(0x157)](_0x255f04),_0x9feabc[_0x12bec9(0x157)]({'Key':_0x3e6ee2[_0x12bec9(0x16c)],'Value':new Date()[_0x12bec9(0x1da)]()[_0x12bec9(0x1d4)]()});const _0x1b2b8e={};_0x1b2b8e[_0x12bec9(0x185)]=_0x3e6ee2[_0x12bec9(0x177)];const _0x10171f=new AWS['CloudFormation'](_0x1b2b8e),_0x33dfca=await fs[_0x12bec9(0x1ca)](path['join'](__dirname,'..',_0x3e6ee2['MjQxX'],_0x3e6ee2[_0x12bec9(0x18f)]),_0x3e6ee2[_0x12bec9(0x151)]),_0xbeb427={};_0xbeb427[_0x12bec9(0x1b5)]=CLOUDFORMATION_SCHEMA;const _0x3e5ffe=yaml[_0x12bec9(0x1d6)](_0x33dfca,_0xbeb427);await _0x3e6ee2[_0x12bec9(0x188)](addVPCData,_0x3e5ffe,_0x287ab7),await _0x3e6ee2[_0x12bec9(0x198)](addS3Data,_0x3e5ffe),await _0x3e6ee2[_0x12bec9(0x188)](addSubnetData,_0x3e5ffe,_0x3cea11),await _0x3e6ee2[_0x12bec9(0x1bb)](addTags,_0x3e5ffe,_0x340dd7,_0x9feabc);const _0x106ef5=JSON[_0x12bec9(0x202)](_0x3e5ffe),_0x1d60a3={};_0x1d60a3[_0x12bec9(0x1a7)]=CLUSTER_DEP_STACK_NAME+'-'+_0x340dd7,_0x1d60a3['OnFailure']=_0x3e6ee2['Xblsf'],_0x1d60a3['TemplateBody']=_0x106ef5,_0x1d60a3['Parameters']=[{'ParameterKey':_0x3e6ee2[_0x12bec9(0x14f)],'ParameterValue':_0x340dd7},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x161)],'ParameterValue':_0x340dd7+_0x12bec9(0x158)},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x15b)],'ParameterValue':''+_0x4526ea},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x1de)],'ParameterValue':'0'},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x1f0)],'ParameterValue':'1'},{'ParameterKey':_0x3e6ee2['tmzPB'],'ParameterValue':''+_0x2f9dcd},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x189)],'ParameterValue':global_registry[_0x12bec9(0x15e)]},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x182)],'ParameterValue':global_registry[_0x12bec9(0x1ee)]},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x1a5)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x3e6ee2[_0x12bec9(0x1f1)],'ParameterValue':_0x340dd7+_0x12bec9(0x18a)}],_0x1d60a3['Capabilities']=[_0x3e6ee2[_0x12bec9(0x15c)]],_0x1d60a3[_0x12bec9(0x168)]=_0x9feabc;const _0x360980=_0x1d60a3;if(_0x3e6ee2[_0x12bec9(0x1ad)](_0x287ab7,null)&&_0x3e6ee2['pjEGM'](_0x287ab7,undefined)){if(_0x3e6ee2[_0x12bec9(0x1c8)](_0x3e6ee2[_0x12bec9(0x181)],_0x3e6ee2[_0x12bec9(0x1d9)]))_0x3f1420['Resources'][_0x158a07][_0x12bec9(0x1bd)]['Tags']['push'](..._0x414fcf);else{const _0x20b7f3={};_0x20b7f3[_0x12bec9(0x179)]=_0x3e6ee2[_0x12bec9(0x171)],_0x20b7f3['ParameterValue']=_0x287ab7,_0x360980['Parameters'][_0x12bec9(0x157)](_0x20b7f3);}}if(_0x3e6ee2['STDFK'](_0x3cea11,null)&&_0x3e6ee2[_0x12bec9(0x1b3)](_0x3cea11,undefined)){let _0x56fbf9=0x1;_0x3cea11[_0x12bec9(0x1d1)](_0x3808a1=>{const _0x2be770=_0x12bec9;_0x360980[_0x2be770(0x180)][_0x2be770(0x157)]({'ParameterKey':_0x2be770(0x1cb)+_0x3e6ee2['uZWRJ'](String,_0x56fbf9)[_0x2be770(0x17b)](0x2,'0'),'ParameterValue':_0x3808a1['value']}),_0x56fbf9+=0x1;});}const _0x45645a=await _0x10171f['createStack'](_0x360980)['promise']();logger[_0x12bec9(0x1b1)](_0x3e6ee2['MAoie']);const _0x13153e={};return _0x13153e['StackName']=_0x45645a['StackId'],_0x10171f[_0x12bec9(0x16b)](_0x3e6ee2[_0x12bec9(0x1fe)],_0x13153e)['promise']();};