const a27_0x41ecb9=a27_0x1d96;(function(_0x5b0b5a,_0x54c721){const _0x39b1f7=a27_0x1d96,_0x290d50=_0x5b0b5a();while(!![]){try{const _0xb0447b=-parseInt(_0x39b1f7(0x186))/0x1+parseInt(_0x39b1f7(0x121))/0x2*(parseInt(_0x39b1f7(0x130))/0x3)+parseInt(_0x39b1f7(0x17a))/0x4+parseInt(_0x39b1f7(0xeb))/0x5*(parseInt(_0x39b1f7(0x144))/0x6)+parseInt(_0x39b1f7(0xe6))/0x7*(-parseInt(_0x39b1f7(0x189))/0x8)+parseInt(_0x39b1f7(0x13f))/0x9+-parseInt(_0x39b1f7(0x15f))/0xa;if(_0xb0447b===_0x54c721)break;else _0x290d50['push'](_0x290d50['shift']());}catch(_0x2982b6){_0x290d50['push'](_0x290d50['shift']());}}}(a27_0x1c22,0xcb061));const fs=require('fs'),path=require(a27_0x41ecb9(0xfd)),Promise=require(a27_0x41ecb9(0xde)),yaml=require(a27_0x41ecb9(0x156)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require('./AWSUtils')[a27_0x41ecb9(0x114)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x41ecb9(0x172)),{logger}=require(a27_0x41ecb9(0x18d)),{isBucketPresent}=require(a27_0x41ecb9(0x18a));Promise[a27_0x41ecb9(0xf7)](fs);function a27_0x1d96(_0x46bd55,_0x2e2faf){const _0x1c22ba=a27_0x1c22();return a27_0x1d96=function(_0x1d9644,_0x4fb1b7){_0x1d9644=_0x1d9644-0xd2;let _0x26fb98=_0x1c22ba[_0x1d9644];return _0x26fb98;},a27_0x1d96(_0x46bd55,_0x2e2faf);}const mergeTemplates=(_0x3c9c80,_0x5da7c5)=>{const _0x5780a2=a27_0x41ecb9,_0x2cb208={'MWcGH':_0x5780a2(0x129),'RRWrH':function(_0x52608c,_0x9374fc){return _0x52608c(_0x9374fc);},'zEDIk':_0x5780a2(0x11d),'BVSKq':_0x5780a2(0x170),'Nfddk':function(_0x2d1766,_0x39c4d5){return _0x2d1766!==_0x39c4d5;},'pXmLp':_0x5780a2(0x15e),'yqlpX':_0x5780a2(0x135),'HUiZe':_0x5780a2(0x17c),'OtUxL':_0x5780a2(0x167),'dHCXA':_0x5780a2(0x11b),'jTZlr':_0x5780a2(0x165)};Object[_0x5780a2(0x107)](_0x5da7c5)[_0x5780a2(0x10f)](_0x56d51b=>{const _0x4b4548=_0x5780a2,_0x1f59b0={'AdiOf':_0x2cb208[_0x4b4548(0x163)],'hgIpu':function(_0x102e0c,_0x2299ba){return _0x2cb208['RRWrH'](_0x102e0c,_0x2299ba);},'cPAzX':_0x2cb208['zEDIk'],'dXgGi':_0x2cb208[_0x4b4548(0x13d)],'STxsZ':function(_0xe76d4c,_0x47c0ce){return _0x2cb208['Nfddk'](_0xe76d4c,_0x47c0ce);},'jWjXz':_0x2cb208[_0x4b4548(0x12e)],'pAcnp':_0x2cb208[_0x4b4548(0x125)],'TErjq':_0x2cb208['HUiZe'],'SPvtu':_0x2cb208[_0x4b4548(0xf0)]};if(_0x2cb208[_0x4b4548(0x148)](_0x2cb208[_0x4b4548(0x136)],_0x2cb208['jTZlr'])){var _0x3d3c43=_0x5da7c5[_0x56d51b];Object['keys'](_0x3d3c43)[_0x4b4548(0x10f)](_0x13e088=>{const _0x26b988=_0x4b4548;if(_0x1f59b0[_0x26b988(0x146)](_0x1f59b0[_0x26b988(0x16a)],_0x1f59b0[_0x26b988(0xee)]))_0x3c9c80[_0x56d51b][_0x13e088]=_0x3d3c43[_0x13e088];else{const _0xdb8c15=_0x1f59b0[_0x26b988(0xe3)][_0x26b988(0x119)]('|');let _0x67deae=0x0;while(!![]){switch(_0xdb8c15[_0x67deae++]){case'0':_0x208072[_0x26b988(0xdc)][_0x26b988(0x167)][_0x26b988(0x188)][_0x26b988(0x131)]['push']({'Ref':_0x26b988(0x176)+_0x1f59b0[_0x26b988(0x120)](_0x1bda1a,_0x577c64)[_0x26b988(0xff)](0x2,'0')});continue;case'1':_0x1d39af+=0x1;continue;case'2':_0x3c4e07['Metadata'][_0x1f59b0['cPAzX']][_0x26b988(0x106)][0x0][_0x26b988(0x15c)][_0x26b988(0x11c)](_0x26b988(0x176)+_0x1f59b0[_0x26b988(0x120)](_0x353ee8,_0x2f8b3d)[_0x26b988(0xff)](0x2,'0'));continue;case'3':_0x44149a['Resources'][_0x26b988(0xec)][_0x26b988(0x188)][_0x26b988(0x166)]['SubnetIds'][_0x26b988(0x11c)]({'Ref':_0x26b988(0x176)+_0x1f59b0['hgIpu'](_0xa6c104,_0x419693)[_0x26b988(0xff)](0x2,'0')});continue;case'4':_0x1e4889[_0x26b988(0xdc)]['NodeGroup'][_0x26b988(0x188)]['Subnets'][_0x26b988(0x11c)]({'Ref':_0x26b988(0x176)+_0x1f59b0['hgIpu'](_0x5d14e9,_0xb89268)[_0x26b988(0xff)](0x2,'0')});continue;case'5':_0x8905ad[_0x26b988(0x128)][_0x26b988(0x138)]['Value'][_0x1f59b0[_0x26b988(0x182)]][0x1][_0x26b988(0x11c)]({'Ref':'Subnet'+_0x1f59b0[_0x26b988(0x120)](_0x4475d4,_0x53014d)['padStart'](0x2,'0')});continue;}break;}}});}else{for(const _0x184d78 in _0x21b770['Resources']){_0x2adbcd[_0x4b4548(0xdc)][_0x184d78][_0x4b4548(0x188)]&&_0x47b406[_0x4b4548(0xdc)][_0x184d78][_0x4b4548(0x188)][_0x4b4548(0x12f)]&&_0x583684[_0x4b4548(0xdc)][_0x184d78][_0x4b4548(0x188)][_0x4b4548(0x12f)][_0x4b4548(0x11c)](..._0x3c96dd);}const _0xbcdcf0={};_0x226858[_0x4b4548(0x10f)](_0x51d62e=>{const _0x56dfad=_0x4b4548;_0xbcdcf0[_0x51d62e[_0x56dfad(0x134)]]=_0x51d62e[_0x56dfad(0xd4)];}),_0xbdde8b['Resources'][_0x1f59b0[_0x4b4548(0xfb)]][_0x4b4548(0x188)]['Tags']=_0xbcdcf0,_0x12c9d2[_0x4b4548(0xdc)][_0x1f59b0[_0x4b4548(0x111)]][_0x4b4548(0x188)][_0x4b4548(0x12f)]=_0xbcdcf0;}});},addVPCData=async(_0x6f906b,_0x9b2480)=>{const _0x391b9=a27_0x41ecb9,_0x1fb372={'bfQZy':'VPC','tHqXx':function(_0x24e4c8,_0x3122d6){return _0x24e4c8(_0x3122d6);},'xoxPG':function(_0x315cfb,_0x5ebf46){return _0x315cfb===_0x5ebf46;},'OBsAU':'vkRIn','qrGQO':'CFTemplates','YjXSd':_0x391b9(0x13e),'HrGXx':_0x391b9(0x14b),'bMpdR':function(_0x53c0a4,_0x432d53,_0x721c8e){return _0x53c0a4(_0x432d53,_0x721c8e);},'mrGUq':_0x391b9(0x11d),'bRzvZ':function(_0x4f8437,_0x3a9cbf){return _0x4f8437!==_0x3a9cbf;},'cyhpO':_0x391b9(0x117),'MArqy':'mbLgA','SGXWl':_0x391b9(0x10c),'KiyIg':function(_0xa8b6ce,_0x311ac5,_0x309208){return _0xa8b6ce(_0x311ac5,_0x309208);},'wBkYR':_0x391b9(0xf1)};if(_0x9b2480){if(_0x1fb372['xoxPG'](_0x1fb372[_0x391b9(0x177)],_0x1fb372[_0x391b9(0x177)])){const _0x5800cf=await fs[_0x391b9(0xea)](path[_0x391b9(0xd6)](__dirname,'..',_0x1fb372[_0x391b9(0xda)],_0x1fb372[_0x391b9(0xfe)]),_0x1fb372['HrGXx']),_0x21a091={};_0x21a091[_0x391b9(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x13a8fb=yaml[_0x391b9(0x101)](_0x5800cf,_0x21a091);_0x1fb372[_0x391b9(0x15a)](mergeTemplates,_0x6f906b,_0x13a8fb),_0x6f906b['Metadata'][_0x1fb372[_0x391b9(0x149)]][_0x391b9(0x106)][0x0][_0x391b9(0x15c)][_0x391b9(0x11c)](_0x1fb372[_0x391b9(0x14d)]);}else{const _0x7bb782={};_0x7bb782[_0x391b9(0x18c)]=_0x1fb372[_0x391b9(0x14d)],_0x7bb782[_0x391b9(0x18f)]=_0x408067,_0x3854ea[_0x391b9(0x15c)][_0x391b9(0x11c)](_0x7bb782);}}else{if(_0x1fb372[_0x391b9(0x17e)](_0x1fb372[_0x391b9(0xe5)],_0x1fb372['MArqy'])){const _0x5e5422=await fs[_0x391b9(0xea)](path[_0x391b9(0xd6)](__dirname,'..',_0x1fb372[_0x391b9(0xda)],_0x1fb372['SGXWl']),_0x1fb372['HrGXx']),_0x1f75fd={};_0x1f75fd[_0x391b9(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x210c46=yaml[_0x391b9(0x101)](_0x5e5422,_0x1f75fd);_0x1fb372[_0x391b9(0x10e)](mergeTemplates,_0x6f906b,_0x210c46),_0x6f906b[_0x391b9(0xdf)][_0x1fb372['mrGUq']][_0x391b9(0x106)][0x0][_0x391b9(0x15c)]['push'](_0x1fb372[_0x391b9(0xf5)]);}else{const _0x23de11={'Krnni':function(_0x2e3183,_0x5d71a2){const _0x1e1640=_0x391b9;return _0x1fb372[_0x1e1640(0xef)](_0x2e3183,_0x5d71a2);}};let _0x5c8ab2=0x1;_0x1baef7[_0x391b9(0x10f)](_0x177712=>{const _0x33d597=_0x391b9;_0x1a9acd[_0x33d597(0x15c)][_0x33d597(0x11c)]({'ParameterKey':_0x33d597(0x176)+_0x23de11[_0x33d597(0xf2)](_0x300092,_0x5c8ab2)[_0x33d597(0xff)](0x2,'0'),'ParameterValue':_0x177712['value']}),_0x5c8ab2+=0x1;});}}},addS3Data=async _0x27bcc7=>{const _0x42df0f=a27_0x41ecb9,_0x1111bc={'GEBbz':_0x42df0f(0x171),'DagIY':_0x42df0f(0x118),'LGczb':'utf-8','qKjyv':function(_0x112fdd,_0x445805){return _0x112fdd(_0x445805);},'BzdYG':function(_0x22acbb,_0x2c7bbc){return _0x22acbb===_0x2c7bbc;},'niuEX':_0x42df0f(0x147),'nOLTT':function(_0x2c4870,_0x5ef68a,_0x1f05a4){return _0x2c4870(_0x5ef68a,_0x1f05a4);}},_0x4b2157=await fs['readFileAsync'](path[_0x42df0f(0xd6)](__dirname,'..',_0x1111bc[_0x42df0f(0x14f)],_0x1111bc['DagIY']),_0x1111bc['LGczb']),_0x3ef5cb={};_0x3ef5cb['schema']=CLOUDFORMATION_SCHEMA;const _0x2ee3a8=yaml[_0x42df0f(0x101)](_0x4b2157,_0x3ef5cb),_0x339fc9=await _0x1111bc[_0x42df0f(0x132)](isBucketPresent,global_registry['s3Bucket']);if(_0x1111bc[_0x42df0f(0x11f)](_0x339fc9,![])){if(_0x1111bc[_0x42df0f(0x11f)](_0x1111bc['niuEX'],_0x1111bc['niuEX']))_0x1111bc[_0x42df0f(0x185)](mergeTemplates,_0x27bcc7,_0x2ee3a8);else{var _0x502670=_0x5b85b4[_0x5ce09a];_0x1d2283[_0x42df0f(0x107)](_0x502670)[_0x42df0f(0x10f)](_0x30eea9=>{_0x341428[_0x23cf8c][_0x30eea9]=_0x502670[_0x30eea9];});}}},addSubnetData=async(_0x1e105e,_0x134478)=>{const _0x2e95c9=a27_0x41ecb9,_0x46078c={'jWOax':function(_0x1734a8,_0x5e324e){return _0x1734a8!==_0x5e324e;},'jsiRZ':_0x2e95c9(0xe4),'SprXZ':'lqpRI','DWXOT':'5|3|2|0|4|1','PkmQd':function(_0x1e65dc,_0x62a21c){return _0x1e65dc(_0x62a21c);},'wwTKG':function(_0x884c63,_0x169b28){return _0x884c63(_0x169b28);},'POOZw':_0x2e95c9(0x11d),'Kieql':function(_0x2a74c3,_0x43e5d7){return _0x2a74c3(_0x43e5d7);},'dlTDg':_0x2e95c9(0x170),'wjeJS':function(_0x3b8e5a,_0x3799dc){return _0x3b8e5a!==_0x3799dc;},'hRSMe':_0x2e95c9(0x142),'DaIMS':'QYtjo','yedym':_0x2e95c9(0x171),'CNVxP':'subnet-import.yaml','LMziZ':'utf-8','gxnWv':function(_0x58ad71,_0x50e0c4,_0x57eb69){return _0x58ad71(_0x50e0c4,_0x57eb69);},'bscXN':function(_0x55a4bf,_0x163546){return _0x55a4bf===_0x163546;},'rbWVC':_0x2e95c9(0xf3),'tKLVQ':_0x2e95c9(0xd7),'qiJHz':_0x2e95c9(0x191),'xIpUL':_0x2e95c9(0x180),'nHRSt':'Subnet03','kuEAQ':_0x2e95c9(0x16c),'YqSSL':_0x2e95c9(0xe8),'vNWpj':_0x2e95c9(0x187)};if(_0x134478){if(_0x46078c['wjeJS'](_0x46078c['hRSMe'],_0x46078c[_0x2e95c9(0xed)])){const _0x11889d=await fs[_0x2e95c9(0xea)](path['join'](__dirname,'..',_0x46078c[_0x2e95c9(0x10a)],_0x46078c['CNVxP']),_0x46078c[_0x2e95c9(0xd9)]),_0x13f51a={};_0x13f51a['schema']=CLOUDFORMATION_SCHEMA;const _0x48c40a=yaml[_0x2e95c9(0x101)](_0x11889d,_0x13f51a);_0x46078c[_0x2e95c9(0x18e)](mergeTemplates,_0x1e105e,_0x48c40a);let _0xd134aa=0x1;_0x134478[_0x2e95c9(0x10f)](_0x43da16=>{const _0x5935fe=_0x2e95c9;if(_0x46078c[_0x5935fe(0x112)](_0x46078c['jsiRZ'],_0x46078c['SprXZ'])){const _0xb1430e=_0x46078c[_0x5935fe(0x13c)]['split']('|');let _0x2da5ae=0x0;while(!![]){switch(_0xb1430e[_0x2da5ae++]){case'0':_0x1e105e['Resources'][_0x5935fe(0x167)][_0x5935fe(0x188)][_0x5935fe(0x131)]['push']({'Ref':'Subnet'+_0x46078c[_0x5935fe(0x153)](String,_0xd134aa)[_0x5935fe(0xff)](0x2,'0')});continue;case'1':_0xd134aa+=0x1;continue;case'2':_0x1e105e['Resources'][_0x5935fe(0x17c)][_0x5935fe(0x188)][_0x5935fe(0x131)][_0x5935fe(0x11c)]({'Ref':'Subnet'+_0x46078c['wwTKG'](String,_0xd134aa)['padStart'](0x2,'0')});continue;case'3':_0x1e105e[_0x5935fe(0xdf)][_0x46078c[_0x5935fe(0x17f)]][_0x5935fe(0x106)][0x0][_0x5935fe(0x15c)][_0x5935fe(0x11c)](_0x5935fe(0x176)+_0x46078c['Kieql'](String,_0xd134aa)[_0x5935fe(0xff)](0x2,'0'));continue;case'4':_0x1e105e[_0x5935fe(0x128)][_0x5935fe(0x138)]['Value'][_0x46078c[_0x5935fe(0x162)]][0x1][_0x5935fe(0x11c)]({'Ref':'Subnet'+_0x46078c[_0x5935fe(0x152)](String,_0xd134aa)[_0x5935fe(0xff)](0x2,'0')});continue;case'5':_0x1e105e['Resources'][_0x5935fe(0xec)][_0x5935fe(0x188)][_0x5935fe(0x166)][_0x5935fe(0x138)]['push']({'Ref':_0x5935fe(0x176)+_0x46078c['Kieql'](String,_0xd134aa)[_0x5935fe(0xff)](0x2,'0')});continue;}break;}}else _0x3ab0d9[_0x5f42a2][_0x5c636c]=_0x2beadb[_0x59e2ea];});}else _0x502201[_0x2e95c9(0x107)](_0x1a17e9)[_0x2e95c9(0x10f)](_0xd5e850=>{const _0x1e0329=_0x2e95c9;var _0x4b6ee0=_0x2dc9c4[_0xd5e850];_0x3b80ad[_0x1e0329(0x107)](_0x4b6ee0)[_0x1e0329(0x10f)](_0xecd9a3=>{_0x3e3d28[_0xd5e850][_0xecd9a3]=_0x4b6ee0[_0xecd9a3];});});}else{if(_0x46078c[_0x2e95c9(0x13b)](_0x46078c[_0x2e95c9(0x103)],_0x46078c[_0x2e95c9(0x103)])){const _0x4b17f2=await fs[_0x2e95c9(0xea)](path[_0x2e95c9(0xd6)](__dirname,'..',_0x46078c[_0x2e95c9(0x10a)],_0x46078c[_0x2e95c9(0x139)]),_0x46078c[_0x2e95c9(0xd9)]),_0x236ee7={};_0x236ee7['schema']=CLOUDFORMATION_SCHEMA;const _0x3cef97=yaml['load'](_0x4b17f2,_0x236ee7);_0x46078c[_0x2e95c9(0x18e)](mergeTemplates,_0x1e105e,_0x3cef97),_0x1e105e[_0x2e95c9(0xdc)]['EKSCluster'][_0x2e95c9(0xfa)]['push'](_0x46078c['qiJHz'],_0x46078c[_0x2e95c9(0xe0)],_0x46078c[_0x2e95c9(0xf8)]);const _0x2216a7={};_0x2216a7['Ref']=_0x46078c['qiJHz'];const _0x58ac81={};_0x58ac81['Ref']=_0x46078c[_0x2e95c9(0xe0)];const _0x8f41a4={};_0x8f41a4[_0x2e95c9(0xe9)]=_0x46078c[_0x2e95c9(0xf8)],_0x1e105e[_0x2e95c9(0xdc)]['EKSCluster']['Properties'][_0x2e95c9(0x166)][_0x2e95c9(0x138)]=[_0x2216a7,_0x58ac81,_0x8f41a4],_0x1e105e[_0x2e95c9(0xdf)][_0x46078c[_0x2e95c9(0x17f)]][_0x2e95c9(0x106)][0x0][_0x2e95c9(0x15c)][_0x2e95c9(0x11c)](_0x46078c[_0x2e95c9(0x105)],_0x46078c['YqSSL'],_0x46078c[_0x2e95c9(0x16f)]);const _0x578439={};_0x578439[_0x2e95c9(0xe9)]=_0x46078c['qiJHz'];const _0x477d94={};_0x477d94['Ref']=_0x46078c[_0x2e95c9(0xe0)];const _0x479042={};_0x479042['Ref']=_0x46078c[_0x2e95c9(0xf8)],_0x1e105e[_0x2e95c9(0xdc)]['NodeGroup'][_0x2e95c9(0x188)][_0x2e95c9(0x131)]=[_0x578439,_0x477d94,_0x479042];const _0x4632a8={};_0x4632a8['Ref']=_0x46078c[_0x2e95c9(0x159)];const _0x228b9e={};_0x228b9e['Ref']=_0x46078c['xIpUL'];const _0x14b94f={};_0x14b94f[_0x2e95c9(0xe9)]=_0x46078c[_0x2e95c9(0xf8)],_0x1e105e[_0x2e95c9(0xdc)][_0x2e95c9(0x167)][_0x2e95c9(0x188)]['Subnets']=[_0x4632a8,_0x228b9e,_0x14b94f],_0x1e105e[_0x2e95c9(0x128)][_0x2e95c9(0x138)][_0x2e95c9(0xd4)][_0x46078c['dlTDg']][0x1]=[{'Ref':_0x46078c[_0x2e95c9(0x159)]},{'Ref':_0x46078c['xIpUL']},{'Ref':_0x46078c[_0x2e95c9(0xf8)]}];}else _0x37e078[_0x536014['Key']]=_0x1a87b8[_0x2e95c9(0xd4)];}},addTags=async(_0x171191,_0x22e34e,_0x4dffad)=>{const _0x16b0dc=a27_0x41ecb9,_0x417578={'qbAjM':function(_0x283346,_0x251d3e){return _0x283346(_0x251d3e);},'IqvDE':function(_0x3a1865,_0x997485,_0x2f811f){return _0x3a1865(_0x997485,_0x2f811f);},'AAkum':function(_0x59ded7,_0x4528ee){return _0x59ded7===_0x4528ee;},'TDOPY':_0x16b0dc(0x173),'WnWwz':function(_0x250fff,_0x3998b0){return _0x250fff===_0x3998b0;},'PMCFO':_0x16b0dc(0xf6),'nnshP':_0x16b0dc(0xfc),'POHAk':'MZirk','DJvdZ':_0x16b0dc(0x17c),'UpBGr':_0x16b0dc(0x167)};for(const _0x26f0a9 in _0x171191[_0x16b0dc(0xdc)]){_0x417578[_0x16b0dc(0x127)](_0x417578[_0x16b0dc(0x17b)],_0x417578[_0x16b0dc(0x15d)])?(_0x4953b3[_0x16b0dc(0x15c)]['push']({'ParameterKey':'Subnet'+_0x417578['qbAjM'](_0x55adc9,_0x78ee42)[_0x16b0dc(0xff)](0x2,'0'),'ParameterValue':_0x4d8760['value']}),_0x4ef207+=0x1):_0x171191['Resources'][_0x26f0a9]['Properties']&&_0x171191[_0x16b0dc(0xdc)][_0x26f0a9][_0x16b0dc(0x188)]['Tags']&&(_0x417578[_0x16b0dc(0x175)](_0x417578[_0x16b0dc(0x169)],_0x417578[_0x16b0dc(0x169)])?_0x171191['Resources'][_0x26f0a9]['Properties']['Tags']['push'](..._0x4dffad):_0x424b95[_0x16b0dc(0xdc)][_0x564666][_0x16b0dc(0x188)]&&_0x28a573[_0x16b0dc(0xdc)][_0x569d5b]['Properties']['Tags']&&_0x5225bf['Resources'][_0x17d253][_0x16b0dc(0x188)][_0x16b0dc(0x12f)][_0x16b0dc(0x11c)](..._0x3d2bfe));}const _0x548b33={};_0x4dffad[_0x16b0dc(0x10f)](_0x43a8b4=>{const _0x5183e5=_0x16b0dc;_0x417578[_0x5183e5(0x175)](_0x417578[_0x5183e5(0x10b)],_0x417578[_0x5183e5(0x10b)])?_0x548b33[_0x43a8b4['Key']]=_0x43a8b4['Value']:_0x417578[_0x5183e5(0x14a)](_0x2c3d39,_0x399905,_0x34de57);}),_0x171191[_0x16b0dc(0xdc)][_0x417578[_0x16b0dc(0x11e)]][_0x16b0dc(0x188)][_0x16b0dc(0x12f)]=_0x548b33,_0x171191['Resources'][_0x417578[_0x16b0dc(0x154)]]['Properties'][_0x16b0dc(0x12f)]=_0x548b33;};exports[a27_0x41ecb9(0x143)]=async(_0x22c1e8,_0x51a3b4,_0x48d758,_0x461f9a=null,_0x142b22=null)=>{const _0x571914=a27_0x41ecb9,_0x451ee8={'balAh':function(_0xf64754,_0xe6a966){return _0xf64754(_0xe6a966);},'xIhGe':_0x571914(0x150),'nnGWJ':_0x571914(0x141),'qDvfu':_0x571914(0x12a),'NHsLz':_0x571914(0x171),'ZICpd':_0x571914(0x160),'peJTU':'utf-8','AUHKa':function(_0x5cffa7,_0x17c939,_0x255ba5){return _0x5cffa7(_0x17c939,_0x255ba5);},'IDOcH':function(_0x5700b9,_0x5666f7){return _0x5700b9(_0x5666f7);},'ENlvk':function(_0x1137ee,_0x7afd84,_0x335728,_0x2e3aef){return _0x1137ee(_0x7afd84,_0x335728,_0x2e3aef);},'TrUbc':_0x571914(0x100),'znftk':_0x571914(0xf4),'fERpM':_0x571914(0x18b),'wMuBq':_0x571914(0x17d),'asoJa':_0x571914(0x126),'vyUBl':_0x571914(0x116),'NtCAP':_0x571914(0x16e),'MxAqx':_0x571914(0xdb),'AmziB':_0x571914(0x145),'NjyqD':_0x571914(0x12c),'vfOSv':_0x571914(0x164),'qKOGd':'CAPABILITY_NAMED_IAM','JjNRO':function(_0xe551f5,_0x19ea72){return _0xe551f5!=_0x19ea72;},'voRiL':function(_0x5108a1,_0x21654e){return _0x5108a1!==_0x21654e;},'PnbTy':function(_0x6f8e1f,_0x3070b1){return _0x6f8e1f===_0x3070b1;},'YVdvK':'TuYQf','xdlRR':_0x571914(0x190),'drnYd':_0x571914(0x123),'zqOAp':_0x571914(0x178),'ktGBJ':_0x571914(0xe2)},_0xe2bd87=COMMON_HST_TAGS,_0x13bcab={};_0x13bcab[_0x571914(0x134)]=_0x451ee8[_0x571914(0x183)],_0x13bcab[_0x571914(0xd4)]=_0x22c1e8,_0xe2bd87['push'](_0x13bcab),_0xe2bd87['push']({'Key':_0x451ee8[_0x571914(0x110)],'Value':new Date()[_0x571914(0x174)]()[_0x571914(0x14c)]()});const _0x507195={};_0x507195[_0x571914(0x122)]=_0x451ee8[_0x571914(0x155)];const _0x2546fd=new AWS[(_0x571914(0x113))](_0x507195),_0xe63bda=await fs[_0x571914(0xea)](path['join'](__dirname,'..',_0x451ee8['NHsLz'],_0x451ee8[_0x571914(0xf9)]),_0x451ee8[_0x571914(0xd8)]),_0x3a576a={};_0x3a576a[_0x571914(0x12d)]=CLOUDFORMATION_SCHEMA;const _0x4678c3=yaml[_0x571914(0x101)](_0xe63bda,_0x3a576a);await _0x451ee8[_0x571914(0x108)](addVPCData,_0x4678c3,_0x461f9a),await _0x451ee8[_0x571914(0x104)](addS3Data,_0x4678c3),await _0x451ee8[_0x571914(0x108)](addSubnetData,_0x4678c3,_0x142b22),await _0x451ee8[_0x571914(0x137)](addTags,_0x4678c3,_0x22c1e8,_0xe2bd87);const _0x5274ea=JSON[_0x571914(0x151)](_0x4678c3),_0x491a85={};_0x491a85[_0x571914(0xe1)]=CLUSTER_DEP_STACK_NAME+'-'+_0x22c1e8,_0x491a85[_0x571914(0x16d)]=_0x451ee8['TrUbc'],_0x491a85[_0x571914(0x184)]=_0x5274ea,_0x491a85[_0x571914(0x15c)]=[{'ParameterKey':_0x451ee8[_0x571914(0x14e)],'ParameterValue':_0x22c1e8},{'ParameterKey':_0x451ee8[_0x571914(0x115)],'ParameterValue':_0x22c1e8+_0x571914(0x13a)},{'ParameterKey':_0x451ee8[_0x571914(0xdd)],'ParameterValue':''+_0x51a3b4},{'ParameterKey':_0x451ee8['asoJa'],'ParameterValue':'0'},{'ParameterKey':_0x451ee8[_0x571914(0xd5)],'ParameterValue':'1'},{'ParameterKey':_0x451ee8[_0x571914(0x102)],'ParameterValue':''+_0x48d758},{'ParameterKey':_0x451ee8[_0x571914(0x157)],'ParameterValue':global_registry[_0x571914(0x161)]},{'ParameterKey':_0x451ee8[_0x571914(0xe7)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x451ee8[_0x571914(0x16b)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x451ee8['vfOSv'],'ParameterValue':_0x22c1e8+'-Windows-NodeGroup'}],_0x491a85[_0x571914(0xd2)]=[_0x451ee8['qKOGd']],_0x491a85[_0x571914(0x12f)]=_0xe2bd87;const _0x36c28d=_0x491a85;if(_0x451ee8['JjNRO'](_0x461f9a,null)&&_0x451ee8[_0x571914(0x140)](_0x461f9a,undefined)){if(_0x451ee8['PnbTy'](_0x451ee8[_0x571914(0x10d)],_0x451ee8[_0x571914(0x168)]))_0x2d8e24[_0x571914(0xdc)][_0x4a010a][_0x571914(0x188)][_0x571914(0x12f)][_0x571914(0x11c)](..._0x2758af);else{const _0x5d13d7={};_0x5d13d7[_0x571914(0x18c)]=_0x451ee8['drnYd'],_0x5d13d7[_0x571914(0x18f)]=_0x461f9a,_0x36c28d['Parameters']['push'](_0x5d13d7);}}if(_0x451ee8[_0x571914(0x181)](_0x142b22,null)&&_0x451ee8[_0x571914(0x140)](_0x142b22,undefined)){let _0x12701f=0x1;_0x142b22[_0x571914(0x10f)](_0x299d29=>{const _0x216c3f=_0x571914;_0x36c28d[_0x216c3f(0x15c)]['push']({'ParameterKey':_0x216c3f(0x176)+_0x451ee8[_0x216c3f(0xd3)](String,_0x12701f)[_0x216c3f(0xff)](0x2,'0'),'ParameterValue':_0x299d29[_0x216c3f(0x12b)]}),_0x12701f+=0x1;});}const _0x1c7972=await _0x2546fd[_0x571914(0x158)](_0x36c28d)[_0x571914(0x11a)]();logger[_0x571914(0x109)](_0x451ee8[_0x571914(0x133)]);const _0x2d8f56={};return _0x2d8f56['StackName']=_0x1c7972[_0x571914(0x15b)],_0x2546fd[_0x571914(0x179)](_0x451ee8[_0x571914(0x124)],_0x2d8f56)[_0x571914(0x11a)]();};function a27_0x1c22(){const _0x5b339b=['NodeInstanceType','STxsZ','rhOuT','Nfddk','mrGUq','IqvDE','utf-8','toString','bfQZy','znftk','GEBbz','browserstack:cluster','stringify','wwTKG','PkmQd','UpBGr','qDvfu','js-yaml','MxAqx','createStack','qiJHz','bMpdR','StackId','Parameters','nnshP','kXKzb','507910DXxMeI','aws-eks-cluster-dep.yaml','ami','dlTDg','MWcGH','NodeGroupNameWindows','BodqY','ResourcesVpcConfig','NodeGroupWindows','xdlRR','POHAk','jWjXz','NjyqD','Subnet01Block','OnFailure','NodeAutoScalingGroupMaxSize','vNWpj','Fn::Join','CFTemplates','../config/constants','RhNoX','valueOf','AAkum','Subnet','OBsAU','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','waitFor','6403496KBnRud','PMCFO','NodeGroup','NodeAutoScalingGroupMinSize','bRzvZ','POOZw','Subnet02','JjNRO','dXgGi','xIhGe','TemplateBody','nOLTT','653442tBQFML','Subnet03Block','Properties','7608YdHCeG','./AWSUtils','NodeGroupName','ParameterKey','../config/logger','gxnWv','ParameterValue','LZJap','Subnet01','Capabilities','balAh','Value','vyUBl','join','subnet-create.yaml','peJTU','LMziZ','qrGQO','NodeImageId','Resources','wMuBq','bluebird','Metadata','xIpUL','StackName','stackCreateComplete','AdiOf','vajLH','cyhpO','8561ilVTHQ','AmziB','Subnet02Block','Ref','readFileAsync','5025MRNLRU','EKSCluster','DaIMS','pAcnp','tHqXx','OtUxL','VpcBlock','Krnni','SXovD','ClusterName','wBkYR','hanOg','promisifyAll','nHRSt','ZICpd','DependsOn','TErjq','eXlWw','path','YjXSd','padStart','DELETE','load','NtCAP','rbWVC','IDOcH','kuEAQ','ParameterGroups','keys','AUHKa','debug','yedym','TDOPY','vpc-create.yaml','YVdvK','KiyIg','forEach','nnGWJ','SPvtu','jWOax','CloudFormation','awsObj','fERpM','NodeAutoScalingGroupDesiredSizeWindows','dlqAc','s3-create.yaml','split','promise','eYoCh','push','AWS::CloudFormation::Interface','DJvdZ','BzdYG','hgIpu','132128DFzWAZ','apiVersion','VPC','ktGBJ','yqlpX','NodeAutoScalingGroupMinSizeWindows','WnWwz','Outputs','3|2|4|0|5|1','2010-05-15','value','S3BucketName','schema','pXmLp','Tags','12SLUOiQ','Subnets','qKjyv','zqOAp','Key','OwqJT','dHCXA','ENlvk','SubnetIds','tKLVQ','-NodeGroup','bscXN','DWXOT','BVSKq','vpc-import.yaml','4962204cMoEtd','voRiL','browserstack:creationDate','xqynC','createClusterStack','1686uIRkYo'];a27_0x1c22=function(){return _0x5b339b;};return a27_0x1c22();}