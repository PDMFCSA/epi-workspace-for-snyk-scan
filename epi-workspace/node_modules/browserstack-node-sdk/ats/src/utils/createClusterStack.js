const a27_0xfdd82a=a27_0x48d6;(function(_0x48656a,_0x1cb597){const _0x1fc5eb=a27_0x48d6,_0x57c54c=_0x48656a();while(!![]){try{const _0x131451=parseInt(_0x1fc5eb(0xec))/0x1*(-parseInt(_0x1fc5eb(0xbb))/0x2)+parseInt(_0x1fc5eb(0x134))/0x3*(-parseInt(_0x1fc5eb(0x10f))/0x4)+-parseInt(_0x1fc5eb(0x140))/0x5+parseInt(_0x1fc5eb(0x142))/0x6+-parseInt(_0x1fc5eb(0x121))/0x7+-parseInt(_0x1fc5eb(0x112))/0x8*(-parseInt(_0x1fc5eb(0xf7))/0x9)+parseInt(_0x1fc5eb(0x13e))/0xa*(parseInt(_0x1fc5eb(0x15e))/0xb);if(_0x131451===_0x1cb597)break;else _0x57c54c['push'](_0x57c54c['shift']());}catch(_0x14903b){_0x57c54c['push'](_0x57c54c['shift']());}}}(a27_0xeba4,0x6d2e9));const fs=require('fs'),path=require(a27_0xfdd82a(0xb9)),Promise=require('bluebird'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0xfdd82a(0xb4)),AWS=require(a27_0xfdd82a(0x117))[a27_0xfdd82a(0xf8)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0xfdd82a(0x114)),{logger}=require(a27_0xfdd82a(0x14d)),{isBucketPresent}=require(a27_0xfdd82a(0x117));function a27_0xeba4(){const _0x2a9ef8=['ixWWT','27qiHevd','awsObj','Ref','OgssA','pjucv','pFxph','SwCjC','SLTzL','NodeGroupNameWindows','DependsOn','Subnet01','vpc-create.yaml','SubnetIds','ACYlo','BTciY','AWS::CloudFormation::Interface','opqRR','instanceType','MqKYK','LBnFS','CeWLd','Key','3|2|0|4|5|1','padStart','68tumKZw','hiwgV','mtYNN','1565456hXEwln','2010-05-15','../config/constants','debug','Zcrxm','./AWSUtils','UFukV','Parameters','VYEjf','ParameterGroups','deEnB','iGcwH','CXfZR','iIuOT','GWytV','2731001aZkRxF','HFBnD','ResourcesVpcConfig','Properties','HXBUI','WGwjC','toString','eoBZK','yHQGE','waitFor','VPC','join','nTwyv','BRtix','pchQM','subnet-import.yaml','keys','LXNpi','CloudFormation','60429WsYXhm','Value','hYbTJ','readFileAsync','qxSXq','JiYEk','hIeeG','CDxvX','Resources','Outputs','6236210bMOwYC','qpNsX','550185OKymRG','ami','906144hUAcxf','forEach','EjGFt','crSbz','Subnet','EFfRu','schema','DELETE','s3Bucket','CORLl','YpSUq','../config/logger','KsKIC','stackCreateComplete','ZQjtW','rLHtR','rzOjD','fsMtB','utf-8','-Windows-NodeGroup','WBXxt','subnet-create.yaml','bwiHh','bGGNT','NodeGroup','VuZjA','FMxdD','ParameterKey','11jzKhvg','QIqLA','Metadata','pRzqd','mpgoj','Kqvdw','promisifyAll','push','FRALP','yQQKZ','NdAvp','vpc-import.yaml','ClusterName','EKSCluster','promise','js-yaml-cloudformation-schema','Subnet02','Subnets','vntdc','sBYWz','path','NodeAutoScalingGroupMinSizeWindows','6XDbjJL','jQzoW','ylotZ','OnFailure','bCcfl','NodeAutoScalingGroupMinSize','xRdVp','hqUEi','ClusterAutoUpgrade','nysDx','CAPABILITY_NAMED_IAM','wvZiQ','Tags','s3-create.yaml','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','NpNbK','sErQr','browserstack:creationDate','Subnet02Block','HaFCg','NjPhM','SzKKJ','stringify','CFTemplates','StackName','NodeGroupName','valueOf','1|0|3|4|5|2','gBwaO','load','aws-eks-cluster-dep.yaml','NodeImageId','KmPIh','ndAZE','value','qaGwu','PXvRL','ParameterValue','CZUfm','pobpN','Capabilities','createStack','CLEXp','RBhCq','S3BucketName','NodeInstanceType','zfzRG','split','BPfSC','23957dQSffv','ZGmiU','sFbDF','NodeGroupWindows','VpcBlock','znrqb','wFauU','XaDvp','true','lZlkE'];a27_0xeba4=function(){return _0x2a9ef8;};return a27_0xeba4();}function a27_0x48d6(_0x25a9b6,_0x4c22e5){const _0xeba450=a27_0xeba4();return a27_0x48d6=function(_0x48d613,_0x4c90f9){_0x48d613=_0x48d613-0xa9;let _0x776606=_0xeba450[_0x48d613];return _0x776606;},a27_0x48d6(_0x25a9b6,_0x4c22e5);}Promise[a27_0xfdd82a(0xab)](fs);const mergeTemplates=(_0x2fa026,_0x1bd7d3)=>{const _0x477567=a27_0xfdd82a,_0x2bda43={'lXOhe':function(_0x1d30b7,_0x3330c3){return _0x1d30b7===_0x3330c3;},'vntdc':_0x477567(0x11c),'ADVKb':_0x477567(0xcb),'Szafp':function(_0x2d3245,_0xd0d525){return _0x2d3245(_0xd0d525);},'bwiHh':function(_0x1c1de7,_0x305994){return _0x1c1de7!==_0x305994;},'OgssA':'QNgGN','NdAvp':'UvPgH'};Object[_0x477567(0x131)](_0x1bd7d3)['forEach'](_0x28f6f1=>{const _0x1ccec4=_0x477567;if(_0x2bda43[_0x1ccec4(0x158)](_0x2bda43[_0x1ccec4(0xfa)],_0x2bda43[_0x1ccec4(0xaf)])){var _0x29e510=_0x1bd7d3[_0x28f6f1];Object[_0x1ccec4(0x131)](_0x29e510)[_0x1ccec4(0x143)](_0x3d7b74=>{const _0x21e677=_0x1ccec4;_0x2bda43['lXOhe'](_0x2bda43[_0x21e677(0xb7)],_0x2bda43['ADVKb'])?_0x4b8d60[_0x21e677(0x13c)][_0xd313d5][_0x21e677(0x124)]&&_0xc3d143[_0x21e677(0x13c)][_0x38d3e4][_0x21e677(0x124)]['Tags']&&_0x45452b[_0x21e677(0x13c)][_0x4e5dfe]['Properties'][_0x21e677(0xc7)]['push'](..._0x4b3f56):_0x2fa026[_0x28f6f1][_0x3d7b74]=_0x29e510[_0x3d7b74];});}else _0x499954[_0x1ccec4(0x119)]['push']({'ParameterKey':_0x1ccec4(0x146)+_0x2bda43['Szafp'](_0x22535d,_0x1666dc)[_0x1ccec4(0x10e)](0x2,'0'),'ParameterValue':_0x17f5f3['value']}),_0x363283+=0x1;});},addVPCData=async(_0x186613,_0x1d5c5f)=>{const _0x23a8ac=a27_0xfdd82a,_0x2a1efa={'HaFCg':_0x23a8ac(0x12b),'CZUfm':function(_0x1cd26b,_0x36ab94){return _0x1cd26b===_0x36ab94;},'wtkae':'EjSUc','YidaH':_0x23a8ac(0xc4),'YpSUq':'CFTemplates','hqUEi':_0x23a8ac(0xb0),'jQzoW':_0x23a8ac(0x154),'HXBUI':function(_0x38b93a,_0x1a510d,_0x33cc77){return _0x38b93a(_0x1a510d,_0x33cc77);},'pobpN':_0x23a8ac(0x106),'EjGFt':function(_0x59b70e,_0xd9a924){return _0x59b70e!==_0xd9a924;},'gBwaO':_0x23a8ac(0x107),'WGwjC':_0x23a8ac(0x102),'rLHtR':function(_0x53c644,_0x3ef37f,_0x44acd3){return _0x53c644(_0x3ef37f,_0x44acd3);},'BPfSC':_0x23a8ac(0xf0)};if(_0x1d5c5f){if(_0x2a1efa[_0x23a8ac(0xe1)](_0x2a1efa['wtkae'],_0x2a1efa['YidaH']))_0x528a22[_0x23a8ac(0x13c)][_0x55aeb6][_0x23a8ac(0x124)][_0x23a8ac(0xc7)]['push'](..._0x3f9e52);else{const _0x5eef3b=await fs[_0x23a8ac(0x137)](path['join'](__dirname,'..',_0x2a1efa['YpSUq'],_0x2a1efa[_0x23a8ac(0xc2)]),_0x2a1efa[_0x23a8ac(0xbc)]),_0x2a6e5c={};_0x2a6e5c[_0x23a8ac(0x148)]=CLOUDFORMATION_SCHEMA;const _0x30b9b4=yaml[_0x23a8ac(0xd8)](_0x5eef3b,_0x2a6e5c);_0x2a1efa[_0x23a8ac(0x125)](mergeTemplates,_0x186613,_0x30b9b4),_0x186613[_0x23a8ac(0x160)][_0x2a1efa[_0x23a8ac(0xe2)]][_0x23a8ac(0x11b)][0x0]['Parameters'][_0x23a8ac(0xac)](_0x2a1efa[_0x23a8ac(0xce)]);}}else{if(_0x2a1efa[_0x23a8ac(0x144)](_0x2a1efa[_0x23a8ac(0xd7)],_0x2a1efa[_0x23a8ac(0xd7)])){const _0x139db2={};_0x139db2[_0x23a8ac(0x15d)]=_0x2a1efa['HaFCg'],_0x139db2[_0x23a8ac(0xe0)]=_0x39be87,_0x2b46a2[_0x23a8ac(0x119)]['push'](_0x139db2);}else{const _0x48eb40=await fs['readFileAsync'](path[_0x23a8ac(0x12c)](__dirname,'..',_0x2a1efa[_0x23a8ac(0x14c)],_0x2a1efa[_0x23a8ac(0x126)]),_0x2a1efa[_0x23a8ac(0xbc)]),_0x2dc355={};_0x2dc355[_0x23a8ac(0x148)]=CLOUDFORMATION_SCHEMA;const _0xf64cec=yaml[_0x23a8ac(0xd8)](_0x48eb40,_0x2dc355);_0x2a1efa[_0x23a8ac(0x151)](mergeTemplates,_0x186613,_0xf64cec),_0x186613[_0x23a8ac(0x160)][_0x2a1efa[_0x23a8ac(0xe2)]][_0x23a8ac(0x11b)][0x0][_0x23a8ac(0x119)][_0x23a8ac(0xac)](_0x2a1efa[_0x23a8ac(0xeb)]);}}},addS3Data=async _0x2bc0f6=>{const _0x32a65e=a27_0xfdd82a,_0xa06f12={'pjucv':'CFTemplates','FMxdD':_0x32a65e(0xc8),'KmPIh':_0x32a65e(0x154),'pRzqd':function(_0x37a2b6,_0x2ba5b7){return _0x37a2b6(_0x2ba5b7);},'AfDzY':function(_0x4ddd0c,_0x2cf1db){return _0x4ddd0c===_0x2cf1db;},'PXvRL':function(_0x5e80ea,_0x34de50){return _0x5e80ea!==_0x34de50;},'XaDvp':_0x32a65e(0xe6),'znrqb':function(_0x5c47dc,_0x149571,_0x43f765){return _0x5c47dc(_0x149571,_0x43f765);}},_0x594af3=await fs[_0x32a65e(0x137)](path['join'](__dirname,'..',_0xa06f12[_0x32a65e(0xfb)],_0xa06f12[_0x32a65e(0x15c)]),_0xa06f12[_0x32a65e(0xdb)]),_0x29bc0a={};_0x29bc0a[_0x32a65e(0x148)]=CLOUDFORMATION_SCHEMA;const _0x458bd0=yaml[_0x32a65e(0xd8)](_0x594af3,_0x29bc0a),_0x36b2c6=await _0xa06f12[_0x32a65e(0x161)](isBucketPresent,global_registry[_0x32a65e(0x14a)]);_0xa06f12['AfDzY'](_0x36b2c6,![])&&(_0xa06f12[_0x32a65e(0xdf)](_0xa06f12[_0x32a65e(0xf3)],_0xa06f12['XaDvp'])?_0x54a193[_0x1746a3[_0x32a65e(0x10c)]]=_0x2b4ba5[_0x32a65e(0x135)]:_0xa06f12[_0x32a65e(0xf1)](mergeTemplates,_0x2bc0f6,_0x458bd0));},addSubnetData=async(_0x58eceb,_0x3d4c06)=>{const _0x1f9406=a27_0xfdd82a,_0x56855a={'yHQGE':_0x1f9406(0x10d),'xRdVp':function(_0x562703,_0x544a24){return _0x562703(_0x544a24);},'VYEjf':_0x1f9406(0x106),'YEniI':function(_0x9d641f,_0x516e45){return _0x9d641f(_0x516e45);},'NpNbK':function(_0x19038a,_0x139bfd){return _0x19038a(_0x139bfd);},'CLEXp':'Fn::Join','kOWTm':function(_0x276522,_0x4bc2a8){return _0x276522!==_0x4bc2a8;},'KVFPU':_0x1f9406(0xc6),'yQQKZ':_0x1f9406(0x138),'KsKIC':_0x1f9406(0xd6),'qpNsX':function(_0x333a99,_0x3af44e){return _0x333a99(_0x3af44e);},'ylotZ':function(_0x589c01,_0x5b841b){return _0x589c01!==_0x5b841b;},'rzOjD':'ABKRM','pchQM':_0x1f9406(0xcf),'nEAQK':_0x1f9406(0xd2),'hYbTJ':_0x1f9406(0x130),'sBYWz':_0x1f9406(0x154),'BRtix':function(_0x14d2e8,_0x50a411,_0x44beb7){return _0x14d2e8(_0x50a411,_0x44beb7);},'CeWLd':'HPtMp','ACYlo':_0x1f9406(0x157),'fsMtB':_0x1f9406(0x101),'ZGmiU':_0x1f9406(0xb5),'sFbDF':'Subnet03','NyfLm':'Subnet01Block','lZlkE':_0x1f9406(0xcd),'PtubR':'Subnet03Block'};if(_0x3d4c06){if(_0x56855a[_0x1f9406(0xbd)](_0x56855a[_0x1f9406(0x152)],_0x56855a[_0x1f9406(0x12f)])){const _0x164cdc=await fs[_0x1f9406(0x137)](path[_0x1f9406(0x12c)](__dirname,'..',_0x56855a['nEAQK'],_0x56855a[_0x1f9406(0x136)]),_0x56855a['sBYWz']),_0x45c622={};_0x45c622['schema']=CLOUDFORMATION_SCHEMA;const _0x1c3404=yaml[_0x1f9406(0xd8)](_0x164cdc,_0x45c622);_0x56855a[_0x1f9406(0x12e)](mergeTemplates,_0x58eceb,_0x1c3404);let _0x2917ea=0x1;_0x3d4c06[_0x1f9406(0x143)](_0x5c84aa=>{const _0x49f7b1=_0x1f9406;if(_0x56855a['kOWTm'](_0x56855a['KVFPU'],_0x56855a[_0x49f7b1(0xae)])){const _0x5a812e=_0x56855a[_0x49f7b1(0x14e)][_0x49f7b1(0xea)]('|');let _0x1bb575=0x0;while(!![]){switch(_0x5a812e[_0x1bb575++]){case'0':_0x58eceb[_0x49f7b1(0x160)][_0x56855a[_0x49f7b1(0x11a)]]['ParameterGroups'][0x0]['Parameters']['push']('Subnet'+_0x56855a[_0x49f7b1(0xca)](String,_0x2917ea)['padStart'](0x2,'0'));continue;case'1':_0x58eceb[_0x49f7b1(0x13c)][_0x49f7b1(0xb2)][_0x49f7b1(0x124)][_0x49f7b1(0x123)][_0x49f7b1(0x103)][_0x49f7b1(0xac)]({'Ref':_0x49f7b1(0x146)+_0x56855a[_0x49f7b1(0x13f)](String,_0x2917ea)[_0x49f7b1(0x10e)](0x2,'0')});continue;case'2':_0x2917ea+=0x1;continue;case'3':_0x58eceb[_0x49f7b1(0x13c)][_0x49f7b1(0x15a)]['Properties']['Subnets'][_0x49f7b1(0xac)]({'Ref':'Subnet'+_0x56855a[_0x49f7b1(0xc1)](String,_0x2917ea)['padStart'](0x2,'0')});continue;case'4':_0x58eceb[_0x49f7b1(0x13c)][_0x49f7b1(0xef)][_0x49f7b1(0x124)][_0x49f7b1(0xb6)][_0x49f7b1(0xac)]({'Ref':_0x49f7b1(0x146)+_0x56855a['xRdVp'](String,_0x2917ea)[_0x49f7b1(0x10e)](0x2,'0')});continue;case'5':_0x58eceb[_0x49f7b1(0x13d)][_0x49f7b1(0x103)]['Value'][_0x56855a[_0x49f7b1(0xe5)]][0x1][_0x49f7b1(0xac)]({'Ref':'Subnet'+_0x56855a['xRdVp'](String,_0x2917ea)[_0x49f7b1(0x10e)](0x2,'0')});continue;}break;}}else{const _0x21b059=_0x56855a[_0x49f7b1(0x129)][_0x49f7b1(0xea)]('|');let _0xb394a=0x0;while(!![]){switch(_0x21b059[_0xb394a++]){case'0':_0x4969e9[_0x49f7b1(0x13c)][_0x49f7b1(0x15a)][_0x49f7b1(0x124)]['Subnets'][_0x49f7b1(0xac)]({'Ref':'Subnet'+_0x56855a[_0x49f7b1(0xc1)](_0x277309,_0xdfe854)[_0x49f7b1(0x10e)](0x2,'0')});continue;case'1':_0x3a339c+=0x1;continue;case'2':_0x37bf1e['Metadata'][_0x56855a[_0x49f7b1(0x11a)]][_0x49f7b1(0x11b)][0x0][_0x49f7b1(0x119)][_0x49f7b1(0xac)](_0x49f7b1(0x146)+_0x56855a[_0x49f7b1(0xc1)](_0x4eb658,_0x5a692d)['padStart'](0x2,'0'));continue;case'3':_0x44f549[_0x49f7b1(0x13c)][_0x49f7b1(0xb2)]['Properties'][_0x49f7b1(0x123)]['SubnetIds']['push']({'Ref':_0x49f7b1(0x146)+_0x56855a['YEniI'](_0x429f14,_0x365b28)['padStart'](0x2,'0')});continue;case'4':_0x209b60[_0x49f7b1(0x13c)][_0x49f7b1(0xef)][_0x49f7b1(0x124)][_0x49f7b1(0xb6)][_0x49f7b1(0xac)]({'Ref':_0x49f7b1(0x146)+_0x56855a['NpNbK'](_0xed808f,_0x30f624)[_0x49f7b1(0x10e)](0x2,'0')});continue;case'5':_0x5c8895['Outputs'][_0x49f7b1(0x103)]['Value'][_0x56855a[_0x49f7b1(0xe5)]][0x1][_0x49f7b1(0xac)]({'Ref':'Subnet'+_0x56855a[_0x49f7b1(0xca)](_0x2d1eed,_0x26c9ec)['padStart'](0x2,'0')});continue;}break;}}});}else{var _0x4c01bf=_0x2c36e2[_0x18149a];_0x1618cc[_0x1f9406(0x131)](_0x4c01bf)[_0x1f9406(0x143)](_0x4a2457=>{_0x12b01b[_0x145bae][_0x4a2457]=_0x4c01bf[_0x4a2457];});}}else{if(_0x56855a[_0x1f9406(0xbd)](_0x56855a['CeWLd'],_0x56855a[_0x1f9406(0x10b)]))_0x579d73[_0x1f9406(0x131)](_0x1b580c)[_0x1f9406(0x143)](_0x9c6caa=>{const _0x2fe65d=_0x1f9406;var _0x3746cf=_0x30508c[_0x9c6caa];_0x1de0b6[_0x2fe65d(0x131)](_0x3746cf)[_0x2fe65d(0x143)](_0x2f7fb5=>{_0x14f68e[_0x9c6caa][_0x2f7fb5]=_0x3746cf[_0x2f7fb5];});});else{const _0x3cd655=await fs[_0x1f9406(0x137)](path[_0x1f9406(0x12c)](__dirname,'..',_0x56855a['nEAQK'],_0x56855a[_0x1f9406(0x104)]),_0x56855a[_0x1f9406(0xb8)]),_0x501e39={};_0x501e39[_0x1f9406(0x148)]=CLOUDFORMATION_SCHEMA;const _0x3ca713=yaml[_0x1f9406(0xd8)](_0x3cd655,_0x501e39);_0x56855a[_0x1f9406(0x12e)](mergeTemplates,_0x58eceb,_0x3ca713),_0x58eceb[_0x1f9406(0x13c)][_0x1f9406(0xb2)][_0x1f9406(0x100)][_0x1f9406(0xac)](_0x56855a[_0x1f9406(0x153)],_0x56855a[_0x1f9406(0xed)],_0x56855a[_0x1f9406(0xee)]);const _0x4f6b0a={};_0x4f6b0a[_0x1f9406(0xf9)]=_0x56855a[_0x1f9406(0x153)];const _0x3fa2ac={};_0x3fa2ac['Ref']=_0x56855a[_0x1f9406(0xed)];const _0x2c88f4={};_0x2c88f4[_0x1f9406(0xf9)]=_0x56855a[_0x1f9406(0xee)],_0x58eceb[_0x1f9406(0x13c)][_0x1f9406(0xb2)][_0x1f9406(0x124)][_0x1f9406(0x123)][_0x1f9406(0x103)]=[_0x4f6b0a,_0x3fa2ac,_0x2c88f4],_0x58eceb[_0x1f9406(0x160)][_0x56855a['VYEjf']][_0x1f9406(0x11b)][0x0][_0x1f9406(0x119)]['push'](_0x56855a['NyfLm'],_0x56855a[_0x1f9406(0xf5)],_0x56855a['PtubR']);const _0x38ed33={};_0x38ed33['Ref']=_0x56855a['fsMtB'];const _0x52d839={};_0x52d839[_0x1f9406(0xf9)]=_0x56855a[_0x1f9406(0xed)];const _0x3a1064={};_0x3a1064[_0x1f9406(0xf9)]=_0x56855a[_0x1f9406(0xee)],_0x58eceb[_0x1f9406(0x13c)][_0x1f9406(0x15a)][_0x1f9406(0x124)]['Subnets']=[_0x38ed33,_0x52d839,_0x3a1064];const _0x2c9896={};_0x2c9896['Ref']=_0x56855a[_0x1f9406(0x153)];const _0x48deb9={};_0x48deb9[_0x1f9406(0xf9)]=_0x56855a[_0x1f9406(0xed)];const _0x353ba5={};_0x353ba5[_0x1f9406(0xf9)]=_0x56855a[_0x1f9406(0xee)],_0x58eceb[_0x1f9406(0x13c)][_0x1f9406(0xef)]['Properties'][_0x1f9406(0xb6)]=[_0x2c9896,_0x48deb9,_0x353ba5],_0x58eceb[_0x1f9406(0x13d)][_0x1f9406(0x103)][_0x1f9406(0x135)][_0x56855a[_0x1f9406(0xe5)]][0x1]=[{'Ref':_0x56855a[_0x1f9406(0x153)]},{'Ref':_0x56855a['ZGmiU']},{'Ref':_0x56855a['sFbDF']}];}}},addTags=async(_0x28863e,_0x2d69af,_0x229224)=>{const _0x2757f1=a27_0xfdd82a,_0x291b2c={'jlbyV':function(_0x3d7e68,_0x167cc1,_0x1b139d){return _0x3d7e68(_0x167cc1,_0x1b139d);},'SzKKJ':_0x2757f1(0x15a),'iIuOT':_0x2757f1(0xef),'fOvxm':function(_0xbce325,_0x1ca19b){return _0xbce325===_0x1ca19b;},'bCcfl':_0x2757f1(0x15f),'WBXxt':function(_0x1bd075,_0x35459c){return _0x1bd075!==_0x35459c;},'hiwgV':_0x2757f1(0x13b),'nTwyv':_0x2757f1(0x139)};for(const _0x59c166 in _0x28863e[_0x2757f1(0x13c)]){_0x291b2c[_0x2757f1(0x156)](_0x291b2c[_0x2757f1(0x110)],_0x291b2c['hiwgV'])?_0x291b2c['jlbyV'](_0x2b775f,_0x4f9403,_0x3c5e2c):_0x28863e[_0x2757f1(0x13c)][_0x59c166]['Properties']&&_0x28863e[_0x2757f1(0x13c)][_0x59c166][_0x2757f1(0x124)][_0x2757f1(0xc7)]&&(_0x291b2c[_0x2757f1(0x156)](_0x291b2c[_0x2757f1(0x12d)],_0x291b2c[_0x2757f1(0x12d)])?_0x12d84f[_0x1a6eb5][_0x1f78e7]=_0x1b0906[_0x2fbd40]:_0x28863e[_0x2757f1(0x13c)][_0x59c166]['Properties'][_0x2757f1(0xc7)][_0x2757f1(0xac)](..._0x229224));}const _0x3c2bfd={};_0x229224['forEach'](_0x47a66a=>{const _0x3bd3fd=_0x2757f1;if(_0x291b2c['fOvxm'](_0x291b2c[_0x3bd3fd(0xbf)],_0x291b2c[_0x3bd3fd(0xbf)]))_0x3c2bfd[_0x47a66a[_0x3bd3fd(0x10c)]]=_0x47a66a[_0x3bd3fd(0x135)];else{for(const _0x22234f in _0x4c7881[_0x3bd3fd(0x13c)]){_0x112325[_0x3bd3fd(0x13c)][_0x22234f][_0x3bd3fd(0x124)]&&_0x2424f4[_0x3bd3fd(0x13c)][_0x22234f][_0x3bd3fd(0x124)][_0x3bd3fd(0xc7)]&&_0x398155[_0x3bd3fd(0x13c)][_0x22234f][_0x3bd3fd(0x124)][_0x3bd3fd(0xc7)][_0x3bd3fd(0xac)](..._0x2d6af5);}const _0x3c36c3={};_0x8870be[_0x3bd3fd(0x143)](_0x1dd43f=>{const _0x5b1a9b=_0x3bd3fd;_0x3c36c3[_0x1dd43f[_0x5b1a9b(0x10c)]]=_0x1dd43f['Value'];}),_0x975f23[_0x3bd3fd(0x13c)][_0x291b2c['SzKKJ']][_0x3bd3fd(0x124)][_0x3bd3fd(0xc7)]=_0x3c36c3,_0x3d7a13['Resources'][_0x291b2c[_0x3bd3fd(0x11f)]][_0x3bd3fd(0x124)][_0x3bd3fd(0xc7)]=_0x3c36c3;}}),_0x28863e['Resources'][_0x291b2c[_0x2757f1(0xd0)]][_0x2757f1(0x124)][_0x2757f1(0xc7)]=_0x3c2bfd,_0x28863e[_0x2757f1(0x13c)][_0x291b2c[_0x2757f1(0x11f)]][_0x2757f1(0x124)][_0x2757f1(0xc7)]=_0x3c2bfd;};exports['createClusterStack']=async(_0x22ad65,_0x182f72,_0x43e4f4,_0x580d1a=null,_0x2a78b3=null,_0x40343e)=>{const _0x4ad1c4=a27_0xfdd82a,_0x39334c={'BTciY':function(_0x2d463f,_0x1f06ae){return _0x2d463f(_0x1f06ae);},'ueYox':'browserstack:cluster','HdWWl':_0x4ad1c4(0xcc),'mpgoj':_0x4ad1c4(0x113),'wFauU':_0x4ad1c4(0xd2),'aIXBm':_0x4ad1c4(0xd9),'iGcwH':_0x4ad1c4(0x154),'GWytV':function(_0x41ac1c,_0x33cae4,_0x29c7cc){return _0x41ac1c(_0x33cae4,_0x29c7cc);},'XgUsU':function(_0x25c5ea,_0x290aed){return _0x25c5ea(_0x290aed);},'EFfRu':function(_0x418408,_0x454cb0,_0x36d7ea){return _0x418408(_0x454cb0,_0x36d7ea);},'ndAZE':function(_0x4c1bdb,_0x2cf793,_0x4687d4,_0x9910e6){return _0x4c1bdb(_0x2cf793,_0x4687d4,_0x9910e6);},'qaGwu':_0x4ad1c4(0x149),'UpByu':_0x4ad1c4(0xb1),'MqKYK':_0x4ad1c4(0xd4),'SLTzL':_0x4ad1c4(0xc0),'mtYNN':_0x4ad1c4(0xba),'LXNpi':'NodeAutoScalingGroupDesiredSizeWindows','ixWWT':'NodeAutoScalingGroupMaxSize','CORLl':_0x4ad1c4(0xda),'zfzRG':_0x4ad1c4(0xe8),'ZQjtW':_0x4ad1c4(0xe7),'FRALP':_0x4ad1c4(0xff),'LBnFS':_0x4ad1c4(0xc3),'Kqvdw':_0x4ad1c4(0xf4),'pFxph':'false','CXfZR':_0x4ad1c4(0xc5),'SwCjC':function(_0x261281,_0x216f3f){return _0x261281!=_0x216f3f;},'hIeeG':function(_0x476cc6,_0x55d4b7){return _0x476cc6!==_0x55d4b7;},'fNpzL':function(_0x5ccdf2,_0x48e550){return _0x5ccdf2!==_0x48e550;},'VuZjA':_0x4ad1c4(0x122),'eoBZK':_0x4ad1c4(0x145),'Zcrxm':_0x4ad1c4(0x12b),'hkMgM':_0x4ad1c4(0xc9),'UFukV':_0x4ad1c4(0x14f)},_0x65d5f0=COMMON_HST_TAGS,_0x45cec6={};_0x45cec6[_0x4ad1c4(0x10c)]=_0x39334c['ueYox'],_0x45cec6[_0x4ad1c4(0x135)]=_0x22ad65,_0x65d5f0[_0x4ad1c4(0xac)](_0x45cec6),_0x65d5f0[_0x4ad1c4(0xac)]({'Key':_0x39334c['HdWWl'],'Value':new Date()[_0x4ad1c4(0xd5)]()[_0x4ad1c4(0x127)]()});const _0x2bcaa5={};_0x2bcaa5['apiVersion']=_0x39334c[_0x4ad1c4(0xa9)];const _0x3e158e=new AWS[(_0x4ad1c4(0x133))](_0x2bcaa5),_0x159252=await fs[_0x4ad1c4(0x137)](path[_0x4ad1c4(0x12c)](__dirname,'..',_0x39334c[_0x4ad1c4(0xf2)],_0x39334c['aIXBm']),_0x39334c[_0x4ad1c4(0x11d)]),_0xf7ca15={};_0xf7ca15[_0x4ad1c4(0x148)]=CLOUDFORMATION_SCHEMA;const _0x371025=yaml[_0x4ad1c4(0xd8)](_0x159252,_0xf7ca15);await _0x39334c[_0x4ad1c4(0x120)](addVPCData,_0x371025,_0x580d1a),await _0x39334c['XgUsU'](addS3Data,_0x371025),await _0x39334c[_0x4ad1c4(0x147)](addSubnetData,_0x371025,_0x2a78b3),await _0x39334c[_0x4ad1c4(0xdc)](addTags,_0x371025,_0x22ad65,_0x65d5f0);const _0x25aebe=JSON[_0x4ad1c4(0xd1)](_0x371025),_0x5f3f97={};_0x5f3f97[_0x4ad1c4(0xd3)]=CLUSTER_DEP_STACK_NAME+'-'+_0x22ad65,_0x5f3f97[_0x4ad1c4(0xbe)]=_0x39334c[_0x4ad1c4(0xde)],_0x5f3f97['TemplateBody']=_0x25aebe,_0x5f3f97['Parameters']=[{'ParameterKey':_0x39334c['UpByu'],'ParameterValue':_0x22ad65},{'ParameterKey':_0x39334c[_0x4ad1c4(0x109)],'ParameterValue':_0x22ad65+'-NodeGroup'},{'ParameterKey':_0x39334c[_0x4ad1c4(0xfe)],'ParameterValue':''+_0x182f72},{'ParameterKey':_0x39334c[_0x4ad1c4(0x111)],'ParameterValue':'0'},{'ParameterKey':_0x39334c[_0x4ad1c4(0x132)],'ParameterValue':'1'},{'ParameterKey':_0x39334c[_0x4ad1c4(0xf6)],'ParameterValue':''+_0x43e4f4},{'ParameterKey':_0x39334c[_0x4ad1c4(0x14b)],'ParameterValue':global_registry[_0x4ad1c4(0x141)]},{'ParameterKey':_0x39334c[_0x4ad1c4(0xe9)],'ParameterValue':global_registry[_0x4ad1c4(0x108)]},{'ParameterKey':_0x39334c[_0x4ad1c4(0x150)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x39334c[_0x4ad1c4(0xad)],'ParameterValue':_0x22ad65+_0x4ad1c4(0x155)},{'ParameterKey':_0x39334c[_0x4ad1c4(0x10a)],'ParameterValue':_0x40343e?_0x39334c[_0x4ad1c4(0xaa)]:_0x39334c[_0x4ad1c4(0xfc)]}],_0x5f3f97[_0x4ad1c4(0xe3)]=[_0x39334c[_0x4ad1c4(0x11e)]],_0x5f3f97[_0x4ad1c4(0xc7)]=_0x65d5f0;const _0x245952=_0x5f3f97;if(_0x39334c[_0x4ad1c4(0xfd)](_0x580d1a,null)&&_0x39334c[_0x4ad1c4(0x13a)](_0x580d1a,undefined)){if(_0x39334c['fNpzL'](_0x39334c[_0x4ad1c4(0x15b)],_0x39334c[_0x4ad1c4(0x128)])){const _0x11d802={};_0x11d802[_0x4ad1c4(0x15d)]=_0x39334c[_0x4ad1c4(0x116)],_0x11d802['ParameterValue']=_0x580d1a,_0x245952[_0x4ad1c4(0x119)][_0x4ad1c4(0xac)](_0x11d802);}else{const _0x329369={'bGGNT':function(_0x37e976,_0x1c967c){return _0x39334c['BTciY'](_0x37e976,_0x1c967c);}};let _0x44a7b6=0x1;_0x268b54['forEach'](_0x518454=>{const _0x4ccb06=_0x4ad1c4;_0x2fde4b[_0x4ccb06(0x119)][_0x4ccb06(0xac)]({'ParameterKey':_0x4ccb06(0x146)+_0x329369[_0x4ccb06(0x159)](_0x1007e9,_0x44a7b6)[_0x4ccb06(0x10e)](0x2,'0'),'ParameterValue':_0x518454[_0x4ccb06(0xdd)]}),_0x44a7b6+=0x1;});}}if(_0x39334c[_0x4ad1c4(0xfd)](_0x2a78b3,null)&&_0x39334c[_0x4ad1c4(0x13a)](_0x2a78b3,undefined)){let _0x3146ea=0x1;_0x2a78b3[_0x4ad1c4(0x143)](_0x173157=>{const _0x4f4934=_0x4ad1c4;_0x245952[_0x4f4934(0x119)][_0x4f4934(0xac)]({'ParameterKey':_0x4f4934(0x146)+_0x39334c[_0x4f4934(0x105)](String,_0x3146ea)['padStart'](0x2,'0'),'ParameterValue':_0x173157['value']}),_0x3146ea+=0x1;});}const _0x5f38f0=await _0x3e158e[_0x4ad1c4(0xe4)](_0x245952)[_0x4ad1c4(0xb3)]();logger[_0x4ad1c4(0x115)](_0x39334c['hkMgM']);const _0x51e8ae={};return _0x51e8ae[_0x4ad1c4(0xd3)]=_0x5f38f0['StackId'],_0x3e158e[_0x4ad1c4(0x12a)](_0x39334c[_0x4ad1c4(0x118)],_0x51e8ae)[_0x4ad1c4(0xb3)]();};