const a27_0x30e72f=a27_0x1a06;function a27_0x1a06(_0x2c456a,_0x109399){const _0x4285d3=a27_0x4285();return a27_0x1a06=function(_0x1a06f4,_0x3a3ee7){_0x1a06f4=_0x1a06f4-0xd6;let _0x1dae26=_0x4285d3[_0x1a06f4];return _0x1dae26;},a27_0x1a06(_0x2c456a,_0x109399);}(function(_0xd12edc,_0x22cd4d){const _0x19023a=a27_0x1a06,_0x37ef3c=_0xd12edc();while(!![]){try{const _0x39b56a=parseInt(_0x19023a(0x178))/0x1*(-parseInt(_0x19023a(0x10e))/0x2)+-parseInt(_0x19023a(0x103))/0x3*(-parseInt(_0x19023a(0xfc))/0x4)+parseInt(_0x19023a(0x143))/0x5*(-parseInt(_0x19023a(0x122))/0x6)+-parseInt(_0x19023a(0x112))/0x7*(parseInt(_0x19023a(0x115))/0x8)+-parseInt(_0x19023a(0x151))/0x9*(parseInt(_0x19023a(0x17a))/0xa)+parseInt(_0x19023a(0xde))/0xb*(parseInt(_0x19023a(0x174))/0xc)+parseInt(_0x19023a(0x154))/0xd;if(_0x39b56a===_0x22cd4d)break;else _0x37ef3c['push'](_0x37ef3c['shift']());}catch(_0x38336e){_0x37ef3c['push'](_0x37ef3c['shift']());}}}(a27_0x4285,0xdbc25));const fs=require('fs'),path=require(a27_0x30e72f(0x159)),Promise=require(a27_0x30e72f(0x105)),yaml=require(a27_0x30e72f(0x108)),{CLOUDFORMATION_SCHEMA}=require(a27_0x30e72f(0xd9)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x30e72f(0x10f)),{logger}=require(a27_0x30e72f(0x14b)),{isBucketPresent}=require(a27_0x30e72f(0x104));Promise[a27_0x30e72f(0xf7)](fs);function a27_0x4285(){const _0xae7ea1=['Ref','Subnets','promise','Outputs','readFileAsync','Qxmdp','mdLAJ','SxISh','value','ouMjH','QjaoG','utf-8','ERcWA','mIUWu','ESdLn','bGaic','Vijax','PsCdN','FnYuW','js-yaml-cloudformation-schema','jtBds','duDnh','biAYI','EKSCluster','429BChZwm','Value','Subnet02Block','NodeImageId','ami','XVqBI','waitFor','QhvNG','FDQIw','KRRdY','Fn::Join','JidVr','rDiKu','Subnet','DwcJc','aws-eks-cluster-dep.yaml','s3-create.yaml','Metadata','Subnet01','true','tGXvI','2|1|0|3|5|4','toString','createStack','ZbhhB','promisifyAll','Capabilities','sDevw','uvHmc','OnFailure','1088ApsSRU','StackName','debug','ParameterGroups','jupYU','Resources','LBKsD','1797FQKfCl','./AWSUtils','bluebird','load','uPASJ','js-yaml','dVDtP','PhKLt','NodeGroupWindows','PUomk','TunNt','296862YEIhCQ','../config/constants','zXkYZ','kzZGR','12109342xQTqps','-Windows-NodeGroup','GLLIf','8UFhvBu','NodeGroupNameWindows','VpcBlock','subnet-create.yaml','join','osjaJ','nDyMn','vpc-create.yaml','padStart','ClusterAutoUpgrade','VfeAI','bOvAS','VPC','6EITNMw','xGbBZ','YhcGZ','kVfts','DELETE','subnet-import.yaml','XgEKO','schema','2010-05-15','MPREl','S3BucketName','Tags','BnouA','hkwrP','NodeGroup','CAUtY','VmJKm','IsSVL','SubnetIds','ResourcesVpcConfig','mSqwh','kcmVn','CdnJu','Parameters','browserstack:cluster','cBelC','Subnet03Block','eATdc','NeXlN','VkKaD','instanceType','ZNPts','WBffo','5394920KWATMt','oqfOp','dXsLz','keys','ParameterKey','apiVersion','lfNwa','lDjxr','../config/logger','toOKb','lpmcz','jvslY','TyQDE','mIiit','5341941dWKZXm','Subnet03','gdSAD','82231136ERzUGx','Key','ParameterValue','AWS::CloudFormation::Interface','zyAlx','path','LGbku','CFTemplates','false','DependsOn','mtwGT','NJhng','uXpoF','TemplateBody','UIFmE','StackId','koTPe','bzrXy','CAPABILITY_NAMED_IAM','kmOvu','Fnbtm','yUDEW','cKFTE','bHWiR','Properties','NodeAutoScalingGroupMaxSize','uhyiy','kEVHV','BDLfk','NodeAutoScalingGroupDesiredSizeWindows','KSczg','forEach','12396JLHaaL','VcTUe','MOWYG','ClusterName','7eklGpI','s3Bucket','30WRtTnp','NodeAutoScalingGroupMinSizeWindows','push','SPbUz','IERZf','qJZxE','wfTeu','Subnet02','DUSOd'];a27_0x4285=function(){return _0xae7ea1;};return a27_0x4285();}const mergeTemplates=(_0x24ffdf,_0x11ef1c)=>{const _0x3ab61e=a27_0x30e72f,_0x3edd11={'SxISh':_0x3ab61e(0x130),'uPASJ':'NodeGroupWindows','toOKb':function(_0x3bd66f,_0x4c0eb2){return _0x3bd66f(_0x4c0eb2);},'cKFTE':function(_0x3beb74,_0xa8a68d){return _0x3beb74===_0xa8a68d;},'WHNlh':_0x3ab61e(0x141),'XCEaR':function(_0x5db0b8,_0x39a11d){return _0x5db0b8!==_0x39a11d;},'MwNVf':'UnrDl','MOWYG':'kBhPD'};Object[_0x3ab61e(0x146)](_0x11ef1c)[_0x3ab61e(0x173)](_0xe8e6e4=>{const _0x25389d=_0x3ab61e,_0x5ca4a2={'PsCdN':function(_0x3522f4,_0x117189){const _0x2a1c87=a27_0x1a06;return _0x3edd11[_0x2a1c87(0x14c)](_0x3522f4,_0x117189);},'duDnh':function(_0x4e9401,_0x2bccdd){const _0x3a4405=a27_0x1a06;return _0x3edd11[_0x3a4405(0x16a)](_0x4e9401,_0x2bccdd);},'tZBAF':_0x3edd11['WHNlh']};if(_0x3edd11['XCEaR'](_0x3edd11['MwNVf'],_0x3edd11[_0x25389d(0x176)])){var _0x43ac79=_0x11ef1c[_0xe8e6e4];Object[_0x25389d(0x146)](_0x43ac79)['forEach'](_0x13189d=>{const _0xfb6ea3=_0x25389d,_0x576022={'jtBds':function(_0x30efd8,_0x3d7937){const _0x337611=a27_0x1a06;return _0x5ca4a2[_0x337611(0xd7)](_0x30efd8,_0x3d7937);}};if(_0x5ca4a2[_0xfb6ea3(0xdb)](_0x5ca4a2['tZBAF'],_0x5ca4a2['tZBAF']))_0x24ffdf[_0xe8e6e4][_0x13189d]=_0x43ac79[_0x13189d];else{let _0x489848=0x1;_0x2804f4['forEach'](_0x1521ef=>{const _0x24a263=_0xfb6ea3;_0x27e3b3[_0x24a263(0x139)][_0x24a263(0x17c)]({'ParameterKey':_0x24a263(0xeb)+_0x576022[_0x24a263(0xda)](_0x4bcf1a,_0x489848)['padStart'](0x2,'0'),'ParameterValue':_0x1521ef[_0x24a263(0x18b)]}),_0x489848+=0x1;});}});}else{for(const _0x33a239 in _0x4032a5[_0x25389d(0x101)]){_0x565d08[_0x25389d(0x101)][_0x33a239][_0x25389d(0x16c)]&&_0x558658[_0x25389d(0x101)][_0x33a239][_0x25389d(0x16c)]['Tags']&&_0x4ae769['Resources'][_0x33a239][_0x25389d(0x16c)][_0x25389d(0x12d)][_0x25389d(0x17c)](..._0x33cdf1);}const _0x2b41cc={};_0x5448a2['forEach'](_0x244f74=>{const _0xb4539d=_0x25389d;_0x2b41cc[_0x244f74[_0xb4539d(0x155)]]=_0x244f74['Value'];}),_0x6ea00f[_0x25389d(0x101)][_0x3edd11[_0x25389d(0x18a)]][_0x25389d(0x16c)][_0x25389d(0x12d)]=_0x2b41cc,_0x2e7b6e['Resources'][_0x3edd11[_0x25389d(0x107)]][_0x25389d(0x16c)][_0x25389d(0x12d)]=_0x2b41cc;}});},addVPCData=async(_0x451d0b,_0x596fd6)=>{const _0x210a80=a27_0x30e72f,_0x1c7132={'BDLfk':function(_0x39ea28,_0x51956e,_0x233ac4){return _0x39ea28(_0x51956e,_0x233ac4);},'uXpoF':function(_0x4b6af3,_0x12f871){return _0x4b6af3===_0x12f871;},'hkwrP':_0x210a80(0x16b),'FDQIw':'CFTemplates','mdLAJ':'vpc-import.yaml','mSqwh':_0x210a80(0x18e),'UpDcz':_0x210a80(0x157),'XVqBI':_0x210a80(0x121),'VmJKm':function(_0x21fbaa,_0x22f595){return _0x21fbaa!==_0x22f595;},'wfTeu':_0x210a80(0x10a),'NeXlN':_0x210a80(0x192),'GLLIf':_0x210a80(0x11c),'DUSOd':function(_0x7a4e7d,_0x1f3c26,_0x49f6b3){return _0x7a4e7d(_0x1f3c26,_0x49f6b3);},'UIFmE':_0x210a80(0x117)};if(_0x596fd6){if(_0x1c7132[_0x210a80(0x160)](_0x1c7132['hkwrP'],_0x1c7132[_0x210a80(0x12f)])){const _0x6485ab=await fs['readFileAsync'](path[_0x210a80(0x119)](__dirname,'..',_0x1c7132['FDQIw'],_0x1c7132[_0x210a80(0x189)]),_0x1c7132[_0x210a80(0x136)]),_0x3fa28b={};_0x3fa28b['schema']=CLOUDFORMATION_SCHEMA;const _0x3efdb7=yaml[_0x210a80(0x106)](_0x6485ab,_0x3fa28b);_0x1c7132[_0x210a80(0x170)](mergeTemplates,_0x451d0b,_0x3efdb7),_0x451d0b[_0x210a80(0xef)][_0x1c7132['UpDcz']][_0x210a80(0xff)][0x0][_0x210a80(0x139)]['push'](_0x1c7132[_0x210a80(0xe3)]);}else _0x1c7132[_0x210a80(0x170)](_0x33979d,_0x13ad6c,_0x9c85d3);}else{if(_0x1c7132[_0x210a80(0x132)](_0x1c7132[_0x210a80(0x180)],_0x1c7132[_0x210a80(0x13e)])){const _0x90a554=await fs[_0x210a80(0x187)](path['join'](__dirname,'..',_0x1c7132[_0x210a80(0xe6)],_0x1c7132[_0x210a80(0x114)]),_0x1c7132['mSqwh']),_0x543b76={};_0x543b76[_0x210a80(0x129)]=CLOUDFORMATION_SCHEMA;const _0x3f07b6=yaml[_0x210a80(0x106)](_0x90a554,_0x543b76);_0x1c7132[_0x210a80(0x182)](mergeTemplates,_0x451d0b,_0x3f07b6),_0x451d0b[_0x210a80(0xef)][_0x1c7132['UpDcz']][_0x210a80(0xff)][0x0]['Parameters'][_0x210a80(0x17c)](_0x1c7132[_0x210a80(0x162)]);}else _0x2c5d7a[_0x210a80(0x101)][_0x20218e]['Properties']&&_0x1acb3d['Resources'][_0x4d5972][_0x210a80(0x16c)][_0x210a80(0x12d)]&&_0x4c71ed[_0x210a80(0x101)][_0x173059][_0x210a80(0x16c)][_0x210a80(0x12d)][_0x210a80(0x17c)](..._0x30bd7c);}},addS3Data=async _0x24111b=>{const _0x3befe6=a27_0x30e72f,_0x14dff8={'koTPe':_0x3befe6(0x121),'VfeAI':_0x3befe6(0x15b),'zXkYZ':_0x3befe6(0xee),'oqfOp':_0x3befe6(0x18e),'biAYI':function(_0x2379d2,_0x4288c9){return _0x2379d2(_0x4288c9);},'vqzzo':function(_0x1ec073,_0xd60cc9){return _0x1ec073===_0xd60cc9;},'bzrXy':function(_0x4dc645,_0x4b57c2){return _0x4dc645===_0x4b57c2;},'kmOvu':_0x3befe6(0x17d),'UYgck':function(_0x8ad22,_0x2a8772,_0x385a87){return _0x8ad22(_0x2a8772,_0x385a87);}},_0x11d612=await fs[_0x3befe6(0x187)](path[_0x3befe6(0x119)](__dirname,'..',_0x14dff8[_0x3befe6(0x11f)],_0x14dff8[_0x3befe6(0x110)]),_0x14dff8[_0x3befe6(0x144)]),_0x5ce012={};_0x5ce012['schema']=CLOUDFORMATION_SCHEMA;const _0x487751=yaml[_0x3befe6(0x106)](_0x11d612,_0x5ce012),_0x50c3fa=await _0x14dff8[_0x3befe6(0xdc)](isBucketPresent,global_registry[_0x3befe6(0x179)]);if(_0x14dff8['vqzzo'](_0x50c3fa,![])){if(_0x14dff8[_0x3befe6(0x165)](_0x14dff8[_0x3befe6(0x167)],_0x14dff8[_0x3befe6(0x167)]))_0x14dff8['UYgck'](mergeTemplates,_0x24111b,_0x487751);else{const _0x549b50={};_0x549b50[_0x3befe6(0x147)]=_0x14dff8[_0x3befe6(0x164)],_0x549b50[_0x3befe6(0x156)]=_0x97c029,_0x357d75[_0x3befe6(0x139)][_0x3befe6(0x17c)](_0x549b50);}}},addSubnetData=async(_0x39ef8c,_0x275341)=>{const _0x44bc42=a27_0x30e72f,_0x4a897b={'zMDVx':function(_0x49a3ec,_0x2ae946){return _0x49a3ec!==_0x2ae946;},'gdSAD':_0x44bc42(0x111),'DwcJc':_0x44bc42(0xf3),'zyAlx':function(_0x3f97be,_0x28bac0){return _0x3f97be(_0x28bac0);},'tGXvI':_0x44bc42(0x157),'RQsEe':function(_0x276541,_0x304f7c){return _0x276541(_0x304f7c);},'qJZxE':_0x44bc42(0xe8),'lpmcz':function(_0x3d5c48,_0x3810d4){return _0x3d5c48(_0x3810d4);},'kVfts':function(_0x1c45c4,_0x1855b1){return _0x1c45c4!==_0x1855b1;},'ZbhhB':_0x44bc42(0x100),'HowGb':_0x44bc42(0x15b),'oLWHI':_0x44bc42(0x127),'NJhng':_0x44bc42(0x18e),'IsSVL':function(_0x431b02,_0x321a03,_0x2f0914){return _0x431b02(_0x321a03,_0x2f0914);},'BfQOe':function(_0x639867,_0x490c7a){return _0x639867===_0x490c7a;},'mIiit':_0x44bc42(0x145),'Vijax':_0x44bc42(0x118),'TunNt':_0x44bc42(0xf0),'BnouA':_0x44bc42(0x181),'nDyMn':_0x44bc42(0x152),'yUDEW':'Subnet01Block','MPREl':_0x44bc42(0xe0),'PUomk':_0x44bc42(0x13c)};if(_0x275341){if(_0x4a897b[_0x44bc42(0x125)](_0x4a897b[_0x44bc42(0xf6)],_0x4a897b[_0x44bc42(0xf6)])){var _0xeaad4d=_0x3ea93f[_0x20aa3c];_0x1dc816[_0x44bc42(0x146)](_0xeaad4d)[_0x44bc42(0x173)](_0x405f70=>{_0x1d9ae4[_0x13c52e][_0x405f70]=_0xeaad4d[_0x405f70];});}else{const _0x2e1cf1=await fs[_0x44bc42(0x187)](path['join'](__dirname,'..',_0x4a897b['HowGb'],_0x4a897b['oLWHI']),_0x4a897b[_0x44bc42(0x15f)]),_0x1fae88={};_0x1fae88['schema']=CLOUDFORMATION_SCHEMA;const _0x20bdf7=yaml[_0x44bc42(0x106)](_0x2e1cf1,_0x1fae88);_0x4a897b[_0x44bc42(0x133)](mergeTemplates,_0x39ef8c,_0x20bdf7);let _0x2fd83c=0x1;_0x275341[_0x44bc42(0x173)](_0x4b5345=>{const _0x12d670=_0x44bc42;if(_0x4a897b['zMDVx'](_0x4a897b[_0x12d670(0x153)],_0x4a897b['gdSAD']))_0x1d1d9a[_0x4048e1][_0x55bf51]=_0x415825[_0x2f61a9];else{const _0x1dbd82=_0x4a897b[_0x12d670(0xec)]['split']('|');let _0x285a8a=0x0;while(!![]){switch(_0x1dbd82[_0x285a8a++]){case'0':_0x39ef8c[_0x12d670(0x101)][_0x12d670(0x130)][_0x12d670(0x16c)][_0x12d670(0x184)][_0x12d670(0x17c)]({'Ref':'Subnet'+_0x4a897b[_0x12d670(0x158)](String,_0x2fd83c)[_0x12d670(0x11d)](0x2,'0')});continue;case'1':_0x39ef8c[_0x12d670(0xef)][_0x4a897b[_0x12d670(0xf2)]][_0x12d670(0xff)][0x0]['Parameters'][_0x12d670(0x17c)](_0x12d670(0xeb)+_0x4a897b[_0x12d670(0x158)](String,_0x2fd83c)['padStart'](0x2,'0'));continue;case'2':_0x39ef8c[_0x12d670(0x101)][_0x12d670(0xdd)]['Properties'][_0x12d670(0x135)][_0x12d670(0x134)][_0x12d670(0x17c)]({'Ref':'Subnet'+_0x4a897b[_0x12d670(0x158)](String,_0x2fd83c)[_0x12d670(0x11d)](0x2,'0')});continue;case'3':_0x39ef8c[_0x12d670(0x101)][_0x12d670(0x10b)][_0x12d670(0x16c)][_0x12d670(0x184)][_0x12d670(0x17c)]({'Ref':'Subnet'+_0x4a897b['RQsEe'](String,_0x2fd83c)[_0x12d670(0x11d)](0x2,'0')});continue;case'4':_0x2fd83c+=0x1;continue;case'5':_0x39ef8c['Outputs'][_0x12d670(0x134)][_0x12d670(0xdf)][_0x4a897b[_0x12d670(0x17f)]][0x1]['push']({'Ref':_0x12d670(0xeb)+_0x4a897b[_0x12d670(0x14d)](String,_0x2fd83c)[_0x12d670(0x11d)](0x2,'0')});continue;}break;}}});}}else{if(_0x4a897b['BfQOe'](_0x4a897b[_0x44bc42(0x150)],_0x4a897b[_0x44bc42(0x150)])){const _0xad4c29=await fs[_0x44bc42(0x187)](path[_0x44bc42(0x119)](__dirname,'..',_0x4a897b['HowGb'],_0x4a897b[_0x44bc42(0xd6)]),_0x4a897b['NJhng']),_0x159d92={};_0x159d92[_0x44bc42(0x129)]=CLOUDFORMATION_SCHEMA;const _0x2fed4f=yaml[_0x44bc42(0x106)](_0xad4c29,_0x159d92);_0x4a897b[_0x44bc42(0x133)](mergeTemplates,_0x39ef8c,_0x2fed4f),_0x39ef8c[_0x44bc42(0x101)][_0x44bc42(0xdd)][_0x44bc42(0x15d)][_0x44bc42(0x17c)](_0x4a897b['TunNt'],_0x4a897b['BnouA'],_0x4a897b[_0x44bc42(0x11b)]);const _0x177862={};_0x177862[_0x44bc42(0x183)]=_0x4a897b['TunNt'];const _0x4dde52={};_0x4dde52['Ref']=_0x4a897b[_0x44bc42(0x12e)];const _0x160c61={};_0x160c61['Ref']=_0x4a897b[_0x44bc42(0x11b)],_0x39ef8c[_0x44bc42(0x101)][_0x44bc42(0xdd)][_0x44bc42(0x16c)][_0x44bc42(0x135)]['SubnetIds']=[_0x177862,_0x4dde52,_0x160c61],_0x39ef8c['Metadata'][_0x4a897b[_0x44bc42(0xf2)]][_0x44bc42(0xff)][0x0]['Parameters'][_0x44bc42(0x17c)](_0x4a897b[_0x44bc42(0x169)],_0x4a897b[_0x44bc42(0x12b)],_0x4a897b[_0x44bc42(0x10c)]);const _0x35e8da={};_0x35e8da[_0x44bc42(0x183)]=_0x4a897b[_0x44bc42(0x10d)];const _0x2b91e2={};_0x2b91e2['Ref']=_0x4a897b[_0x44bc42(0x12e)];const _0x57c647={};_0x57c647[_0x44bc42(0x183)]=_0x4a897b[_0x44bc42(0x11b)],_0x39ef8c['Resources'][_0x44bc42(0x130)]['Properties'][_0x44bc42(0x184)]=[_0x35e8da,_0x2b91e2,_0x57c647];const _0xfe1740={};_0xfe1740[_0x44bc42(0x183)]=_0x4a897b['TunNt'];const _0x80ac42={};_0x80ac42[_0x44bc42(0x183)]=_0x4a897b[_0x44bc42(0x12e)];const _0x40d361={};_0x40d361[_0x44bc42(0x183)]=_0x4a897b[_0x44bc42(0x11b)],_0x39ef8c[_0x44bc42(0x101)]['NodeGroupWindows'][_0x44bc42(0x16c)]['Subnets']=[_0xfe1740,_0x80ac42,_0x40d361],_0x39ef8c[_0x44bc42(0x186)][_0x44bc42(0x134)]['Value'][_0x4a897b[_0x44bc42(0x17f)]][0x1]=[{'Ref':_0x4a897b[_0x44bc42(0x10d)]},{'Ref':_0x4a897b['BnouA']},{'Ref':_0x4a897b[_0x44bc42(0x11b)]}];}else _0x2eee3a['keys'](_0x43e830)[_0x44bc42(0x173)](_0x1fd08d=>{const _0x595f72=_0x44bc42;var _0x18205c=_0x3d355f[_0x1fd08d];_0x230526[_0x595f72(0x146)](_0x18205c)[_0x595f72(0x173)](_0x540aa4=>{_0x229bcb[_0x1fd08d][_0x540aa4]=_0x18205c[_0x540aa4];});});}},addTags=async(_0x12e209,_0x572423,_0x56e36f)=>{const _0x143f36=a27_0x30e72f,_0x4af42f={'waQkC':'0|2|3|1|4|5','CAUtY':function(_0x1ae170,_0x64741a){return _0x1ae170(_0x64741a);},'kTZSn':_0x143f36(0x157),'QhvNG':function(_0x2e3df5,_0x18c609){return _0x2e3df5(_0x18c609);},'gquSS':_0x143f36(0xe8),'jvslY':function(_0x1ceb0c,_0x61200c){return _0x1ceb0c===_0x61200c;},'xGbBZ':'jxacF','QjaoG':_0x143f36(0x137),'FnYuW':_0x143f36(0x17e),'zSozj':function(_0x5c9f15,_0xe3c4c2){return _0x5c9f15!==_0xe3c4c2;},'XgEKO':_0x143f36(0x190),'lDjxr':'NodeGroup','JidVr':_0x143f36(0x10b)};for(const _0x125c13 in _0x12e209[_0x143f36(0x101)]){if(_0x4af42f[_0x143f36(0x14e)](_0x4af42f[_0x143f36(0x18d)],_0x4af42f[_0x143f36(0xd8)])){const _0x384fea=_0x4af42f['waQkC']['split']('|');let _0x298e2c=0x0;while(!![]){switch(_0x384fea[_0x298e2c++]){case'0':_0x458631[_0x143f36(0x101)][_0x143f36(0xdd)][_0x143f36(0x16c)]['ResourcesVpcConfig'][_0x143f36(0x134)][_0x143f36(0x17c)]({'Ref':_0x143f36(0xeb)+_0x4af42f[_0x143f36(0x131)](_0x26bdcb,_0x35832a)['padStart'](0x2,'0')});continue;case'1':_0x700e05[_0x143f36(0x101)][_0x143f36(0x10b)][_0x143f36(0x16c)][_0x143f36(0x184)][_0x143f36(0x17c)]({'Ref':_0x143f36(0xeb)+_0x4af42f['CAUtY'](_0x1d5d1a,_0xa8d74)[_0x143f36(0x11d)](0x2,'0')});continue;case'2':_0x4d0b99[_0x143f36(0xef)][_0x4af42f['kTZSn']][_0x143f36(0xff)][0x0][_0x143f36(0x139)][_0x143f36(0x17c)](_0x143f36(0xeb)+_0x4af42f[_0x143f36(0x131)](_0x14e902,_0x183e72)['padStart'](0x2,'0'));continue;case'3':_0x3546bd['Resources'][_0x143f36(0x130)]['Properties'][_0x143f36(0x184)]['push']({'Ref':'Subnet'+_0x4af42f['QhvNG'](_0x47b39b,_0x423631)['padStart'](0x2,'0')});continue;case'4':_0x271579[_0x143f36(0x186)][_0x143f36(0x134)][_0x143f36(0xdf)][_0x4af42f['gquSS']][0x1][_0x143f36(0x17c)]({'Ref':_0x143f36(0xeb)+_0x4af42f[_0x143f36(0xe5)](_0x29d6b7,_0x1a6c41)[_0x143f36(0x11d)](0x2,'0')});continue;case'5':_0x163f86+=0x1;continue;}break;}}else _0x12e209['Resources'][_0x125c13][_0x143f36(0x16c)]&&_0x12e209[_0x143f36(0x101)][_0x125c13][_0x143f36(0x16c)][_0x143f36(0x12d)]&&(_0x4af42f['zSozj'](_0x4af42f[_0x143f36(0x128)],_0x4af42f[_0x143f36(0x128)])?_0x43c9fc[_0x143f36(0x101)][_0x3c9ef0][_0x143f36(0x16c)]['Tags']['push'](..._0x392ff4):_0x12e209['Resources'][_0x125c13]['Properties'][_0x143f36(0x12d)][_0x143f36(0x17c)](..._0x56e36f));}const _0x968907={};_0x56e36f[_0x143f36(0x173)](_0x4e9941=>{const _0x4ce3c6=_0x143f36;_0x4af42f['jvslY'](_0x4af42f[_0x4ce3c6(0x123)],_0x4af42f[_0x4ce3c6(0x123)])?_0x968907[_0x4e9941[_0x4ce3c6(0x155)]]=_0x4e9941['Value']:_0x3466a2[_0x4f38ed[_0x4ce3c6(0x155)]]=_0xab23d2[_0x4ce3c6(0xdf)];}),_0x12e209[_0x143f36(0x101)][_0x4af42f[_0x143f36(0x14a)]][_0x143f36(0x16c)][_0x143f36(0x12d)]=_0x968907,_0x12e209[_0x143f36(0x101)][_0x4af42f[_0x143f36(0xe9)]][_0x143f36(0x16c)][_0x143f36(0x12d)]=_0x968907;};exports['createClusterStack']=async(_0x2f0f04,_0x2f81b9,_0x14df1a,_0x472a45=null,_0x4a6c1c=null,_0x20f0fe)=>{const _0x35c601=a27_0x30e72f,_0x23d54c={'Fnbtm':function(_0x1d4095,_0x5af86b){return _0x1d4095(_0x5af86b);},'jsvjh':_0x35c601(0x13a),'rDiKu':'browserstack:creationDate','uhyiy':_0x35c601(0x12a),'CdnJu':_0x35c601(0x15b),'GBLXc':_0x35c601(0xed),'bOvAS':_0x35c601(0x18e),'ERcWA':function(_0x29e422,_0x3816bc,_0x414666){return _0x29e422(_0x3816bc,_0x414666);},'LBKsD':function(_0x55811b,_0x24a0c7){return _0x55811b(_0x24a0c7);},'ZrBSM':function(_0x3a5d62,_0x210883,_0x556b09,_0x5393a8){return _0x3a5d62(_0x210883,_0x556b09,_0x5393a8);},'eATdc':_0x35c601(0x126),'dVDtP':_0x35c601(0x177),'CVEEy':'NodeGroupName','cBelC':'NodeAutoScalingGroupMinSize','mtwGT':_0x35c601(0x17b),'WBffo':_0x35c601(0x171),'TIryB':_0x35c601(0x16d),'VcTUe':_0x35c601(0xe1),'fBYMp':'NodeInstanceType','VkKaD':_0x35c601(0x12c),'lfNwa':_0x35c601(0x116),'sDevw':_0x35c601(0x11e),'osjaJ':_0x35c601(0xf1),'ESdLn':_0x35c601(0x15c),'ouMjH':_0x35c601(0x166),'KSczg':function(_0x36a034,_0x3e8652){return _0x36a034!=_0x3e8652;},'kEVHV':function(_0x3b875e,_0x4ac6bd){return _0x3b875e!==_0x4ac6bd;},'KRRdY':_0x35c601(0x188),'YhcGZ':_0x35c601(0x121),'uvHmc':function(_0x565b02,_0x4bf532){return _0x565b02!=_0x4bf532;},'LGbku':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','TyQDE':'stackCreateComplete'},_0x158d68=COMMON_HST_TAGS,_0xbdda91={};_0xbdda91[_0x35c601(0x155)]=_0x23d54c['jsvjh'],_0xbdda91[_0x35c601(0xdf)]=_0x2f0f04,_0x158d68[_0x35c601(0x17c)](_0xbdda91),_0x158d68[_0x35c601(0x17c)]({'Key':_0x23d54c[_0x35c601(0xea)],'Value':new Date()['valueOf']()[_0x35c601(0xf4)]()});const _0x24b707={};_0x24b707[_0x35c601(0x148)]=_0x23d54c[_0x35c601(0x16e)];const _0x58851e=new AWS['CloudFormation'](_0x24b707),_0xd2fa94=await fs[_0x35c601(0x187)](path[_0x35c601(0x119)](__dirname,'..',_0x23d54c[_0x35c601(0x138)],_0x23d54c['GBLXc']),_0x23d54c[_0x35c601(0x120)]),_0x45358a={};_0x45358a[_0x35c601(0x129)]=CLOUDFORMATION_SCHEMA;const _0x3e5e99=yaml[_0x35c601(0x106)](_0xd2fa94,_0x45358a);await _0x23d54c[_0x35c601(0x18f)](addVPCData,_0x3e5e99,_0x472a45),await _0x23d54c[_0x35c601(0x102)](addS3Data,_0x3e5e99),await _0x23d54c[_0x35c601(0x18f)](addSubnetData,_0x3e5e99,_0x4a6c1c),await _0x23d54c['ZrBSM'](addTags,_0x3e5e99,_0x2f0f04,_0x158d68);const _0x53d843=JSON['stringify'](_0x3e5e99),_0x21144b={};_0x21144b[_0x35c601(0xfd)]=CLUSTER_DEP_STACK_NAME+'-'+_0x2f0f04,_0x21144b[_0x35c601(0xfb)]=_0x23d54c[_0x35c601(0x13d)],_0x21144b[_0x35c601(0x161)]=_0x53d843,_0x21144b[_0x35c601(0x139)]=[{'ParameterKey':_0x23d54c[_0x35c601(0x109)],'ParameterValue':_0x2f0f04},{'ParameterKey':_0x23d54c['CVEEy'],'ParameterValue':_0x2f0f04+'-NodeGroup'},{'ParameterKey':_0x23d54c[_0x35c601(0x13b)],'ParameterValue':''+_0x2f81b9},{'ParameterKey':_0x23d54c[_0x35c601(0x15e)],'ParameterValue':'0'},{'ParameterKey':_0x23d54c[_0x35c601(0x142)],'ParameterValue':'1'},{'ParameterKey':_0x23d54c['TIryB'],'ParameterValue':''+_0x14df1a},{'ParameterKey':_0x23d54c[_0x35c601(0x175)],'ParameterValue':global_registry[_0x35c601(0xe2)]},{'ParameterKey':_0x23d54c['fBYMp'],'ParameterValue':global_registry[_0x35c601(0x140)]},{'ParameterKey':_0x23d54c[_0x35c601(0x13f)],'ParameterValue':global_registry[_0x35c601(0x179)]},{'ParameterKey':_0x23d54c[_0x35c601(0x149)],'ParameterValue':_0x2f0f04+_0x35c601(0x113)},{'ParameterKey':_0x23d54c[_0x35c601(0xf9)],'ParameterValue':_0x20f0fe?_0x23d54c[_0x35c601(0x11a)]:_0x23d54c[_0x35c601(0x191)]}],_0x21144b[_0x35c601(0xf8)]=[_0x23d54c[_0x35c601(0x18c)]],_0x21144b[_0x35c601(0x12d)]=_0x158d68;const _0xc48752=_0x21144b;if(_0x23d54c[_0x35c601(0x172)](_0x472a45,null)&&_0x23d54c['kEVHV'](_0x472a45,undefined)){if(_0x23d54c[_0x35c601(0x16f)](_0x23d54c[_0x35c601(0xe7)],_0x23d54c['KRRdY']))_0x2dd88[_0x35c601(0x139)][_0x35c601(0x17c)]({'ParameterKey':_0x35c601(0xeb)+_0x23d54c[_0x35c601(0x168)](_0x32ae38,_0x38f8a7)[_0x35c601(0x11d)](0x2,'0'),'ParameterValue':_0x960fc2['value']}),_0x1e345d+=0x1;else{const _0x39fc8e={};_0x39fc8e[_0x35c601(0x147)]=_0x23d54c[_0x35c601(0x124)],_0x39fc8e[_0x35c601(0x156)]=_0x472a45,_0xc48752[_0x35c601(0x139)][_0x35c601(0x17c)](_0x39fc8e);}}if(_0x23d54c[_0x35c601(0xfa)](_0x4a6c1c,null)&&_0x23d54c[_0x35c601(0x16f)](_0x4a6c1c,undefined)){let _0x5bede2=0x1;_0x4a6c1c[_0x35c601(0x173)](_0x19be3b=>{const _0x431807=_0x35c601;_0xc48752['Parameters'][_0x431807(0x17c)]({'ParameterKey':_0x431807(0xeb)+_0x23d54c[_0x431807(0x168)](String,_0x5bede2)[_0x431807(0x11d)](0x2,'0'),'ParameterValue':_0x19be3b[_0x431807(0x18b)]}),_0x5bede2+=0x1;});}const _0x3e5710=await _0x58851e[_0x35c601(0xf5)](_0xc48752)[_0x35c601(0x185)]();logger[_0x35c601(0xfe)](_0x23d54c[_0x35c601(0x15a)]);const _0x56692c={};return _0x56692c[_0x35c601(0xfd)]=_0x3e5710[_0x35c601(0x163)],_0x58851e[_0x35c601(0xe4)](_0x23d54c[_0x35c601(0x14f)],_0x56692c)['promise']();};