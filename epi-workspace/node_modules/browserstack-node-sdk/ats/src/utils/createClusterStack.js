const a27_0x39096e=a27_0x2e82;function a27_0x2e82(_0x3bb7d9,_0x284bb9){const _0x37cdf2=a27_0x37cd();return a27_0x2e82=function(_0x2e820f,_0x2646c4){_0x2e820f=_0x2e820f-0x13c;let _0x2e3832=_0x37cdf2[_0x2e820f];return _0x2e3832;},a27_0x2e82(_0x3bb7d9,_0x284bb9);}function a27_0x37cd(){const _0x16f89b=['5444020CHJAKA','fyDTf','NodeGroupWindows','valueOf','qyPrR','FvAHg','ParameterGroups','fAxDh','TROBA','NodeInstanceType','Ref','10nxinMe','vSmUV','NgLuI','NodeGroup','js-yaml-cloudformation-schema','YENtu','vDxsa','2556432PptKZI','WdqUJ','TEWWU','S3BucketName','Yorni','gmlBq','JXjxv','ResourcesVpcConfig','Subnet01Block','3454820wkaiJl','Subnet01','Tags','QhHGT','stackCreateComplete','vnDVY','Subnet02','DufLu','zGzlT','NodeGroupName','TemplateBody','NodeImageId','QEROa','HzbEF','ZLgEN','enWoD','-Windows-NodeGroup','uCXBX','UZJrV','load','tvMEX','readFileAsync','PWoyE','EKSCluster','pocBL','LHPKI','AWS::CloudFormation::Interface','gCyBM','Subnets','FnxyI','THIak','NodeAutoScalingGroupMaxSize','NodeAutoScalingGroupDesiredSizeWindows','KwBZp','padStart','vBwlV','xQOHh','push','VpcBlock','dKZEC','aws-eks-cluster-dep.yaml','IEvUk','mmyxA','stringify','DELETE','../config/logger','TPWXJ','xKHdl','qZlUR','tvBKP','Key','createStack','TkRXH','gqlLB','gxEIi','promise','vSXnt','NohLa','Parameters','wdwOn','lDTin','dYJOf','zlhMi','CFTemplates','OnFailure','Fn::Join','forEach','debug','spzoJ','CAPABILITY_NAMED_IAM','eDwzX','Subnet','value','RqGcr','Resources','Subnet02Block','Value','271380mMRnva','StackId','NntwZ','Otofs','jsJuU','awsObj','Tsygp','bAeDU','Subnet03Block','browserstack:creationDate','ParameterKey','ArSNI','145798kGjIUv','epaGz','jFUQv','2156644gNDiCd','DependsOn','split','AdgsZ','yRPSV','Sjyfd','VPC','pnPkY','sOslu','KpUBJ','IEFPT','SQuyL','3|4|2|1|5|0','schema','waitFor','CNRyq','NodeAutoScalingGroupMinSizeWindows','Qlohi','oJqRS','keys','ClusterName','StackName','LPDYs','VKANC','NodeGroupNameWindows','rCSlM','Metadata','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','ami','YPfMe','paduK','4UiSfyV','KyWMX','NodeAutoScalingGroupMinSize','sUpZf','2644104LcwmZL','-NodeGroup','uSldg','HzACx','Outputs','rELCX','TuYnh','wZTCd','YHgtO','5|4|2|3|0|1','dKhKK','2010-05-15','AtsRi','SubnetIds','xakvW','wCHeS','HKJgX','join','ParameterValue','koSqZ','CloudFormation','js-yaml','subnet-import.yaml','./AWSUtils','MMCwS','Properties','sApwe','bBxQE','s3Bucket','UWneu','vpc-import.yaml','createClusterStack','KLRHw','aSABn','instanceType','utf-8','9XJqkUv'];a27_0x37cd=function(){return _0x16f89b;};return a27_0x37cd();}(function(_0x5a44ca,_0x2aec16){const _0x57acdf=a27_0x2e82,_0x29982a=_0x5a44ca();while(!![]){try{const _0x3cac7e=-parseInt(_0x57acdf(0x1db))/0x1+parseInt(_0x57acdf(0x172))/0x2*(parseInt(_0x57acdf(0x1cf))/0x3)+parseInt(_0x57acdf(0x13e))/0x4*(-parseInt(_0x57acdf(0x182))/0x5)+-parseInt(_0x57acdf(0x142))/0x6+parseInt(_0x57acdf(0x1de))/0x7+parseInt(_0x57acdf(0x179))/0x8+parseInt(_0x57acdf(0x166))/0x9*(parseInt(_0x57acdf(0x167))/0xa);if(_0x3cac7e===_0x2aec16)break;else _0x29982a['push'](_0x29982a['shift']());}catch(_0x1cf647){_0x29982a['push'](_0x29982a['shift']());}}}(a27_0x37cd,0x54b16));const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require(a27_0x39096e(0x157)),{CLOUDFORMATION_SCHEMA}=require(a27_0x39096e(0x176)),AWS=require('./AWSUtils')[a27_0x39096e(0x1d4)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x39096e(0x1af)),{isBucketPresent}=require(a27_0x39096e(0x159));Promise['promisifyAll'](fs);const mergeTemplates=(_0x3bfa5a,_0x925692)=>{const _0x511667=a27_0x39096e,_0x122846={};_0x122846[_0x511667(0x15c)]=_0x511667(0x175),_0x122846['xcFQu']=_0x511667(0x169),_0x122846['fAxDh']=function(_0x5bdcae,_0x5d5593){return _0x5bdcae!==_0x5d5593;},_0x122846[_0x511667(0x16c)]=_0x511667(0x163),_0x122846[_0x511667(0x1d1)]='VPC',_0x122846[_0x511667(0x13f)]=function(_0x35ddbe,_0x54edf7){return _0x35ddbe===_0x54edf7;},_0x122846['xakvW']='gHoCL';const _0x592714=_0x122846;Object['keys'](_0x925692)[_0x511667(0x1c4)](_0x56f891=>{const _0x4c184a=_0x511667,_0xf11def={'rleaA':_0x592714[_0x4c184a(0x15c)],'YKsPe':_0x592714['xcFQu'],'oJqRS':function(_0x42a24c,_0x4e4d36){const _0x487c7e=_0x4c184a;return _0x592714[_0x487c7e(0x16e)](_0x42a24c,_0x4e4d36);},'WdqUJ':_0x592714['FvAHg'],'Yorni':_0x592714[_0x4c184a(0x1d1)]};if(_0x592714[_0x4c184a(0x13f)](_0x592714[_0x4c184a(0x150)],_0x592714[_0x4c184a(0x150)])){var _0x58b626=_0x925692[_0x56f891];Object[_0x4c184a(0x1f1)](_0x58b626)[_0x4c184a(0x1c4)](_0x1de86e=>{const _0x30aca9=_0x4c184a;if(_0xf11def[_0x30aca9(0x1f0)](_0xf11def[_0x30aca9(0x17a)],_0xf11def[_0x30aca9(0x17a)])){for(const _0x328173 in _0x186304['Resources']){_0x2b692d['Resources'][_0x328173][_0x30aca9(0x15b)]&&_0x1df38b['Resources'][_0x328173][_0x30aca9(0x15b)][_0x30aca9(0x184)]&&_0x4d00a7['Resources'][_0x328173]['Properties'][_0x30aca9(0x184)][_0x30aca9(0x1a7)](..._0x335915);}const _0x192a18={};_0x64cc2d[_0x30aca9(0x1c4)](_0x1cebaf=>{const _0xa4cda4=_0x30aca9;_0x192a18[_0x1cebaf[_0xa4cda4(0x1b4)]]=_0x1cebaf[_0xa4cda4(0x1ce)];}),_0x298f56[_0x30aca9(0x1cc)][_0xf11def['rleaA']][_0x30aca9(0x15b)][_0x30aca9(0x184)]=_0x192a18,_0x4fb5a7[_0x30aca9(0x1cc)][_0xf11def['YKsPe']][_0x30aca9(0x15b)][_0x30aca9(0x184)]=_0x192a18;}else _0x3bfa5a[_0x56f891][_0x1de86e]=_0x58b626[_0x1de86e];});}else{const _0x22509f={};_0x22509f['ParameterKey']=_0xf11def[_0x4c184a(0x17d)],_0x22509f['ParameterValue']=_0xf3fd53,_0x200308[_0x4c184a(0x1bc)][_0x4c184a(0x1a7)](_0x22509f);}});},addVPCData=async(_0x263adb,_0x3312c3)=>{const _0x2bb7c0=a27_0x39096e,_0x5176f5={'RqGcr':_0x2bb7c0(0x14b),'YHgtO':_0x2bb7c0(0x1c3),'AfJje':function(_0x3ea4a5,_0x2a4fad){return _0x3ea4a5(_0x2a4fad);},'UozTC':function(_0x348745,_0x3d1b9d){return _0x348745(_0x3d1b9d);},'FfmQL':function(_0x343e99,_0x251904){return _0x343e99(_0x251904);},'NohLa':_0x2bb7c0(0x19c),'aHWWu':function(_0x3d0607,_0x53ce8e){return _0x3d0607(_0x53ce8e);},'HzbEF':function(_0x230090,_0x347b11){return _0x230090(_0x347b11);},'sOslu':function(_0x5712ee,_0x2d9a48){return _0x5712ee!==_0x2d9a48;},'xKHdl':_0x2bb7c0(0x1e8),'spzoJ':_0x2bb7c0(0x191),'HKJgX':_0x2bb7c0(0x1c1),'UWneu':_0x2bb7c0(0x160),'DufLu':_0x2bb7c0(0x165),'THIak':function(_0x1722fb,_0x1410af,_0x59c039){return _0x1722fb(_0x1410af,_0x59c039);},'zlhMi':_0x2bb7c0(0x1e4),'Qlohi':_0x2bb7c0(0x1e3),'jFUQv':'vpc-create.yaml','rseZo':function(_0x406dff,_0x5d7192,_0x323034){return _0x406dff(_0x5d7192,_0x323034);},'SQuyL':_0x2bb7c0(0x1a8)};if(_0x3312c3){if(_0x5176f5[_0x2bb7c0(0x1e6)](_0x5176f5[_0x2bb7c0(0x1b1)],_0x5176f5[_0x2bb7c0(0x1c6)])){const _0x2d33ae=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5176f5[_0x2bb7c0(0x152)],_0x5176f5[_0x2bb7c0(0x15f)]),_0x5176f5[_0x2bb7c0(0x189)]),_0x5e5522={};_0x5e5522[_0x2bb7c0(0x1eb)]=CLOUDFORMATION_SCHEMA;const _0x3b98d5=yaml[_0x2bb7c0(0x195)](_0x2d33ae,_0x5e5522);_0x5176f5[_0x2bb7c0(0x1a0)](mergeTemplates,_0x263adb,_0x3b98d5),_0x263adb[_0x2bb7c0(0x1f8)][_0x5176f5[_0x2bb7c0(0x1bb)]]['ParameterGroups'][0x0][_0x2bb7c0(0x1bc)][_0x2bb7c0(0x1a7)](_0x5176f5[_0x2bb7c0(0x1c0)]);}else{const _0x45740d=_0x5176f5[_0x2bb7c0(0x1cb)]['split']('|');let _0x27627d=0x0;while(!![]){switch(_0x45740d[_0x27627d++]){case'0':_0x55a21b[_0x2bb7c0(0x146)]['SubnetIds'][_0x2bb7c0(0x1ce)][_0x5176f5[_0x2bb7c0(0x14a)]][0x1]['push']({'Ref':_0x2bb7c0(0x1c9)+_0x5176f5['AfJje'](_0x18e43e,_0x24f1f4)[_0x2bb7c0(0x1a4)](0x2,'0')});continue;case'1':_0x1e63f1+=0x1;continue;case'2':_0x1fb743[_0x2bb7c0(0x1cc)][_0x2bb7c0(0x175)][_0x2bb7c0(0x15b)]['Subnets']['push']({'Ref':_0x2bb7c0(0x1c9)+_0x5176f5['UozTC'](_0x543f2e,_0x1f2891)['padStart'](0x2,'0')});continue;case'3':_0x3d4482[_0x2bb7c0(0x1cc)][_0x2bb7c0(0x169)][_0x2bb7c0(0x15b)][_0x2bb7c0(0x19e)][_0x2bb7c0(0x1a7)]({'Ref':'Subnet'+_0x5176f5['FfmQL'](_0x566944,_0x39f9a3)[_0x2bb7c0(0x1a4)](0x2,'0')});continue;case'4':_0x56df54[_0x2bb7c0(0x1f8)][_0x5176f5['NohLa']][_0x2bb7c0(0x16d)][0x0][_0x2bb7c0(0x1bc)][_0x2bb7c0(0x1a7)](_0x2bb7c0(0x1c9)+_0x5176f5['aHWWu'](_0x9a410c,_0x1e3527)[_0x2bb7c0(0x1a4)](0x2,'0'));continue;case'5':_0x87ed2a[_0x2bb7c0(0x1cc)][_0x2bb7c0(0x199)][_0x2bb7c0(0x15b)][_0x2bb7c0(0x180)][_0x2bb7c0(0x14f)][_0x2bb7c0(0x1a7)]({'Ref':_0x2bb7c0(0x1c9)+_0x5176f5[_0x2bb7c0(0x18f)](_0x12c99a,_0x4c5fe9)[_0x2bb7c0(0x1a4)](0x2,'0')});continue;}break;}}}else{if(_0x5176f5['sOslu'](_0x5176f5[_0x2bb7c0(0x1ef)],_0x5176f5[_0x2bb7c0(0x1ef)]))_0xb36d64[_0x2df1f2[_0x2bb7c0(0x1b4)]]=_0x396be3[_0x2bb7c0(0x1ce)];else{const _0x38fa4e=await fs['readFileAsync'](path[_0x2bb7c0(0x153)](__dirname,'..',_0x5176f5[_0x2bb7c0(0x152)],_0x5176f5[_0x2bb7c0(0x1dd)]),_0x5176f5['DufLu']),_0x4e33be={};_0x4e33be[_0x2bb7c0(0x1eb)]=CLOUDFORMATION_SCHEMA;const _0x5083a0=yaml[_0x2bb7c0(0x195)](_0x38fa4e,_0x4e33be);_0x5176f5['rseZo'](mergeTemplates,_0x263adb,_0x5083a0),_0x263adb['Metadata'][_0x5176f5[_0x2bb7c0(0x1bb)]][_0x2bb7c0(0x16d)][0x0][_0x2bb7c0(0x1bc)][_0x2bb7c0(0x1a7)](_0x5176f5[_0x2bb7c0(0x1e9)]);}}},addS3Data=async _0x3e53ce=>{const _0x4f7dca=a27_0x39096e,_0x362d90={'wdwOn':function(_0x5a4d5b,_0x34bbd0){return _0x5a4d5b(_0x34bbd0);},'sOooP':'CFTemplates','dMWkR':'s3-create.yaml','PWoyE':'utf-8','uCXBX':function(_0x32ee60,_0x239c25){return _0x32ee60(_0x239c25);},'xQOHh':function(_0x1fefee,_0x239894){return _0x1fefee===_0x239894;},'DtwOw':_0x4f7dca(0x1d6),'AtsRi':_0x4f7dca(0x1bf),'eDwzX':function(_0x3e4931,_0x1affc0,_0x105f08){return _0x3e4931(_0x1affc0,_0x105f08);}},_0x3e48dc=await fs[_0x4f7dca(0x197)](path[_0x4f7dca(0x153)](__dirname,'..',_0x362d90['sOooP'],_0x362d90['dMWkR']),_0x362d90[_0x4f7dca(0x198)]),_0x361ea3={};_0x361ea3[_0x4f7dca(0x1eb)]=CLOUDFORMATION_SCHEMA;const _0x3f194d=yaml['load'](_0x3e48dc,_0x361ea3),_0x3476e6=await _0x362d90[_0x4f7dca(0x193)](isBucketPresent,global_registry[_0x4f7dca(0x15e)]);_0x362d90[_0x4f7dca(0x1a6)](_0x3476e6,![])&&(_0x362d90['xQOHh'](_0x362d90['DtwOw'],_0x362d90[_0x4f7dca(0x14e)])?(_0x536ed0[_0x4f7dca(0x1bc)][_0x4f7dca(0x1a7)]({'ParameterKey':'Subnet'+_0x362d90[_0x4f7dca(0x1bd)](_0x29425b,_0x534c82)['padStart'](0x2,'0'),'ParameterValue':_0x4d2e4a['value']}),_0x5153a5+=0x1):_0x362d90[_0x4f7dca(0x1c8)](mergeTemplates,_0x3e53ce,_0x3f194d));},addSubnetData=async(_0x40113a,_0x66e522)=>{const _0x3d008e=a27_0x39096e,_0x10f035={'epaGz':function(_0x490910,_0x326262){return _0x490910===_0x326262;},'qZlUR':_0x3d008e(0x148),'uSldg':'OTZqp','QhHGT':_0x3d008e(0x1ea),'vSmUV':function(_0x4cde8a,_0x4b033f){return _0x4cde8a(_0x4b033f);},'VKANC':'AWS::CloudFormation::Interface','rwogd':function(_0x9d2615,_0xbfa8cd){return _0x9d2615(_0xbfa8cd);},'pnPkY':_0x3d008e(0x1c3),'oxdgC':function(_0x12ad26,_0xead07e){return _0x12ad26===_0xead07e;},'yRPSV':_0x3d008e(0x13d),'Otofs':_0x3d008e(0x1c1),'qyPrR':_0x3d008e(0x158),'TkRXH':_0x3d008e(0x165),'jsJuU':function(_0x2e70ee,_0x2d0b2e,_0x59d2f6){return _0x2e70ee(_0x2d0b2e,_0x59d2f6);},'gqlLB':function(_0x471c45,_0x5ae695){return _0x471c45===_0x5ae695;},'oajpe':_0x3d008e(0x155),'vnDVY':_0x3d008e(0x15a),'wCHeS':'subnet-create.yaml','zGzlT':_0x3d008e(0x183),'vDxsa':_0x3d008e(0x188),'CNRyq':'Subnet03','mmyxA':_0x3d008e(0x181),'ArSNI':_0x3d008e(0x1cd),'upuSc':_0x3d008e(0x1d7)};if(_0x66e522){if(_0x10f035['oxdgC'](_0x10f035[_0x3d008e(0x1e2)],_0x10f035[_0x3d008e(0x1e2)])){const _0x50b39d=await fs['readFileAsync'](path[_0x3d008e(0x153)](__dirname,'..',_0x10f035[_0x3d008e(0x1d2)],_0x10f035[_0x3d008e(0x16b)]),_0x10f035[_0x3d008e(0x1b6)]),_0x13e880={};_0x13e880[_0x3d008e(0x1eb)]=CLOUDFORMATION_SCHEMA;const _0x30ee07=yaml[_0x3d008e(0x195)](_0x50b39d,_0x13e880);_0x10f035['jsJuU'](mergeTemplates,_0x40113a,_0x30ee07);let _0xd40f46=0x1;_0x66e522[_0x3d008e(0x1c4)](_0x1363e9=>{const _0x161909=_0x3d008e;if(_0x10f035[_0x161909(0x1dc)](_0x10f035[_0x161909(0x1b2)],_0x10f035[_0x161909(0x144)]))_0x4eb8fd['Resources'][_0x16407b][_0x161909(0x15b)][_0x161909(0x184)]['push'](..._0x2e56e9);else{const _0x23964c=_0x10f035[_0x161909(0x185)][_0x161909(0x1e0)]('|');let _0x54bb1c=0x0;while(!![]){switch(_0x23964c[_0x54bb1c++]){case'0':_0xd40f46+=0x1;continue;case'1':_0x40113a[_0x161909(0x1cc)][_0x161909(0x169)][_0x161909(0x15b)][_0x161909(0x19e)][_0x161909(0x1a7)]({'Ref':_0x161909(0x1c9)+_0x10f035[_0x161909(0x173)](String,_0xd40f46)[_0x161909(0x1a4)](0x2,'0')});continue;case'2':_0x40113a[_0x161909(0x1cc)][_0x161909(0x175)][_0x161909(0x15b)][_0x161909(0x19e)][_0x161909(0x1a7)]({'Ref':_0x161909(0x1c9)+_0x10f035['vSmUV'](String,_0xd40f46)[_0x161909(0x1a4)](0x2,'0')});continue;case'3':_0x40113a['Resources']['EKSCluster'][_0x161909(0x15b)][_0x161909(0x180)][_0x161909(0x14f)]['push']({'Ref':'Subnet'+_0x10f035[_0x161909(0x173)](String,_0xd40f46)[_0x161909(0x1a4)](0x2,'0')});continue;case'4':_0x40113a[_0x161909(0x1f8)][_0x10f035[_0x161909(0x1f5)]]['ParameterGroups'][0x0][_0x161909(0x1bc)][_0x161909(0x1a7)]('Subnet'+_0x10f035['rwogd'](String,_0xd40f46)[_0x161909(0x1a4)](0x2,'0'));continue;case'5':_0x40113a[_0x161909(0x146)][_0x161909(0x14f)][_0x161909(0x1ce)][_0x10f035[_0x161909(0x1e5)]][0x1][_0x161909(0x1a7)]({'Ref':_0x161909(0x1c9)+_0x10f035[_0x161909(0x173)](String,_0xd40f46)[_0x161909(0x1a4)](0x2,'0')});continue;}break;}}});}else _0x152b7a[_0x511f19][_0x761f6c]=_0x1a2443[_0x4879ec];}else{if(_0x10f035[_0x3d008e(0x1b7)](_0x10f035['oajpe'],_0x10f035[_0x3d008e(0x187)]))_0x21ff24['Resources'][_0x31521f][_0x3d008e(0x15b)]&&_0xab0655['Resources'][_0xc1030c][_0x3d008e(0x15b)]['Tags']&&_0x580a84[_0x3d008e(0x1cc)][_0x259938][_0x3d008e(0x15b)][_0x3d008e(0x184)]['push'](..._0x21d371);else{const _0x10c7e5=await fs[_0x3d008e(0x197)](path[_0x3d008e(0x153)](__dirname,'..',_0x10f035[_0x3d008e(0x1d2)],_0x10f035[_0x3d008e(0x151)]),_0x10f035[_0x3d008e(0x1b6)]),_0x4845e3={};_0x4845e3['schema']=CLOUDFORMATION_SCHEMA;const _0x5d06c7=yaml[_0x3d008e(0x195)](_0x10c7e5,_0x4845e3);_0x10f035[_0x3d008e(0x1d3)](mergeTemplates,_0x40113a,_0x5d06c7),_0x40113a[_0x3d008e(0x1cc)]['EKSCluster'][_0x3d008e(0x1df)][_0x3d008e(0x1a7)](_0x10f035[_0x3d008e(0x18a)],_0x10f035[_0x3d008e(0x178)],_0x10f035[_0x3d008e(0x1ed)]);const _0x339fc4={};_0x339fc4[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x18a)];const _0x4d59db={};_0x4d59db['Ref']=_0x10f035[_0x3d008e(0x178)];const _0x5f2e68={};_0x5f2e68[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x1ed)],_0x40113a[_0x3d008e(0x1cc)][_0x3d008e(0x199)]['Properties'][_0x3d008e(0x180)][_0x3d008e(0x14f)]=[_0x339fc4,_0x4d59db,_0x5f2e68],_0x40113a[_0x3d008e(0x1f8)][_0x10f035['VKANC']][_0x3d008e(0x16d)][0x0][_0x3d008e(0x1bc)][_0x3d008e(0x1a7)](_0x10f035[_0x3d008e(0x1ac)],_0x10f035[_0x3d008e(0x1da)],_0x10f035['upuSc']);const _0x5f37ec={};_0x5f37ec[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x18a)];const _0x3bb745={};_0x3bb745[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x178)];const _0x1da600={};_0x1da600[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x1ed)],_0x40113a[_0x3d008e(0x1cc)][_0x3d008e(0x175)][_0x3d008e(0x15b)]['Subnets']=[_0x5f37ec,_0x3bb745,_0x1da600];const _0x4bbff7={};_0x4bbff7[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x18a)];const _0x5b7e25={};_0x5b7e25[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x178)];const _0x411b17={};_0x411b17[_0x3d008e(0x171)]=_0x10f035[_0x3d008e(0x1ed)],_0x40113a[_0x3d008e(0x1cc)][_0x3d008e(0x169)][_0x3d008e(0x15b)][_0x3d008e(0x19e)]=[_0x4bbff7,_0x5b7e25,_0x411b17],_0x40113a[_0x3d008e(0x146)][_0x3d008e(0x14f)][_0x3d008e(0x1ce)][_0x10f035[_0x3d008e(0x1e5)]][0x1]=[{'Ref':_0x10f035[_0x3d008e(0x18a)]},{'Ref':_0x10f035[_0x3d008e(0x178)]},{'Ref':_0x10f035[_0x3d008e(0x1ed)]}];}}},addTags=async(_0xc34fe9,_0x5d1191,_0x462b46)=>{const _0x32bddf=a27_0x39096e,_0x13c8fd={'KpUBJ':function(_0x714239,_0x181277,_0x5e8faf){return _0x714239(_0x181277,_0x5e8faf);},'rELCX':function(_0x33aafe,_0x22e197){return _0x33aafe(_0x22e197);},'TROBA':function(_0x521667,_0x3eac1b){return _0x521667===_0x3eac1b;},'Tsygp':'uLWWU','rCSlM':_0x32bddf(0x141),'gCyBM':_0x32bddf(0x14c),'VmoGQ':function(_0x4fc25a,_0x13adda){return _0x4fc25a!==_0x13adda;},'TEWWU':_0x32bddf(0x1ba),'ZLgEN':_0x32bddf(0x1a9),'tvBKP':_0x32bddf(0x175),'UZJrV':'NodeGroupWindows'};for(const _0x12b7ce in _0xc34fe9['Resources']){_0x13c8fd[_0x32bddf(0x16f)](_0x13c8fd[_0x32bddf(0x1f7)],_0x13c8fd[_0x32bddf(0x19d)])?_0x13c8fd[_0x32bddf(0x1e7)](_0x73ac78,_0x11d8af,_0x9cd3d4):_0xc34fe9['Resources'][_0x12b7ce][_0x32bddf(0x15b)]&&_0xc34fe9[_0x32bddf(0x1cc)][_0x12b7ce][_0x32bddf(0x15b)]['Tags']&&(_0x13c8fd['VmoGQ'](_0x13c8fd[_0x32bddf(0x17b)],_0x13c8fd[_0x32bddf(0x190)])?_0xc34fe9['Resources'][_0x12b7ce]['Properties'][_0x32bddf(0x184)][_0x32bddf(0x1a7)](..._0x462b46):_0x295698[_0x32bddf(0x1f1)](_0x29be67)[_0x32bddf(0x1c4)](_0x153b9c=>{const _0x5a7990=_0x32bddf;var _0x27d656=_0x29ef88[_0x153b9c];_0x3ac18a[_0x5a7990(0x1f1)](_0x27d656)[_0x5a7990(0x1c4)](_0x567940=>{_0x36522a[_0x153b9c][_0x567940]=_0x27d656[_0x567940];});}));}const _0x57235c={};_0x462b46[_0x32bddf(0x1c4)](_0x3f51f5=>{const _0x5c57cd=_0x32bddf;if(_0x13c8fd[_0x5c57cd(0x16f)](_0x13c8fd['Tsygp'],_0x13c8fd[_0x5c57cd(0x1d5)]))_0x57235c[_0x3f51f5[_0x5c57cd(0x1b4)]]=_0x3f51f5[_0x5c57cd(0x1ce)];else{const _0x2dddbc={'KJTBb':function(_0x531aeb,_0x56f358){const _0x4a3200=_0x5c57cd;return _0x13c8fd[_0x4a3200(0x147)](_0x531aeb,_0x56f358);}};let _0x339a02=0x1;_0x5a83de['forEach'](_0x3235b8=>{const _0x2aecf2=_0x5c57cd;_0x562ee4[_0x2aecf2(0x1bc)][_0x2aecf2(0x1a7)]({'ParameterKey':_0x2aecf2(0x1c9)+_0x2dddbc['KJTBb'](_0x3f19e0,_0x339a02)['padStart'](0x2,'0'),'ParameterValue':_0x3235b8[_0x2aecf2(0x1ca)]}),_0x339a02+=0x1;});}}),_0xc34fe9[_0x32bddf(0x1cc)][_0x13c8fd[_0x32bddf(0x1b3)]][_0x32bddf(0x15b)]['Tags']=_0x57235c,_0xc34fe9['Resources'][_0x13c8fd[_0x32bddf(0x194)]][_0x32bddf(0x15b)][_0x32bddf(0x184)]=_0x57235c;};exports[a27_0x39096e(0x161)]=async(_0x4b4f4e,_0x1cf798,_0x57d056,_0x26e531=null,_0xc33f8b=null)=>{const _0x812cbe=a27_0x39096e,_0x2aa2fe={'LPDYs':function(_0x213dc7,_0x52d7f3){return _0x213dc7(_0x52d7f3);},'AdgsZ':'browserstack:cluster','lDTin':_0x812cbe(0x1d8),'KLRHw':_0x812cbe(0x14d),'IEvUk':_0x812cbe(0x1c1),'hkcFY':_0x812cbe(0x1aa),'gmlBq':_0x812cbe(0x165),'vBwlV':function(_0x3f6429,_0x5bb630,_0x7e210f){return _0x3f6429(_0x5bb630,_0x7e210f);},'JXjxv':function(_0x16fd37,_0x3e9517,_0x35471a,_0x1117c6){return _0x16fd37(_0x3e9517,_0x35471a,_0x1117c6);},'hdMlP':_0x812cbe(0x1ae),'gxEIi':_0x812cbe(0x1f2),'YPfMe':_0x812cbe(0x18b),'tvMEX':_0x812cbe(0x140),'bBxQE':_0x812cbe(0x1ee),'dKkve':_0x812cbe(0x1a2),'YENtu':_0x812cbe(0x1a1),'TRkom':_0x812cbe(0x18d),'QEROa':_0x812cbe(0x170),'NgLuI':_0x812cbe(0x17c),'TPWXJ':_0x812cbe(0x1f6),'pocBL':_0x812cbe(0x1c7),'HzACx':function(_0x11e072,_0x597ac4){return _0x11e072!=_0x597ac4;},'FnxyI':function(_0xf32481,_0x3d74ba){return _0xf32481!==_0x3d74ba;},'pEayL':function(_0x539508,_0x2a2e40){return _0x539508===_0x2a2e40;},'KwBZp':_0x812cbe(0x149),'fyDTf':'VPC','diRWz':_0x812cbe(0x1f9),'LHPKI':_0x812cbe(0x186)},_0x3b8758=COMMON_HST_TAGS,_0x1e9d2a={};_0x1e9d2a[_0x812cbe(0x1b4)]=_0x2aa2fe[_0x812cbe(0x1e1)],_0x1e9d2a['Value']=_0x4b4f4e,_0x3b8758['push'](_0x1e9d2a),_0x3b8758['push']({'Key':_0x2aa2fe[_0x812cbe(0x1be)],'Value':new Date()[_0x812cbe(0x16a)]()['toString']()});const _0x1f4565={};_0x1f4565['apiVersion']=_0x2aa2fe[_0x812cbe(0x162)];const _0x15f102=new AWS[(_0x812cbe(0x156))](_0x1f4565),_0x5dfb01=await fs[_0x812cbe(0x197)](path[_0x812cbe(0x153)](__dirname,'..',_0x2aa2fe[_0x812cbe(0x1ab)],_0x2aa2fe['hkcFY']),_0x2aa2fe[_0x812cbe(0x17e)]),_0x309e62={};_0x309e62[_0x812cbe(0x1eb)]=CLOUDFORMATION_SCHEMA;const _0x322831=yaml[_0x812cbe(0x195)](_0x5dfb01,_0x309e62);await _0x2aa2fe[_0x812cbe(0x1a5)](addVPCData,_0x322831,_0x26e531),await _0x2aa2fe[_0x812cbe(0x1f4)](addS3Data,_0x322831),await _0x2aa2fe[_0x812cbe(0x1a5)](addSubnetData,_0x322831,_0xc33f8b),await _0x2aa2fe[_0x812cbe(0x17f)](addTags,_0x322831,_0x4b4f4e,_0x3b8758);const _0xddbfdd=JSON[_0x812cbe(0x1ad)](_0x322831),_0x245a8f={};_0x245a8f[_0x812cbe(0x1f3)]=CLUSTER_DEP_STACK_NAME+'-'+_0x4b4f4e,_0x245a8f[_0x812cbe(0x1c2)]=_0x2aa2fe['hdMlP'],_0x245a8f[_0x812cbe(0x18c)]=_0xddbfdd,_0x245a8f[_0x812cbe(0x1bc)]=[{'ParameterKey':_0x2aa2fe[_0x812cbe(0x1b8)],'ParameterValue':_0x4b4f4e},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x13c)],'ParameterValue':_0x4b4f4e+_0x812cbe(0x143)},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x196)],'ParameterValue':''+_0x1cf798},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x15d)],'ParameterValue':'0'},{'ParameterKey':_0x2aa2fe['dKkve'],'ParameterValue':'1'},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x177)],'ParameterValue':''+_0x57d056},{'ParameterKey':_0x2aa2fe['TRkom'],'ParameterValue':global_registry[_0x812cbe(0x1fa)]},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x18e)],'ParameterValue':global_registry[_0x812cbe(0x164)]},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x174)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x2aa2fe[_0x812cbe(0x1b0)],'ParameterValue':_0x4b4f4e+_0x812cbe(0x192)}],_0x245a8f['Capabilities']=[_0x2aa2fe[_0x812cbe(0x19a)]],_0x245a8f['Tags']=_0x3b8758;const _0x3469b4=_0x245a8f;if(_0x2aa2fe[_0x812cbe(0x145)](_0x26e531,null)&&_0x2aa2fe[_0x812cbe(0x19f)](_0x26e531,undefined)){if(_0x2aa2fe['pEayL'](_0x2aa2fe[_0x812cbe(0x1a3)],_0x2aa2fe['KwBZp'])){const _0x5703cc={};_0x5703cc[_0x812cbe(0x1d9)]=_0x2aa2fe[_0x812cbe(0x168)],_0x5703cc[_0x812cbe(0x154)]=_0x26e531,_0x3469b4['Parameters'][_0x812cbe(0x1a7)](_0x5703cc);}else{var _0x2553c3=_0x590905[_0x2e381c];_0x19df15[_0x812cbe(0x1f1)](_0x2553c3)[_0x812cbe(0x1c4)](_0x3c53bc=>{_0x559762[_0x542524][_0x3c53bc]=_0x2553c3[_0x3c53bc];});}}if(_0x2aa2fe[_0x812cbe(0x145)](_0xc33f8b,null)&&_0x2aa2fe[_0x812cbe(0x19f)](_0xc33f8b,undefined)){let _0x1610ae=0x1;_0xc33f8b[_0x812cbe(0x1c4)](_0x3c0eee=>{const _0x19e0db=_0x812cbe;_0x3469b4[_0x19e0db(0x1bc)][_0x19e0db(0x1a7)]({'ParameterKey':'Subnet'+_0x2aa2fe[_0x19e0db(0x1f4)](String,_0x1610ae)[_0x19e0db(0x1a4)](0x2,'0'),'ParameterValue':_0x3c0eee[_0x19e0db(0x1ca)]}),_0x1610ae+=0x1;});}const _0x4260d3=await _0x15f102[_0x812cbe(0x1b5)](_0x3469b4)['promise']();logger[_0x812cbe(0x1c5)](_0x2aa2fe['diRWz']);const _0x41241f={};return _0x41241f[_0x812cbe(0x1f3)]=_0x4260d3[_0x812cbe(0x1d0)],_0x15f102[_0x812cbe(0x1ec)](_0x2aa2fe[_0x812cbe(0x19b)],_0x41241f)[_0x812cbe(0x1b9)]();};