const a27_0x111073=a27_0x170e;(function(_0x30f60a,_0x551c18){const _0x2f58c1=a27_0x170e,_0x22bbdf=_0x30f60a();while(!![]){try{const _0x280f8b=parseInt(_0x2f58c1(0x1c3))/0x1*(parseInt(_0x2f58c1(0x22d))/0x2)+-parseInt(_0x2f58c1(0x219))/0x3*(parseInt(_0x2f58c1(0x211))/0x4)+parseInt(_0x2f58c1(0x1a1))/0x5*(-parseInt(_0x2f58c1(0x203))/0x6)+parseInt(_0x2f58c1(0x1f0))/0x7*(parseInt(_0x2f58c1(0x177))/0x8)+-parseInt(_0x2f58c1(0x21c))/0x9*(-parseInt(_0x2f58c1(0x216))/0xa)+-parseInt(_0x2f58c1(0x1ec))/0xb*(parseInt(_0x2f58c1(0x196))/0xc)+parseInt(_0x2f58c1(0x18a))/0xd*(-parseInt(_0x2f58c1(0x22a))/0xe);if(_0x280f8b===_0x551c18)break;else _0x22bbdf['push'](_0x22bbdf['shift']());}catch(_0x16995d){_0x22bbdf['push'](_0x22bbdf['shift']());}}}(a27_0x5b61,0xea79c));function a27_0x170e(_0x442976,_0x4a0509){const _0x5b61c2=a27_0x5b61();return a27_0x170e=function(_0x170e5a,_0x5521d7){_0x170e5a=_0x170e5a-0x172;let _0x16c0b5=_0x5b61c2[_0x170e5a];return _0x16c0b5;},a27_0x170e(_0x442976,_0x4a0509);}function a27_0x5b61(){const _0x20ab83=['Outputs','4567188FddwbU','ClusterName','HJmLm','djaCv','RPsFc','MDaII','cQByt','LGjMJ','utf-8','DCzvN','gFzWQ','25HwiGoG','EKSCluster','valueOf','ami','cMZtN','Resources','LSSny','debug','dZoCm','sbbHG','bluebird','./AWSUtils','NodeAutoScalingGroupMaxSize','ResourcesVpcConfig','XHgyo','VQWAS','rBaET','push','s3Bucket','CFTemplates','ZOTLW','Tags','kGyED','stringify','ACXuT','S3BucketName','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','vhrnn','GgAJx','Subnet01','ZYgfK','dFfVb','fmvWL','StackName','152353BqupXr','value','OnFailure','koIEk','OKWhv','wxfGM','uhXAL','bTXdv','hlhMj','NodeAutoScalingGroupMinSizeWindows','2010-05-15','2|0|1|5|4|3','Key','vpc-import.yaml','qCYCA','createStack','FKJMX','nwmIN','yAwmW','browserstack:cluster','SubnetIds','gGYnL','CloudFormation','keys','yDebZ','VPC','GwXgs','IsVKb','NodeGroup','Value','uwuyT','Fn::Join','OFOxv','vpc-create.yaml','readFileAsync','../config/constants','s3-create.yaml','NodeInstanceType','YpNmc','NUDhq','instanceType','11gsMzjz','ViWAx','TRIeJ','js-yaml','13145062UaeSGF','promise','XOvGT','browserstack:creationDate','Subnet','forEach','Subnet03','Subnet03Block','Subnets','NodeGroupNameWindows','Metadata','awsObj','FfBJr','ParameterValue','-Windows-NodeGroup','nsdaV','js-yaml-cloudformation-schema','NodeGroupWindows','RKDij','474834SFVbJA','waitFor','OMcaU','FTdBp','fSgai','jdWul','HdzQL','split','KFlDM','MZfYv','xNLXb','Parameters','ParameterGroups','hUsLw','1415356IxWRmK','SEZIE','jeqAp','zOuDv','cLEwh','20GqGnCo','NodeAutoScalingGroupMinSize','Ejlkc','3aZMRBC','Properties','RhfTE','7342344YADaGA','schema','EESYY','Subnet02','LvmkO','ybRbL','load','exjoI','RzpWH','aOnHI','RfIMu','GDZGM','cSKZh','AWS::CloudFormation::Interface','5088342LlwjuG','Subnet02Block','qIRGk','10oEBnff','paehm','SILYx','createClusterStack','fPzzt','wlAYK','XmEHx','jpYTZ','UMKCK','CthRd','eOEgD','FyjUL','DELETE','../config/logger','NodeGroupName','IiISb','jgpZa','XGLjK','8Adbntn','oqyYe','VpIoi','SEUSy','xiGYZ','nSlTX','iGrbe','SCOeB','CGeAf','Ref','CNqoU','join','NodeAutoScalingGroupDesiredSizeWindows','zMWcD','RNanZ','mrEvV','kbjLD','padStart','ParameterKey','78ULpXoT','UQtVg','cYLbj','svIdc','nuLgS','GHPtH','apiVersion','WZARS','subnet-create.yaml','tQiCI','path'];a27_0x5b61=function(){return _0x20ab83;};return a27_0x5b61();}const fs=require('fs'),path=require(a27_0x111073(0x194)),Promise=require(a27_0x111073(0x1ab)),yaml=require(a27_0x111073(0x1ef)),{CLOUDFORMATION_SCHEMA}=require(a27_0x111073(0x200)),AWS=require('./AWSUtils')[a27_0x111073(0x1fb)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x111073(0x1e6)),{logger}=require(a27_0x111073(0x172)),{isBucketPresent}=require(a27_0x111073(0x1ac));Promise['promisifyAll'](fs);const mergeTemplates=(_0x162090,_0x130bc9)=>{const _0x4c3ec9=a27_0x111073,_0x498da2={};_0x498da2[_0x4c3ec9(0x1bf)]=function(_0x378c5c,_0x5dfd65){return _0x378c5c===_0x5dfd65;},_0x498da2[_0x4c3ec9(0x224)]=_0x4c3ec9(0x184),_0x498da2[_0x4c3ec9(0x22e)]=_0x4c3ec9(0x221),_0x498da2[_0x4c3ec9(0x174)]='LdwFl';const _0x583de4=_0x498da2;Object[_0x4c3ec9(0x1da)](_0x130bc9)[_0x4c3ec9(0x1f5)](_0x9ecab6=>{const _0x2044b2=_0x4c3ec9,_0x890e25={'rBaET':function(_0xb7ac3d,_0x2ae788){return _0x583de4['ZYgfK'](_0xb7ac3d,_0x2ae788);},'VpIoi':_0x583de4['RzpWH']};if(_0x583de4[_0x2044b2(0x1bf)](_0x583de4[_0x2044b2(0x22e)],_0x583de4[_0x2044b2(0x174)]))_0x37a342[_0x1de5fd][_0x2baad1]=_0x36ff6e[_0xc81249];else{var _0x5c8ccb=_0x130bc9[_0x9ecab6];Object[_0x2044b2(0x1da)](_0x5c8ccb)[_0x2044b2(0x1f5)](_0x3ee156=>{const _0x5a6d79=_0x2044b2;_0x890e25[_0x5a6d79(0x1b1)](_0x890e25[_0x5a6d79(0x179)],_0x890e25['VpIoi'])?_0x162090[_0x9ecab6][_0x3ee156]=_0x5c8ccb[_0x3ee156]:_0x5ef25f[_0x5a6d79(0x1a6)][_0x31aa35][_0x5a6d79(0x21a)]['Tags'][_0x5a6d79(0x1b2)](..._0x4c763c);});}});},addVPCData=async(_0x48676c,_0x1265f4)=>{const _0x406b92=a27_0x111073,_0x3df345={'GHPtH':function(_0x47f8a0,_0x433925){return _0x47f8a0(_0x433925);},'cLEwh':function(_0xd7a470,_0x36562d){return _0xd7a470===_0x36562d;},'wxfGM':_0x406b92(0x1aa),'IsVKb':_0x406b92(0x1b4),'cMZtN':_0x406b92(0x1d0),'FyjUL':'utf-8','hlhMj':function(_0x7d4247,_0x34d63d,_0x4554fe){return _0x7d4247(_0x34d63d,_0x4554fe);},'dFfVb':'AWS::CloudFormation::Interface','XOvGT':'VPC','jpYTZ':function(_0x1b4aec,_0x4e982c){return _0x1b4aec===_0x4e982c;},'JoPUj':'OghhE','svIdc':'lSrEo','UMKCK':_0x406b92(0x1e4),'ACXuT':'VpcBlock'};if(_0x1265f4){if(_0x3df345[_0x406b92(0x215)](_0x3df345['wxfGM'],_0x3df345[_0x406b92(0x1c8)])){const _0x1b2138=await fs[_0x406b92(0x1e5)](path[_0x406b92(0x182)](__dirname,'..',_0x3df345[_0x406b92(0x1de)],_0x3df345[_0x406b92(0x1a5)]),_0x3df345[_0x406b92(0x238)]),_0x1f5b1a={};_0x1f5b1a[_0x406b92(0x21d)]=CLOUDFORMATION_SCHEMA;const _0x3fbce9=yaml[_0x406b92(0x222)](_0x1b2138,_0x1f5b1a);_0x3df345[_0x406b92(0x1cb)](mergeTemplates,_0x48676c,_0x3fbce9),_0x48676c[_0x406b92(0x1fa)][_0x3df345[_0x406b92(0x1c0)]][_0x406b92(0x20f)][0x0]['Parameters'][_0x406b92(0x1b2)](_0x3df345[_0x406b92(0x1f2)]);}else _0x28b939[_0x406b92(0x1da)](_0xd6d9c0)[_0x406b92(0x1f5)](_0x1f1ea8=>{const _0x46c5ec=_0x406b92;var _0x44a6b3=_0x21c97f[_0x1f1ea8];_0x12f7a0['keys'](_0x44a6b3)[_0x46c5ec(0x1f5)](_0x8bb9bc=>{_0x5bd6fb[_0x1f1ea8][_0x8bb9bc]=_0x44a6b3[_0x8bb9bc];});});}else{if(_0x3df345[_0x406b92(0x234)](_0x3df345['JoPUj'],_0x3df345[_0x406b92(0x18d)]))_0x29c7eb['Parameters']['push']({'ParameterKey':_0x406b92(0x1f4)+_0x3df345[_0x406b92(0x18f)](_0x1c0831,_0x38fea9)['padStart'](0x2,'0'),'ParameterValue':_0x3ecfb8['value']}),_0x336ebd+=0x1;else{const _0x2a0e49=await fs[_0x406b92(0x1e5)](path['join'](__dirname,'..',_0x3df345[_0x406b92(0x1de)],_0x3df345[_0x406b92(0x235)]),_0x3df345[_0x406b92(0x238)]),_0x17f8d3={};_0x17f8d3[_0x406b92(0x21d)]=CLOUDFORMATION_SCHEMA;const _0x1a1ae6=yaml[_0x406b92(0x222)](_0x2a0e49,_0x17f8d3);_0x3df345[_0x406b92(0x1cb)](mergeTemplates,_0x48676c,_0x1a1ae6),_0x48676c[_0x406b92(0x1fa)][_0x3df345['dFfVb']][_0x406b92(0x20f)][0x0][_0x406b92(0x20e)][_0x406b92(0x1b2)](_0x3df345[_0x406b92(0x1b9)]);}}},addS3Data=async _0xf1a4f7=>{const _0x4b6734=a27_0x111073,_0x1a0f88={'CNqoU':_0x4b6734(0x1b4),'zOuDv':_0x4b6734(0x1e7),'RfIMu':_0x4b6734(0x19e),'UQtVg':function(_0x2563d9,_0x4cc74c){return _0x2563d9(_0x4cc74c);},'nuLgS':function(_0x56a758,_0x3105d9){return _0x56a758===_0x3105d9;},'yAwmW':_0x4b6734(0x1a0),'jeqAp':_0x4b6734(0x17d),'fPzzt':function(_0x46f038,_0x454da9,_0x23c71d){return _0x46f038(_0x454da9,_0x23c71d);}},_0x40fbb1=await fs[_0x4b6734(0x1e5)](path[_0x4b6734(0x182)](__dirname,'..',_0x1a0f88[_0x4b6734(0x181)],_0x1a0f88[_0x4b6734(0x214)]),_0x1a0f88[_0x4b6734(0x226)]),_0x4f37bf={};_0x4f37bf[_0x4b6734(0x21d)]=CLOUDFORMATION_SCHEMA;const _0x452747=yaml[_0x4b6734(0x222)](_0x40fbb1,_0x4f37bf),_0x2fe1df=await _0x1a0f88[_0x4b6734(0x18b)](isBucketPresent,global_registry[_0x4b6734(0x1b3)]);_0x1a0f88[_0x4b6734(0x18e)](_0x2fe1df,![])&&(_0x1a0f88['nuLgS'](_0x1a0f88[_0x4b6734(0x1d5)],_0x1a0f88[_0x4b6734(0x213)])?_0x3f6d36[_0x4a3b9c[_0x4b6734(0x1cf)]]=_0x26af99[_0x4b6734(0x1e0)]:_0x1a0f88[_0x4b6734(0x231)](mergeTemplates,_0xf1a4f7,_0x452747));},addSubnetData=async(_0x506c6c,_0x19ef1a)=>{const _0x5958ac=a27_0x111073,_0x462efb={'DCzvN':function(_0x5c9c69,_0x5dcdf6,_0x4aaf4c){return _0x5c9c69(_0x5dcdf6,_0x4aaf4c);},'XGLjK':function(_0xf9d16b,_0x6a1698){return _0xf9d16b!==_0x6a1698;},'RNanZ':_0x5958ac(0x1af),'xNLXb':'LLzAA','CGeAf':_0x5958ac(0x1ce),'xiGYZ':'AWS::CloudFormation::Interface','vUFKn':function(_0x423633,_0x5c3b43){return _0x423633(_0x5c3b43);},'koIEk':function(_0xcbdfb7,_0x1035ac){return _0xcbdfb7(_0x1035ac);},'Ejlkc':function(_0x460c7c,_0x2fca6e){return _0x460c7c(_0x2fca6e);},'ViWAx':_0x5958ac(0x1e2),'TRIeJ':function(_0x1023d2,_0xe318aa){return _0x1023d2!==_0xe318aa;},'HJmLm':'BKQYS','fmvWL':'CFTemplates','NUDhq':'subnet-import.yaml','jgpZa':_0x5958ac(0x19e),'qIRGk':function(_0x491591,_0x4ff803,_0x13d48e){return _0x491591(_0x4ff803,_0x13d48e);},'HdzQL':function(_0x4db928,_0x1cb5fb){return _0x4db928===_0x1cb5fb;},'GwXgs':_0x5958ac(0x1b0),'LvmkO':_0x5958ac(0x192),'ZOTLW':function(_0x9f8b65,_0x56543d,_0x44b3df){return _0x9f8b65(_0x56543d,_0x44b3df);},'gGYnL':_0x5958ac(0x1be),'fSgai':_0x5958ac(0x21f),'CthRd':_0x5958ac(0x1f6),'MZfYv':'Subnet01Block','xdABV':_0x5958ac(0x22b),'uwuyT':_0x5958ac(0x1f7)};if(_0x19ef1a){if(_0x462efb[_0x5958ac(0x1ee)](_0x462efb[_0x5958ac(0x198)],_0x462efb['HJmLm'])){var _0x4f6dc5=_0x31bfa9[_0x1801a5];_0x271cd1[_0x5958ac(0x1da)](_0x4f6dc5)[_0x5958ac(0x1f5)](_0x4cd3f2=>{_0x4be435[_0x670ec7][_0x4cd3f2]=_0x4f6dc5[_0x4cd3f2];});}else{const _0x262cf7=await fs[_0x5958ac(0x1e5)](path[_0x5958ac(0x182)](__dirname,'..',_0x462efb['fmvWL'],_0x462efb[_0x5958ac(0x1ea)]),_0x462efb[_0x5958ac(0x175)]),_0x432c98={};_0x432c98[_0x5958ac(0x21d)]=CLOUDFORMATION_SCHEMA;const _0x3c860f=yaml[_0x5958ac(0x222)](_0x262cf7,_0x432c98);_0x462efb[_0x5958ac(0x22c)](mergeTemplates,_0x506c6c,_0x3c860f);let _0x2f7406=0x1;_0x19ef1a[_0x5958ac(0x1f5)](_0x45c00b=>{const _0x130fcd=_0x5958ac,_0x495c9f={'bTXdv':function(_0x4ed958,_0x28008a,_0x4caaaa){const _0x3a6950=a27_0x170e;return _0x462efb[_0x3a6950(0x19f)](_0x4ed958,_0x28008a,_0x4caaaa);}};if(_0x462efb[_0x130fcd(0x176)](_0x462efb[_0x130fcd(0x185)],_0x462efb[_0x130fcd(0x20d)])){const _0xde5258=_0x462efb[_0x130fcd(0x17f)][_0x130fcd(0x20a)]('|');let _0x47bb40=0x0;while(!![]){switch(_0xde5258[_0x47bb40++]){case'0':_0x506c6c[_0x130fcd(0x1fa)][_0x462efb[_0x130fcd(0x17b)]][_0x130fcd(0x20f)][0x0][_0x130fcd(0x20e)][_0x130fcd(0x1b2)]('Subnet'+_0x462efb['vUFKn'](String,_0x2f7406)[_0x130fcd(0x188)](0x2,'0'));continue;case'1':_0x506c6c[_0x130fcd(0x1a6)][_0x130fcd(0x1df)]['Properties'][_0x130fcd(0x1f8)][_0x130fcd(0x1b2)]({'Ref':_0x130fcd(0x1f4)+_0x462efb[_0x130fcd(0x1c6)](String,_0x2f7406)[_0x130fcd(0x188)](0x2,'0')});continue;case'2':_0x506c6c[_0x130fcd(0x1a6)][_0x130fcd(0x1a2)][_0x130fcd(0x21a)]['ResourcesVpcConfig']['SubnetIds'][_0x130fcd(0x1b2)]({'Ref':_0x130fcd(0x1f4)+_0x462efb[_0x130fcd(0x218)](String,_0x2f7406)['padStart'](0x2,'0')});continue;case'3':_0x2f7406+=0x1;continue;case'4':_0x506c6c[_0x130fcd(0x195)][_0x130fcd(0x1d7)][_0x130fcd(0x1e0)][_0x462efb[_0x130fcd(0x1ed)]][0x1]['push']({'Ref':_0x130fcd(0x1f4)+_0x462efb[_0x130fcd(0x218)](String,_0x2f7406)[_0x130fcd(0x188)](0x2,'0')});continue;case'5':_0x506c6c[_0x130fcd(0x1a6)][_0x130fcd(0x201)][_0x130fcd(0x21a)][_0x130fcd(0x1f8)][_0x130fcd(0x1b2)]({'Ref':_0x130fcd(0x1f4)+_0x462efb[_0x130fcd(0x218)](String,_0x2f7406)[_0x130fcd(0x188)](0x2,'0')});continue;}break;}}else _0x495c9f[_0x130fcd(0x1ca)](_0x572418,_0x1ed754,_0x599ea2);});}}else{if(_0x462efb[_0x5958ac(0x209)](_0x462efb['GwXgs'],_0x462efb[_0x5958ac(0x1dd)])){const _0x582ccf=await fs[_0x5958ac(0x1e5)](path['join'](__dirname,'..',_0x462efb[_0x5958ac(0x1c1)],_0x462efb[_0x5958ac(0x220)]),_0x462efb[_0x5958ac(0x175)]),_0x457ed1={};_0x457ed1[_0x5958ac(0x21d)]=CLOUDFORMATION_SCHEMA;const _0x56a327=yaml[_0x5958ac(0x222)](_0x582ccf,_0x457ed1);_0x462efb[_0x5958ac(0x1b5)](mergeTemplates,_0x506c6c,_0x56a327),_0x506c6c['Resources'][_0x5958ac(0x1a2)]['DependsOn']['push'](_0x462efb[_0x5958ac(0x1d8)],_0x462efb[_0x5958ac(0x207)],_0x462efb[_0x5958ac(0x236)]);const _0x201797={};_0x201797[_0x5958ac(0x180)]=_0x462efb[_0x5958ac(0x1d8)];const _0x3ab754={};_0x3ab754['Ref']=_0x462efb[_0x5958ac(0x207)];const _0x597154={};_0x597154['Ref']=_0x462efb[_0x5958ac(0x236)],_0x506c6c['Resources'][_0x5958ac(0x1a2)][_0x5958ac(0x21a)][_0x5958ac(0x1ae)]['SubnetIds']=[_0x201797,_0x3ab754,_0x597154],_0x506c6c[_0x5958ac(0x1fa)][_0x462efb['xiGYZ']][_0x5958ac(0x20f)][0x0]['Parameters']['push'](_0x462efb[_0x5958ac(0x20c)],_0x462efb['xdABV'],_0x462efb[_0x5958ac(0x1e1)]);const _0x41b5e9={};_0x41b5e9[_0x5958ac(0x180)]=_0x462efb[_0x5958ac(0x1d8)];const _0x43a631={};_0x43a631[_0x5958ac(0x180)]=_0x462efb[_0x5958ac(0x207)];const _0x206278={};_0x206278[_0x5958ac(0x180)]=_0x462efb[_0x5958ac(0x236)],_0x506c6c['Resources'][_0x5958ac(0x1df)]['Properties']['Subnets']=[_0x41b5e9,_0x43a631,_0x206278];const _0xb2b828={};_0xb2b828['Ref']=_0x462efb[_0x5958ac(0x1d8)];const _0x5938ea={};_0x5938ea['Ref']=_0x462efb[_0x5958ac(0x207)];const _0x3b52ee={};_0x3b52ee[_0x5958ac(0x180)]=_0x462efb[_0x5958ac(0x236)],_0x506c6c[_0x5958ac(0x1a6)][_0x5958ac(0x201)]['Properties']['Subnets']=[_0xb2b828,_0x5938ea,_0x3b52ee],_0x506c6c[_0x5958ac(0x195)][_0x5958ac(0x1d7)][_0x5958ac(0x1e0)][_0x462efb[_0x5958ac(0x1ed)]][0x1]=[{'Ref':_0x462efb[_0x5958ac(0x1d8)]},{'Ref':_0x462efb[_0x5958ac(0x207)]},{'Ref':_0x462efb[_0x5958ac(0x236)]}];}else _0x3b2279['Resources'][_0x1568b5][_0x5958ac(0x21a)]&&_0x11d26d[_0x5958ac(0x1a6)][_0xb83f48][_0x5958ac(0x21a)][_0x5958ac(0x1b6)]&&_0x46f7a1['Resources'][_0x599a49]['Properties'][_0x5958ac(0x1b6)][_0x5958ac(0x1b2)](..._0x4f5815);}},addTags=async(_0x598a0b,_0x57a48b,_0x124727)=>{const _0x5553e9=a27_0x111073,_0x4cdbd4={'ZFhPM':_0x5553e9(0x1dc),'EESYY':_0x5553e9(0x1df),'SILYx':_0x5553e9(0x201),'kGyED':function(_0x1a97f1,_0x3018bc){return _0x1a97f1(_0x3018bc);},'SEUSy':function(_0x296673,_0x40c44e){return _0x296673!==_0x40c44e;},'jdWul':_0x5553e9(0x1d1),'nwmIN':_0x5553e9(0x19a),'RDEbi':function(_0x311760,_0xf0389){return _0x311760===_0xf0389;},'djaCv':_0x5553e9(0x1db),'wlAYK':_0x5553e9(0x1d3)};for(const _0x25dd77 in _0x598a0b['Resources']){if(_0x4cdbd4['RDEbi'](_0x4cdbd4[_0x5553e9(0x199)],_0x4cdbd4[_0x5553e9(0x199)])){if(_0x598a0b[_0x5553e9(0x1a6)][_0x25dd77][_0x5553e9(0x21a)]&&_0x598a0b['Resources'][_0x25dd77]['Properties'][_0x5553e9(0x1b6)]){if(_0x4cdbd4['SEUSy'](_0x4cdbd4[_0x5553e9(0x232)],_0x4cdbd4[_0x5553e9(0x232)])){const _0x51c710={};_0x51c710['ParameterKey']=_0x4cdbd4['ZFhPM'],_0x51c710[_0x5553e9(0x1fd)]=_0x16332e,_0x1982bc[_0x5553e9(0x20e)][_0x5553e9(0x1b2)](_0x51c710);}else _0x598a0b[_0x5553e9(0x1a6)][_0x25dd77][_0x5553e9(0x21a)][_0x5553e9(0x1b6)][_0x5553e9(0x1b2)](..._0x124727);}}else{for(const _0x4f19fb in _0x50496d[_0x5553e9(0x1a6)]){_0xc1f526[_0x5553e9(0x1a6)][_0x4f19fb][_0x5553e9(0x21a)]&&_0x1c70aa[_0x5553e9(0x1a6)][_0x4f19fb]['Properties'][_0x5553e9(0x1b6)]&&_0x417e9b[_0x5553e9(0x1a6)][_0x4f19fb][_0x5553e9(0x21a)][_0x5553e9(0x1b6)]['push'](..._0x14fd97);}const _0x1cebdc={};_0x5b381e[_0x5553e9(0x1f5)](_0x783018=>{const _0x427a4e=_0x5553e9;_0x1cebdc[_0x783018[_0x427a4e(0x1cf)]]=_0x783018[_0x427a4e(0x1e0)];}),_0x3b7a3c[_0x5553e9(0x1a6)][_0x4cdbd4['EESYY']]['Properties'][_0x5553e9(0x1b6)]=_0x1cebdc,_0x38f5e7['Resources'][_0x4cdbd4[_0x5553e9(0x22f)]]['Properties']['Tags']=_0x1cebdc;}}const _0x443483={};_0x124727[_0x5553e9(0x1f5)](_0x4e9304=>{const _0x51ddce=_0x5553e9,_0x5ad27f={'KFlDM':function(_0x309cf3,_0x5b42b9){const _0xc1d231=a27_0x170e;return _0x4cdbd4[_0xc1d231(0x1b7)](_0x309cf3,_0x5b42b9);}};if(_0x4cdbd4[_0x51ddce(0x17a)](_0x4cdbd4[_0x51ddce(0x208)],_0x4cdbd4[_0x51ddce(0x1d4)]))_0x443483[_0x4e9304[_0x51ddce(0x1cf)]]=_0x4e9304[_0x51ddce(0x1e0)];else{let _0x29c94f=0x1;_0x5bf97d[_0x51ddce(0x1f5)](_0x3b4afa=>{const _0xe6b498=_0x51ddce;_0x33f8f3['Parameters'][_0xe6b498(0x1b2)]({'ParameterKey':_0xe6b498(0x1f4)+_0x5ad27f[_0xe6b498(0x20b)](_0x2e26d2,_0x29c94f)[_0xe6b498(0x188)](0x2,'0'),'ParameterValue':_0x3b4afa[_0xe6b498(0x1c4)]}),_0x29c94f+=0x1;});}}),_0x598a0b[_0x5553e9(0x1a6)][_0x4cdbd4[_0x5553e9(0x21e)]][_0x5553e9(0x21a)][_0x5553e9(0x1b6)]=_0x443483,_0x598a0b[_0x5553e9(0x1a6)][_0x4cdbd4[_0x5553e9(0x22f)]]['Properties']['Tags']=_0x443483;};exports[a27_0x111073(0x230)]=async(_0x1d781f,_0x49e8da,_0x5977a0,_0x181ba9=null,_0x4650a8=null)=>{const _0x588160=a27_0x111073,_0x47688d={'SEZIE':'0|2|4|1|3|5','GDZGM':function(_0x52662d,_0x12da78){return _0x52662d(_0x12da78);},'MDaII':function(_0x14e266,_0x1ab35d){return _0x14e266(_0x1ab35d);},'vhrnn':_0x588160(0x229),'OKWhv':function(_0xd45610,_0x27621c){return _0xd45610(_0x27621c);},'FTdBp':_0x588160(0x1e2),'nsdaV':function(_0x51c365,_0x3fe0e1){return _0x51c365(_0x3fe0e1);},'cQByt':_0x588160(0x1d6),'ESsjO':_0x588160(0x1f3),'dZoCm':_0x588160(0x1cd),'mrEvV':'CFTemplates','XmEHx':'aws-eks-cluster-dep.yaml','LSSny':_0x588160(0x19e),'aOnHI':function(_0x1b32e0,_0x113070,_0x3e2cd8){return _0x1b32e0(_0x113070,_0x3e2cd8);},'LavKJ':function(_0x27b3c1,_0x1a05fd){return _0x27b3c1(_0x1a05fd);},'tQiCI':function(_0x267916,_0x57c96a,_0x42677f){return _0x267916(_0x57c96a,_0x42677f);},'GgAJx':function(_0x434371,_0x851ded,_0x468129,_0x50a179){return _0x434371(_0x851ded,_0x468129,_0x50a179);},'OFOxv':_0x588160(0x239),'CLuxF':_0x588160(0x197),'YpNmc':_0x588160(0x173),'SCOeB':_0x588160(0x217),'FfBJr':_0x588160(0x1cc),'shTKq':_0x588160(0x183),'OMcaU':_0x588160(0x1ad),'LGjMJ':'NodeImageId','cSKZh':_0x588160(0x1e8),'RKDij':_0x588160(0x1ba),'eOEgD':_0x588160(0x1f9),'gudJK':'CAPABILITY_NAMED_IAM','oqyYe':function(_0x4de6bf,_0x30e3b8){return _0x4de6bf!=_0x30e3b8;},'XmkPR':function(_0x211364,_0x1f4deb){return _0x211364!==_0x1f4deb;},'YxOpJ':function(_0x2fee64,_0x2fb6c2){return _0x2fee64!==_0x2fb6c2;},'aTBoS':_0x588160(0x223),'kbjLD':_0x588160(0x191),'hUsLw':'VPC','nSlTX':function(_0x240b6c,_0x3bc03e){return _0x240b6c!=_0x3bc03e;},'cYLbj':function(_0x36bc57,_0x60f5b3){return _0x36bc57!==_0x60f5b3;},'uhXAL':_0x588160(0x1bb),'RhfTE':'stackCreateComplete'},_0x297b5a=COMMON_HST_TAGS,_0x2bd0e9={};_0x2bd0e9['Key']=_0x47688d[_0x588160(0x19c)],_0x2bd0e9['Value']=_0x1d781f,_0x297b5a['push'](_0x2bd0e9),_0x297b5a[_0x588160(0x1b2)]({'Key':_0x47688d['ESsjO'],'Value':new Date()[_0x588160(0x1a3)]()['toString']()});const _0x4d01ed={};_0x4d01ed[_0x588160(0x190)]=_0x47688d[_0x588160(0x1a9)];const _0x1353f8=new AWS[(_0x588160(0x1d9))](_0x4d01ed),_0x24e6f8=await fs[_0x588160(0x1e5)](path['join'](__dirname,'..',_0x47688d[_0x588160(0x186)],_0x47688d[_0x588160(0x233)]),_0x47688d[_0x588160(0x1a7)]),_0x3e03d7={};_0x3e03d7[_0x588160(0x21d)]=CLOUDFORMATION_SCHEMA;const _0x59dca9=yaml['load'](_0x24e6f8,_0x3e03d7);await _0x47688d[_0x588160(0x225)](addVPCData,_0x59dca9,_0x181ba9),await _0x47688d['LavKJ'](addS3Data,_0x59dca9),await _0x47688d[_0x588160(0x193)](addSubnetData,_0x59dca9,_0x4650a8),await _0x47688d[_0x588160(0x1bd)](addTags,_0x59dca9,_0x1d781f,_0x297b5a);const _0x2169be=JSON[_0x588160(0x1b8)](_0x59dca9),_0x5e175c={};_0x5e175c[_0x588160(0x1c2)]=CLUSTER_DEP_STACK_NAME+'-'+_0x1d781f,_0x5e175c[_0x588160(0x1c5)]=_0x47688d[_0x588160(0x1e3)],_0x5e175c['TemplateBody']=_0x2169be,_0x5e175c['Parameters']=[{'ParameterKey':_0x47688d['CLuxF'],'ParameterValue':_0x1d781f},{'ParameterKey':_0x47688d[_0x588160(0x1e9)],'ParameterValue':_0x1d781f+'-NodeGroup'},{'ParameterKey':_0x47688d[_0x588160(0x17e)],'ParameterValue':''+_0x49e8da},{'ParameterKey':_0x47688d[_0x588160(0x1fc)],'ParameterValue':'0'},{'ParameterKey':_0x47688d['shTKq'],'ParameterValue':'1'},{'ParameterKey':_0x47688d[_0x588160(0x205)],'ParameterValue':''+_0x5977a0},{'ParameterKey':_0x47688d[_0x588160(0x19d)],'ParameterValue':global_registry[_0x588160(0x1a4)]},{'ParameterKey':_0x47688d[_0x588160(0x228)],'ParameterValue':global_registry[_0x588160(0x1eb)]},{'ParameterKey':_0x47688d[_0x588160(0x202)],'ParameterValue':global_registry[_0x588160(0x1b3)]},{'ParameterKey':_0x47688d[_0x588160(0x237)],'ParameterValue':_0x1d781f+_0x588160(0x1fe)}],_0x5e175c['Capabilities']=[_0x47688d['gudJK']],_0x5e175c['Tags']=_0x297b5a;const _0x14a45b=_0x5e175c;if(_0x47688d[_0x588160(0x178)](_0x181ba9,null)&&_0x47688d['XmkPR'](_0x181ba9,undefined)){if(_0x47688d['YxOpJ'](_0x47688d['aTBoS'],_0x47688d[_0x588160(0x187)])){const _0x36ac5a={};_0x36ac5a[_0x588160(0x189)]=_0x47688d[_0x588160(0x210)],_0x36ac5a[_0x588160(0x1fd)]=_0x181ba9,_0x14a45b['Parameters'][_0x588160(0x1b2)](_0x36ac5a);}else{const _0x443c5d=_0x47688d[_0x588160(0x212)][_0x588160(0x20a)]('|');let _0x1adf3c=0x0;while(!![]){switch(_0x443c5d[_0x1adf3c++]){case'0':_0x2dda3a[_0x588160(0x1a6)][_0x588160(0x1a2)][_0x588160(0x21a)][_0x588160(0x1ae)][_0x588160(0x1d7)]['push']({'Ref':_0x588160(0x1f4)+_0x47688d[_0x588160(0x227)](_0x3c1f40,_0x464044)[_0x588160(0x188)](0x2,'0')});continue;case'1':_0x40b161[_0x588160(0x1a6)][_0x588160(0x201)][_0x588160(0x21a)]['Subnets']['push']({'Ref':_0x588160(0x1f4)+_0x47688d[_0x588160(0x19b)](_0x2071aa,_0x269ccd)['padStart'](0x2,'0')});continue;case'2':_0x16760e[_0x588160(0x1fa)][_0x47688d[_0x588160(0x1bc)]][_0x588160(0x20f)][0x0][_0x588160(0x20e)][_0x588160(0x1b2)]('Subnet'+_0x47688d[_0x588160(0x1c7)](_0x35d3ca,_0x3dacbd)[_0x588160(0x188)](0x2,'0'));continue;case'3':_0x2faa52[_0x588160(0x195)][_0x588160(0x1d7)][_0x588160(0x1e0)][_0x47688d[_0x588160(0x206)]][0x1][_0x588160(0x1b2)]({'Ref':'Subnet'+_0x47688d['MDaII'](_0x26cf55,_0x2dfb56)[_0x588160(0x188)](0x2,'0')});continue;case'4':_0x4baf11['Resources'][_0x588160(0x1df)][_0x588160(0x21a)][_0x588160(0x1f8)][_0x588160(0x1b2)]({'Ref':'Subnet'+_0x47688d[_0x588160(0x19b)](_0x3c1464,_0x4ff8fb)[_0x588160(0x188)](0x2,'0')});continue;case'5':_0x17c021+=0x1;continue;}break;}}}if(_0x47688d[_0x588160(0x17c)](_0x4650a8,null)&&_0x47688d[_0x588160(0x18c)](_0x4650a8,undefined)){let _0x112c6b=0x1;_0x4650a8[_0x588160(0x1f5)](_0x4ab69b=>{const _0x4510ea=_0x588160;_0x14a45b[_0x4510ea(0x20e)][_0x4510ea(0x1b2)]({'ParameterKey':'Subnet'+_0x47688d[_0x4510ea(0x1ff)](String,_0x112c6b)[_0x4510ea(0x188)](0x2,'0'),'ParameterValue':_0x4ab69b[_0x4510ea(0x1c4)]}),_0x112c6b+=0x1;});}const _0x4d7098=await _0x1353f8[_0x588160(0x1d2)](_0x14a45b)['promise']();logger[_0x588160(0x1a8)](_0x47688d[_0x588160(0x1c9)]);const _0x2703d1={};return _0x2703d1[_0x588160(0x1c2)]=_0x4d7098['StackId'],_0x1353f8[_0x588160(0x204)](_0x47688d[_0x588160(0x21b)],_0x2703d1)[_0x588160(0x1f1)]();};