const a27_0x4bf3dd=a27_0x221e;(function(_0xb6bd23,_0x39db17){const _0x2ba1c2=a27_0x221e,_0x288ee6=_0xb6bd23();while(!![]){try{const _0x1727ba=-parseInt(_0x2ba1c2(0x1bb))/0x1*(-parseInt(_0x2ba1c2(0x1c8))/0x2)+-parseInt(_0x2ba1c2(0x1e1))/0x3*(parseInt(_0x2ba1c2(0x1c2))/0x4)+parseInt(_0x2ba1c2(0x242))/0x5+-parseInt(_0x2ba1c2(0x247))/0x6+parseInt(_0x2ba1c2(0x1f5))/0x7+-parseInt(_0x2ba1c2(0x225))/0x8*(-parseInt(_0x2ba1c2(0x235))/0x9)+-parseInt(_0x2ba1c2(0x1b4))/0xa*(-parseInt(_0x2ba1c2(0x1aa))/0xb);if(_0x1727ba===_0x39db17)break;else _0x288ee6['push'](_0x288ee6['shift']());}catch(_0x5215ed){_0x288ee6['push'](_0x288ee6['shift']());}}}(a27_0x31c2,0xf2b64));const fs=require('fs'),path=require(a27_0x4bf3dd(0x1f8)),Promise=require('bluebird'),yaml=require(a27_0x4bf3dd(0x1bf)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4bf3dd(0x1ae)),AWS=require(a27_0x4bf3dd(0x1b6))[a27_0x4bf3dd(0x1d5)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x4bf3dd(0x23a)),{logger}=require(a27_0x4bf3dd(0x1ea)),{isBucketPresent}=require(a27_0x4bf3dd(0x1b6));function a27_0x221e(_0x20a333,_0x2fed91){const _0x31c26f=a27_0x31c2();return a27_0x221e=function(_0x221e18,_0x9a4a50){_0x221e18=_0x221e18-0x18f;let _0x44e6e7=_0x31c26f[_0x221e18];return _0x44e6e7;},a27_0x221e(_0x20a333,_0x2fed91);}function a27_0x31c2(){const _0x522db3=['yudwT','5|2|4|1|0|3','createStack','Tags','0|5|2|4|1|3','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','RYfiE','s3Bucket','pMIjf','WHIdI','ajKxJ','IiyOZ','padStart','VeEOH','DbEyb','stackCreateComplete','AZPdN','NodeGroupNameWindows','JZjKN','fpbcV','SubnetIds','zzFFF','kYjjI','mDCgA','Subnet02Block','ClusterName','KdoBh','VpcBlock','PlFaR','OpDxm','qYIyN','NodeGroup','NxAtS','aqEVG','hBGDF','OnFailure','toString','RKGBz','QJPUk','ZszcJ','kkyEi','YJyfv','2513753KsAXxW','forEach','RWLSw','dbiwA','js-yaml-cloudformation-schema','mJuVV','GmuTf','TemplateBody','Subnet02','-NodeGroup','10PkTQoH','CUySU','./AWSUtils','pmiMT','NodeAutoScalingGroupMaxSize','ENvLg','schema','13IzxLIp','WzutL','Key','createClusterStack','js-yaml','bZobP','CloudFormation','22228UetbwG','ParameterGroups','ticHD','rMgFI','CCkCv','rdHsX','18268jpyWhl','join','RGiKD','ridEw','RQYLS','IvBUN','XEjVL','BglQH','Outputs','IVALl','wiXQO','gIBfa','rNIKM','awsObj','qyJHq','EKSCluster','NRKMm','AWS::CloudFormation::Interface','Resources','VPC','qFNxB','mIvrG','true','ResourcesVpcConfig','hVtry','1002VhwtYz','promise','NodeAutoScalingGroupMinSize','WJHKH','NodeAutoScalingGroupDesiredSizeWindows','value','mtTWL','uICQF','bxDGW','../config/logger','siNXA','GxdJl','NNzKw','XJmeG','pcrtq','cmpWR','push','IAXKN','DependsOn','tgCkJ','11275264wkEpax','RlqqU','JbkXO','path','xkQEk','CFTemplates','browserstack:cluster','NodeGroupName','apiVersion','Parameters','zQPLl','subnet-create.yaml','jHYAF','wuMqz','Value','ParameterValue','Ref','IUXdT','pZqON','subnet-import.yaml','s3-create.yaml','Kdedh','NodeGroupWindows','Subnet01Block','readFileAsync','pSoen','YXRZE','RCeTP','load','fMShb','Subnets','xlYRi','StackName','bEmrP','zSkiu','Takvn','Metadata','TSiBt','VRlZT','browserstack:creationDate','hNXkJ','teLIn','hBorL','Properties','DELETE','XlNMU','oSSvG','Subnet','11728zCklxL','keys','Fn::Join','OvOhq','OHQqW','-Windows-NodeGroup','split','utf-8','waitFor','LdQJo','S3BucketName','rOtOb','NodeAutoScalingGroupMinSizeWindows','SNIFa','CAPABILITY_NAMED_IAM','Capabilities','9432VZdgHM','LYnuP','HjLoG','jBTsC','Youwd','../config/constants','IJGCS','SeTiR','fcUAw','aws-eks-cluster-dep.yaml','ami','RQITt','nCmAV','3140095YQnfuw','xcDvc','GcqWx','ParameterKey','instanceType','7633308tAilMF','VIayH','vpc-create.yaml'];a27_0x31c2=function(){return _0x522db3;};return a27_0x31c2();}Promise['promisifyAll'](fs);const mergeTemplates=(_0x5c547f,_0x4c37d2)=>{const _0x1f609c=a27_0x4bf3dd,_0x518e71={};_0x518e71[_0x1f609c(0x212)]=function(_0x5f4291,_0x498cea){return _0x5f4291!==_0x498cea;},_0x518e71[_0x1f609c(0x21f)]=_0x1f609c(0x1a5),_0x518e71[_0x1f609c(0x1ce)]='ZCNHJ',_0x518e71[_0x1f609c(0x1ec)]=_0x1f609c(0x1f4),_0x518e71['SeTiR']=_0x1f609c(0x1eb);const _0x4fc27b=_0x518e71;Object['keys'](_0x4c37d2)[_0x1f609c(0x1ab)](_0x32fde4=>{const _0x59132a=_0x1f609c,_0x52ef69={'qyJHq':function(_0x36ae6a,_0x58dec0){return _0x4fc27b['fMShb'](_0x36ae6a,_0x58dec0);},'sXYhq':_0x4fc27b['hBorL'],'IUXdT':_0x4fc27b['XEjVL']};if(_0x4fc27b[_0x59132a(0x212)](_0x4fc27b['GxdJl'],_0x4fc27b[_0x59132a(0x23c)])){var _0x1f429c=_0x4c37d2[_0x32fde4];Object['keys'](_0x1f429c)['forEach'](_0x477f56=>{const _0x394c14=_0x59132a;_0x52ef69[_0x394c14(0x1d6)](_0x52ef69['sXYhq'],_0x52ef69[_0x394c14(0x206)])?_0x5c547f[_0x32fde4][_0x477f56]=_0x1f429c[_0x477f56]:_0x2a2442[_0x394c14(0x1da)][_0x439a9f][_0x394c14(0x220)][_0x394c14(0x24d)][_0x394c14(0x1f1)](..._0x79c1ac);});}else _0xf722eb[_0x4c6d3e[_0x59132a(0x1bd)]]=_0x150417[_0x59132a(0x203)];});},addVPCData=async(_0x297dc9,_0x325257)=>{const _0x580554=a27_0x4bf3dd,_0x44a6e8={'IVALl':function(_0x568ed0,_0x2e8632){return _0x568ed0!==_0x2e8632;},'yudwT':_0x580554(0x214),'TSiBt':_0x580554(0x1fa),'bZobP':'vpc-import.yaml','VeEOH':_0x580554(0x22c),'wuMqz':function(_0x42aaa1,_0x2de9e9,_0x15f294){return _0x42aaa1(_0x2de9e9,_0x15f294);},'ticHD':'AWS::CloudFormation::Interface','SNIFa':_0x580554(0x1db),'pmiMT':function(_0x2b3589,_0x2d4327){return _0x2b3589===_0x2d4327;},'zmvqV':_0x580554(0x1e8),'OHQqW':_0x580554(0x241),'NepNG':_0x580554(0x249),'rNIKM':_0x580554(0x19b)};if(_0x325257){if(_0x44a6e8[_0x580554(0x1d1)](_0x44a6e8['yudwT'],_0x44a6e8[_0x580554(0x24a)]))_0x3fcf63[_0x580554(0x1da)][_0x57a03f]['Properties']&&_0x3a3157[_0x580554(0x1da)][_0x113877][_0x580554(0x220)][_0x580554(0x24d)]&&_0x31db88[_0x580554(0x1da)][_0x41310d][_0x580554(0x220)][_0x580554(0x24d)][_0x580554(0x1f1)](..._0x38ab59);else{const _0x4cda45=await fs[_0x580554(0x20d)](path[_0x580554(0x1c9)](__dirname,'..',_0x44a6e8[_0x580554(0x21a)],_0x44a6e8[_0x580554(0x1c0)]),_0x44a6e8[_0x580554(0x257)]),_0x15a7c8={};_0x15a7c8['schema']=CLOUDFORMATION_SCHEMA;const _0x18f606=yaml[_0x580554(0x211)](_0x4cda45,_0x15a7c8);_0x44a6e8[_0x580554(0x202)](mergeTemplates,_0x297dc9,_0x18f606),_0x297dc9[_0x580554(0x219)][_0x44a6e8['ticHD']]['ParameterGroups'][0x0][_0x580554(0x1fe)]['push'](_0x44a6e8[_0x580554(0x232)]);}}else{if(_0x44a6e8[_0x580554(0x1b7)](_0x44a6e8['zmvqV'],_0x44a6e8[_0x580554(0x229)]))_0x41661e[_0x53639f][_0x23bd64]=_0x59f34c[_0x3a4fa6];else{const _0x5ca6a6=await fs['readFileAsync'](path['join'](__dirname,'..',_0x44a6e8[_0x580554(0x21a)],_0x44a6e8['NepNG']),_0x44a6e8[_0x580554(0x257)]),_0x5dba96={};_0x5dba96[_0x580554(0x1ba)]=CLOUDFORMATION_SCHEMA;const _0x277e26=yaml[_0x580554(0x211)](_0x5ca6a6,_0x5dba96);_0x44a6e8[_0x580554(0x202)](mergeTemplates,_0x297dc9,_0x277e26),_0x297dc9[_0x580554(0x219)][_0x44a6e8[_0x580554(0x1c4)]][_0x580554(0x1c3)][0x0]['Parameters'][_0x580554(0x1f1)](_0x44a6e8[_0x580554(0x1d4)]);}}},addS3Data=async _0x46ad58=>{const _0x2910fc=a27_0x4bf3dd,_0x41aaf1={'KapdK':'NodeGroup','aqEVG':_0x2910fc(0x20b),'ZszcJ':_0x2910fc(0x1fa),'bxDGW':_0x2910fc(0x209),'HjLoG':'utf-8','hNXkJ':function(_0x1248c7,_0x4ab816){return _0x1248c7(_0x4ab816);},'HQOsR':function(_0x126d0d,_0x27ea5d){return _0x126d0d===_0x27ea5d;},'YJyfv':function(_0x318147,_0x53085a){return _0x318147!==_0x53085a;},'YXRZE':_0x2910fc(0x258),'WBxLT':_0x2910fc(0x244),'RQYLS':function(_0x4ec3d3,_0x5813b7,_0x3c2c0e){return _0x4ec3d3(_0x5813b7,_0x3c2c0e);}},_0x5688a4=await fs[_0x2910fc(0x20d)](path[_0x2910fc(0x1c9)](__dirname,'..',_0x41aaf1[_0x2910fc(0x1a7)],_0x41aaf1[_0x2910fc(0x1e9)]),_0x41aaf1[_0x2910fc(0x237)]),_0x468d93={};_0x468d93[_0x2910fc(0x1ba)]=CLOUDFORMATION_SCHEMA;const _0x379c5c=yaml['load'](_0x5688a4,_0x468d93),_0x59e3f4=await _0x41aaf1[_0x2910fc(0x21d)](isBucketPresent,global_registry['s3Bucket']);if(_0x41aaf1['HQOsR'](_0x59e3f4,![])){if(_0x41aaf1[_0x2910fc(0x1a9)](_0x41aaf1[_0x2910fc(0x20f)],_0x41aaf1['WBxLT']))_0x41aaf1[_0x2910fc(0x1cc)](mergeTemplates,_0x46ad58,_0x379c5c);else{for(const _0x2360e5 in _0x30e17a[_0x2910fc(0x1da)]){_0x1f24df[_0x2910fc(0x1da)][_0x2360e5][_0x2910fc(0x220)]&&_0x5299ef[_0x2910fc(0x1da)][_0x2360e5]['Properties'][_0x2910fc(0x24d)]&&_0x521f9c[_0x2910fc(0x1da)][_0x2360e5]['Properties']['Tags'][_0x2910fc(0x1f1)](..._0xabcbd);}const _0x30ffdf={};_0x596dc6[_0x2910fc(0x1ab)](_0x5557d3=>{const _0x590d1b=_0x2910fc;_0x30ffdf[_0x5557d3[_0x590d1b(0x1bd)]]=_0x5557d3['Value'];}),_0x5665a0[_0x2910fc(0x1da)][_0x41aaf1['KapdK']][_0x2910fc(0x220)][_0x2910fc(0x24d)]=_0x30ffdf,_0x343f59[_0x2910fc(0x1da)][_0x41aaf1[_0x2910fc(0x1a1)]][_0x2910fc(0x220)][_0x2910fc(0x24d)]=_0x30ffdf;}}},addSubnetData=async(_0x201d2b,_0x225583)=>{const _0x4a658c=a27_0x4bf3dd,_0x1152a9={'gIBfa':_0x4a658c(0x24b),'GmuTf':_0x4a658c(0x227),'oSSvG':function(_0x530e28,_0x513993){return _0x530e28(_0x513993);},'ridEw':function(_0x114b6c,_0x4d425d){return _0x114b6c(_0x4d425d);},'hVtry':_0x4a658c(0x1d9),'dbiwA':function(_0x1e9ca4,_0x3ca71c){return _0x1e9ca4(_0x3ca71c);},'IiyOZ':function(_0x26bf9e,_0x963694){return _0x26bf9e(_0x963694);},'QJPUk':function(_0x377cb4,_0x33bd86,_0xd0aa30){return _0x377cb4(_0x33bd86,_0xd0aa30);},'NNzKw':function(_0x5b8f63,_0x40fa29){return _0x5b8f63===_0x40fa29;},'mJuVV':_0x4a658c(0x190),'XJmeG':_0x4a658c(0x24e),'CCkCv':function(_0x260abf,_0x2e4ca5){return _0x260abf(_0x2e4ca5);},'mIvrG':function(_0x5ab39f,_0x7e233e){return _0x5ab39f(_0x7e233e);},'jBTsC':function(_0x31b5e8,_0xb9b9c0){return _0x31b5e8(_0xb9b9c0);},'oXeyv':function(_0x363b53,_0x5c2e4d){return _0x363b53(_0x5c2e4d);},'WzutL':function(_0x5ab6e2,_0x436ed9){return _0x5ab6e2!==_0x436ed9;},'jHYAF':'nXLJH','OvOhq':_0x4a658c(0x1fa),'pZqON':_0x4a658c(0x208),'zSkiu':'utf-8','IAXKN':function(_0x2c3d0b,_0x4a63f9,_0x2e17ef){return _0x2c3d0b(_0x4a63f9,_0x2e17ef);},'pMIjf':function(_0x25190f,_0x4620c8){return _0x25190f!==_0x4620c8;},'bEmrP':_0x4a658c(0x230),'WHIdI':'QmNom','bRYVq':_0x4a658c(0x200),'xcDvc':function(_0x7d2c46,_0x31c51d,_0x5f282b){return _0x7d2c46(_0x31c51d,_0x5f282b);},'mtTWL':'Subnet01','RlqqU':_0x4a658c(0x1b2),'fpbcV':'Subnet03','QMlNt':_0x4a658c(0x20c),'hygWD':_0x4a658c(0x198),'VIayH':'Subnet03Block'};if(_0x225583){if(_0x1152a9[_0x4a658c(0x1bc)](_0x1152a9[_0x4a658c(0x201)],_0x1152a9[_0x4a658c(0x201)])){const _0x5df1ea=_0x1152a9[_0x4a658c(0x1d3)][_0x4a658c(0x22b)]('|');let _0x4509a6=0x0;while(!![]){switch(_0x5df1ea[_0x4509a6++]){case'0':_0x4cb53c[_0x4a658c(0x1d0)][_0x4a658c(0x194)][_0x4a658c(0x203)][_0x1152a9[_0x4a658c(0x1b0)]][0x1]['push']({'Ref':_0x4a658c(0x224)+_0x1152a9[_0x4a658c(0x223)](_0x26026b,_0x340741)['padStart'](0x2,'0')});continue;case'1':_0x4596d9['Resources'][_0x4a658c(0x20b)][_0x4a658c(0x220)][_0x4a658c(0x213)]['push']({'Ref':_0x4a658c(0x224)+_0x1152a9[_0x4a658c(0x1cb)](_0x1b217f,_0x4d7b43)[_0x4a658c(0x256)](0x2,'0')});continue;case'2':_0x431aa5[_0x4a658c(0x219)][_0x1152a9[_0x4a658c(0x1e0)]][_0x4a658c(0x1c3)][0x0]['Parameters'][_0x4a658c(0x1f1)](_0x4a658c(0x224)+_0x1152a9[_0x4a658c(0x223)](_0x355e5d,_0x4e617c)[_0x4a658c(0x256)](0x2,'0'));continue;case'3':_0x5afc8+=0x1;continue;case'4':_0x579352['Resources'][_0x4a658c(0x19f)][_0x4a658c(0x220)]['Subnets'][_0x4a658c(0x1f1)]({'Ref':_0x4a658c(0x224)+_0x1152a9[_0x4a658c(0x1ad)](_0x34cbc4,_0x2c52ef)[_0x4a658c(0x256)](0x2,'0')});continue;case'5':_0x534371[_0x4a658c(0x1da)]['EKSCluster'][_0x4a658c(0x220)][_0x4a658c(0x1df)][_0x4a658c(0x194)]['push']({'Ref':_0x4a658c(0x224)+_0x1152a9[_0x4a658c(0x255)](_0x1eb003,_0x30f95b)[_0x4a658c(0x256)](0x2,'0')});continue;}break;}}else{const _0x17165c=await fs[_0x4a658c(0x20d)](path[_0x4a658c(0x1c9)](__dirname,'..',_0x1152a9[_0x4a658c(0x228)],_0x1152a9[_0x4a658c(0x207)]),_0x1152a9[_0x4a658c(0x217)]),_0x1e42b5={};_0x1e42b5['schema']=CLOUDFORMATION_SCHEMA;const _0x336608=yaml[_0x4a658c(0x211)](_0x17165c,_0x1e42b5);_0x1152a9[_0x4a658c(0x1f2)](mergeTemplates,_0x201d2b,_0x336608);let _0x46d94b=0x1;_0x225583[_0x4a658c(0x1ab)](_0x54ec1d=>{const _0x1867b8=_0x4a658c,_0x3533bf={'NxAtS':function(_0x4a85e4,_0x323b7e,_0x22b56d){const _0x3e3d05=a27_0x221e;return _0x1152a9[_0x3e3d05(0x1a6)](_0x4a85e4,_0x323b7e,_0x22b56d);}};if(_0x1152a9[_0x1867b8(0x1ed)](_0x1152a9[_0x1867b8(0x1af)],_0x1152a9[_0x1867b8(0x1af)])){const _0x4e5fb4=_0x1152a9[_0x1867b8(0x1ee)][_0x1867b8(0x22b)]('|');let _0x4cbc07=0x0;while(!![]){switch(_0x4e5fb4[_0x4cbc07++]){case'0':_0x201d2b[_0x1867b8(0x1da)]['EKSCluster'][_0x1867b8(0x220)][_0x1867b8(0x1df)][_0x1867b8(0x194)]['push']({'Ref':'Subnet'+_0x1152a9[_0x1867b8(0x1c6)](String,_0x46d94b)[_0x1867b8(0x256)](0x2,'0')});continue;case'1':_0x201d2b[_0x1867b8(0x1d0)][_0x1867b8(0x194)]['Value'][_0x1152a9[_0x1867b8(0x1b0)]][0x1]['push']({'Ref':_0x1867b8(0x224)+_0x1152a9[_0x1867b8(0x1dd)](String,_0x46d94b)['padStart'](0x2,'0')});continue;case'2':_0x201d2b[_0x1867b8(0x1da)][_0x1867b8(0x19f)]['Properties'][_0x1867b8(0x213)][_0x1867b8(0x1f1)]({'Ref':_0x1867b8(0x224)+_0x1152a9['mIvrG'](String,_0x46d94b)['padStart'](0x2,'0')});continue;case'3':_0x46d94b+=0x1;continue;case'4':_0x201d2b[_0x1867b8(0x1da)][_0x1867b8(0x20b)][_0x1867b8(0x220)][_0x1867b8(0x213)][_0x1867b8(0x1f1)]({'Ref':'Subnet'+_0x1152a9[_0x1867b8(0x1c6)](String,_0x46d94b)[_0x1867b8(0x256)](0x2,'0')});continue;case'5':_0x201d2b[_0x1867b8(0x219)][_0x1152a9['hVtry']][_0x1867b8(0x1c3)][0x0][_0x1867b8(0x1fe)]['push'](_0x1867b8(0x224)+_0x1152a9[_0x1867b8(0x238)](String,_0x46d94b)[_0x1867b8(0x256)](0x2,'0'));continue;}break;}}else _0x3533bf[_0x1867b8(0x1a0)](_0x46cba3,_0x3df7d2,_0x385944);});}}else{if(_0x1152a9[_0x4a658c(0x252)](_0x1152a9[_0x4a658c(0x216)],_0x1152a9[_0x4a658c(0x253)])){const _0x1a35eb=await fs[_0x4a658c(0x20d)](path[_0x4a658c(0x1c9)](__dirname,'..',_0x1152a9[_0x4a658c(0x228)],_0x1152a9['bRYVq']),_0x1152a9[_0x4a658c(0x217)]),_0x3d2fdf={};_0x3d2fdf[_0x4a658c(0x1ba)]=CLOUDFORMATION_SCHEMA;const _0x545e6d=yaml['load'](_0x1a35eb,_0x3d2fdf);_0x1152a9[_0x4a658c(0x243)](mergeTemplates,_0x201d2b,_0x545e6d),_0x201d2b[_0x4a658c(0x1da)][_0x4a658c(0x1d7)][_0x4a658c(0x1f3)][_0x4a658c(0x1f1)](_0x1152a9[_0x4a658c(0x1e7)],_0x1152a9[_0x4a658c(0x1f6)],_0x1152a9[_0x4a658c(0x193)]);const _0x30a0dc={};_0x30a0dc[_0x4a658c(0x205)]=_0x1152a9[_0x4a658c(0x1e7)];const _0x1b1214={};_0x1b1214[_0x4a658c(0x205)]=_0x1152a9[_0x4a658c(0x1f6)];const _0x33b781={};_0x33b781[_0x4a658c(0x205)]=_0x1152a9['fpbcV'],_0x201d2b[_0x4a658c(0x1da)][_0x4a658c(0x1d7)][_0x4a658c(0x220)][_0x4a658c(0x1df)][_0x4a658c(0x194)]=[_0x30a0dc,_0x1b1214,_0x33b781],_0x201d2b['Metadata'][_0x1152a9[_0x4a658c(0x1e0)]][_0x4a658c(0x1c3)][0x0][_0x4a658c(0x1fe)][_0x4a658c(0x1f1)](_0x1152a9['QMlNt'],_0x1152a9['hygWD'],_0x1152a9[_0x4a658c(0x248)]);const _0x42aa74={};_0x42aa74[_0x4a658c(0x205)]=_0x1152a9['mtTWL'];const _0x1b53a1={};_0x1b53a1[_0x4a658c(0x205)]=_0x1152a9[_0x4a658c(0x1f6)];const _0x16373d={};_0x16373d[_0x4a658c(0x205)]=_0x1152a9[_0x4a658c(0x193)],_0x201d2b[_0x4a658c(0x1da)][_0x4a658c(0x19f)]['Properties'][_0x4a658c(0x213)]=[_0x42aa74,_0x1b53a1,_0x16373d];const _0x5bdd8f={};_0x5bdd8f[_0x4a658c(0x205)]=_0x1152a9[_0x4a658c(0x1e7)];const _0x92957a={};_0x92957a['Ref']=_0x1152a9[_0x4a658c(0x1f6)];const _0x454a8d={};_0x454a8d[_0x4a658c(0x205)]=_0x1152a9[_0x4a658c(0x193)],_0x201d2b[_0x4a658c(0x1da)][_0x4a658c(0x20b)][_0x4a658c(0x220)][_0x4a658c(0x213)]=[_0x5bdd8f,_0x92957a,_0x454a8d],_0x201d2b[_0x4a658c(0x1d0)][_0x4a658c(0x194)][_0x4a658c(0x203)][_0x1152a9[_0x4a658c(0x1b0)]][0x1]=[{'Ref':_0x1152a9[_0x4a658c(0x1e7)]},{'Ref':_0x1152a9['RlqqU']},{'Ref':_0x1152a9[_0x4a658c(0x193)]}];}else _0x28f977['Parameters'][_0x4a658c(0x1f1)]({'ParameterKey':_0x4a658c(0x224)+_0x1152a9['oXeyv'](_0x405eb4,_0x194ec0)[_0x4a658c(0x256)](0x2,'0'),'ParameterValue':_0x582387[_0x4a658c(0x1e6)]}),_0xeef6ef+=0x1;}},addTags=async(_0x19b684,_0x186c2b,_0x21009a)=>{const _0x3a42bc=a27_0x4bf3dd,_0x51c59e={'NRKMm':_0x3a42bc(0x1db),'ZdqLD':function(_0x57a494,_0x20adbe){return _0x57a494(_0x20adbe);},'rdHsX':function(_0x335f62,_0x22f48c){return _0x335f62===_0x22f48c;},'NhYpz':_0x3a42bc(0x1cd),'dhTjQ':_0x3a42bc(0x21e),'rDWgI':function(_0x64b6f8,_0x244a0d){return _0x64b6f8!==_0x244a0d;},'xkQEk':_0x3a42bc(0x23d),'RYfiE':_0x3a42bc(0x195),'LYnuP':function(_0x5f08a3,_0x2b7b01){return _0x5f08a3!==_0x2b7b01;},'wiXQO':_0x3a42bc(0x254),'LdQJo':_0x3a42bc(0x196),'Takvn':_0x3a42bc(0x19f),'BglQH':_0x3a42bc(0x20b)};for(const _0x1171ff in _0x19b684[_0x3a42bc(0x1da)]){if(_0x51c59e['rDWgI'](_0x51c59e[_0x3a42bc(0x1f9)],_0x51c59e[_0x3a42bc(0x250)])){if(_0x19b684[_0x3a42bc(0x1da)][_0x1171ff]['Properties']&&_0x19b684[_0x3a42bc(0x1da)][_0x1171ff][_0x3a42bc(0x220)][_0x3a42bc(0x24d)]){if(_0x51c59e[_0x3a42bc(0x236)](_0x51c59e[_0x3a42bc(0x1d2)],_0x51c59e[_0x3a42bc(0x22e)]))_0x19b684[_0x3a42bc(0x1da)][_0x1171ff][_0x3a42bc(0x220)][_0x3a42bc(0x24d)][_0x3a42bc(0x1f1)](..._0x21009a);else{const _0x1c8110={};_0x1c8110[_0x3a42bc(0x245)]=_0x51c59e[_0x3a42bc(0x1d8)],_0x1c8110[_0x3a42bc(0x204)]=_0x376ea5,_0x32504f[_0x3a42bc(0x1fe)][_0x3a42bc(0x1f1)](_0x1c8110);}}}else{const _0x2044af={'OpDxm':function(_0xac4187,_0x395d9a){return _0x51c59e['ZdqLD'](_0xac4187,_0x395d9a);}};let _0x5b71ed=0x1;_0x31607e[_0x3a42bc(0x1ab)](_0x528269=>{const _0x2d42ea=_0x3a42bc;_0xd59c8d[_0x2d42ea(0x1fe)][_0x2d42ea(0x1f1)]({'ParameterKey':_0x2d42ea(0x224)+_0x2044af[_0x2d42ea(0x19d)](_0x1317af,_0x5b71ed)[_0x2d42ea(0x256)](0x2,'0'),'ParameterValue':_0x528269['value']}),_0x5b71ed+=0x1;});}}const _0x5788cd={};_0x21009a[_0x3a42bc(0x1ab)](_0x694a50=>{const _0x5462bf=_0x3a42bc;_0x51c59e[_0x5462bf(0x1c7)](_0x51c59e['NhYpz'],_0x51c59e['dhTjQ'])?_0x14775b['keys'](_0x2bb5cd)['forEach'](_0x30df33=>{const _0x30681f=_0x5462bf;var _0x4a3e9e=_0x400da3[_0x30df33];_0x30fae4[_0x30681f(0x226)](_0x4a3e9e)[_0x30681f(0x1ab)](_0x5f2682=>{_0x21ae84[_0x30df33][_0x5f2682]=_0x4a3e9e[_0x5f2682];});}):_0x5788cd[_0x694a50[_0x5462bf(0x1bd)]]=_0x694a50['Value'];}),_0x19b684[_0x3a42bc(0x1da)][_0x51c59e[_0x3a42bc(0x218)]][_0x3a42bc(0x220)][_0x3a42bc(0x24d)]=_0x5788cd,_0x19b684[_0x3a42bc(0x1da)][_0x51c59e[_0x3a42bc(0x1cf)]]['Properties'][_0x3a42bc(0x24d)]=_0x5788cd;};exports[a27_0x4bf3dd(0x1be)]=async(_0x229056,_0x51c68e,_0x317029,_0xeaaee0=null,_0x10e9b1=null,_0x3828c2)=>{const _0x55484c=a27_0x4bf3dd,_0x386450={'pSoen':function(_0x1dfc59,_0x5c7db1){return _0x1dfc59(_0x5c7db1);},'Youwd':_0x55484c(0x1fb),'mDCgA':_0x55484c(0x21c),'RCeTP':'2010-05-15','JZjKN':'CFTemplates','dBUTr':_0x55484c(0x23e),'pcrtq':_0x55484c(0x22c),'WJHKH':function(_0x12c9cd,_0x39d99c,_0x4e8813){return _0x12c9cd(_0x39d99c,_0x4e8813);},'rMgFI':function(_0x2763a1,_0x1687cf){return _0x2763a1(_0x1687cf);},'hBGDF':function(_0xf12683,_0x537691,_0x170098,_0x1ab707){return _0xf12683(_0x537691,_0x170098,_0x1ab707);},'EnRXa':_0x55484c(0x221),'RWLSw':_0x55484c(0x199),'RQITt':_0x55484c(0x1fc),'KdoBh':_0x55484c(0x1e3),'imYSW':_0x55484c(0x231),'PlFaR':_0x55484c(0x1e5),'kJoQl':_0x55484c(0x1b8),'ftDGw':'NodeImageId','ENvLg':'NodeInstanceType','Kdedh':_0x55484c(0x22f),'XlNMU':_0x55484c(0x191),'JbkXO':'ClusterAutoUpgrade','qFNxB':_0x55484c(0x1de),'CUySU':'false','qYIyN':_0x55484c(0x233),'EkGMI':function(_0x4ced71,_0x57b2b4){return _0x4ced71!=_0x57b2b4;},'kkyEi':function(_0x9518ea,_0x54a74c){return _0x9518ea!==_0x54a74c;},'cmpWR':function(_0x3888e7,_0xe7d22){return _0x3888e7!==_0xe7d22;},'RGiKD':'tHrOb','zQPLl':'vxsjK','kbsEM':_0x55484c(0x1db),'VRlZT':function(_0x2562ed,_0x27e3af){return _0x2562ed!=_0x27e3af;},'kmgXP':_0x55484c(0x24f),'IJGCS':_0x55484c(0x18f)},_0x1cf762=COMMON_HST_TAGS,_0x81dd87={};_0x81dd87[_0x55484c(0x1bd)]=_0x386450[_0x55484c(0x239)],_0x81dd87[_0x55484c(0x203)]=_0x229056,_0x1cf762[_0x55484c(0x1f1)](_0x81dd87),_0x1cf762[_0x55484c(0x1f1)]({'Key':_0x386450[_0x55484c(0x197)],'Value':new Date()['valueOf']()[_0x55484c(0x1a4)]()});const _0x21bd93={};_0x21bd93[_0x55484c(0x1fd)]=_0x386450[_0x55484c(0x210)];const _0x179777=new AWS[(_0x55484c(0x1c1))](_0x21bd93),_0x4ef825=await fs[_0x55484c(0x20d)](path[_0x55484c(0x1c9)](__dirname,'..',_0x386450[_0x55484c(0x192)],_0x386450['dBUTr']),_0x386450[_0x55484c(0x1ef)]),_0x52779f={};_0x52779f[_0x55484c(0x1ba)]=CLOUDFORMATION_SCHEMA;const _0x42954d=yaml[_0x55484c(0x211)](_0x4ef825,_0x52779f);await _0x386450[_0x55484c(0x1e4)](addVPCData,_0x42954d,_0xeaaee0),await _0x386450[_0x55484c(0x1c5)](addS3Data,_0x42954d),await _0x386450[_0x55484c(0x1e4)](addSubnetData,_0x42954d,_0x10e9b1),await _0x386450[_0x55484c(0x1a2)](addTags,_0x42954d,_0x229056,_0x1cf762);const _0x2eb8ae=JSON['stringify'](_0x42954d),_0x60e768={};_0x60e768[_0x55484c(0x215)]=CLUSTER_DEP_STACK_NAME+'-'+_0x229056,_0x60e768[_0x55484c(0x1a3)]=_0x386450['EnRXa'],_0x60e768[_0x55484c(0x1b1)]=_0x2eb8ae,_0x60e768[_0x55484c(0x1fe)]=[{'ParameterKey':_0x386450[_0x55484c(0x1ac)],'ParameterValue':_0x229056},{'ParameterKey':_0x386450[_0x55484c(0x240)],'ParameterValue':_0x229056+_0x55484c(0x1b3)},{'ParameterKey':_0x386450[_0x55484c(0x19a)],'ParameterValue':''+_0x51c68e},{'ParameterKey':_0x386450['imYSW'],'ParameterValue':'0'},{'ParameterKey':_0x386450[_0x55484c(0x19c)],'ParameterValue':'1'},{'ParameterKey':_0x386450['kJoQl'],'ParameterValue':''+_0x317029},{'ParameterKey':_0x386450['ftDGw'],'ParameterValue':global_registry[_0x55484c(0x23f)]},{'ParameterKey':_0x386450[_0x55484c(0x1b9)],'ParameterValue':global_registry[_0x55484c(0x246)]},{'ParameterKey':_0x386450[_0x55484c(0x20a)],'ParameterValue':global_registry[_0x55484c(0x251)]},{'ParameterKey':_0x386450[_0x55484c(0x222)],'ParameterValue':_0x229056+_0x55484c(0x22a)},{'ParameterKey':_0x386450[_0x55484c(0x1f7)],'ParameterValue':_0x3828c2?_0x386450[_0x55484c(0x1dc)]:_0x386450[_0x55484c(0x1b5)]}],_0x60e768[_0x55484c(0x234)]=[_0x386450[_0x55484c(0x19e)]],_0x60e768[_0x55484c(0x24d)]=_0x1cf762;const _0x2e8194=_0x60e768;if(_0x386450['EkGMI'](_0xeaaee0,null)&&_0x386450[_0x55484c(0x1a8)](_0xeaaee0,undefined)){if(_0x386450[_0x55484c(0x1f0)](_0x386450[_0x55484c(0x1ca)],_0x386450[_0x55484c(0x1ff)])){const _0x477f40={};_0x477f40[_0x55484c(0x245)]=_0x386450['kbsEM'],_0x477f40[_0x55484c(0x204)]=_0xeaaee0,_0x2e8194[_0x55484c(0x1fe)][_0x55484c(0x1f1)](_0x477f40);}else{var _0x10d2c3=_0x278215[_0xb0cb75];_0x1b1514[_0x55484c(0x226)](_0x10d2c3)[_0x55484c(0x1ab)](_0x3b8db6=>{_0x5df654[_0x23e7a7][_0x3b8db6]=_0x10d2c3[_0x3b8db6];});}}if(_0x386450[_0x55484c(0x21b)](_0x10e9b1,null)&&_0x386450[_0x55484c(0x1f0)](_0x10e9b1,undefined)){let _0x451fd6=0x1;_0x10e9b1[_0x55484c(0x1ab)](_0x522f8a=>{const _0x490c43=_0x55484c;_0x2e8194[_0x490c43(0x1fe)][_0x490c43(0x1f1)]({'ParameterKey':_0x490c43(0x224)+_0x386450[_0x490c43(0x20e)](String,_0x451fd6)[_0x490c43(0x256)](0x2,'0'),'ParameterValue':_0x522f8a[_0x490c43(0x1e6)]}),_0x451fd6+=0x1;});}const _0x48c8e1=await _0x179777[_0x55484c(0x24c)](_0x2e8194)[_0x55484c(0x1e2)]();logger['debug'](_0x386450['kmgXP']);const _0x342414={};return _0x342414[_0x55484c(0x215)]=_0x48c8e1['StackId'],_0x179777[_0x55484c(0x22d)](_0x386450[_0x55484c(0x23b)],_0x342414)[_0x55484c(0x1e2)]();};