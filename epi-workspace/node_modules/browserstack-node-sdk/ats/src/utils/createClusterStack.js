const a27_0x26f85d=a27_0x2333;(function(_0x5bf3ad,_0x229a85){const _0x3c7100=a27_0x2333,_0x547955=_0x5bf3ad();while(!![]){try{const _0xc47e25=-parseInt(_0x3c7100(0x189))/0x1*(parseInt(_0x3c7100(0x133))/0x2)+-parseInt(_0x3c7100(0x159))/0x3*(parseInt(_0x3c7100(0x1c4))/0x4)+-parseInt(_0x3c7100(0x12f))/0x5+parseInt(_0x3c7100(0x151))/0x6+-parseInt(_0x3c7100(0x1b7))/0x7*(parseInt(_0x3c7100(0x1a0))/0x8)+parseInt(_0x3c7100(0x134))/0x9*(-parseInt(_0x3c7100(0x150))/0xa)+parseInt(_0x3c7100(0x156))/0xb;if(_0xc47e25===_0x229a85)break;else _0x547955['push'](_0x547955['shift']());}catch(_0x46e0cf){_0x547955['push'](_0x547955['shift']());}}}(a27_0x1132,0x54547));const fs=require('fs'),path=require(a27_0x26f85d(0x182)),Promise=require(a27_0x26f85d(0x196)),yaml=require(a27_0x26f85d(0x190)),{CLOUDFORMATION_SCHEMA}=require(a27_0x26f85d(0x18e)),AWS=require(a27_0x26f85d(0x193))[a27_0x26f85d(0x1c5)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x26f85d(0x14a)),{logger}=require(a27_0x26f85d(0x166)),{isBucketPresent}=require('./AWSUtils');function a27_0x1132(){const _0x92f278=['BEqLA','NodeGroup','3401980TLEQnm','GoYxK','ZRWCo','dVdrL','357840iLgMyw','756VPlMoG','cPuqJ','yDuCX','schema','Metadata','Outputs','NFhlj','emucQ','HRuvp','3|0|5|1|2|4','Capabilities','Subnet03Block','CloudFormation','WCvZw','ParameterValue','iFwtk','hpWSm','fXHCw','VPC','Resources','DjBQy','Parameters','../config/constants','Upiyk','jphyL','AbHsi','ClusterAutoUpgrade','DdwRx','67220PqyEmv','3771216MXsxiJ','KYihD','promisifyAll','createStack','xMGVI','28726676ZDyvUa','ygYUP','NodeGroupWindows','282819ySSEIL','zvZLo','NodeAutoScalingGroupMinSize','AkbgY','OnFailure','browserstack:cluster','uieAi','rfLUG','apiVersion','ObzAe','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','split','NodeGroupNameWindows','../config/logger','CAPABILITY_NAMED_IAM','RKwpe','GQeka','yDnrN','MHyTE','jpjiQ','ziUyA','tQnQm','ANZyQ','readFileAsync','ResourcesVpcConfig','subnet-create.yaml','oBsVA','kVOsW','vyVCo','subnet-import.yaml','SpAqO','Value','StackId','wQydI','NBsvX','CsTUB','uuHTz','Fn::Join','KLvpE','yGEdP','ParameterGroups','path','NodeInstanceType','lTGCK','GDwil','NodeGroupName','sLbwX','NodeAutoScalingGroupMinSizeWindows','3woafIA','qVwwf','load','YGMDk','instanceType','js-yaml-cloudformation-schema','iTvRe','js-yaml','NodeAutoScalingGroupMaxSize','Tags','./AWSUtils','promise','forEach','bluebird','hQsIF','WkSaj','utf-8','YMOQu','JDFCm','qagHy','yrrBI','qFfnu','Ref','48WanrAO','Qrvdu','scCVu','DependsOn','Subnet02','iAGAm','Subnet','DYSLf','aNmAB','VpcBlock','FxrPv','XWuWp','value','Subnet02Block','TzKIz','s3-create.yaml','NJJln','OeMMh','Subnet01','tnyTB','vpc-create.yaml','JseAV','Subnet01Block','528409KkigSx','NodeAutoScalingGroupDesiredSizeWindows','XRlAB','lhmkK','padStart','s3Bucket','S3BucketName','KcSBq','dokIj','WNrJc','vpc-import.yaml','fMYxa','ICmlO','28Nahcqk','awsObj','waitFor','toString','Key','2|5|4|1|3|0','join','createClusterStack','IHSYY','YqPNU','gqZir','GEPZx','mlrik','xinKd','true','jRquJ','CFTemplates','browserstack:creationDate','EKSCluster','DELETE','ZEXPJ','stringify','valueOf','eFtgd','debug','NodeImageId','Properties','SubnetIds','MVTsN','StackName','UfgtX','keys','RbYle','whzIr','qkMla','kJZuv','fRuNU','Fdjjq','RyNNy','oGBUR','Subnets','ACoYg','false','FdrQi','CgjqZ','push','ParameterKey','fFWVl','SWvsK','uRXMS','QRLbL'];a27_0x1132=function(){return _0x92f278;};return a27_0x1132();}function a27_0x2333(_0xb145d1,_0x2fcc09){const _0x1132c4=a27_0x1132();return a27_0x2333=function(_0x233329,_0x2f5985){_0x233329=_0x233329-0x12f;let _0x4ea49d=_0x1132c4[_0x233329];return _0x4ea49d;},a27_0x2333(_0xb145d1,_0x2fcc09);}Promise[a27_0x26f85d(0x153)](fs);const mergeTemplates=(_0x50a075,_0x4be3e9)=>{const _0x4e3e0c=a27_0x26f85d,_0x59acc1={};_0x59acc1[_0x4e3e0c(0x14b)]=_0x4e3e0c(0x1f8),_0x59acc1[_0x4e3e0c(0x162)]=_0x4e3e0c(0x158),_0x59acc1[_0x4e3e0c(0x16e)]=_0x4e3e0c(0x146),_0x59acc1[_0x4e3e0c(0x152)]=function(_0x49f18f,_0x382ba0){return _0x49f18f===_0x382ba0;},_0x59acc1['WNrJc']='lQPDs',_0x59acc1[_0x4e3e0c(0x1cc)]=_0x4e3e0c(0x1d8),_0x59acc1[_0x4e3e0c(0x175)]='HdDXB',_0x59acc1[_0x4e3e0c(0x1cd)]=_0x4e3e0c(0x168);const _0x23e1b9=_0x59acc1;Object[_0x4e3e0c(0x1e3)](_0x4be3e9)[_0x4e3e0c(0x195)](_0x1ffa0c=>{const _0x3577e9=_0x4e3e0c,_0x3cb391={'pLYeL':_0x23e1b9[_0x3577e9(0x14b)],'RyNNy':_0x23e1b9[_0x3577e9(0x162)],'xWcdW':_0x23e1b9[_0x3577e9(0x16e)],'ziUyA':function(_0x2f8671,_0x2f2820){const _0x41c4b8=_0x3577e9;return _0x23e1b9[_0x41c4b8(0x152)](_0x2f8671,_0x2f2820);},'hQsIF':_0x23e1b9[_0x3577e9(0x1c0)],'CgjqZ':_0x23e1b9[_0x3577e9(0x1cc)]};if(_0x23e1b9[_0x3577e9(0x152)](_0x23e1b9[_0x3577e9(0x175)],_0x23e1b9[_0x3577e9(0x1cd)])){for(const _0x184408 in _0x1d8553['Resources']){_0x5b0ed2[_0x3577e9(0x147)][_0x184408][_0x3577e9(0x1de)]&&_0x55385c[_0x3577e9(0x147)][_0x184408][_0x3577e9(0x1de)][_0x3577e9(0x192)]&&_0x515903[_0x3577e9(0x147)][_0x184408][_0x3577e9(0x1de)][_0x3577e9(0x192)][_0x3577e9(0x1f1)](..._0x117fcf);}const _0x4bbb1f={};_0x498140[_0x3577e9(0x195)](_0x13b41b=>{const _0x1e0e37=_0x3577e9;_0x4bbb1f[_0x13b41b['Key']]=_0x13b41b[_0x1e0e37(0x178)];}),_0x1d4e98[_0x3577e9(0x147)][_0x3cb391['pLYeL']][_0x3577e9(0x1de)][_0x3577e9(0x192)]=_0x4bbb1f,_0x5215eb['Resources'][_0x3cb391[_0x3577e9(0x1ea)]][_0x3577e9(0x1de)][_0x3577e9(0x192)]=_0x4bbb1f;}else{var _0xabc335=_0x4be3e9[_0x1ffa0c];Object[_0x3577e9(0x1e3)](_0xabc335)[_0x3577e9(0x195)](_0x542df8=>{const _0x3b5ce2=_0x3577e9;if(_0x3cb391[_0x3b5ce2(0x16d)](_0x3cb391[_0x3b5ce2(0x197)],_0x3cb391[_0x3b5ce2(0x1f0)])){const _0x219128={};_0x219128['ParameterKey']=_0x3cb391['xWcdW'],_0x219128[_0x3b5ce2(0x142)]=_0x56e292,_0x3519fb[_0x3b5ce2(0x149)][_0x3b5ce2(0x1f1)](_0x219128);}else _0x50a075[_0x1ffa0c][_0x542df8]=_0xabc335[_0x542df8];});}});},addVPCData=async(_0x4ab0ed,_0x4367fb)=>{const _0xd881a=a27_0x26f85d,_0x4d3aa5={'uieAi':function(_0x394ed0,_0x2ed2d2){return _0x394ed0(_0x2ed2d2);},'gqZir':function(_0x65b62e,_0x37c1e3){return _0x65b62e===_0x37c1e3;},'DdwRx':_0xd881a(0x1a5),'sLbwX':_0xd881a(0x1d4),'UfgtX':_0xd881a(0x1c1),'OeMMh':_0xd881a(0x199),'GEPZx':function(_0x290f41,_0x55f68c,_0x3a6945){return _0x290f41(_0x55f68c,_0x3a6945);},'whzIr':'AWS::CloudFormation::Interface','qkMla':_0xd881a(0x146),'qVwwf':_0xd881a(0x1f7),'yEbqF':'VhXFR','TzKIz':_0xd881a(0x1b4),'mlrik':function(_0x5deb53,_0x3c6f0d,_0x377376){return _0x5deb53(_0x3c6f0d,_0x377376);},'NiqRy':_0xd881a(0x1a9)};if(_0x4367fb){if(_0x4d3aa5['gqZir'](_0x4d3aa5['DdwRx'],_0x4d3aa5[_0xd881a(0x14f)])){const _0x53e744=await fs[_0xd881a(0x170)](path[_0xd881a(0x1ca)](__dirname,'..',_0x4d3aa5['sLbwX'],_0x4d3aa5[_0xd881a(0x1e2)]),_0x4d3aa5[_0xd881a(0x1b1)]),_0xaee8e4={};_0xaee8e4[_0xd881a(0x137)]=CLOUDFORMATION_SCHEMA;const _0xba87cb=yaml[_0xd881a(0x18b)](_0x53e744,_0xaee8e4);_0x4d3aa5[_0xd881a(0x1cf)](mergeTemplates,_0x4ab0ed,_0xba87cb),_0x4ab0ed[_0xd881a(0x138)][_0x4d3aa5[_0xd881a(0x1e5)]]['ParameterGroups'][0x0][_0xd881a(0x149)]['push'](_0x4d3aa5[_0xd881a(0x1e6)]);}else _0x35b039[_0xd881a(0x149)][_0xd881a(0x1f1)]({'ParameterKey':_0xd881a(0x1a6)+_0x4d3aa5[_0xd881a(0x15f)](_0x5ab706,_0x1c775c)[_0xd881a(0x1bb)](0x2,'0'),'ParameterValue':_0x1e22cc[_0xd881a(0x1ac)]}),_0x593bf3+=0x1;}else{if(_0x4d3aa5[_0xd881a(0x1ce)](_0x4d3aa5[_0xd881a(0x18a)],_0x4d3aa5['yEbqF']))_0x2df21a[_0xd881a(0x147)][_0x4a5aa7][_0xd881a(0x1de)]&&_0x375237[_0xd881a(0x147)][_0x3c4f99][_0xd881a(0x1de)][_0xd881a(0x192)]&&_0x2d9f33[_0xd881a(0x147)][_0x413d60]['Properties'][_0xd881a(0x192)][_0xd881a(0x1f1)](..._0x52e9f0);else{const _0x52554a=await fs[_0xd881a(0x170)](path['join'](__dirname,'..',_0x4d3aa5[_0xd881a(0x187)],_0x4d3aa5[_0xd881a(0x1ae)]),_0x4d3aa5[_0xd881a(0x1b1)]),_0x940387={};_0x940387[_0xd881a(0x137)]=CLOUDFORMATION_SCHEMA;const _0x514937=yaml[_0xd881a(0x18b)](_0x52554a,_0x940387);_0x4d3aa5[_0xd881a(0x1d0)](mergeTemplates,_0x4ab0ed,_0x514937),_0x4ab0ed[_0xd881a(0x138)][_0x4d3aa5['whzIr']][_0xd881a(0x181)][0x0][_0xd881a(0x149)]['push'](_0x4d3aa5['NiqRy']);}}},addS3Data=async _0x518e6f=>{const _0x141074=a27_0x26f85d,_0x1d2026={'WCvZw':function(_0x454eb0,_0x1b62bf){return _0x454eb0(_0x1b62bf);},'SpAqO':_0x141074(0x1d4),'GoYxK':_0x141074(0x1af),'aNmAB':'utf-8','rfLUG':function(_0x46d59,_0x4a2266){return _0x46d59===_0x4a2266;},'uuHTz':_0x141074(0x17b),'FdrQi':_0x141074(0x1b9),'ygYUP':function(_0x2492fc,_0x568c19,_0x144920){return _0x2492fc(_0x568c19,_0x144920);}},_0x110f8f=await fs[_0x141074(0x170)](path[_0x141074(0x1ca)](__dirname,'..',_0x1d2026[_0x141074(0x177)],_0x1d2026[_0x141074(0x130)]),_0x1d2026[_0x141074(0x1a8)]),_0x3e4b78={};_0x3e4b78[_0x141074(0x137)]=CLOUDFORMATION_SCHEMA;const _0x27d1ad=yaml['load'](_0x110f8f,_0x3e4b78),_0x4bf5ae=await _0x1d2026[_0x141074(0x141)](isBucketPresent,global_registry[_0x141074(0x1bc)]);if(_0x1d2026[_0x141074(0x160)](_0x4bf5ae,![])){if(_0x1d2026['rfLUG'](_0x1d2026[_0x141074(0x17d)],_0x1d2026[_0x141074(0x1ef)])){let _0x4a9274=0x1;_0x397e4e[_0x141074(0x195)](_0x2af20f=>{const _0x10e820=_0x141074;_0x28afdb[_0x10e820(0x149)][_0x10e820(0x1f1)]({'ParameterKey':'Subnet'+_0x1d2026[_0x10e820(0x141)](_0x13b679,_0x4a9274)['padStart'](0x2,'0'),'ParameterValue':_0x2af20f[_0x10e820(0x1ac)]}),_0x4a9274+=0x1;});}else _0x1d2026[_0x141074(0x157)](mergeTemplates,_0x518e6f,_0x27d1ad);}},addSubnetData=async(_0x5ce295,_0x76ff1d)=>{const _0x142f6b=a27_0x26f85d,_0x2e3c39={'yrrBI':_0x142f6b(0x1c9),'xinKd':function(_0x4ca51f,_0x58bf25){return _0x4ca51f(_0x58bf25);},'dokIj':_0x142f6b(0x17e),'kJZuv':'AWS::CloudFormation::Interface','jpjiQ':function(_0x35a0eb,_0x5c7f36){return _0x35a0eb!==_0x5c7f36;},'YMOQu':'ZnTuT','KqFRX':_0x142f6b(0x1db),'DjBQy':_0x142f6b(0x13d),'yJAmy':function(_0x476e9d,_0x3a218a,_0x5474d2){return _0x476e9d(_0x3a218a,_0x5474d2);},'iTvRe':_0x142f6b(0x14c),'uRXMS':_0x142f6b(0x131),'emucQ':_0x142f6b(0x1d4),'DPPQS':_0x142f6b(0x176),'wQydI':'utf-8','hpWSm':function(_0x386d99,_0x1cc0ec){return _0x386d99!==_0x1cc0ec;},'kVNhp':'zvzhJ','iFwtk':_0x142f6b(0x135),'ACoYg':_0x142f6b(0x172),'dVdrL':_0x142f6b(0x1b2),'qFfnu':_0x142f6b(0x1a4),'FxrPv':'Subnet03','RbYle':_0x142f6b(0x1b6),'YiBnx':_0x142f6b(0x1ad),'oGBUR':_0x142f6b(0x13f)};if(_0x76ff1d){if(_0x2e3c39[_0x142f6b(0x16c)](_0x2e3c39[_0x142f6b(0x18f)],_0x2e3c39[_0x142f6b(0x1f5)])){const _0x38315d=await fs[_0x142f6b(0x170)](path[_0x142f6b(0x1ca)](__dirname,'..',_0x2e3c39[_0x142f6b(0x13b)],_0x2e3c39['DPPQS']),_0x2e3c39[_0x142f6b(0x17a)]),_0x53b99b={};_0x53b99b[_0x142f6b(0x137)]=CLOUDFORMATION_SCHEMA;const _0xd3d86e=yaml[_0x142f6b(0x18b)](_0x38315d,_0x53b99b);_0x2e3c39['yJAmy'](mergeTemplates,_0x5ce295,_0xd3d86e);let _0x4df4c8=0x1;_0x76ff1d[_0x142f6b(0x195)](_0x26280b=>{const _0x4d0398=_0x142f6b,_0x2f8d44={'ihNBC':_0x2e3c39[_0x4d0398(0x19d)],'tnyTB':function(_0x109ba3,_0x527baf){const _0x2a5ac0=_0x4d0398;return _0x2e3c39[_0x2a5ac0(0x1d1)](_0x109ba3,_0x527baf);},'JseAV':_0x2e3c39[_0x4d0398(0x1bf)],'ICmlO':_0x2e3c39[_0x4d0398(0x1e7)],'uuUlE':function(_0xb1976a,_0x2ffe31){const _0x224ba7=_0x4d0398;return _0x2e3c39[_0x224ba7(0x1d1)](_0xb1976a,_0x2ffe31);}};if(_0x2e3c39[_0x4d0398(0x16c)](_0x2e3c39[_0x4d0398(0x19a)],_0x2e3c39['KqFRX'])){const _0x2a520c=_0x2e3c39[_0x4d0398(0x148)][_0x4d0398(0x164)]('|');let _0x1866c8=0x0;while(!![]){switch(_0x2a520c[_0x1866c8++]){case'0':_0x5ce295[_0x4d0398(0x138)][_0x2e3c39[_0x4d0398(0x1e7)]][_0x4d0398(0x181)][0x0][_0x4d0398(0x149)]['push']('Subnet'+_0x2e3c39[_0x4d0398(0x1d1)](String,_0x4df4c8)[_0x4d0398(0x1bb)](0x2,'0'));continue;case'1':_0x5ce295[_0x4d0398(0x147)][_0x4d0398(0x158)]['Properties'][_0x4d0398(0x1ec)][_0x4d0398(0x1f1)]({'Ref':_0x4d0398(0x1a6)+_0x2e3c39[_0x4d0398(0x1d1)](String,_0x4df4c8)[_0x4d0398(0x1bb)](0x2,'0')});continue;case'2':_0x5ce295[_0x4d0398(0x139)][_0x4d0398(0x1df)][_0x4d0398(0x178)][_0x2e3c39['dokIj']][0x1]['push']({'Ref':_0x4d0398(0x1a6)+_0x2e3c39['xinKd'](String,_0x4df4c8)[_0x4d0398(0x1bb)](0x2,'0')});continue;case'3':_0x5ce295[_0x4d0398(0x147)][_0x4d0398(0x1d6)][_0x4d0398(0x1de)][_0x4d0398(0x171)][_0x4d0398(0x1df)]['push']({'Ref':_0x4d0398(0x1a6)+_0x2e3c39[_0x4d0398(0x1d1)](String,_0x4df4c8)[_0x4d0398(0x1bb)](0x2,'0')});continue;case'4':_0x4df4c8+=0x1;continue;case'5':_0x5ce295[_0x4d0398(0x147)]['NodeGroup']['Properties'][_0x4d0398(0x1ec)]['push']({'Ref':_0x4d0398(0x1a6)+_0x2e3c39[_0x4d0398(0x1d1)](String,_0x4df4c8)['padStart'](0x2,'0')});continue;}break;}}else{const _0x24ce2a=_0x2f8d44['ihNBC'][_0x4d0398(0x164)]('|');let _0x1828b7=0x0;while(!![]){switch(_0x24ce2a[_0x1828b7++]){case'0':_0x15319e+=0x1;continue;case'1':_0x4a10eb[_0x4d0398(0x147)][_0x4d0398(0x158)][_0x4d0398(0x1de)]['Subnets']['push']({'Ref':_0x4d0398(0x1a6)+_0x2f8d44['tnyTB'](_0x2bfe7a,_0x600784)[_0x4d0398(0x1bb)](0x2,'0')});continue;case'2':_0x5c16a4['Resources'][_0x4d0398(0x1d6)][_0x4d0398(0x1de)][_0x4d0398(0x171)]['SubnetIds'][_0x4d0398(0x1f1)]({'Ref':_0x4d0398(0x1a6)+_0x2f8d44[_0x4d0398(0x1b3)](_0x364974,_0x12a604)['padStart'](0x2,'0')});continue;case'3':_0x123d84[_0x4d0398(0x139)][_0x4d0398(0x1df)]['Value'][_0x2f8d44[_0x4d0398(0x1b5)]][0x1]['push']({'Ref':_0x4d0398(0x1a6)+_0x2f8d44[_0x4d0398(0x1b3)](_0x518f51,_0x2df679)[_0x4d0398(0x1bb)](0x2,'0')});continue;case'4':_0xfdd675[_0x4d0398(0x147)][_0x4d0398(0x1f8)][_0x4d0398(0x1de)][_0x4d0398(0x1ec)][_0x4d0398(0x1f1)]({'Ref':_0x4d0398(0x1a6)+_0x2f8d44['tnyTB'](_0x589859,_0x101b84)[_0x4d0398(0x1bb)](0x2,'0')});continue;case'5':_0x40a129[_0x4d0398(0x138)][_0x2f8d44[_0x4d0398(0x1c3)]][_0x4d0398(0x181)][0x0][_0x4d0398(0x149)][_0x4d0398(0x1f1)](_0x4d0398(0x1a6)+_0x2f8d44['uuUlE'](_0x55cc10,_0x1698c7)[_0x4d0398(0x1bb)](0x2,'0'));continue;}break;}}});}else _0x2e3c39['yJAmy'](_0x21c185,_0x386b7d,_0x2ac41e);}else{if(_0x2e3c39[_0x142f6b(0x144)](_0x2e3c39['kVNhp'],_0x2e3c39[_0x142f6b(0x143)])){const _0xff0381=await fs['readFileAsync'](path[_0x142f6b(0x1ca)](__dirname,'..',_0x2e3c39[_0x142f6b(0x13b)],_0x2e3c39[_0x142f6b(0x1ed)]),_0x2e3c39[_0x142f6b(0x17a)]),_0x2eee29={};_0x2eee29[_0x142f6b(0x137)]=CLOUDFORMATION_SCHEMA;const _0x30ebf6=yaml[_0x142f6b(0x18b)](_0xff0381,_0x2eee29);_0x2e3c39['yJAmy'](mergeTemplates,_0x5ce295,_0x30ebf6),_0x5ce295[_0x142f6b(0x147)][_0x142f6b(0x1d6)][_0x142f6b(0x1a3)][_0x142f6b(0x1f1)](_0x2e3c39[_0x142f6b(0x132)],_0x2e3c39[_0x142f6b(0x19e)],_0x2e3c39[_0x142f6b(0x1aa)]);const _0x4adf74={};_0x4adf74[_0x142f6b(0x19f)]=_0x2e3c39[_0x142f6b(0x132)];const _0x5ca35a={};_0x5ca35a['Ref']=_0x2e3c39[_0x142f6b(0x19e)];const _0x1711dc={};_0x1711dc[_0x142f6b(0x19f)]=_0x2e3c39['FxrPv'],_0x5ce295[_0x142f6b(0x147)]['EKSCluster'][_0x142f6b(0x1de)][_0x142f6b(0x171)]['SubnetIds']=[_0x4adf74,_0x5ca35a,_0x1711dc],_0x5ce295['Metadata'][_0x2e3c39[_0x142f6b(0x1e7)]][_0x142f6b(0x181)][0x0]['Parameters']['push'](_0x2e3c39[_0x142f6b(0x1e4)],_0x2e3c39['YiBnx'],_0x2e3c39[_0x142f6b(0x1eb)]);const _0x32fb82={};_0x32fb82[_0x142f6b(0x19f)]=_0x2e3c39[_0x142f6b(0x132)];const _0x5d8d90={};_0x5d8d90[_0x142f6b(0x19f)]=_0x2e3c39['qFfnu'];const _0x288465={};_0x288465['Ref']=_0x2e3c39[_0x142f6b(0x1aa)],_0x5ce295[_0x142f6b(0x147)][_0x142f6b(0x1f8)]['Properties']['Subnets']=[_0x32fb82,_0x5d8d90,_0x288465];const _0x1eed62={};_0x1eed62['Ref']=_0x2e3c39[_0x142f6b(0x132)];const _0xb47755={};_0xb47755[_0x142f6b(0x19f)]=_0x2e3c39[_0x142f6b(0x19e)];const _0xd0d14={};_0xd0d14[_0x142f6b(0x19f)]=_0x2e3c39['FxrPv'],_0x5ce295[_0x142f6b(0x147)][_0x142f6b(0x158)]['Properties']['Subnets']=[_0x1eed62,_0xb47755,_0xd0d14],_0x5ce295[_0x142f6b(0x139)]['SubnetIds'][_0x142f6b(0x178)][_0x2e3c39['dokIj']][0x1]=[{'Ref':_0x2e3c39[_0x142f6b(0x132)]},{'Ref':_0x2e3c39[_0x142f6b(0x19e)]},{'Ref':_0x2e3c39[_0x142f6b(0x1aa)]}];}else _0x4b8dc5['keys'](_0x2253f1)[_0x142f6b(0x195)](_0x5a2e92=>{const _0x36952a=_0x142f6b;var _0x33e84a=_0x3f628d[_0x5a2e92];_0x152ba4[_0x36952a(0x1e3)](_0x33e84a)[_0x36952a(0x195)](_0x496fd3=>{_0x18060f[_0x5a2e92][_0x496fd3]=_0x33e84a[_0x496fd3];});});}},addTags=async(_0x59b825,_0x42607c,_0x1f0ff4)=>{const _0x4715d8=a27_0x26f85d,_0x1fd14b={};_0x1fd14b[_0x4715d8(0x169)]=function(_0x52e1c4,_0x934a44){return _0x52e1c4===_0x934a44;},_0x1fd14b[_0x4715d8(0x16f)]=_0x4715d8(0x1e0),_0x1fd14b[_0x4715d8(0x1ab)]=function(_0x537327,_0x1cee8b){return _0x537327===_0x1cee8b;},_0x1fd14b[_0x4715d8(0x1e9)]='SnEQs',_0x1fd14b[_0x4715d8(0x185)]='cdRtP',_0x1fd14b['jRquJ']=function(_0x116a21,_0x1a4e1e){return _0x116a21!==_0x1a4e1e;},_0x1fd14b[_0x4715d8(0x173)]='PBxrp',_0x1fd14b[_0x4715d8(0x1be)]='NodeGroup',_0x1fd14b['NJJln']=_0x4715d8(0x158);const _0x4fd0ad=_0x1fd14b;for(const _0xf2d760 in _0x59b825['Resources']){if(_0x4fd0ad[_0x4715d8(0x1ab)](_0x4fd0ad[_0x4715d8(0x1e9)],_0x4fd0ad[_0x4715d8(0x185)])){var _0xab2a06=_0xb7cbfe[_0x39e5e9];_0x276768[_0x4715d8(0x1e3)](_0xab2a06)['forEach'](_0x1f1c62=>{_0x5f4e99[_0x19687a][_0x1f1c62]=_0xab2a06[_0x1f1c62];});}else _0x59b825[_0x4715d8(0x147)][_0xf2d760][_0x4715d8(0x1de)]&&_0x59b825[_0x4715d8(0x147)][_0xf2d760][_0x4715d8(0x1de)][_0x4715d8(0x192)]&&(_0x4fd0ad[_0x4715d8(0x1d3)](_0x4fd0ad[_0x4715d8(0x173)],_0x4fd0ad[_0x4715d8(0x173)])?_0x4c33a3[_0x4715d8(0x147)][_0x4d15e1]['Properties'][_0x4715d8(0x192)]['push'](..._0x145e8d):_0x59b825[_0x4715d8(0x147)][_0xf2d760][_0x4715d8(0x1de)][_0x4715d8(0x192)][_0x4715d8(0x1f1)](..._0x1f0ff4));}const _0x38a0fd={};_0x1f0ff4[_0x4715d8(0x195)](_0x37ac16=>{const _0x1d368b=_0x4715d8;_0x4fd0ad[_0x1d368b(0x169)](_0x4fd0ad['ANZyQ'],_0x4fd0ad[_0x1d368b(0x16f)])?_0x38a0fd[_0x37ac16[_0x1d368b(0x1c8)]]=_0x37ac16['Value']:_0x19e346[_0x1180b2['Key']]=_0x53c851[_0x1d368b(0x178)];}),_0x59b825[_0x4715d8(0x147)][_0x4fd0ad[_0x4715d8(0x1be)]][_0x4715d8(0x1de)][_0x4715d8(0x192)]=_0x38a0fd,_0x59b825[_0x4715d8(0x147)][_0x4fd0ad[_0x4715d8(0x1b0)]][_0x4715d8(0x1de)]['Tags']=_0x38a0fd;};exports[a27_0x26f85d(0x1cb)]=async(_0x3edb7d,_0x3d50bb,_0x1f3262,_0x4740ee=null,_0x2a557c=null,_0x3d24b7)=>{const _0x515af8=a27_0x26f85d,_0x1ab228={'AkbgY':function(_0x548d47,_0x265c72){return _0x548d47(_0x265c72);},'DYSLf':_0x515af8(0x15e),'yGEdP':_0x515af8(0x1d5),'lhmkK':'2010-05-15','fMYxa':_0x515af8(0x1d4),'fFWVl':'aws-eks-cluster-dep.yaml','fRuNU':_0x515af8(0x199),'qagHy':function(_0x38d984,_0x249fa0,_0x216822){return _0x38d984(_0x249fa0,_0x216822);},'bliAs':function(_0x2e6dc4,_0x3e0ea6,_0x94e656,_0x45631b){return _0x2e6dc4(_0x3e0ea6,_0x94e656,_0x45631b);},'qePha':_0x515af8(0x1d7),'AAbuH':'ClusterName','yDnrN':_0x515af8(0x186),'YYwsh':_0x515af8(0x15b),'xMGVI':_0x515af8(0x188),'QRLbL':_0x515af8(0x1b8),'WkSaj':_0x515af8(0x191),'CsTUB':_0x515af8(0x1dd),'YGMDk':_0x515af8(0x183),'scCVu':_0x515af8(0x1bd),'zvZLo':_0x515af8(0x165),'HRuvp':_0x515af8(0x14e),'kVOsW':_0x515af8(0x1d2),'DCSzl':_0x515af8(0x1ee),'KLvpE':_0x515af8(0x167),'YqeIy':function(_0x583e78,_0x2bd924){return _0x583e78!=_0x2bd924;},'Qrvdu':function(_0xc2c86a,_0x83c818){return _0xc2c86a!==_0x83c818;},'fXHCw':function(_0x267ebc,_0x21822a){return _0x267ebc!==_0x21822a;},'iGutE':_0x515af8(0x136),'AbHsi':_0x515af8(0x184),'NFhlj':'VPC','MHyTE':function(_0x4908b6,_0x533b62){return _0x4908b6!=_0x533b62;},'JDFCm':function(_0x4c2436,_0x16ac79){return _0x4c2436!==_0x16ac79;},'qOCrE':_0x515af8(0x163),'SWvsK':'stackCreateComplete'},_0x2af0c6=COMMON_HST_TAGS,_0x219ea1={};_0x219ea1['Key']=_0x1ab228[_0x515af8(0x1a7)],_0x219ea1[_0x515af8(0x178)]=_0x3edb7d,_0x2af0c6[_0x515af8(0x1f1)](_0x219ea1),_0x2af0c6[_0x515af8(0x1f1)]({'Key':_0x1ab228[_0x515af8(0x180)],'Value':new Date()[_0x515af8(0x1da)]()[_0x515af8(0x1c7)]()});const _0x8b52f4={};_0x8b52f4[_0x515af8(0x161)]=_0x1ab228[_0x515af8(0x1ba)];const _0x92781c=new AWS[(_0x515af8(0x140))](_0x8b52f4),_0xb4e399=await fs[_0x515af8(0x170)](path[_0x515af8(0x1ca)](__dirname,'..',_0x1ab228[_0x515af8(0x1c2)],_0x1ab228[_0x515af8(0x1f3)]),_0x1ab228[_0x515af8(0x1e8)]),_0x5a7910={};_0x5a7910[_0x515af8(0x137)]=CLOUDFORMATION_SCHEMA;const _0x4e63f8=yaml[_0x515af8(0x18b)](_0xb4e399,_0x5a7910);await _0x1ab228[_0x515af8(0x19c)](addVPCData,_0x4e63f8,_0x4740ee),await _0x1ab228['AkbgY'](addS3Data,_0x4e63f8),await _0x1ab228[_0x515af8(0x19c)](addSubnetData,_0x4e63f8,_0x2a557c),await _0x1ab228['bliAs'](addTags,_0x4e63f8,_0x3edb7d,_0x2af0c6);const _0x5059c9=JSON[_0x515af8(0x1d9)](_0x4e63f8),_0x4bbfee={};_0x4bbfee['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0x3edb7d,_0x4bbfee[_0x515af8(0x15d)]=_0x1ab228['qePha'],_0x4bbfee['TemplateBody']=_0x5059c9,_0x4bbfee[_0x515af8(0x149)]=[{'ParameterKey':_0x1ab228['AAbuH'],'ParameterValue':_0x3edb7d},{'ParameterKey':_0x1ab228[_0x515af8(0x16a)],'ParameterValue':_0x3edb7d+'-NodeGroup'},{'ParameterKey':_0x1ab228['YYwsh'],'ParameterValue':''+_0x3d50bb},{'ParameterKey':_0x1ab228[_0x515af8(0x155)],'ParameterValue':'0'},{'ParameterKey':_0x1ab228[_0x515af8(0x1f6)],'ParameterValue':'1'},{'ParameterKey':_0x1ab228[_0x515af8(0x198)],'ParameterValue':''+_0x1f3262},{'ParameterKey':_0x1ab228[_0x515af8(0x17c)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x1ab228[_0x515af8(0x18c)],'ParameterValue':global_registry[_0x515af8(0x18d)]},{'ParameterKey':_0x1ab228[_0x515af8(0x1a2)],'ParameterValue':global_registry[_0x515af8(0x1bc)]},{'ParameterKey':_0x1ab228[_0x515af8(0x15a)],'ParameterValue':_0x3edb7d+'-Windows-NodeGroup'},{'ParameterKey':_0x1ab228[_0x515af8(0x13c)],'ParameterValue':_0x3d24b7?_0x1ab228[_0x515af8(0x174)]:_0x1ab228['DCSzl']}],_0x4bbfee[_0x515af8(0x13e)]=[_0x1ab228[_0x515af8(0x17f)]],_0x4bbfee[_0x515af8(0x192)]=_0x2af0c6;const _0x511a8f=_0x4bbfee;if(_0x1ab228['YqeIy'](_0x4740ee,null)&&_0x1ab228[_0x515af8(0x1a1)](_0x4740ee,undefined)){if(_0x1ab228[_0x515af8(0x145)](_0x1ab228['iGutE'],_0x1ab228[_0x515af8(0x14d)])){const _0x307397={};_0x307397[_0x515af8(0x1f2)]=_0x1ab228[_0x515af8(0x13a)],_0x307397[_0x515af8(0x142)]=_0x4740ee,_0x511a8f[_0x515af8(0x149)][_0x515af8(0x1f1)](_0x307397);}else _0x2b51b7[_0xc489dd][_0x4b15d6]=_0x25b2b8[_0x55ba5c];}if(_0x1ab228[_0x515af8(0x16b)](_0x2a557c,null)&&_0x1ab228[_0x515af8(0x19b)](_0x2a557c,undefined)){let _0x3ee900=0x1;_0x2a557c[_0x515af8(0x195)](_0x3ac915=>{const _0x170f74=_0x515af8;_0x511a8f[_0x170f74(0x149)][_0x170f74(0x1f1)]({'ParameterKey':'Subnet'+_0x1ab228[_0x170f74(0x15c)](String,_0x3ee900)[_0x170f74(0x1bb)](0x2,'0'),'ParameterValue':_0x3ac915['value']}),_0x3ee900+=0x1;});}const _0x38bf76=await _0x92781c[_0x515af8(0x154)](_0x511a8f)['promise']();logger[_0x515af8(0x1dc)](_0x1ab228['qOCrE']);const _0x180b27={};return _0x180b27[_0x515af8(0x1e1)]=_0x38bf76[_0x515af8(0x179)],_0x92781c[_0x515af8(0x1c6)](_0x1ab228[_0x515af8(0x1f4)],_0x180b27)[_0x515af8(0x194)]();};