const a27_0x5e9c76=a27_0x832d;(function(_0x5869cb,_0x517d50){const _0x5278db=a27_0x832d,_0x2b4e67=_0x5869cb();while(!![]){try{const _0x404d65=-parseInt(_0x5278db(0x250))/0x1+parseInt(_0x5278db(0x246))/0x2+parseInt(_0x5278db(0x252))/0x3+parseInt(_0x5278db(0x1b6))/0x4+parseInt(_0x5278db(0x207))/0x5+parseInt(_0x5278db(0x21e))/0x6+-parseInt(_0x5278db(0x251))/0x7;if(_0x404d65===_0x517d50)break;else _0x2b4e67['push'](_0x2b4e67['shift']());}catch(_0x1d1a4c){_0x2b4e67['push'](_0x2b4e67['shift']());}}}(a27_0x2f7f,0xabed4));const fs=require('fs'),path=require(a27_0x5e9c76(0x225)),Promise=require('bluebird'),yaml=require(a27_0x5e9c76(0x260)),{CLOUDFORMATION_SCHEMA}=require(a27_0x5e9c76(0x258)),AWS=require(a27_0x5e9c76(0x236))[a27_0x5e9c76(0x1f9)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x5e9c76(0x233)),{logger}=require(a27_0x5e9c76(0x23e)),{isBucketPresent}=require(a27_0x5e9c76(0x236));Promise[a27_0x5e9c76(0x1ed)](fs);function a27_0x2f7f(){const _0x1a97c7=['rxWCP','NCmmO','UWLjW','2010-05-15','MjDtk','AfxgB','promisifyAll','XSDgz','readFileAsync','qmaSy','MBWZP','Guoxy','ParameterKey','oVFta','EDeLx','join','uYxmY','toString','awsObj','qiXxo','XzvVZ','xsdXJ','KrNdI','jdeFA','padStart','ZzfVo','LimuX','GEbtF','vpc-create.yaml','JCAFr','idyoL','yqEUd','4715010vTCZZT','true','VoAXd','GWyFG','Subnet02Block','ApZOr','NodeGroup','bHYqE','utf-8','TjVRb','AWS::CloudFormation::Interface','ybDQE','0|5|2|4|1|3','KRUKS','createClusterStack','DependsOn','YwcXS','htGqy','Tags','zhxhV','NodeAutoScalingGroupMaxSize','WqrgQ','xqVwJ','193884hJZXLZ','Metadata','xAUvF','valueOf','StackName','EKSCluster','ZmrVf','path','RkHtr','Fn::Join','wlnvJ','NodeAutoScalingGroupDesiredSizeWindows','NodeGroupWindows','bGxtT','fkSJS','OzWmm','keys','CZmwf','createStack','VkKxp','Subnets','../config/constants','YXBKc','fjVwF','./AWSUtils','vpc-import.yaml','OEfxt','ParameterGroups','uKNNd','instanceType','GJxdS','browserstack:cluster','../config/logger','Outputs','NodeAutoScalingGroupMinSizeWindows','bVAux','push','NRCaG','qARNR','value','1406132ZCMWEU','-Windows-NodeGroup','Capabilities','Subnet01Block','rCMTe','sqTHg','rOiNk','NodeInstanceType','EOtwa','browserstack:creationDate','779539YfZrox','13706287SnrKwV','2018349XFCgGg','apiVersion','ResourcesVpcConfig','DadPV','s3Bucket','forEach','js-yaml-cloudformation-schema','oeIGR','xnaRq','eczNJ','Qeoiz','SubnetIds','Key','rfMsD','js-yaml','Resources','Parameters','gnouT','s3-create.yaml','gIEtQ','DELETE','qIQJe','JUuWj','VfxYZ','XjsXQ','promise','sTagm','XsRuE','liTsz','schema','HJZWF','CloudFormation','ecgkZ','Subnet','OnFailure','ParameterValue','DDhuW','4362508xFreZt','QoNMU','dHeYJ','StackId','ifzaW','oYIUi','zeBVF','S3BucketName','VpcBlock','PvCor','ajDyF','flWaV','SsNtP','UTZOi','vHyCk','NodeGroupName','ENcwZ','FWaZB','rejNt','jwSTP','EMbhm','Properties','Subnet03Block','LSfOl','false','-NodeGroup','NodeAutoScalingGroupMinSize','BxRCL','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','HVqLi','ClusterAutoUpgrade','LoyFz','HMVDz','ACQFp','MZYXG','mYELq','JUbyP','load','split','Value','VPC','Ref','rmdxW','debug','VwNjw','wKkPc','JaMyL','nldrd','CFTemplates'];a27_0x2f7f=function(){return _0x1a97c7;};return a27_0x2f7f();}function a27_0x832d(_0x1f8a4a,_0x3b9ec0){const _0x2f7fa8=a27_0x2f7f();return a27_0x832d=function(_0x832df0,_0x355ea9){_0x832df0=_0x832df0-0x1af;let _0x3f2115=_0x2f7fa8[_0x832df0];return _0x3f2115;},a27_0x832d(_0x1f8a4a,_0x3b9ec0);}const mergeTemplates=(_0x262f6b,_0x552237)=>{const _0x3336b7=a27_0x5e9c76,_0x5ecd55={'JUuWj':'4|2|0|5|3|1','OEfxt':function(_0x305ba3,_0x13710a){return _0x305ba3(_0x13710a);},'dHeYJ':_0x3336b7(0x211),'HJZWF':function(_0x152b03,_0x1b5319){return _0x152b03(_0x1b5319);},'VkqjM':'Fn::Join','wKkPc':function(_0x16c4b6,_0x319380){return _0x16c4b6!==_0x319380;},'rejNt':_0x3336b7(0x22c),'rfMsD':'SsnrR','AfxgB':function(_0x2d9d33,_0x2b2d01){return _0x2d9d33!==_0x2b2d01;},'EDeLx':_0x3336b7(0x217),'JaMyL':_0x3336b7(0x1d7)};Object[_0x3336b7(0x22e)](_0x552237)[_0x3336b7(0x257)](_0x38674a=>{const _0x2b4f58=_0x3336b7;if(_0x5ecd55[_0x2b4f58(0x1ec)](_0x5ecd55[_0x2b4f58(0x1f5)],_0x5ecd55[_0x2b4f58(0x1e4)])){var _0x3529d5=_0x552237[_0x38674a];Object[_0x2b4f58(0x22e)](_0x3529d5)[_0x2b4f58(0x257)](_0x23f9b7=>{const _0x3bfb01=_0x2b4f58,_0x25952f={'NRCaG':_0x5ecd55[_0x3bfb01(0x268)],'XjsXQ':function(_0x45fd5c,_0x383d08){const _0xa84f5f=_0x3bfb01;return _0x5ecd55[_0xa84f5f(0x238)](_0x45fd5c,_0x383d08);},'vHyCk':_0x5ecd55[_0x3bfb01(0x1b8)],'nldrd':function(_0x163f64,_0xc69a3a){const _0x30845e=_0x3bfb01;return _0x5ecd55[_0x30845e(0x1af)](_0x163f64,_0xc69a3a);},'bGxtT':_0x5ecd55['VkqjM'],'LimuX':function(_0xf9a31a,_0xb33008){const _0x210839=_0x3bfb01;return _0x5ecd55[_0x210839(0x1af)](_0xf9a31a,_0xb33008);}};if(_0x5ecd55[_0x3bfb01(0x1e3)](_0x5ecd55[_0x3bfb01(0x1c8)],_0x5ecd55[_0x3bfb01(0x25f)]))_0x262f6b[_0x38674a][_0x23f9b7]=_0x3529d5[_0x23f9b7];else{const _0x43dbff=_0x25952f[_0x3bfb01(0x243)][_0x3bfb01(0x1dc)]('|');let _0x18415b=0x0;while(!![]){switch(_0x43dbff[_0x18415b++]){case'0':_0x557c9b[_0x3bfb01(0x261)][_0x3bfb01(0x20d)][_0x3bfb01(0x1cb)][_0x3bfb01(0x232)][_0x3bfb01(0x242)]({'Ref':_0x3bfb01(0x1b2)+_0x25952f[_0x3bfb01(0x26a)](_0x151841,_0x2c6a4b)[_0x3bfb01(0x1ff)](0x2,'0')});continue;case'1':_0x2edada+=0x1;continue;case'2':_0x4edd5a[_0x3bfb01(0x21f)][_0x25952f[_0x3bfb01(0x1c4)]][_0x3bfb01(0x239)][0x0]['Parameters'][_0x3bfb01(0x242)](_0x3bfb01(0x1b2)+_0x25952f[_0x3bfb01(0x1e5)](_0x194348,_0xb9065e)[_0x3bfb01(0x1ff)](0x2,'0'));continue;case'3':_0x1956df['Outputs'][_0x3bfb01(0x25d)][_0x3bfb01(0x1dd)][_0x25952f[_0x3bfb01(0x22b)]][0x1]['push']({'Ref':_0x3bfb01(0x1b2)+_0x25952f[_0x3bfb01(0x201)](_0x38255f,_0x12ace7)[_0x3bfb01(0x1ff)](0x2,'0')});continue;case'4':_0x2c4bb9['Resources'][_0x3bfb01(0x223)][_0x3bfb01(0x1cb)][_0x3bfb01(0x254)][_0x3bfb01(0x25d)][_0x3bfb01(0x242)]({'Ref':_0x3bfb01(0x1b2)+_0x25952f[_0x3bfb01(0x1e5)](_0x3ba86c,_0x28c582)[_0x3bfb01(0x1ff)](0x2,'0')});continue;case'5':_0xe993ec['Resources'][_0x3bfb01(0x22a)][_0x3bfb01(0x1cb)][_0x3bfb01(0x232)][_0x3bfb01(0x242)]({'Ref':_0x3bfb01(0x1b2)+_0x25952f[_0x3bfb01(0x26a)](_0xde9557,_0xb0210)['padStart'](0x2,'0')});continue;}break;}}});}else _0x319b64[_0x23413d][_0x3aa2e8]=_0x549524[_0x1e88f3];});},addVPCData=async(_0x1c49bc,_0x48eb06)=>{const _0x1db2ac=a27_0x5e9c76,_0x1c2f07={'ZmrVf':function(_0x38e886,_0x361bfb){return _0x38e886(_0x361bfb);},'TjVRb':function(_0x516cc4,_0xd44fec,_0x2f805f){return _0x516cc4(_0xd44fec,_0x2f805f);},'oeIGR':function(_0x1553f7,_0x2e5ef4){return _0x1553f7!==_0x2e5ef4;},'mYELq':'GYkZx','xqVwJ':_0x1db2ac(0x1e6),'DadPV':_0x1db2ac(0x237),'jLnmD':_0x1db2ac(0x20f),'flWaV':_0x1db2ac(0x211),'MBWZP':'VPC','eczNJ':function(_0x112486,_0x188ef4){return _0x112486!==_0x188ef4;},'yqEUd':_0x1db2ac(0x25c),'LSfOl':_0x1db2ac(0x1d6),'RkHtr':_0x1db2ac(0x203),'bVAux':_0x1db2ac(0x1be)};if(_0x48eb06){if(_0x1c2f07[_0x1db2ac(0x259)](_0x1c2f07[_0x1db2ac(0x1d9)],_0x1c2f07['mYELq']))_0x3a80ce[_0x1db2ac(0x262)][_0x1db2ac(0x242)]({'ParameterKey':_0x1db2ac(0x1b2)+_0x1c2f07[_0x1db2ac(0x224)](_0x3735d0,_0x1d2a29)[_0x1db2ac(0x1ff)](0x2,'0'),'ParameterValue':_0x2c10e7[_0x1db2ac(0x245)]}),_0x46b8da+=0x1;else{const _0x256306=await fs['readFileAsync'](path[_0x1db2ac(0x1f6)](__dirname,'..',_0x1c2f07['xqVwJ'],_0x1c2f07[_0x1db2ac(0x255)]),_0x1c2f07['jLnmD']),_0x430240={};_0x430240['schema']=CLOUDFORMATION_SCHEMA;const _0xe96b40=yaml[_0x1db2ac(0x1db)](_0x256306,_0x430240);_0x1c2f07[_0x1db2ac(0x210)](mergeTemplates,_0x1c49bc,_0xe96b40),_0x1c49bc[_0x1db2ac(0x21f)][_0x1c2f07[_0x1db2ac(0x1c1)]][_0x1db2ac(0x239)][0x0][_0x1db2ac(0x262)][_0x1db2ac(0x242)](_0x1c2f07[_0x1db2ac(0x1f1)]);}}else{if(_0x1c2f07[_0x1db2ac(0x25b)](_0x1c2f07[_0x1db2ac(0x206)],_0x1c2f07[_0x1db2ac(0x1cd)])){const _0x1ed43c=await fs[_0x1db2ac(0x1ef)](path['join'](__dirname,'..',_0x1c2f07[_0x1db2ac(0x21d)],_0x1c2f07[_0x1db2ac(0x226)]),_0x1c2f07['jLnmD']),_0x20faec={};_0x20faec[_0x1db2ac(0x26f)]=CLOUDFORMATION_SCHEMA;const _0x1ba92f=yaml[_0x1db2ac(0x1db)](_0x1ed43c,_0x20faec);_0x1c2f07[_0x1db2ac(0x210)](mergeTemplates,_0x1c49bc,_0x1ba92f),_0x1c49bc[_0x1db2ac(0x21f)][_0x1c2f07[_0x1db2ac(0x1c1)]][_0x1db2ac(0x239)][0x0]['Parameters']['push'](_0x1c2f07[_0x1db2ac(0x241)]);}else _0x1c2f07[_0x1db2ac(0x210)](_0x55dacc,_0x284763,_0x52a284);}},addS3Data=async _0x58d4b7=>{const _0x21754e=a27_0x5e9c76,_0x500dbb={'Guoxy':_0x21754e(0x1e6),'uKNNd':_0x21754e(0x264),'GJxdS':_0x21754e(0x20f),'MZYXG':function(_0x40110b,_0x22c7b0){return _0x40110b(_0x22c7b0);},'mwYPw':function(_0x28175a,_0x5cc7de){return _0x28175a===_0x5cc7de;},'HVqLi':function(_0x227571,_0x380efb){return _0x227571!==_0x380efb;},'VkKxp':'VkiTe','dWmhn':_0x21754e(0x24e),'ajDyF':function(_0x535b68,_0x251f51,_0x39ed2e){return _0x535b68(_0x251f51,_0x39ed2e);}},_0x5b0842=await fs['readFileAsync'](path[_0x21754e(0x1f6)](__dirname,'..',_0x500dbb[_0x21754e(0x1f2)],_0x500dbb[_0x21754e(0x23a)]),_0x500dbb[_0x21754e(0x23c)]),_0x43bbfa={};_0x43bbfa['schema']=CLOUDFORMATION_SCHEMA;const _0x206d52=yaml[_0x21754e(0x1db)](_0x5b0842,_0x43bbfa),_0x28b1c9=await _0x500dbb[_0x21754e(0x1d8)](isBucketPresent,global_registry[_0x21754e(0x256)]);_0x500dbb['mwYPw'](_0x28b1c9,![])&&(_0x500dbb[_0x21754e(0x1d3)](_0x500dbb[_0x21754e(0x231)],_0x500dbb['dWmhn'])?_0x500dbb[_0x21754e(0x1c0)](mergeTemplates,_0x58d4b7,_0x206d52):_0x102647[_0x21754e(0x261)][_0x31903a][_0x21754e(0x1cb)][_0x21754e(0x219)][_0x21754e(0x242)](..._0x76ffa0));},addSubnetData=async(_0x12542d,_0x2768f4)=>{const _0x5c1df1=a27_0x5e9c76,_0x4b5771={'QoNMU':_0x5c1df1(0x20d),'MgvKw':_0x5c1df1(0x22a),'WqrgQ':_0x5c1df1(0x1de),'qiXxo':function(_0x1909c9,_0x5e0948){return _0x1909c9===_0x5e0948;},'ybDQE':'UnCRv','jdeFA':_0x5c1df1(0x213),'VoAXd':function(_0x433955,_0xdc15ef){return _0x433955(_0xdc15ef);},'SsNtP':_0x5c1df1(0x227),'PvCor':_0x5c1df1(0x211),'xAUvF':function(_0x3c9c9f,_0x3b9587){return _0x3c9c9f(_0x3b9587);},'xnaRq':function(_0xf4f5b5,_0x56a669){return _0xf4f5b5!==_0x56a669;},'KrNdI':_0x5c1df1(0x1c3),'zhxhV':_0x5c1df1(0x1e6),'eXzkW':'subnet-import.yaml','rmdxW':_0x5c1df1(0x20f),'oYIUi':function(_0x516aa4,_0x86dcde,_0x26f6c8){return _0x516aa4(_0x86dcde,_0x26f6c8);},'RSWpq':_0x5c1df1(0x22d),'bThQn':_0x5c1df1(0x1fc),'MjDtk':'subnet-create.yaml','wlnvJ':'Subnet01','VwNjw':'Subnet02','fjVwF':'Subnet03','qIQJe':_0x5c1df1(0x249),'lEMQg':_0x5c1df1(0x20b),'KRUKS':_0x5c1df1(0x1cc)};if(_0x2768f4){if(_0x4b5771[_0x5c1df1(0x25a)](_0x4b5771['KrNdI'],_0x4b5771[_0x5c1df1(0x1fd)])){for(const _0x15bc9d in _0x38562f[_0x5c1df1(0x261)]){_0x2122f9[_0x5c1df1(0x261)][_0x15bc9d][_0x5c1df1(0x1cb)]&&_0x374e61[_0x5c1df1(0x261)][_0x15bc9d][_0x5c1df1(0x1cb)]['Tags']&&_0xc02322['Resources'][_0x15bc9d][_0x5c1df1(0x1cb)][_0x5c1df1(0x219)][_0x5c1df1(0x242)](..._0x15cd45);}const _0x316fab={};_0xd3a91e[_0x5c1df1(0x257)](_0x2c57c1=>{const _0x10ed3a=_0x5c1df1;_0x316fab[_0x2c57c1['Key']]=_0x2c57c1[_0x10ed3a(0x1dd)];}),_0x444736['Resources'][_0x4b5771[_0x5c1df1(0x1b7)]][_0x5c1df1(0x1cb)][_0x5c1df1(0x219)]=_0x316fab,_0x1bf443['Resources'][_0x4b5771['MgvKw']]['Properties']['Tags']=_0x316fab;}else{const _0x90df17=await fs[_0x5c1df1(0x1ef)](path[_0x5c1df1(0x1f6)](__dirname,'..',_0x4b5771[_0x5c1df1(0x21a)],_0x4b5771['eXzkW']),_0x4b5771[_0x5c1df1(0x1e0)]),_0x3d97ba={};_0x3d97ba[_0x5c1df1(0x26f)]=CLOUDFORMATION_SCHEMA;const _0x446f3c=yaml[_0x5c1df1(0x1db)](_0x90df17,_0x3d97ba);_0x4b5771[_0x5c1df1(0x1bb)](mergeTemplates,_0x12542d,_0x446f3c);let _0x3e5a5c=0x1;_0x2768f4[_0x5c1df1(0x257)](_0x39767d=>{const _0x46669a=_0x5c1df1;if(_0x4b5771[_0x46669a(0x1fa)](_0x4b5771[_0x46669a(0x212)],_0x4b5771['ybDQE'])){const _0x4918fd=_0x4b5771[_0x46669a(0x1fe)][_0x46669a(0x1dc)]('|');let _0x2b4451=0x0;while(!![]){switch(_0x4918fd[_0x2b4451++]){case'0':_0x12542d[_0x46669a(0x261)]['EKSCluster']['Properties'][_0x46669a(0x254)][_0x46669a(0x25d)][_0x46669a(0x242)]({'Ref':_0x46669a(0x1b2)+_0x4b5771[_0x46669a(0x209)](String,_0x3e5a5c)[_0x46669a(0x1ff)](0x2,'0')});continue;case'1':_0x12542d[_0x46669a(0x23f)][_0x46669a(0x25d)][_0x46669a(0x1dd)][_0x4b5771[_0x46669a(0x1c2)]][0x1][_0x46669a(0x242)]({'Ref':'Subnet'+_0x4b5771['VoAXd'](String,_0x3e5a5c)['padStart'](0x2,'0')});continue;case'2':_0x12542d[_0x46669a(0x261)][_0x46669a(0x20d)]['Properties'][_0x46669a(0x232)][_0x46669a(0x242)]({'Ref':_0x46669a(0x1b2)+_0x4b5771[_0x46669a(0x209)](String,_0x3e5a5c)[_0x46669a(0x1ff)](0x2,'0')});continue;case'3':_0x3e5a5c+=0x1;continue;case'4':_0x12542d[_0x46669a(0x261)]['NodeGroupWindows'][_0x46669a(0x1cb)][_0x46669a(0x232)][_0x46669a(0x242)]({'Ref':_0x46669a(0x1b2)+_0x4b5771[_0x46669a(0x209)](String,_0x3e5a5c)[_0x46669a(0x1ff)](0x2,'0')});continue;case'5':_0x12542d[_0x46669a(0x21f)][_0x4b5771[_0x46669a(0x1bf)]][_0x46669a(0x239)][0x0][_0x46669a(0x262)]['push'](_0x46669a(0x1b2)+_0x4b5771[_0x46669a(0x220)](String,_0x3e5a5c)[_0x46669a(0x1ff)](0x2,'0'));continue;}break;}}else{const _0x30f42c={};_0x30f42c[_0x46669a(0x1f3)]=_0x4b5771[_0x46669a(0x21c)],_0x30f42c[_0x46669a(0x1b4)]=_0x27054b,_0x15c277[_0x46669a(0x262)][_0x46669a(0x242)](_0x30f42c);}});}}else{if(_0x4b5771['qiXxo'](_0x4b5771['RSWpq'],_0x4b5771['bThQn']))_0x21ed24[_0x5c1df1(0x261)][_0x1463bc][_0x5c1df1(0x1cb)]&&_0x12fc2e[_0x5c1df1(0x261)][_0x4036b5][_0x5c1df1(0x1cb)]['Tags']&&_0x432758[_0x5c1df1(0x261)][_0x271a32][_0x5c1df1(0x1cb)][_0x5c1df1(0x219)][_0x5c1df1(0x242)](..._0x4d6547);else{const _0x523978=await fs[_0x5c1df1(0x1ef)](path[_0x5c1df1(0x1f6)](__dirname,'..',_0x4b5771[_0x5c1df1(0x21a)],_0x4b5771[_0x5c1df1(0x1eb)]),_0x4b5771['rmdxW']),_0x3ec3ce={};_0x3ec3ce[_0x5c1df1(0x26f)]=CLOUDFORMATION_SCHEMA;const _0x2c67ff=yaml['load'](_0x523978,_0x3ec3ce);_0x4b5771[_0x5c1df1(0x1bb)](mergeTemplates,_0x12542d,_0x2c67ff),_0x12542d[_0x5c1df1(0x261)]['EKSCluster'][_0x5c1df1(0x216)][_0x5c1df1(0x242)](_0x4b5771[_0x5c1df1(0x228)],_0x4b5771[_0x5c1df1(0x1e2)],_0x4b5771[_0x5c1df1(0x235)]);const _0x46e38={};_0x46e38['Ref']=_0x4b5771['wlnvJ'];const _0x580450={};_0x580450['Ref']=_0x4b5771[_0x5c1df1(0x1e2)];const _0x2720f5={};_0x2720f5[_0x5c1df1(0x1df)]=_0x4b5771[_0x5c1df1(0x235)],_0x12542d['Resources'][_0x5c1df1(0x223)]['Properties'][_0x5c1df1(0x254)][_0x5c1df1(0x25d)]=[_0x46e38,_0x580450,_0x2720f5],_0x12542d[_0x5c1df1(0x21f)][_0x4b5771[_0x5c1df1(0x1bf)]]['ParameterGroups'][0x0]['Parameters'][_0x5c1df1(0x242)](_0x4b5771[_0x5c1df1(0x267)],_0x4b5771['lEMQg'],_0x4b5771[_0x5c1df1(0x214)]);const _0x893ffe={};_0x893ffe[_0x5c1df1(0x1df)]=_0x4b5771[_0x5c1df1(0x228)];const _0x3441d6={};_0x3441d6[_0x5c1df1(0x1df)]=_0x4b5771['VwNjw'];const _0x52c432={};_0x52c432[_0x5c1df1(0x1df)]=_0x4b5771[_0x5c1df1(0x235)],_0x12542d[_0x5c1df1(0x261)][_0x5c1df1(0x20d)]['Properties'][_0x5c1df1(0x232)]=[_0x893ffe,_0x3441d6,_0x52c432];const _0x107534={};_0x107534[_0x5c1df1(0x1df)]=_0x4b5771[_0x5c1df1(0x228)];const _0x34191e={};_0x34191e[_0x5c1df1(0x1df)]=_0x4b5771[_0x5c1df1(0x1e2)];const _0x4c435c={};_0x4c435c['Ref']=_0x4b5771[_0x5c1df1(0x235)],_0x12542d['Resources'][_0x5c1df1(0x22a)]['Properties'][_0x5c1df1(0x232)]=[_0x107534,_0x34191e,_0x4c435c],_0x12542d[_0x5c1df1(0x23f)]['SubnetIds'][_0x5c1df1(0x1dd)][_0x4b5771['SsNtP']][0x1]=[{'Ref':_0x4b5771['wlnvJ']},{'Ref':_0x4b5771[_0x5c1df1(0x1e2)]},{'Ref':_0x4b5771[_0x5c1df1(0x235)]}];}}},addTags=async(_0x408b95,_0x3b3bc6,_0x2bb84f)=>{const _0x727d59=a27_0x5e9c76,_0x305f36={'FWaZB':function(_0x49803c,_0x51a58e){return _0x49803c(_0x51a58e);},'YXBKc':function(_0x4697b3,_0x1fc54b){return _0x4697b3!==_0x1fc54b;},'ifzaW':_0x727d59(0x1ee),'BkhZN':_0x727d59(0x1fb),'xygnv':function(_0x50afb2,_0x37b038){return _0x50afb2!==_0x37b038;},'sqTHg':_0x727d59(0x263),'CkWgy':_0x727d59(0x202),'oVFta':function(_0x409ae1,_0x1e49f9){return _0x409ae1!==_0x1e49f9;},'uYxmY':_0x727d59(0x26d),'IWjUr':_0x727d59(0x1c9),'afxJN':_0x727d59(0x20d),'idyoL':'NodeGroupWindows'};for(const _0x2df659 in _0x408b95['Resources']){if(_0x305f36['xygnv'](_0x305f36[_0x727d59(0x24b)],_0x305f36['CkWgy']))_0x408b95['Resources'][_0x2df659]['Properties']&&_0x408b95[_0x727d59(0x261)][_0x2df659]['Properties'][_0x727d59(0x219)]&&(_0x305f36[_0x727d59(0x1f4)](_0x305f36[_0x727d59(0x1f7)],_0x305f36['IWjUr'])?_0x408b95['Resources'][_0x2df659][_0x727d59(0x1cb)][_0x727d59(0x219)][_0x727d59(0x242)](..._0x2bb84f):_0x29ba32[_0x56b290['Key']]=_0xff9d72[_0x727d59(0x1dd)]);else{var _0x45eff5=_0x46b983[_0x5304cb];_0x25e4eb[_0x727d59(0x22e)](_0x45eff5)['forEach'](_0x2a9f83=>{_0x48755a[_0x25e989][_0x2a9f83]=_0x45eff5[_0x2a9f83];});}}const _0x4fe208={};_0x2bb84f[_0x727d59(0x257)](_0x1a2e69=>{const _0x219857=_0x727d59,_0x63f046={'rCMTe':function(_0x29ba5b,_0x142b20){const _0x435e31=a27_0x832d;return _0x305f36[_0x435e31(0x1c7)](_0x29ba5b,_0x142b20);}};if(_0x305f36[_0x219857(0x234)](_0x305f36[_0x219857(0x1ba)],_0x305f36['BkhZN']))_0x4fe208[_0x1a2e69[_0x219857(0x25e)]]=_0x1a2e69[_0x219857(0x1dd)];else{const _0x4f61ec={'VfxYZ':function(_0x17e012,_0x58d339){const _0x4a779a=_0x219857;return _0x63f046[_0x4a779a(0x24a)](_0x17e012,_0x58d339);}};let _0x26a789=0x1;_0x24c6fe[_0x219857(0x257)](_0x217184=>{const _0x5cbd71=_0x219857;_0xe3c2ec['Parameters'][_0x5cbd71(0x242)]({'ParameterKey':'Subnet'+_0x4f61ec[_0x5cbd71(0x269)](_0x1040e8,_0x26a789)[_0x5cbd71(0x1ff)](0x2,'0'),'ParameterValue':_0x217184['value']}),_0x26a789+=0x1;});}}),_0x408b95[_0x727d59(0x261)][_0x305f36['afxJN']][_0x727d59(0x1cb)][_0x727d59(0x219)]=_0x4fe208,_0x408b95[_0x727d59(0x261)][_0x305f36[_0x727d59(0x205)]][_0x727d59(0x1cb)][_0x727d59(0x219)]=_0x4fe208;};exports[a27_0x5e9c76(0x215)]=async(_0x10c265,_0x190f78,_0x4ca585,_0x309f40=null,_0x4a94a7=null,_0xddef61)=>{const _0x11762b=a27_0x5e9c76,_0x8c12e={'UBnZV':function(_0x566126,_0x12ad4e){return _0x566126(_0x12ad4e);},'BxRCL':_0x11762b(0x23d),'kKNdf':_0x11762b(0x24f),'CZmwf':_0x11762b(0x1ea),'vyoEX':'CFTemplates','ecgkZ':'aws-eks-cluster-dep.yaml','vnKUJ':'utf-8','EMbhm':function(_0xc740e,_0x5ec46a,_0x529d6b){return _0xc740e(_0x5ec46a,_0x529d6b);},'qARNR':function(_0x348e74,_0x399fd9,_0x391c57){return _0x348e74(_0x399fd9,_0x391c57);},'ZzfVo':function(_0x1c984e,_0x35e6d2,_0x440481,_0x5e4c0e){return _0x1c984e(_0x35e6d2,_0x440481,_0x5e4c0e);},'bHYqE':_0x11762b(0x266),'OGzUt':'ClusterName','NCmmO':_0x11762b(0x1c5),'uocVm':_0x11762b(0x1d0),'bgcru':_0x11762b(0x240),'DDhuW':_0x11762b(0x229),'htGqy':_0x11762b(0x21b),'zeBVF':'NodeImageId','qmaSy':_0x11762b(0x24d),'UWLjW':_0x11762b(0x1bd),'ApZOr':'NodeGroupNameWindows','rxWCP':_0x11762b(0x1d4),'JWfYJ':_0x11762b(0x208),'XyPot':_0x11762b(0x1ce),'rOiNk':'CAPABILITY_NAMED_IAM','JCAFr':function(_0xc28933,_0x759207){return _0xc28933!=_0x759207;},'ENcwZ':function(_0x7d480,_0x5d863a){return _0x7d480!==_0x5d863a;},'LoyFz':_0x11762b(0x265),'JUbyP':_0x11762b(0x1de),'sTagm':function(_0x44c93d,_0x512141){return _0x44c93d!==_0x512141;},'liTsz':_0x11762b(0x1d2),'GWyFG':'stackCreateComplete'},_0x5c5338=COMMON_HST_TAGS,_0x53b862={};_0x53b862[_0x11762b(0x25e)]=_0x8c12e[_0x11762b(0x1d1)],_0x53b862[_0x11762b(0x1dd)]=_0x10c265,_0x5c5338[_0x11762b(0x242)](_0x53b862),_0x5c5338[_0x11762b(0x242)]({'Key':_0x8c12e['kKNdf'],'Value':new Date()[_0x11762b(0x221)]()[_0x11762b(0x1f8)]()});const _0x31f14c={};_0x31f14c[_0x11762b(0x253)]=_0x8c12e[_0x11762b(0x22f)];const _0x30b94f=new AWS[(_0x11762b(0x1b0))](_0x31f14c),_0x31da4a=await fs[_0x11762b(0x1ef)](path['join'](__dirname,'..',_0x8c12e['vyoEX'],_0x8c12e[_0x11762b(0x1b1)]),_0x8c12e['vnKUJ']),_0x427a05={};_0x427a05[_0x11762b(0x26f)]=CLOUDFORMATION_SCHEMA;const _0x4d59b4=yaml['load'](_0x31da4a,_0x427a05);await _0x8c12e[_0x11762b(0x1ca)](addVPCData,_0x4d59b4,_0x309f40),await _0x8c12e['UBnZV'](addS3Data,_0x4d59b4),await _0x8c12e[_0x11762b(0x244)](addSubnetData,_0x4d59b4,_0x4a94a7),await _0x8c12e[_0x11762b(0x200)](addTags,_0x4d59b4,_0x10c265,_0x5c5338);const _0x675085=JSON['stringify'](_0x4d59b4),_0x2c01c2={};_0x2c01c2[_0x11762b(0x222)]=CLUSTER_DEP_STACK_NAME+'-'+_0x10c265,_0x2c01c2[_0x11762b(0x1b3)]=_0x8c12e[_0x11762b(0x20e)],_0x2c01c2['TemplateBody']=_0x675085,_0x2c01c2[_0x11762b(0x262)]=[{'ParameterKey':_0x8c12e['OGzUt'],'ParameterValue':_0x10c265},{'ParameterKey':_0x8c12e[_0x11762b(0x1e8)],'ParameterValue':_0x10c265+_0x11762b(0x1cf)},{'ParameterKey':_0x8c12e['uocVm'],'ParameterValue':''+_0x190f78},{'ParameterKey':_0x8c12e['bgcru'],'ParameterValue':'0'},{'ParameterKey':_0x8c12e[_0x11762b(0x1b5)],'ParameterValue':'1'},{'ParameterKey':_0x8c12e[_0x11762b(0x218)],'ParameterValue':''+_0x4ca585},{'ParameterKey':_0x8c12e[_0x11762b(0x1bc)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x8c12e[_0x11762b(0x1f0)],'ParameterValue':global_registry[_0x11762b(0x23b)]},{'ParameterKey':_0x8c12e[_0x11762b(0x1e9)],'ParameterValue':global_registry[_0x11762b(0x256)]},{'ParameterKey':_0x8c12e[_0x11762b(0x20c)],'ParameterValue':_0x10c265+_0x11762b(0x247)},{'ParameterKey':_0x8c12e[_0x11762b(0x1e7)],'ParameterValue':_0xddef61?_0x8c12e['JWfYJ']:_0x8c12e['XyPot']}],_0x2c01c2[_0x11762b(0x248)]=[_0x8c12e[_0x11762b(0x24c)]],_0x2c01c2[_0x11762b(0x219)]=_0x5c5338;const _0x53f0d6=_0x2c01c2;if(_0x8c12e[_0x11762b(0x204)](_0x309f40,null)&&_0x8c12e[_0x11762b(0x1c6)](_0x309f40,undefined)){if(_0x8c12e['ENcwZ'](_0x8c12e[_0x11762b(0x1d5)],_0x8c12e[_0x11762b(0x1d5)]))_0x13e75e[_0x11762b(0x22e)](_0x18305b)[_0x11762b(0x257)](_0x58d3fd=>{const _0x12b50b=_0x11762b;var _0x357afe=_0x55d405[_0x58d3fd];_0x465f97[_0x12b50b(0x22e)](_0x357afe)[_0x12b50b(0x257)](_0x4c79d4=>{_0x3675df[_0x58d3fd][_0x4c79d4]=_0x357afe[_0x4c79d4];});});else{const _0x5e9ecd={};_0x5e9ecd[_0x11762b(0x1f3)]=_0x8c12e[_0x11762b(0x1da)],_0x5e9ecd[_0x11762b(0x1b4)]=_0x309f40,_0x53f0d6[_0x11762b(0x262)]['push'](_0x5e9ecd);}}if(_0x8c12e[_0x11762b(0x204)](_0x4a94a7,null)&&_0x8c12e[_0x11762b(0x26c)](_0x4a94a7,undefined)){let _0xe11da3=0x1;_0x4a94a7[_0x11762b(0x257)](_0x2296cf=>{const _0x1f8243=_0x11762b;_0x53f0d6[_0x1f8243(0x262)][_0x1f8243(0x242)]({'ParameterKey':'Subnet'+_0x8c12e['UBnZV'](String,_0xe11da3)['padStart'](0x2,'0'),'ParameterValue':_0x2296cf[_0x1f8243(0x245)]}),_0xe11da3+=0x1;});}const _0xe14c4d=await _0x30b94f[_0x11762b(0x230)](_0x53f0d6)[_0x11762b(0x26b)]();logger[_0x11762b(0x1e1)](_0x8c12e[_0x11762b(0x26e)]);const _0x196b61={};return _0x196b61[_0x11762b(0x222)]=_0xe14c4d[_0x11762b(0x1b9)],_0x30b94f['waitFor'](_0x8c12e[_0x11762b(0x20a)],_0x196b61)[_0x11762b(0x26b)]();};