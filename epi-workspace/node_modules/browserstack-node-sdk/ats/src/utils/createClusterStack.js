const a27_0x48bb50=a27_0x4625;(function(_0x482964,_0x418f29){const _0x55d3a3=a27_0x4625,_0x285b97=_0x482964();while(!![]){try{const _0x1ae793=-parseInt(_0x55d3a3(0x1f3))/0x1*(parseInt(_0x55d3a3(0x13e))/0x2)+-parseInt(_0x55d3a3(0x17a))/0x3+-parseInt(_0x55d3a3(0x1bc))/0x4+-parseInt(_0x55d3a3(0x13d))/0x5*(parseInt(_0x55d3a3(0x1a6))/0x6)+-parseInt(_0x55d3a3(0x145))/0x7*(parseInt(_0x55d3a3(0x16b))/0x8)+-parseInt(_0x55d3a3(0x1d0))/0x9+-parseInt(_0x55d3a3(0x157))/0xa*(-parseInt(_0x55d3a3(0x1aa))/0xb);if(_0x1ae793===_0x418f29)break;else _0x285b97['push'](_0x285b97['shift']());}catch(_0x3b3072){_0x285b97['push'](_0x285b97['shift']());}}}(a27_0xd5ba,0x997d4));const fs=require('fs'),path=require(a27_0x48bb50(0x170)),Promise=require(a27_0x48bb50(0x154)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a27_0x48bb50(0x1e4))[a27_0x48bb50(0x193)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x48bb50(0x142)),{logger}=require(a27_0x48bb50(0x1b2)),{isBucketPresent}=require('./AWSUtils');function a27_0xd5ba(){const _0x35fd51=['ParameterValue','EgRoO','Key','oYbDl','createStack','VPC','NodeAutoScalingGroupMinSize','TemplateBody','584FxsFQX','keys','value','lsoqY','VjHzq','path','vpc-import.yaml','leZLu','vSfvE','SkFeD','Subnets','s3Bucket','Subnet01Block','aJNza','vyJWR','3000192wVrYZs','forEach','bXgSV','HApeM','Parameters','qBMsp','VwMmF','vpc-create.yaml','xyqMY','ParameterGroups','ePDIg','promise','MZHPf','Properties','qkNVd','EKSCluster','NodeInstanceType','tmyvw','NodeAutoScalingGroupMaxSize','NodeGroupName','zotBq','rmhUc','s3-create.yaml','qbMez','jRqzq','awsObj','Subnet02Block','FhXjg','lkdRF','vqTCT','kXnUj','mEQBK','RbTtM','HxgsG','APUqm','PhFSA','EdcKU','sPrvc','bxeBn','aAOIz','zqllS','StackId','readFileAsync','MumCX','12iUkHtX','OFOgf','4|0|2|3|5|1','XhuuJ','30090632ziGLZs','ParameterKey','CFTemplates','msgww','subnet-import.yaml','QNJSb','push','oqjHb','../config/logger','instanceType','NodeGroup','NodeGroupWindows','Ref','JeAyY','JGUBI','Value','hbcgP','rwTth','4677888MueyLZ','Subnet03Block','mwoYW','yJyHM','3|4|2|5|1|0','zzXCC','XIjmo','S3BucketName','NodeImageId','apiVersion','XcKZs','Ufthm','DependsOn','BqjVO','Fn::Join','-Windows-NodeGroup','jomje','FFuyx','SIvXB','MABru','3084984iOCTXq','VApIL','ikbyn','join','UcQGV','Resources','uiozA','XduRY','qpDsW','split','qALPG','EQfah','ceyoK','ecVHK','qbnTg','fnpCO','schema','mqQqQ','ResourcesVpcConfig','ICUsj','./AWSUtils','SJZUd','fKyjk','toString','NodeAutoScalingGroupMinSizeWindows','stringify','raszm','HfobS','yzaCi','hWWuA','bpcvX','ZhHif','browserstack:creationDate','weKvi','EYuNr','16619MFFdVV','Metadata','load','Tags','stackCreateComplete','NlKbc','AWS::CloudFormation::Interface','utf-8','2700860UlYLCF','106GmkBFb','VIiFI','GeZTN','Subnet','../config/constants','kEgCu','StackName','35371qreNLR','OlKEn','RpWFg','subnet-create.yaml','TqPQz','SubnetIds','QTLWw','ijfrb','XjuOR','browserstack:cluster','eDfAm','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','mAcTy','Subnet03','gOkPr','bluebird','BPjnV','-NodeGroup','20qebBIM','padStart','Subnet02','IysWL','zlIrQ','rpTtt','CAPABILITY_NAMED_IAM','fwrDr','SzxaH','OthDw','ami','aws-eks-cluster-dep.yaml'];a27_0xd5ba=function(){return _0x35fd51;};return a27_0xd5ba();}function a27_0x4625(_0x129f76,_0x36739e){const _0xd5ba5e=a27_0xd5ba();return a27_0x4625=function(_0x462567,_0x96f2ca){_0x462567=_0x462567-0x13b;let _0x3cf9b5=_0xd5ba5e[_0x462567];return _0x3cf9b5;},a27_0x4625(_0x129f76,_0x36739e);}Promise['promisifyAll'](fs);const mergeTemplates=(_0x4ff499,_0x76b7da)=>{const _0x5e0900=a27_0x48bb50,_0x37b142={'LIImV':_0x5e0900(0x1a8),'GeZTN':_0x5e0900(0x13b),'XpCCT':function(_0x388ee,_0x33f11d){return _0x388ee(_0x33f11d);},'rwTth':function(_0x55e967,_0x3a3b15){return _0x55e967(_0x3a3b15);},'JeAyY':function(_0x1cb39f,_0x308fd0){return _0x1cb39f(_0x308fd0);},'SJZUd':function(_0x894a86,_0x162adc){return _0x894a86(_0x162adc);},'leZLu':_0x5e0900(0x1ca),'rpTtt':function(_0x4240c2,_0x226a9d){return _0x4240c2(_0x226a9d);},'VZAoB':function(_0x118a16,_0x17011d){return _0x118a16!==_0x17011d;},'zlIrQ':_0x5e0900(0x166),'VIiFI':_0x5e0900(0x1d8),'msgww':function(_0x5173a0,_0x2b63fc){return _0x5173a0===_0x2b63fc;},'qbnTg':_0x5e0900(0x1ec)};Object['keys'](_0x76b7da)[_0x5e0900(0x17b)](_0x188062=>{const _0x5e8457=_0x5e0900,_0x1c63f1={'YYzNC':function(_0x3f5dfa,_0x33aa6b){return _0x37b142['VZAoB'](_0x3f5dfa,_0x33aa6b);},'raszm':_0x37b142[_0x5e8457(0x15b)],'lkdRF':_0x37b142[_0x5e8457(0x13f)]};if(_0x37b142[_0x5e8457(0x1ad)](_0x37b142[_0x5e8457(0x1de)],_0x37b142[_0x5e8457(0x1de)])){var _0x2c6637=_0x76b7da[_0x188062];Object[_0x5e8457(0x16c)](_0x2c6637)[_0x5e8457(0x17b)](_0xf434fa=>{const _0x56770c=_0x5e8457;_0x1c63f1['YYzNC'](_0x1c63f1[_0x56770c(0x1ea)],_0x1c63f1[_0x56770c(0x196)])?_0x4ff499[_0x188062][_0xf434fa]=_0x2c6637[_0xf434fa]:_0x5a2d61[_0x4d7e40][_0x5a1520]=_0x3d1014[_0x5daa7c];});}else{const _0x1076f0=_0x37b142['LIImV'][_0x5e8457(0x1d9)]('|');let _0x1c96c4=0x0;while(!![]){switch(_0x1076f0[_0x1c96c4++]){case'0':_0x193ac3[_0x5e8457(0x1f4)][_0x37b142[_0x5e8457(0x140)]][_0x5e8457(0x183)][0x0][_0x5e8457(0x17e)][_0x5e8457(0x1b0)](_0x5e8457(0x141)+_0x37b142['XpCCT'](_0x1d6006,_0x5a9c10)['padStart'](0x2,'0'));continue;case'1':_0x23b038+=0x1;continue;case'2':_0x5bfc99[_0x5e8457(0x1d5)][_0x5e8457(0x1b4)][_0x5e8457(0x187)][_0x5e8457(0x175)][_0x5e8457(0x1b0)]({'Ref':_0x5e8457(0x141)+_0x37b142[_0x5e8457(0x1bb)](_0x35754c,_0x52e89b)[_0x5e8457(0x158)](0x2,'0')});continue;case'3':_0x1464a7[_0x5e8457(0x1d5)]['NodeGroupWindows']['Properties'][_0x5e8457(0x175)][_0x5e8457(0x1b0)]({'Ref':_0x5e8457(0x141)+_0x37b142[_0x5e8457(0x1b7)](_0x55633c,_0x2a5dfc)[_0x5e8457(0x158)](0x2,'0')});continue;case'4':_0xa1a1b6[_0x5e8457(0x1d5)]['EKSCluster'][_0x5e8457(0x187)][_0x5e8457(0x1e2)][_0x5e8457(0x14a)][_0x5e8457(0x1b0)]({'Ref':_0x5e8457(0x141)+_0x37b142[_0x5e8457(0x1e5)](_0x215254,_0x6aa244)[_0x5e8457(0x158)](0x2,'0')});continue;case'5':_0x3a3904['Outputs']['SubnetIds'][_0x5e8457(0x1b9)][_0x37b142[_0x5e8457(0x172)]][0x1][_0x5e8457(0x1b0)]({'Ref':_0x5e8457(0x141)+_0x37b142[_0x5e8457(0x15c)](_0x29ac81,_0x14684e)[_0x5e8457(0x158)](0x2,'0')});continue;}break;}}});},addVPCData=async(_0x23b105,_0x40f8f4)=>{const _0x114bff=a27_0x48bb50,_0x5bc506={'hbcgP':_0x114bff(0x168),'OFOgf':function(_0x14d676,_0x253d1b){return _0x14d676!==_0x253d1b;},'RbTtM':'itIYl','vyJWR':_0x114bff(0x1ac),'FOXac':_0x114bff(0x171),'UcQGV':'utf-8','IysWL':function(_0x12f72c,_0x503f1f,_0x42a868){return _0x12f72c(_0x503f1f,_0x42a868);},'oqjHb':_0x114bff(0x13b),'bXgSV':function(_0x5076c7,_0x345938){return _0x5076c7===_0x345938;},'TLYgb':_0x114bff(0x147),'ICUsj':'bgntF','QFfxP':_0x114bff(0x181),'MZHPf':'VpcBlock'};if(_0x40f8f4){if(_0x5bc506[_0x114bff(0x1a7)](_0x5bc506[_0x114bff(0x19a)],_0x5bc506[_0x114bff(0x19a)]))_0x48d040['Resources'][_0x136c55]['Properties'][_0x114bff(0x1f6)][_0x114bff(0x1b0)](..._0x1ca0be);else{const _0x543e73=await fs['readFileAsync'](path[_0x114bff(0x1d3)](__dirname,'..',_0x5bc506[_0x114bff(0x179)],_0x5bc506['FOXac']),_0x5bc506[_0x114bff(0x1d4)]),_0x509e13={};_0x509e13[_0x114bff(0x1e0)]=CLOUDFORMATION_SCHEMA;const _0x199da4=yaml[_0x114bff(0x1f5)](_0x543e73,_0x509e13);_0x5bc506[_0x114bff(0x15a)](mergeTemplates,_0x23b105,_0x199da4),_0x23b105[_0x114bff(0x1f4)][_0x5bc506[_0x114bff(0x1b1)]][_0x114bff(0x183)][0x0][_0x114bff(0x17e)][_0x114bff(0x1b0)](_0x5bc506[_0x114bff(0x1ba)]);}}else{if(_0x5bc506[_0x114bff(0x17c)](_0x5bc506['TLYgb'],_0x5bc506[_0x114bff(0x1e3)])){const _0x4d1da8={};_0x4d1da8['ParameterKey']=_0x5bc506['hbcgP'],_0x4d1da8['ParameterValue']=_0x37b3e6,_0x14717a[_0x114bff(0x17e)][_0x114bff(0x1b0)](_0x4d1da8);}else{const _0x57cef1=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5bc506[_0x114bff(0x179)],_0x5bc506['QFfxP']),_0x5bc506[_0x114bff(0x1d4)]),_0x5b7657={};_0x5b7657[_0x114bff(0x1e0)]=CLOUDFORMATION_SCHEMA;const _0x152c24=yaml[_0x114bff(0x1f5)](_0x57cef1,_0x5b7657);_0x5bc506['IysWL'](mergeTemplates,_0x23b105,_0x152c24),_0x23b105[_0x114bff(0x1f4)][_0x5bc506[_0x114bff(0x1b1)]][_0x114bff(0x183)][0x0][_0x114bff(0x17e)][_0x114bff(0x1b0)](_0x5bc506[_0x114bff(0x186)]);}}},addS3Data=async _0x2a6e3b=>{const _0x5cf4b1=a27_0x48bb50,_0x400710={'SkFeD':function(_0x229a69,_0x1d0e20){return _0x229a69(_0x1d0e20);},'PhFSA':_0x5cf4b1(0x1ac),'MABru':_0x5cf4b1(0x190),'kEgCu':_0x5cf4b1(0x13c),'XduRY':function(_0x57a33e,_0x156971){return _0x57a33e===_0x156971;},'qBMsp':function(_0x4b3428,_0x332cfd){return _0x4b3428!==_0x332cfd;},'fnpCO':_0x5cf4b1(0x1cc),'mEQBK':_0x5cf4b1(0x153),'HApeM':function(_0x3f1681,_0x12198e,_0x42947c){return _0x3f1681(_0x12198e,_0x42947c);}},_0x55c6ed=await fs[_0x5cf4b1(0x1a4)](path['join'](__dirname,'..',_0x400710[_0x5cf4b1(0x19d)],_0x400710[_0x5cf4b1(0x1cf)]),_0x400710[_0x5cf4b1(0x143)]),_0x304405={};_0x304405['schema']=CLOUDFORMATION_SCHEMA;const _0xe3326c=yaml[_0x5cf4b1(0x1f5)](_0x55c6ed,_0x304405),_0x4f9862=await _0x400710[_0x5cf4b1(0x174)](isBucketPresent,global_registry[_0x5cf4b1(0x176)]);_0x400710[_0x5cf4b1(0x1d7)](_0x4f9862,![])&&(_0x400710[_0x5cf4b1(0x17f)](_0x400710[_0x5cf4b1(0x1df)],_0x400710[_0x5cf4b1(0x199)])?_0x400710[_0x5cf4b1(0x17d)](mergeTemplates,_0x2a6e3b,_0xe3326c):(_0x59aaf0[_0x5cf4b1(0x17e)][_0x5cf4b1(0x1b0)]({'ParameterKey':'Subnet'+_0x400710['SkFeD'](_0x13951e,_0x4b3f27)['padStart'](0x2,'0'),'ParameterValue':_0x590540['value']}),_0x2c8084+=0x1));},addSubnetData=async(_0x1e15dd,_0x3a4b4e)=>{const _0x344bd2=a27_0x48bb50,_0x532800={'APUqm':_0x344bd2(0x1b4),'ceyoK':_0x344bd2(0x1b5),'BqjVO':function(_0x55e0b3,_0xa3bfd9){return _0x55e0b3!==_0xa3bfd9;},'tSxjm':'ycBOv','OTZhs':_0x344bd2(0x18f),'yCiNu':_0x344bd2(0x1c0),'fwrDr':_0x344bd2(0x1ca),'XcKZs':function(_0x37ba80,_0x9e427c){return _0x37ba80(_0x9e427c);},'QNJSb':function(_0x4f8a3b,_0x1413fb){return _0x4f8a3b(_0x1413fb);},'VjHzq':_0x344bd2(0x13b),'xthOn':function(_0x26ec43,_0x530294){return _0x26ec43(_0x530294);},'EdcKU':function(_0x17a775,_0x246eac,_0x5b0b6c){return _0x17a775(_0x246eac,_0x5b0b6c);},'OlKEn':function(_0x454447,_0x3dcbc9){return _0x454447!==_0x3dcbc9;},'aAOIz':_0x344bd2(0x18e),'vSfvE':_0x344bd2(0x1ac),'zqllS':_0x344bd2(0x1ae),'tmyvw':_0x344bd2(0x13c),'XhuuJ':function(_0x252b30,_0x398b1b,_0x45d21b){return _0x252b30(_0x398b1b,_0x45d21b);},'ecVHK':function(_0x1f56f8,_0x4934ef){return _0x1f56f8===_0x4934ef;},'BPjnV':_0x344bd2(0x1da),'EQfah':_0x344bd2(0x148),'bxeBn':'Subnet01','jRqzq':_0x344bd2(0x159),'vqTCT':_0x344bd2(0x152),'SIvXB':_0x344bd2(0x177),'NlKbc':_0x344bd2(0x194),'FFuyx':_0x344bd2(0x1bd)};if(_0x3a4b4e){if(_0x532800[_0x344bd2(0x146)](_0x532800[_0x344bd2(0x1a1)],_0x532800[_0x344bd2(0x1a1)])){for(const _0x38e446 in _0xfbc3c[_0x344bd2(0x1d5)]){_0x4b387e[_0x344bd2(0x1d5)][_0x38e446]['Properties']&&_0x2164e8[_0x344bd2(0x1d5)][_0x38e446][_0x344bd2(0x187)][_0x344bd2(0x1f6)]&&_0x1cf846[_0x344bd2(0x1d5)][_0x38e446][_0x344bd2(0x187)][_0x344bd2(0x1f6)][_0x344bd2(0x1b0)](..._0x36bd35);}const _0x5b424e={};_0x3ef454[_0x344bd2(0x17b)](_0x1bb19a=>{const _0x1c6915=_0x344bd2;_0x5b424e[_0x1bb19a['Key']]=_0x1bb19a[_0x1c6915(0x1b9)];}),_0x38c76c[_0x344bd2(0x1d5)][_0x532800[_0x344bd2(0x19c)]]['Properties'][_0x344bd2(0x1f6)]=_0x5b424e,_0x437b83[_0x344bd2(0x1d5)][_0x532800[_0x344bd2(0x1dc)]][_0x344bd2(0x187)][_0x344bd2(0x1f6)]=_0x5b424e;}else{const _0x20f325=await fs[_0x344bd2(0x1a4)](path['join'](__dirname,'..',_0x532800[_0x344bd2(0x173)],_0x532800[_0x344bd2(0x1a2)]),_0x532800[_0x344bd2(0x18b)]),_0x1819bf={};_0x1819bf[_0x344bd2(0x1e0)]=CLOUDFORMATION_SCHEMA;const _0xbb85ea=yaml['load'](_0x20f325,_0x1819bf);_0x532800[_0x344bd2(0x1a9)](mergeTemplates,_0x1e15dd,_0xbb85ea);let _0x3be9f8=0x1;_0x3a4b4e[_0x344bd2(0x17b)](_0x520653=>{const _0x11a41e=_0x344bd2;if(_0x532800[_0x11a41e(0x1c9)](_0x532800['tSxjm'],_0x532800['OTZhs'])){const _0x7d3f0=_0x532800['yCiNu'][_0x11a41e(0x1d9)]('|');let _0x390acf=0x0;while(!![]){switch(_0x7d3f0[_0x390acf++]){case'0':_0x3be9f8+=0x1;continue;case'1':_0x1e15dd['Outputs'][_0x11a41e(0x14a)][_0x11a41e(0x1b9)][_0x532800['fwrDr']][0x1][_0x11a41e(0x1b0)]({'Ref':'Subnet'+_0x532800[_0x11a41e(0x1c6)](String,_0x3be9f8)[_0x11a41e(0x158)](0x2,'0')});continue;case'2':_0x1e15dd[_0x11a41e(0x1d5)][_0x11a41e(0x1b4)]['Properties'][_0x11a41e(0x175)][_0x11a41e(0x1b0)]({'Ref':'Subnet'+_0x532800[_0x11a41e(0x1af)](String,_0x3be9f8)[_0x11a41e(0x158)](0x2,'0')});continue;case'3':_0x1e15dd['Resources'][_0x11a41e(0x189)][_0x11a41e(0x187)][_0x11a41e(0x1e2)][_0x11a41e(0x14a)][_0x11a41e(0x1b0)]({'Ref':_0x11a41e(0x141)+_0x532800[_0x11a41e(0x1af)](String,_0x3be9f8)['padStart'](0x2,'0')});continue;case'4':_0x1e15dd[_0x11a41e(0x1f4)][_0x532800[_0x11a41e(0x16f)]]['ParameterGroups'][0x0]['Parameters'][_0x11a41e(0x1b0)]('Subnet'+_0x532800[_0x11a41e(0x1af)](String,_0x3be9f8)[_0x11a41e(0x158)](0x2,'0'));continue;case'5':_0x1e15dd[_0x11a41e(0x1d5)][_0x11a41e(0x1b5)]['Properties']['Subnets']['push']({'Ref':'Subnet'+_0x532800['xthOn'](String,_0x3be9f8)[_0x11a41e(0x158)](0x2,'0')});continue;}break;}}else{var _0x45e69a=_0x3a6710[_0x54cf6d];_0x1ce0af[_0x11a41e(0x16c)](_0x45e69a)['forEach'](_0x3bb02f=>{_0x1ebabe[_0xc8633c][_0x3bb02f]=_0x45e69a[_0x3bb02f];});}});}}else{if(_0x532800[_0x344bd2(0x1dd)](_0x532800[_0x344bd2(0x155)],_0x532800[_0x344bd2(0x155)])){const _0x44a9fb=await fs[_0x344bd2(0x1a4)](path[_0x344bd2(0x1d3)](__dirname,'..',_0x532800[_0x344bd2(0x173)],_0x532800[_0x344bd2(0x1db)]),_0x532800[_0x344bd2(0x18b)]),_0x2d4c4f={};_0x2d4c4f[_0x344bd2(0x1e0)]=CLOUDFORMATION_SCHEMA;const _0xbbdb99=yaml['load'](_0x44a9fb,_0x2d4c4f);_0x532800[_0x344bd2(0x19e)](mergeTemplates,_0x1e15dd,_0xbbdb99),_0x1e15dd[_0x344bd2(0x1d5)][_0x344bd2(0x189)][_0x344bd2(0x1c8)][_0x344bd2(0x1b0)](_0x532800[_0x344bd2(0x1a0)],_0x532800[_0x344bd2(0x192)],_0x532800[_0x344bd2(0x197)]);const _0x5ebd08={};_0x5ebd08[_0x344bd2(0x1b6)]=_0x532800[_0x344bd2(0x1a0)];const _0x43de92={};_0x43de92[_0x344bd2(0x1b6)]=_0x532800[_0x344bd2(0x192)];const _0x3d839b={};_0x3d839b['Ref']=_0x532800[_0x344bd2(0x197)],_0x1e15dd[_0x344bd2(0x1d5)][_0x344bd2(0x189)][_0x344bd2(0x187)][_0x344bd2(0x1e2)]['SubnetIds']=[_0x5ebd08,_0x43de92,_0x3d839b],_0x1e15dd['Metadata'][_0x532800[_0x344bd2(0x16f)]][_0x344bd2(0x183)][0x0][_0x344bd2(0x17e)]['push'](_0x532800[_0x344bd2(0x1ce)],_0x532800[_0x344bd2(0x1f8)],_0x532800[_0x344bd2(0x1cd)]);const _0x482a92={};_0x482a92[_0x344bd2(0x1b6)]=_0x532800[_0x344bd2(0x1a0)];const _0x5ac1e4={};_0x5ac1e4[_0x344bd2(0x1b6)]=_0x532800['jRqzq'];const _0x3a7096={};_0x3a7096['Ref']=_0x532800[_0x344bd2(0x197)],_0x1e15dd[_0x344bd2(0x1d5)]['NodeGroup'][_0x344bd2(0x187)][_0x344bd2(0x175)]=[_0x482a92,_0x5ac1e4,_0x3a7096];const _0x47ee34={};_0x47ee34[_0x344bd2(0x1b6)]=_0x532800[_0x344bd2(0x1a0)];const _0x26795c={};_0x26795c[_0x344bd2(0x1b6)]=_0x532800[_0x344bd2(0x192)];const _0x52a708={};_0x52a708[_0x344bd2(0x1b6)]=_0x532800[_0x344bd2(0x197)],_0x1e15dd[_0x344bd2(0x1d5)][_0x344bd2(0x1b5)][_0x344bd2(0x187)][_0x344bd2(0x175)]=[_0x47ee34,_0x26795c,_0x52a708],_0x1e15dd['Outputs'][_0x344bd2(0x14a)]['Value'][_0x532800[_0x344bd2(0x15e)]][0x1]=[{'Ref':_0x532800[_0x344bd2(0x1a0)]},{'Ref':_0x532800[_0x344bd2(0x192)]},{'Ref':_0x532800[_0x344bd2(0x197)]}];}else _0x532800[_0x344bd2(0x19e)](_0x41907c,_0x240e62,_0x2b454a);}},addTags=async(_0x5e392f,_0x424b1f,_0x49b79f)=>{const _0x15b71c=a27_0x48bb50,_0x176ed6={'XIjmo':function(_0x404699,_0x24ae27){return _0x404699(_0x24ae27);},'VwMmF':function(_0x2ad637,_0x3f7920){return _0x2ad637===_0x3f7920;},'eDfAm':_0x15b71c(0x188),'MOhEz':'hzLtL','HxgsG':function(_0x5da543,_0x52901a){return _0x5da543!==_0x52901a;},'mAcTy':_0x15b71c(0x149),'EYuNr':'zKreP','LRDkE':_0x15b71c(0x1f1),'kXnUj':_0x15b71c(0x1d1),'fKyjk':_0x15b71c(0x1b4),'uiozA':_0x15b71c(0x1b5)};for(const _0x1b61e3 in _0x5e392f['Resources']){_0x176ed6[_0x15b71c(0x19b)](_0x176ed6[_0x15b71c(0x151)],_0x176ed6[_0x15b71c(0x1f2)])?_0x5e392f[_0x15b71c(0x1d5)][_0x1b61e3][_0x15b71c(0x187)]&&_0x5e392f['Resources'][_0x1b61e3][_0x15b71c(0x187)][_0x15b71c(0x1f6)]&&(_0x176ed6[_0x15b71c(0x180)](_0x176ed6['LRDkE'],_0x176ed6[_0x15b71c(0x198)])?_0x1008fa[_0x452883[_0x15b71c(0x165)]]=_0x488bfd[_0x15b71c(0x1b9)]:_0x5e392f['Resources'][_0x1b61e3]['Properties'][_0x15b71c(0x1f6)]['push'](..._0x49b79f)):_0x77df1b['keys'](_0x14da47)['forEach'](_0x2e9554=>{const _0x15c341=_0x15b71c;var _0x4ed9fc=_0x6e8002[_0x2e9554];_0x300806[_0x15c341(0x16c)](_0x4ed9fc)[_0x15c341(0x17b)](_0x3fd29b=>{_0x2c8012[_0x2e9554][_0x3fd29b]=_0x4ed9fc[_0x3fd29b];});});}const _0x445765={};_0x49b79f[_0x15b71c(0x17b)](_0xde05d9=>{const _0xec01ae=_0x15b71c;if(_0x176ed6[_0xec01ae(0x180)](_0x176ed6[_0xec01ae(0x14f)],_0x176ed6['MOhEz'])){const _0x4eea66={'XjuOR':function(_0x536bd8,_0x4a3483){const _0x3e34d7=_0xec01ae;return _0x176ed6[_0x3e34d7(0x1c2)](_0x536bd8,_0x4a3483);}};let _0xb449af=0x1;_0x3da8b1[_0xec01ae(0x17b)](_0xaa5e23=>{const _0x1587e2=_0xec01ae;_0x1fba7a[_0x1587e2(0x17e)]['push']({'ParameterKey':_0x1587e2(0x141)+_0x4eea66[_0x1587e2(0x14d)](_0x1962a7,_0xb449af)[_0x1587e2(0x158)](0x2,'0'),'ParameterValue':_0xaa5e23['value']}),_0xb449af+=0x1;});}else _0x445765[_0xde05d9[_0xec01ae(0x165)]]=_0xde05d9[_0xec01ae(0x1b9)];}),_0x5e392f[_0x15b71c(0x1d5)][_0x176ed6[_0x15b71c(0x1e6)]][_0x15b71c(0x187)][_0x15b71c(0x1f6)]=_0x445765,_0x5e392f[_0x15b71c(0x1d5)][_0x176ed6[_0x15b71c(0x1d6)]][_0x15b71c(0x187)][_0x15b71c(0x1f6)]=_0x445765;};exports['createClusterStack']=async(_0x22991f,_0x304ab7,_0x5c3161,_0x1cfc69=null,_0x402dc5=null)=>{const _0x401461=a27_0x48bb50,_0xac2d84={'xlKjp':function(_0x588992,_0x7e4d20){return _0x588992(_0x7e4d20);},'StUwL':_0x401461(0x14e),'SzxaH':_0x401461(0x1f0),'gaTnV':'2010-05-15','bpcvX':'CFTemplates','MumCX':_0x401461(0x162),'ePDIg':_0x401461(0x13c),'mwoYW':function(_0x291de1,_0x351d3d,_0x12e9ed){return _0x291de1(_0x351d3d,_0x12e9ed);},'ikbyn':function(_0x3c9cb8,_0x709f33){return _0x3c9cb8(_0x709f33);},'ijfrb':function(_0x1bf2d5,_0x1c70cd,_0x2e225a,_0xd741f9){return _0x1bf2d5(_0x1c70cd,_0x2e225a,_0xd741f9);},'yJyHM':'DELETE','ZhHif':'ClusterName','EgRoO':_0x401461(0x18d),'Ufthm':_0x401461(0x169),'lsoqY':_0x401461(0x1e8),'zzXCC':'NodeAutoScalingGroupDesiredSizeWindows','BrGBn':_0x401461(0x18c),'sPrvc':_0x401461(0x1c4),'qbMez':_0x401461(0x18a),'jlgGo':_0x401461(0x1c3),'QTLWw':'NodeGroupNameWindows','CAPqq':_0x401461(0x15d),'aJNza':function(_0x57a1cf,_0x1b3be1){return _0x57a1cf!=_0x1b3be1;},'FhXjg':function(_0x22757c,_0x3115b8){return _0x22757c!==_0x3115b8;},'hWWuA':function(_0x51ab01,_0x2cc486){return _0x51ab01===_0x2cc486;},'HfobS':_0x401461(0x1b8),'OthDw':_0x401461(0x168),'xyqMY':function(_0x5bb511,_0xeb8f1){return _0x5bb511!==_0xeb8f1;},'Jjutl':_0x401461(0x150),'mqQqQ':_0x401461(0x1f7)},_0x4d8e8a=COMMON_HST_TAGS,_0x1199a5={};_0x1199a5['Key']=_0xac2d84['StUwL'],_0x1199a5[_0x401461(0x1b9)]=_0x22991f,_0x4d8e8a[_0x401461(0x1b0)](_0x1199a5),_0x4d8e8a[_0x401461(0x1b0)]({'Key':_0xac2d84[_0x401461(0x15f)],'Value':new Date()['valueOf']()[_0x401461(0x1e7)]()});const _0xb66685={};_0xb66685[_0x401461(0x1c5)]=_0xac2d84['gaTnV'];const _0x3eab1b=new AWS['CloudFormation'](_0xb66685),_0x39b123=await fs[_0x401461(0x1a4)](path[_0x401461(0x1d3)](__dirname,'..',_0xac2d84[_0x401461(0x1ee)],_0xac2d84[_0x401461(0x1a5)]),_0xac2d84[_0x401461(0x184)]),_0x51b051={};_0x51b051['schema']=CLOUDFORMATION_SCHEMA;const _0x4fc3f9=yaml[_0x401461(0x1f5)](_0x39b123,_0x51b051);await _0xac2d84[_0x401461(0x1be)](addVPCData,_0x4fc3f9,_0x1cfc69),await _0xac2d84[_0x401461(0x1d2)](addS3Data,_0x4fc3f9),await _0xac2d84[_0x401461(0x1be)](addSubnetData,_0x4fc3f9,_0x402dc5),await _0xac2d84[_0x401461(0x14c)](addTags,_0x4fc3f9,_0x22991f,_0x4d8e8a);const _0x2fe04b=JSON[_0x401461(0x1e9)](_0x4fc3f9),_0xe90197={};_0xe90197[_0x401461(0x144)]=CLUSTER_DEP_STACK_NAME+'-'+_0x22991f,_0xe90197['OnFailure']=_0xac2d84[_0x401461(0x1bf)],_0xe90197[_0x401461(0x16a)]=_0x2fe04b,_0xe90197[_0x401461(0x17e)]=[{'ParameterKey':_0xac2d84[_0x401461(0x1ef)],'ParameterValue':_0x22991f},{'ParameterKey':_0xac2d84[_0x401461(0x164)],'ParameterValue':_0x22991f+_0x401461(0x156)},{'ParameterKey':_0xac2d84[_0x401461(0x1c7)],'ParameterValue':''+_0x304ab7},{'ParameterKey':_0xac2d84[_0x401461(0x16e)],'ParameterValue':'0'},{'ParameterKey':_0xac2d84[_0x401461(0x1c1)],'ParameterValue':'1'},{'ParameterKey':_0xac2d84['BrGBn'],'ParameterValue':''+_0x5c3161},{'ParameterKey':_0xac2d84[_0x401461(0x19f)],'ParameterValue':global_registry[_0x401461(0x161)]},{'ParameterKey':_0xac2d84[_0x401461(0x191)],'ParameterValue':global_registry[_0x401461(0x1b3)]},{'ParameterKey':_0xac2d84['jlgGo'],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0xac2d84[_0x401461(0x14b)],'ParameterValue':_0x22991f+_0x401461(0x1cb)}],_0xe90197['Capabilities']=[_0xac2d84['CAPqq']],_0xe90197['Tags']=_0x4d8e8a;const _0x4d07d2=_0xe90197;if(_0xac2d84[_0x401461(0x178)](_0x1cfc69,null)&&_0xac2d84[_0x401461(0x195)](_0x1cfc69,undefined)){if(_0xac2d84[_0x401461(0x1ed)](_0xac2d84[_0x401461(0x1eb)],_0xac2d84[_0x401461(0x1eb)])){const _0x18edeb={};_0x18edeb[_0x401461(0x1ab)]=_0xac2d84[_0x401461(0x160)],_0x18edeb[_0x401461(0x163)]=_0x1cfc69,_0x4d07d2[_0x401461(0x17e)][_0x401461(0x1b0)](_0x18edeb);}else _0x447c46[_0x401461(0x1d5)][_0x325749][_0x401461(0x187)]&&_0x3690a9['Resources'][_0x1575a2][_0x401461(0x187)][_0x401461(0x1f6)]&&_0x317d96[_0x401461(0x1d5)][_0x3d7b03][_0x401461(0x187)][_0x401461(0x1f6)]['push'](..._0x3e8792);}if(_0xac2d84['aJNza'](_0x402dc5,null)&&_0xac2d84[_0x401461(0x182)](_0x402dc5,undefined)){let _0x207426=0x1;_0x402dc5[_0x401461(0x17b)](_0x1a34df=>{const _0x154875=_0x401461;_0x4d07d2['Parameters'][_0x154875(0x1b0)]({'ParameterKey':'Subnet'+_0xac2d84['xlKjp'](String,_0x207426)[_0x154875(0x158)](0x2,'0'),'ParameterValue':_0x1a34df[_0x154875(0x16d)]}),_0x207426+=0x1;});}const _0x11f72c=await _0x3eab1b[_0x401461(0x167)](_0x4d07d2)[_0x401461(0x185)]();logger['debug'](_0xac2d84['Jjutl']);const _0x1decab={};return _0x1decab[_0x401461(0x144)]=_0x11f72c[_0x401461(0x1a3)],_0x3eab1b['waitFor'](_0xac2d84[_0x401461(0x1e1)],_0x1decab)['promise']();};