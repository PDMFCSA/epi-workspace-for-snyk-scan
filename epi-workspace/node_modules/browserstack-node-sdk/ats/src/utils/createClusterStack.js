const a27_0x30be62=a27_0x5632;(function(_0x14fe83,_0x3260e3){const _0x44a23f=a27_0x5632,_0x33db12=_0x14fe83();while(!![]){try{const _0x447d40=-parseInt(_0x44a23f(0x247))/0x1+parseInt(_0x44a23f(0x214))/0x2+parseInt(_0x44a23f(0x280))/0x3+parseInt(_0x44a23f(0x262))/0x4+parseInt(_0x44a23f(0x2a6))/0x5+-parseInt(_0x44a23f(0x24a))/0x6*(parseInt(_0x44a23f(0x29c))/0x7)+-parseInt(_0x44a23f(0x29b))/0x8*(parseInt(_0x44a23f(0x297))/0x9);if(_0x447d40===_0x3260e3)break;else _0x33db12['push'](_0x33db12['shift']());}catch(_0x1c0639){_0x33db12['push'](_0x33db12['shift']());}}}(a27_0x2166,0xb00e6));const fs=require('fs'),path=require(a27_0x30be62(0x290)),Promise=require('bluebird'),yaml=require(a27_0x30be62(0x259)),{CLOUDFORMATION_SCHEMA}=require(a27_0x30be62(0x212)),AWS=require(a27_0x30be62(0x22f))[a27_0x30be62(0x23c)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x30be62(0x23d)),{logger}=require(a27_0x30be62(0x244)),{isBucketPresent}=require('./AWSUtils');Promise['promisifyAll'](fs);function a27_0x5632(_0x23800a,_0x51b2bb){const _0x2166f3=a27_0x2166();return a27_0x5632=function(_0x56324c,_0x49c512){_0x56324c=_0x56324c-0x1f4;let _0x576eeb=_0x2166f3[_0x56324c];return _0x576eeb;},a27_0x5632(_0x23800a,_0x51b2bb);}const mergeTemplates=(_0x345c33,_0x217bd3)=>{const _0x4669e0=a27_0x30be62,_0x38d9b0={};_0x38d9b0[_0x4669e0(0x1f7)]=function(_0x30dfd9,_0xdf04ef){return _0x30dfd9!==_0xdf04ef;},_0x38d9b0['eGQNv']=_0x4669e0(0x21e),_0x38d9b0['AAdLG']=_0x4669e0(0x291),_0x38d9b0[_0x4669e0(0x213)]=function(_0x4857e4,_0x50fe40){return _0x4857e4!==_0x50fe40;},_0x38d9b0[_0x4669e0(0x24b)]=_0x4669e0(0x2a3);const _0x1be89a=_0x38d9b0;Object[_0x4669e0(0x1f6)](_0x217bd3)[_0x4669e0(0x224)](_0x56612=>{const _0x57100f=_0x4669e0;if(_0x1be89a['VrchE'](_0x1be89a[_0x57100f(0x24b)],_0x1be89a[_0x57100f(0x24b)]))_0x1cdf32[_0x57100f(0x20a)][_0x5d364a][_0x57100f(0x22c)][_0x57100f(0x275)][_0x57100f(0x210)](..._0x463be7);else{var _0x5d5435=_0x217bd3[_0x56612];Object[_0x57100f(0x1f6)](_0x5d5435)[_0x57100f(0x224)](_0x4f7d35=>{const _0x2b7c2a=_0x57100f;_0x1be89a[_0x2b7c2a(0x1f7)](_0x1be89a[_0x2b7c2a(0x293)],_0x1be89a['AAdLG'])?_0x345c33[_0x56612][_0x4f7d35]=_0x5d5435[_0x4f7d35]:_0x4b8ccd[_0x248b55][_0x34a126]=_0xc1f089[_0x5a1f11];});}});},addVPCData=async(_0x155365,_0x7647a6)=>{const _0x169eeb=a27_0x30be62,_0xb72c08={'EoGHR':function(_0x5d2111,_0x5d18ca){return _0x5d2111(_0x5d18ca);},'SbMWO':_0x169eeb(0x257),'ldaAG':function(_0x245c1c,_0x277ad0){return _0x245c1c===_0x277ad0;},'KMnIs':_0x169eeb(0x218),'RTZps':_0x169eeb(0x232),'XnSwA':_0x169eeb(0x1fb),'yzbLC':_0x169eeb(0x28f),'QyXYK':_0x169eeb(0x270),'rPgxL':function(_0x597b99,_0x185fe0,_0x28c9d9){return _0x597b99(_0x185fe0,_0x28c9d9);},'ddwVC':_0x169eeb(0x253),'IgLTv':function(_0x31a46e,_0x23ff13){return _0x31a46e!==_0x23ff13;},'hkFbm':_0x169eeb(0x20e),'kstzY':_0x169eeb(0x223),'jWDGQ':_0x169eeb(0x21a),'mhXrK':'VpcBlock'};if(_0x7647a6){if(_0xb72c08[_0x169eeb(0x237)](_0xb72c08['KMnIs'],_0xb72c08['RTZps']))_0x39587c['Parameters']['push']({'ParameterKey':_0x169eeb(0x266)+_0xb72c08[_0x169eeb(0x1fd)](_0x4332e9,_0x32f78f)[_0x169eeb(0x265)](0x2,'0'),'ParameterValue':_0x20404b[_0x169eeb(0x204)]}),_0x4b117a+=0x1;else{const _0x1f3020=await fs[_0x169eeb(0x23b)](path[_0x169eeb(0x217)](__dirname,'..',_0xb72c08['XnSwA'],_0xb72c08[_0x169eeb(0x26a)]),_0xb72c08[_0x169eeb(0x229)]),_0x1e883c={};_0x1e883c[_0x169eeb(0x2a9)]=CLOUDFORMATION_SCHEMA;const _0x810a0f=yaml['load'](_0x1f3020,_0x1e883c);_0xb72c08[_0x169eeb(0x25b)](mergeTemplates,_0x155365,_0x810a0f),_0x155365[_0x169eeb(0x263)][_0xb72c08[_0x169eeb(0x1ff)]][_0x169eeb(0x28a)][0x0][_0x169eeb(0x221)]['push'](_0xb72c08[_0x169eeb(0x20c)]);}}else{if(_0xb72c08[_0x169eeb(0x243)](_0xb72c08[_0x169eeb(0x28c)],_0xb72c08[_0x169eeb(0x20f)])){const _0x3df32e=await fs[_0x169eeb(0x23b)](path[_0x169eeb(0x217)](__dirname,'..',_0xb72c08[_0x169eeb(0x269)],_0xb72c08['jWDGQ']),_0xb72c08[_0x169eeb(0x229)]),_0x108a2e={};_0x108a2e[_0x169eeb(0x2a9)]=CLOUDFORMATION_SCHEMA;const _0x152fb0=yaml['load'](_0x3df32e,_0x108a2e);_0xb72c08[_0x169eeb(0x25b)](mergeTemplates,_0x155365,_0x152fb0),_0x155365[_0x169eeb(0x263)][_0xb72c08[_0x169eeb(0x1ff)]][_0x169eeb(0x28a)][0x0][_0x169eeb(0x221)]['push'](_0xb72c08['mhXrK']);}else{const _0x46afcf={};_0x46afcf['ParameterKey']=_0xb72c08[_0x169eeb(0x20c)],_0x46afcf[_0x169eeb(0x23f)]=_0x31bb6c,_0x30a1be[_0x169eeb(0x221)]['push'](_0x46afcf);}}},addS3Data=async _0x5b1f60=>{const _0x1bfdd6=a27_0x30be62,_0x4f1992={'zWocC':function(_0x51068c,_0x22f5a2){return _0x51068c(_0x22f5a2);},'SfXli':_0x1bfdd6(0x1fb),'XQXny':_0x1bfdd6(0x211),'fjZen':_0x1bfdd6(0x270),'OdaUb':function(_0x33ca46,_0x1ad7ac){return _0x33ca46(_0x1ad7ac);},'gHIhl':function(_0x106254,_0x4c652a){return _0x106254===_0x4c652a;},'KuwSj':function(_0x44d32e,_0x40c22c){return _0x44d32e===_0x40c22c;},'Xeilt':_0x1bfdd6(0x26c),'JLgwb':function(_0x23a810,_0x2a856b,_0x2d0d3f){return _0x23a810(_0x2a856b,_0x2d0d3f);}},_0x472f8b=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4f1992['SfXli'],_0x4f1992[_0x1bfdd6(0x27c)]),_0x4f1992[_0x1bfdd6(0x292)]),_0x3b8a99={};_0x3b8a99[_0x1bfdd6(0x2a9)]=CLOUDFORMATION_SCHEMA;const _0x111d20=yaml[_0x1bfdd6(0x296)](_0x472f8b,_0x3b8a99),_0x11fa4c=await _0x4f1992[_0x1bfdd6(0x268)](isBucketPresent,global_registry['s3Bucket']);if(_0x4f1992[_0x1bfdd6(0x21d)](_0x11fa4c,![])){if(_0x4f1992[_0x1bfdd6(0x230)](_0x4f1992[_0x1bfdd6(0x29a)],_0x4f1992[_0x1bfdd6(0x29a)]))_0x4f1992[_0x1bfdd6(0x284)](mergeTemplates,_0x5b1f60,_0x111d20);else{let _0x5534ff=0x1;_0x46baf7[_0x1bfdd6(0x224)](_0x3aecac=>{const _0x4d8aa5=_0x1bfdd6;_0x80202b[_0x4d8aa5(0x221)][_0x4d8aa5(0x210)]({'ParameterKey':_0x4d8aa5(0x266)+_0x4f1992['zWocC'](_0x5fb65e,_0x5534ff)['padStart'](0x2,'0'),'ParameterValue':_0x3aecac[_0x4d8aa5(0x204)]}),_0x5534ff+=0x1;});}}},addSubnetData=async(_0x585244,_0x4574db)=>{const _0x351203=a27_0x30be62,_0x20049f={'zEMwX':'3|4|2|5|1|0','uwkjE':_0x351203(0x206),'gaROz':function(_0x5ecce3,_0x2a96a4){return _0x5ecce3(_0x2a96a4);},'SpfRb':function(_0x59e142,_0x4387b4){return _0x59e142(_0x4387b4);},'AAyAj':_0x351203(0x253),'ykJnT':function(_0xd9a963,_0xb62055){return _0xd9a963(_0xb62055);},'fVWnX':function(_0x508742,_0x352a8b){return _0x508742!==_0x352a8b;},'oqEFg':_0x351203(0x27f),'Veido':'csNhI','RajLh':_0x351203(0x27d),'aupEG':function(_0xb8c71e,_0x3964e8){return _0xb8c71e(_0x3964e8);},'bhLuh':function(_0x2a8785,_0x2ee460){return _0x2a8785(_0x2ee460);},'leFxK':function(_0x112f3e,_0x318bf0){return _0x112f3e(_0x318bf0);},'VQZey':function(_0x375e23,_0x20140b){return _0x375e23(_0x20140b);},'HqJZR':function(_0x17a838,_0x3cdd69){return _0x17a838!==_0x3cdd69;},'aHOQS':'VxWEf','XMrbI':'CFTemplates','ZWpjb':'subnet-import.yaml','qifsm':_0x351203(0x270),'WWBzQ':function(_0x5836a6,_0x3bff48,_0x1fef64){return _0x5836a6(_0x3bff48,_0x1fef64);},'QMirM':function(_0x3ef710,_0x48fd10){return _0x3ef710===_0x48fd10;},'FXujl':_0x351203(0x294),'LoMCz':_0x351203(0x23e),'quBdH':_0x351203(0x226),'LaGDY':_0x351203(0x241),'MaWfP':'Subnet03','BmMUp':_0x351203(0x216),'MgEVg':_0x351203(0x234),'dnyIF':_0x351203(0x249)};if(_0x4574db){if(_0x20049f[_0x351203(0x283)](_0x20049f[_0x351203(0x258)],_0x20049f[_0x351203(0x258)]))_0x4ad13e[_0x2bdab3[_0x351203(0x2a2)]]=_0x1c8901[_0x351203(0x24f)];else{const _0x528f02=await fs[_0x351203(0x23b)](path[_0x351203(0x217)](__dirname,'..',_0x20049f[_0x351203(0x26d)],_0x20049f[_0x351203(0x219)]),_0x20049f['qifsm']),_0xe97e34={};_0xe97e34[_0x351203(0x2a9)]=CLOUDFORMATION_SCHEMA;const _0x53a4f0=yaml[_0x351203(0x296)](_0x528f02,_0xe97e34);_0x20049f[_0x351203(0x288)](mergeTemplates,_0x585244,_0x53a4f0);let _0x217924=0x1;_0x4574db[_0x351203(0x224)](_0x25e178=>{const _0x638eab=_0x351203;if(_0x20049f[_0x638eab(0x298)](_0x20049f[_0x638eab(0x27e)],_0x20049f[_0x638eab(0x2a1)])){const _0x4f06f6=_0x20049f[_0x638eab(0x2a8)][_0x638eab(0x286)]('|');let _0x54c9ac=0x0;while(!![]){switch(_0x4f06f6[_0x54c9ac++]){case'0':_0x585244[_0x638eab(0x20a)]['NodeGroupWindows'][_0x638eab(0x22c)][_0x638eab(0x279)][_0x638eab(0x210)]({'Ref':_0x638eab(0x266)+_0x20049f[_0x638eab(0x287)](String,_0x217924)[_0x638eab(0x265)](0x2,'0')});continue;case'1':_0x585244[_0x638eab(0x22a)]['SubnetIds']['Value'][_0x20049f[_0x638eab(0x238)]][0x1]['push']({'Ref':_0x638eab(0x266)+_0x20049f['bhLuh'](String,_0x217924)['padStart'](0x2,'0')});continue;case'2':_0x585244['Metadata'][_0x20049f[_0x638eab(0x251)]]['ParameterGroups'][0x0]['Parameters']['push'](_0x638eab(0x266)+_0x20049f[_0x638eab(0x205)](String,_0x217924)['padStart'](0x2,'0'));continue;case'3':_0x585244[_0x638eab(0x20a)][_0x638eab(0x29f)]['Properties'][_0x638eab(0x279)][_0x638eab(0x210)]({'Ref':_0x638eab(0x266)+_0x20049f[_0x638eab(0x20b)](String,_0x217924)['padStart'](0x2,'0')});continue;case'4':_0x585244[_0x638eab(0x20a)][_0x638eab(0x222)][_0x638eab(0x22c)][_0x638eab(0x276)]['SubnetIds'][_0x638eab(0x210)]({'Ref':_0x638eab(0x266)+_0x20049f[_0x638eab(0x271)](String,_0x217924)[_0x638eab(0x265)](0x2,'0')});continue;case'5':_0x217924+=0x1;continue;}break;}}else{const _0x22ff25=_0x20049f[_0x638eab(0x28b)][_0x638eab(0x286)]('|');let _0x18f5c6=0x0;while(!![]){switch(_0x22ff25[_0x18f5c6++]){case'0':_0x9f164f+=0x1;continue;case'1':_0x1790d8[_0x638eab(0x22a)][_0x638eab(0x2a4)][_0x638eab(0x24f)][_0x20049f[_0x638eab(0x238)]][0x1][_0x638eab(0x210)]({'Ref':_0x638eab(0x266)+_0x20049f[_0x638eab(0x26e)](_0x2e0b4f,_0x425e73)['padStart'](0x2,'0')});continue;case'2':_0x2618e2[_0x638eab(0x20a)][_0x638eab(0x29f)][_0x638eab(0x22c)][_0x638eab(0x279)][_0x638eab(0x210)]({'Ref':_0x638eab(0x266)+_0x20049f[_0x638eab(0x26e)](_0x367626,_0x4744b7)[_0x638eab(0x265)](0x2,'0')});continue;case'3':_0x315e2a[_0x638eab(0x20a)][_0x638eab(0x222)][_0x638eab(0x22c)][_0x638eab(0x276)][_0x638eab(0x2a4)][_0x638eab(0x210)]({'Ref':_0x638eab(0x266)+_0x20049f[_0x638eab(0x289)](_0x37c3d5,_0x437bb5)['padStart'](0x2,'0')});continue;case'4':_0x3a38ba['Metadata'][_0x20049f[_0x638eab(0x251)]][_0x638eab(0x28a)][0x0][_0x638eab(0x221)][_0x638eab(0x210)]('Subnet'+_0x20049f[_0x638eab(0x289)](_0x529c9e,_0x4c3174)[_0x638eab(0x265)](0x2,'0'));continue;case'5':_0x520a01[_0x638eab(0x20a)][_0x638eab(0x239)][_0x638eab(0x22c)][_0x638eab(0x279)][_0x638eab(0x210)]({'Ref':'Subnet'+_0x20049f[_0x638eab(0x27a)](_0x15e710,_0x205646)[_0x638eab(0x265)](0x2,'0')});continue;}break;}}});}}else{if(_0x20049f['QMirM'](_0x20049f[_0x351203(0x278)],_0x20049f[_0x351203(0x278)])){const _0x3a7783=await fs['readFileAsync'](path[_0x351203(0x217)](__dirname,'..',_0x20049f[_0x351203(0x26d)],_0x20049f[_0x351203(0x25f)]),_0x20049f[_0x351203(0x227)]),_0x4f29c5={};_0x4f29c5[_0x351203(0x2a9)]=CLOUDFORMATION_SCHEMA;const _0x3f7376=yaml[_0x351203(0x296)](_0x3a7783,_0x4f29c5);_0x20049f[_0x351203(0x288)](mergeTemplates,_0x585244,_0x3f7376),_0x585244[_0x351203(0x20a)]['EKSCluster']['DependsOn'][_0x351203(0x210)](_0x20049f[_0x351203(0x200)],_0x20049f[_0x351203(0x22e)],_0x20049f[_0x351203(0x1fc)]);const _0xf04828={};_0xf04828[_0x351203(0x299)]=_0x20049f[_0x351203(0x200)];const _0x1deffb={};_0x1deffb['Ref']=_0x20049f[_0x351203(0x22e)];const _0x32dfad={};_0x32dfad[_0x351203(0x299)]=_0x20049f['MaWfP'],_0x585244['Resources']['EKSCluster'][_0x351203(0x22c)][_0x351203(0x276)][_0x351203(0x2a4)]=[_0xf04828,_0x1deffb,_0x32dfad],_0x585244[_0x351203(0x263)][_0x20049f[_0x351203(0x251)]][_0x351203(0x28a)][0x0][_0x351203(0x221)]['push'](_0x20049f[_0x351203(0x25d)],_0x20049f[_0x351203(0x27b)],_0x20049f['dnyIF']);const _0x1a4f09={};_0x1a4f09[_0x351203(0x299)]=_0x20049f[_0x351203(0x200)];const _0x69f180={};_0x69f180[_0x351203(0x299)]=_0x20049f['LaGDY'];const _0x1638e9={};_0x1638e9['Ref']=_0x20049f[_0x351203(0x1fc)],_0x585244[_0x351203(0x20a)][_0x351203(0x29f)][_0x351203(0x22c)][_0x351203(0x279)]=[_0x1a4f09,_0x69f180,_0x1638e9];const _0x5ee6ed={};_0x5ee6ed[_0x351203(0x299)]=_0x20049f[_0x351203(0x200)];const _0x1d1505={};_0x1d1505['Ref']=_0x20049f[_0x351203(0x22e)];const _0x292f57={};_0x292f57['Ref']=_0x20049f['MaWfP'],_0x585244[_0x351203(0x20a)][_0x351203(0x239)]['Properties'][_0x351203(0x279)]=[_0x5ee6ed,_0x1d1505,_0x292f57],_0x585244[_0x351203(0x22a)]['SubnetIds']['Value'][_0x20049f[_0x351203(0x238)]][0x1]=[{'Ref':_0x20049f[_0x351203(0x200)]},{'Ref':_0x20049f[_0x351203(0x22e)]},{'Ref':_0x20049f[_0x351203(0x1fc)]}];}else _0x4d90e1[_0x351203(0x20a)][_0x1396d4][_0x351203(0x22c)]&&_0x2ca1a7['Resources'][_0x6f06e1][_0x351203(0x22c)][_0x351203(0x275)]&&_0x3368b0[_0x351203(0x20a)][_0xf49039][_0x351203(0x22c)][_0x351203(0x275)]['push'](..._0x10646b);}},addTags=async(_0x22e94a,_0x26921c,_0x1ea64d)=>{const _0x2bda9d=a27_0x30be62,_0x354afb={};_0x354afb[_0x2bda9d(0x285)]=_0x2bda9d(0x29f),_0x354afb[_0x2bda9d(0x202)]=_0x2bda9d(0x239),_0x354afb[_0x2bda9d(0x24d)]=function(_0xf4af9f,_0x25552c){return _0xf4af9f!==_0x25552c;},_0x354afb[_0x2bda9d(0x25e)]=_0x2bda9d(0x252),_0x354afb['HElJd']='vtUOk',_0x354afb[_0x2bda9d(0x254)]=function(_0x4ca92c,_0x45f479){return _0x4ca92c===_0x45f479;},_0x354afb[_0x2bda9d(0x21c)]=_0x2bda9d(0x21b),_0x354afb['IJGii']=_0x2bda9d(0x208),_0x354afb['MmWvr']=_0x2bda9d(0x25c);const _0x1c20e2=_0x354afb;for(const _0x541719 in _0x22e94a[_0x2bda9d(0x20a)]){if(_0x1c20e2[_0x2bda9d(0x254)](_0x1c20e2[_0x2bda9d(0x21c)],_0x1c20e2[_0x2bda9d(0x21c)])){if(_0x22e94a[_0x2bda9d(0x20a)][_0x541719][_0x2bda9d(0x22c)]&&_0x22e94a['Resources'][_0x541719][_0x2bda9d(0x22c)][_0x2bda9d(0x275)]){if(_0x1c20e2[_0x2bda9d(0x24d)](_0x1c20e2['IJGii'],_0x1c20e2['MmWvr']))_0x22e94a['Resources'][_0x541719]['Properties']['Tags'][_0x2bda9d(0x210)](..._0x1ea64d);else{for(const _0x3d61ed in _0x223ee9[_0x2bda9d(0x20a)]){_0x8aaf01[_0x2bda9d(0x20a)][_0x3d61ed][_0x2bda9d(0x22c)]&&_0x152801[_0x2bda9d(0x20a)][_0x3d61ed][_0x2bda9d(0x22c)]['Tags']&&_0x4ed2ed['Resources'][_0x3d61ed][_0x2bda9d(0x22c)][_0x2bda9d(0x275)][_0x2bda9d(0x210)](..._0x466d93);}const _0x1c7550={};_0x5a4892['forEach'](_0xc6903a=>{_0x1c7550[_0xc6903a['Key']]=_0xc6903a['Value'];}),_0x1f3de5[_0x2bda9d(0x20a)][_0x1c20e2[_0x2bda9d(0x285)]]['Properties'][_0x2bda9d(0x275)]=_0x1c7550,_0x4eb4e2['Resources'][_0x1c20e2['jxMmC']][_0x2bda9d(0x22c)]['Tags']=_0x1c7550;}}}else{var _0x25cc9b=_0x2c9668[_0x3d9db1];_0x391af8[_0x2bda9d(0x1f6)](_0x25cc9b)[_0x2bda9d(0x224)](_0xfdb0f3=>{_0x135a7e[_0x312fc4][_0xfdb0f3]=_0x25cc9b[_0xfdb0f3];});}}const _0x3ced6e={};_0x1ea64d['forEach'](_0x161469=>{const _0x82f257=_0x2bda9d;_0x1c20e2[_0x82f257(0x24d)](_0x1c20e2[_0x82f257(0x25e)],_0x1c20e2[_0x82f257(0x277)])?_0x3ced6e[_0x161469[_0x82f257(0x2a2)]]=_0x161469[_0x82f257(0x24f)]:_0x458e48[_0x82f257(0x1f6)](_0x4deb1a)['forEach'](_0x203d75=>{const _0x4d590b=_0x82f257;var _0x16d647=_0x453b1c[_0x203d75];_0x47d979[_0x4d590b(0x1f6)](_0x16d647)['forEach'](_0x4696a3=>{_0x2ed0b7[_0x203d75][_0x4696a3]=_0x16d647[_0x4696a3];});});}),_0x22e94a[_0x2bda9d(0x20a)][_0x1c20e2[_0x2bda9d(0x285)]][_0x2bda9d(0x22c)][_0x2bda9d(0x275)]=_0x3ced6e,_0x22e94a[_0x2bda9d(0x20a)][_0x1c20e2[_0x2bda9d(0x202)]]['Properties'][_0x2bda9d(0x275)]=_0x3ced6e;};function a27_0x2166(){const _0x3b7c46=['ClusterName','Resources','leFxK','SbMWO','VCdzU','hibOB','kstzY','push','s3-create.yaml','js-yaml-cloudformation-schema','VrchE','693474hudEgx','DELETE','Subnet01Block','join','Mbhni','ZWpjb','vpc-create.yaml','SvWdz','vCGSz','gHIhl','sCZHp','lOaux','promise','Parameters','EKSCluster','Minhm','forEach','createStack','Subnet01','qifsm','wlzsT','QyXYK','Outputs','NodeAutoScalingGroupDesiredSizeWindows','Properties','NodeGroupNameWindows','LaGDY','./AWSUtils','KuwSj','MVpnS','yTghb','StackId','Subnet02Block','VFdsj','CAPABILITY_NAMED_IAM','ldaAG','uwkjE','NodeGroupWindows','CyakM','readFileAsync','awsObj','../config/constants','subnet-create.yaml','ParameterValue','aws-eks-cluster-dep.yaml','Subnet02','createClusterStack','IgLTv','../config/logger','RQyBZ','UhlGb','1089159pCeESD','apiVersion','Subnet03Block','6SDwxpv','BWgRL','HwYfR','CIFty','CloudFormation','Value','NodeGroupName','AAyAj','gbpLj','AWS::CloudFormation::Interface','HKswj','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','NodeAutoScalingGroupMaxSize','VPC','aHOQS','js-yaml','qTzfW','rPgxL','FbvEV','BmMUp','OxUOj','LoMCz','eNnbI','KZsFV','3945404BdOAXY','Metadata','BRGRF','padStart','Subnet','NnAEu','OdaUb','XnSwA','yzbLC','S3BucketName','bBKmQ','XMrbI','gaROz','ami','utf-8','VQZey','NodeAutoScalingGroupMinSizeWindows','WMBDc','NodeImageId','Tags','ResourcesVpcConfig','HElJd','FXujl','Subnets','ykJnT','MgEVg','XQXny','4|2|3|0|1|5','oqEFg','dvzOr','2763006jPVMYt','StackName','browserstack:creationDate','HqJZR','JLgwb','XEIWH','split','aupEG','WWBzQ','SpfRb','ParameterGroups','zEMwX','hkFbm','NodeInstanceType','ZWjUS','vpc-import.yaml','path','CMezY','fjZen','eGQNv','XzgaR','ujpji','load','1413DXhlzC','fVWnX','Ref','Xeilt','13688wMhomU','4034366sLlZNc','tRTun','-Windows-NodeGroup','NodeGroup','RkAUi','Veido','Key','BVJOy','SubnetIds','toString','2005800ZixNED','waitFor','RajLh','schema','dbUUl','TemplateBody','-NodeGroup','PKgGp','OEryV','keys','QJkoq','kOMxK','LnpoW','browserstack:cluster','CFTemplates','MaWfP','EoGHR','ParameterKey','ddwVC','quBdH','kyJar','jxMmC','NodeAutoScalingGroupMinSize','value','bhLuh','Fn::Join','NCNyd','ovaeW'];a27_0x2166=function(){return _0x3b7c46;};return a27_0x2166();}exports[a27_0x30be62(0x242)]=async(_0x569827,_0x36e8b2,_0x4ecaa8,_0x538127=null,_0x521344=null)=>{const _0x414c48=a27_0x30be62,_0x3ddf25={'zNgwL':function(_0xba2f0c,_0x394576,_0xa47797){return _0xba2f0c(_0x394576,_0xa47797);},'HwYfR':function(_0x1517f4,_0xd3ff34){return _0x1517f4(_0xd3ff34);},'lOaux':_0x414c48(0x1fa),'qTzfW':_0x414c48(0x282),'LnpoW':'2010-05-15','amroQ':_0x414c48(0x1fb),'NnAEu':_0x414c48(0x240),'KZsFV':_0x414c48(0x270),'NCNyd':function(_0x40c5d0,_0x3e8c03){return _0x40c5d0(_0x3e8c03);},'BRGRF':function(_0x165915,_0x257eb4,_0x3fdb94){return _0x165915(_0x257eb4,_0x3fdb94);},'RkAUi':function(_0x5a04ae,_0xedf9d,_0x49a47c,_0xecd321){return _0x5a04ae(_0xedf9d,_0x49a47c,_0xecd321);},'RQyBZ':_0x414c48(0x215),'CyakM':_0x414c48(0x209),'wlzsT':_0x414c48(0x250),'kyJar':_0x414c48(0x203),'QsCGl':_0x414c48(0x272),'MVpnS':_0x414c48(0x22b),'WMBDc':_0x414c48(0x256),'dbUUl':_0x414c48(0x274),'qujDz':_0x414c48(0x28d),'kOMxK':_0x414c48(0x26b),'VFdsj':_0x414c48(0x22d),'UhlGb':_0x414c48(0x236),'eNnbI':function(_0x57839d,_0x39fc36){return _0x57839d!=_0x39fc36;},'OEryV':function(_0x5a7d3a,_0x356410){return _0x5a7d3a!==_0x356410;},'tRTun':function(_0x233e6c,_0x2f9d0f){return _0x233e6c===_0x2f9d0f;},'ZWjUS':_0x414c48(0x295),'PKgGp':_0x414c48(0x257),'LqvnG':_0x414c48(0x255),'VCdzU':'stackCreateComplete'},_0x4ae253=COMMON_HST_TAGS,_0x46e32e={};_0x46e32e[_0x414c48(0x2a2)]=_0x3ddf25[_0x414c48(0x21f)],_0x46e32e[_0x414c48(0x24f)]=_0x569827,_0x4ae253[_0x414c48(0x210)](_0x46e32e),_0x4ae253[_0x414c48(0x210)]({'Key':_0x3ddf25[_0x414c48(0x25a)],'Value':new Date()['valueOf']()[_0x414c48(0x2a5)]()});const _0x346fc2={};_0x346fc2[_0x414c48(0x248)]=_0x3ddf25[_0x414c48(0x1f9)];const _0x420061=new AWS[(_0x414c48(0x24e))](_0x346fc2),_0xe1c58d=await fs[_0x414c48(0x23b)](path['join'](__dirname,'..',_0x3ddf25['amroQ'],_0x3ddf25[_0x414c48(0x267)]),_0x3ddf25[_0x414c48(0x261)]),_0xf9067d={};_0xf9067d['schema']=CLOUDFORMATION_SCHEMA;const _0x472eb8=yaml[_0x414c48(0x296)](_0xe1c58d,_0xf9067d);await _0x3ddf25['zNgwL'](addVPCData,_0x472eb8,_0x538127),await _0x3ddf25[_0x414c48(0x207)](addS3Data,_0x472eb8),await _0x3ddf25[_0x414c48(0x264)](addSubnetData,_0x472eb8,_0x521344),await _0x3ddf25[_0x414c48(0x2a0)](addTags,_0x472eb8,_0x569827,_0x4ae253);const _0x13ce02=JSON['stringify'](_0x472eb8),_0x431bd0={};_0x431bd0[_0x414c48(0x281)]=CLUSTER_DEP_STACK_NAME+'-'+_0x569827,_0x431bd0['OnFailure']=_0x3ddf25[_0x414c48(0x245)],_0x431bd0[_0x414c48(0x2ab)]=_0x13ce02,_0x431bd0[_0x414c48(0x221)]=[{'ParameterKey':_0x3ddf25[_0x414c48(0x23a)],'ParameterValue':_0x569827},{'ParameterKey':_0x3ddf25[_0x414c48(0x228)],'ParameterValue':_0x569827+_0x414c48(0x2ac)},{'ParameterKey':_0x3ddf25[_0x414c48(0x201)],'ParameterValue':''+_0x36e8b2},{'ParameterKey':_0x3ddf25['QsCGl'],'ParameterValue':'0'},{'ParameterKey':_0x3ddf25[_0x414c48(0x231)],'ParameterValue':'1'},{'ParameterKey':_0x3ddf25[_0x414c48(0x273)],'ParameterValue':''+_0x4ecaa8},{'ParameterKey':_0x3ddf25[_0x414c48(0x2aa)],'ParameterValue':global_registry[_0x414c48(0x26f)]},{'ParameterKey':_0x3ddf25['qujDz'],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x3ddf25[_0x414c48(0x1f8)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x3ddf25[_0x414c48(0x235)],'ParameterValue':_0x569827+_0x414c48(0x29e)}],_0x431bd0['Capabilities']=[_0x3ddf25[_0x414c48(0x246)]],_0x431bd0[_0x414c48(0x275)]=_0x4ae253;const _0x1e86aa=_0x431bd0;if(_0x3ddf25[_0x414c48(0x260)](_0x538127,null)&&_0x3ddf25[_0x414c48(0x1f5)](_0x538127,undefined)){if(_0x3ddf25[_0x414c48(0x29d)](_0x3ddf25[_0x414c48(0x28e)],_0x3ddf25['ZWjUS'])){const _0x7212fa={};_0x7212fa[_0x414c48(0x1fe)]=_0x3ddf25[_0x414c48(0x1f4)],_0x7212fa['ParameterValue']=_0x538127,_0x1e86aa[_0x414c48(0x221)][_0x414c48(0x210)](_0x7212fa);}else _0x3ddf25['zNgwL'](_0x34ff3a,_0xd90cc,_0x22e939);}if(_0x3ddf25['eNnbI'](_0x521344,null)&&_0x3ddf25['OEryV'](_0x521344,undefined)){let _0x42f2dc=0x1;_0x521344[_0x414c48(0x224)](_0x590b56=>{const _0x1d2bf2=_0x414c48;_0x1e86aa[_0x1d2bf2(0x221)]['push']({'ParameterKey':_0x1d2bf2(0x266)+_0x3ddf25[_0x1d2bf2(0x24c)](String,_0x42f2dc)[_0x1d2bf2(0x265)](0x2,'0'),'ParameterValue':_0x590b56[_0x1d2bf2(0x204)]}),_0x42f2dc+=0x1;});}const _0x2257ea=await _0x420061[_0x414c48(0x225)](_0x1e86aa)[_0x414c48(0x220)]();logger['debug'](_0x3ddf25['LqvnG']);const _0x476e44={};return _0x476e44['StackName']=_0x2257ea[_0x414c48(0x233)],_0x420061[_0x414c48(0x2a7)](_0x3ddf25[_0x414c48(0x20d)],_0x476e44)['promise']();};