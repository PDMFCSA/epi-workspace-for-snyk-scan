function a27_0x4bbf(){const _0x1036c0=['VYHnx','QQalq','true','jCBPl','EtgXj','DrAXK','ScWBl','AWS::CloudFormation::Interface','NodeAutoScalingGroupDesiredSizeWindows','aws-eks-cluster-dep.yaml','vwNSU','NMZgR','CmSwa','hvdpa','jkXQm','TemplateBody','bkFaW','PLueG','MpLEn','kkrRk','OVfPC','Lnpzj','oaHBc','OjQSd','MUelf','false','QqdrX','../config/constants','Key','apiVersion','FbPPA','LMPWF','gEeau','bluebird','rtWNb','Tags','S3BucketName','aSdiG','2649830WIPZAJ','7412952SnWuxe','ClusterAutoUpgrade','LeUOY','load','32658948okisLf','SgJhX','RdZWp','ZHSRW','xZPAJ','uWPFC','edqiB','BNlGO','jxURe','vwlqb','wXecw','ParameterKey','PwtJb','CloudFormation','bcxev','bbPoe','Properties','5|0|4|1|3|2','muwpT','Subnet01','9IEzEJo','ULXpS','ClusterName','mGwup','EvpjG','toString','763216vuYQoD','Ycizb','qtDFi','NodeInstanceType','split','Fn::Join','schema','BgWau','vXxni','Outputs','rSUMz','bhPvF','mgymx','1039924ulffQS','Subnet02Block','Value','ParameterGroups','FVbYE','DJuzK','brQGv','awsObj','WejFd','MOFxR','GMGWW','TiEeM','subnet-create.yaml','ParameterValue','GpAjX','PpIkn','waitFor','MUkJD','Qpptg','Subnets','xFlZo','ffOVU','2034904tLOdQW','nfBVe','xmbWt','IaPQF','JIRCz','vWTTL','NodeAutoScalingGroupMaxSize','Subnet','jRQPI','tvKiH','js-yaml-cloudformation-schema','IgozW','js-yaml','join','kEpIk','pfCXC','DFILt','0|5|2|4|1|3','700243qAqTKJ','mPCRy','rFZDC','gieMG','YCQNF','padStart','egyat','NodeGroupNameWindows','NodeGroupName','value','xDMoU','Metadata','-Windows-NodeGroup','vaEGJ','s3Bucket','GuMuj','forEach','AZDWi','moUWK','keys','PkQzH','YszhV','CFTemplates','PXkfi','readFileAsync','sioKS','NodeAutoScalingGroupMinSizeWindows','HXhzM','HNFfh','DependsOn','PTaft','EKSCluster','Parameters','Ref','kVHRb','rILAW','NodeImageId','utf-8','VpcBlock','TxteP','VPC','NodeGroupWindows','./AWSUtils','126eYVWOa','stringify','bfDdb','ResourcesVpcConfig','pNJxF','NodeGroup','DuKgm','promise','aUgOs','StackId','2010-05-15','MrSYl','StackName','FwEky','WagGk','Subnet03Block','Resources','JmroH','SubnetIds','instanceType','push','createClusterStack','GDYIE','DELETE','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','-NodeGroup','Subnet02','ZSfCb','qHRmY'];a27_0x4bbf=function(){return _0x1036c0;};return a27_0x4bbf();}const a27_0xddbe79=a27_0x7440;(function(_0x40f0f0,_0x225ed5){const _0x31054a=a27_0x7440,_0xf2bbbc=_0x40f0f0();while(!![]){try{const _0x225fa1=-parseInt(_0x31054a(0x126))/0x1+-parseInt(_0x31054a(0xfe))/0x2+-parseInt(_0x31054a(0x1ad))/0x3*(parseInt(_0x31054a(0x114))/0x4)+parseInt(_0x31054a(0x194))/0x5+parseInt(_0x31054a(0x195))/0x6+-parseInt(_0x31054a(0x151))/0x7*(parseInt(_0x31054a(0xf1))/0x8)+parseInt(_0x31054a(0x199))/0x9;if(_0x225fa1===_0x225ed5)break;else _0xf2bbbc['push'](_0xf2bbbc['shift']());}catch(_0x37ce86){_0xf2bbbc['push'](_0xf2bbbc['shift']());}}}(a27_0x4bbf,0xe3333));const fs=require('fs'),path=require('path'),Promise=require(a27_0xddbe79(0x18f)),yaml=require(a27_0xddbe79(0x120)),{CLOUDFORMATION_SCHEMA}=require(a27_0xddbe79(0x11e)),AWS=require(a27_0xddbe79(0x150))[a27_0xddbe79(0x105)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0xddbe79(0x189)),{logger}=require('../config/logger'),{isBucketPresent}=require('./AWSUtils');Promise['promisifyAll'](fs);const mergeTemplates=(_0x192ca0,_0xcc0cc0)=>{const _0xa79296=a27_0xddbe79,_0x527133={'XSRgW':_0xa79296(0x125),'PLueG':function(_0x4eb638,_0x59cc53){return _0x4eb638(_0x59cc53);},'NWEcM':_0xa79296(0xf6),'vwlqb':function(_0x1fd2bf,_0x1f7db2){return _0x1fd2bf(_0x1f7db2);},'DFILt':_0xa79296(0x175),'sioKS':function(_0x41cb91,_0x1adcd5){return _0x41cb91!==_0x1adcd5;},'jCBPl':_0xa79296(0x117),'pfCXC':_0xa79296(0x1ab),'jkXQm':function(_0x511271,_0x1a6eb4,_0x298c51){return _0x511271(_0x1a6eb4,_0x298c51);},'qtDFi':function(_0x158c05,_0x3342ae){return _0x158c05===_0x3342ae;},'pNJxF':_0xa79296(0x157)};Object[_0xa79296(0x139)](_0xcc0cc0)[_0xa79296(0x136)](_0x2cc2fc=>{const _0x1558b3=_0xa79296,_0x5d8ab7={'WLkpQ':function(_0x501dd3,_0x29df61,_0x39ff58){const _0x40e05d=a27_0x7440;return _0x527133[_0x40e05d(0x17c)](_0x501dd3,_0x29df61,_0x39ff58);}};if(_0x527133[_0x1558b3(0xf3)](_0x527133['pNJxF'],_0x527133[_0x1558b3(0x155)])){var _0x3d21a2=_0xcc0cc0[_0x2cc2fc];Object[_0x1558b3(0x139)](_0x3d21a2)[_0x1558b3(0x136)](_0x16068e=>{const _0x1994b0=_0x1558b3,_0x586662={'JIRCz':_0x527133['XSRgW'],'aSdiG':function(_0x2258d7,_0x32084b){return _0x527133['PLueG'](_0x2258d7,_0x32084b);},'jxURe':_0x527133['NWEcM'],'LMPWF':function(_0x446159,_0xfb5d9c){const _0x2df945=a27_0x7440;return _0x527133[_0x2df945(0x1a2)](_0x446159,_0xfb5d9c);},'EvpjG':function(_0x2fc2d2,_0x14a903){return _0x527133['vwlqb'](_0x2fc2d2,_0x14a903);},'mPCRy':_0x527133[_0x1994b0(0x124)],'rSUMz':function(_0x4a8536,_0x3b46c3){const _0x29fd75=_0x1994b0;return _0x527133[_0x29fd75(0x17f)](_0x4a8536,_0x3b46c3);}};if(_0x527133[_0x1994b0(0x13f)](_0x527133[_0x1994b0(0x171)],_0x527133[_0x1994b0(0x123)]))_0x192ca0[_0x2cc2fc][_0x16068e]=_0x3d21a2[_0x16068e];else{const _0x3ba898=_0x586662[_0x1994b0(0x118)][_0x1994b0(0xf5)]('|');let _0x4cb100=0x0;while(!![]){switch(_0x3ba898[_0x4cb100++]){case'0':_0x106a74['Resources'][_0x1994b0(0x145)][_0x1994b0(0x1a9)][_0x1994b0(0x154)][_0x1994b0(0x163)][_0x1994b0(0x165)]({'Ref':_0x1994b0(0x11b)+_0x586662['aSdiG'](_0x566010,_0x2cdee8)[_0x1994b0(0x12b)](0x2,'0')});continue;case'1':_0xf678fa[_0x1994b0(0xfa)][_0x1994b0(0x163)][_0x1994b0(0x100)][_0x586662[_0x1994b0(0x1a1)]][0x1]['push']({'Ref':_0x1994b0(0x11b)+_0x586662[_0x1994b0(0x18d)](_0x1ae5e7,_0x135e14)[_0x1994b0(0x12b)](0x2,'0')});continue;case'2':_0x104c25['Resources'][_0x1994b0(0x156)]['Properties']['Subnets'][_0x1994b0(0x165)]({'Ref':_0x1994b0(0x11b)+_0x586662[_0x1994b0(0x193)](_0x5d6fd3,_0x130325)[_0x1994b0(0x12b)](0x2,'0')});continue;case'3':_0x3c6b2d+=0x1;continue;case'4':_0x1c2e22['Resources']['NodeGroupWindows'][_0x1994b0(0x1a9)]['Subnets'][_0x1994b0(0x165)]({'Ref':_0x1994b0(0x11b)+_0x586662[_0x1994b0(0xef)](_0x856ab8,_0x33ec12)[_0x1994b0(0x12b)](0x2,'0')});continue;case'5':_0x9d4430[_0x1994b0(0x131)][_0x586662[_0x1994b0(0x127)]][_0x1994b0(0x101)][0x0][_0x1994b0(0x146)][_0x1994b0(0x165)]('Subnet'+_0x586662[_0x1994b0(0xfb)](_0x17ea5e,_0x2565bb)[_0x1994b0(0x12b)](0x2,'0'));continue;}break;}}});}else _0x5d8ab7['WLkpQ'](_0x4f0003,_0x5aff53,_0x212f0c);});},addVPCData=async(_0x4f70e9,_0x15bd61)=>{const _0x5d6d1a=a27_0xddbe79,_0x53b87b={'xDMoU':function(_0x340698,_0x2513bc){return _0x340698(_0x2513bc);},'BpEHY':function(_0xb0db0f,_0x21dda1){return _0xb0db0f===_0x21dda1;},'PwtJb':_0x5d6d1a(0x183),'TxteP':_0x5d6d1a(0x13c),'tvKiH':'vpc-import.yaml','ffOVU':_0x5d6d1a(0x14b),'WagGk':function(_0x12eee0,_0x29f174,_0x292aed){return _0x12eee0(_0x29f174,_0x292aed);},'GuMuj':_0x5d6d1a(0x175),'bhPvF':'VPC','kkrRk':function(_0x5d5eb3,_0x4456ed){return _0x5d5eb3!==_0x4456ed;},'bcxev':'KmGTl','LXMdV':_0x5d6d1a(0x19c),'FVbYE':'vpc-create.yaml','SgJhX':function(_0x31f505,_0x598b7f,_0x4c35cd){return _0x31f505(_0x598b7f,_0x4c35cd);},'TiEeM':_0x5d6d1a(0x14c)};if(_0x15bd61){if(_0x53b87b['BpEHY'](_0x53b87b[_0x5d6d1a(0x1a5)],_0x53b87b[_0x5d6d1a(0x1a5)])){const _0x2bfe38=await fs[_0x5d6d1a(0x13e)](path['join'](__dirname,'..',_0x53b87b[_0x5d6d1a(0x14d)],_0x53b87b[_0x5d6d1a(0x11d)]),_0x53b87b[_0x5d6d1a(0x113)]),_0x59d2c6={};_0x59d2c6[_0x5d6d1a(0xf7)]=CLOUDFORMATION_SCHEMA;const _0x327281=yaml['load'](_0x2bfe38,_0x59d2c6);_0x53b87b[_0x5d6d1a(0x15f)](mergeTemplates,_0x4f70e9,_0x327281),_0x4f70e9[_0x5d6d1a(0x131)][_0x53b87b[_0x5d6d1a(0x135)]][_0x5d6d1a(0x101)][0x0][_0x5d6d1a(0x146)][_0x5d6d1a(0x165)](_0x53b87b[_0x5d6d1a(0xfc)]);}else _0x13932c[_0x5d6d1a(0x161)][_0x137771]['Properties']&&_0x1d5575[_0x5d6d1a(0x161)][_0x24ed74][_0x5d6d1a(0x1a9)][_0x5d6d1a(0x191)]&&_0x2eb201[_0x5d6d1a(0x161)][_0x2007ae][_0x5d6d1a(0x1a9)][_0x5d6d1a(0x191)][_0x5d6d1a(0x165)](..._0x4a663a);}else{if(_0x53b87b[_0x5d6d1a(0x181)](_0x53b87b[_0x5d6d1a(0x1a7)],_0x53b87b['LXMdV'])){const _0x50285f=await fs[_0x5d6d1a(0x13e)](path[_0x5d6d1a(0x121)](__dirname,'..',_0x53b87b[_0x5d6d1a(0x14d)],_0x53b87b[_0x5d6d1a(0x102)]),_0x53b87b[_0x5d6d1a(0x113)]),_0x410a9e={};_0x410a9e[_0x5d6d1a(0xf7)]=CLOUDFORMATION_SCHEMA;const _0x1f4d0d=yaml['load'](_0x50285f,_0x410a9e);_0x53b87b[_0x5d6d1a(0x19a)](mergeTemplates,_0x4f70e9,_0x1f4d0d),_0x4f70e9['Metadata'][_0x53b87b[_0x5d6d1a(0x135)]][_0x5d6d1a(0x101)][0x0][_0x5d6d1a(0x146)][_0x5d6d1a(0x165)](_0x53b87b[_0x5d6d1a(0x109)]);}else{let _0x558564=0x1;_0x28d42a[_0x5d6d1a(0x136)](_0x3f29bc=>{const _0x224686=_0x5d6d1a;_0x5adb6f[_0x224686(0x146)]['push']({'ParameterKey':_0x224686(0x11b)+_0x53b87b[_0x224686(0x130)](_0x256aec,_0x558564)[_0x224686(0x12b)](0x2,'0'),'ParameterValue':_0x3f29bc['value']}),_0x558564+=0x1;});}}},addS3Data=async _0x399dfa=>{const _0x4d4feb=a27_0xddbe79,_0x299a50={'xFlZo':_0x4d4feb(0x13c),'kVHRb':'s3-create.yaml','IqXQF':_0x4d4feb(0x14b),'ChndC':function(_0x3c3e2f,_0x52e31f){return _0x3c3e2f(_0x52e31f);},'rFZDC':function(_0x3c6403,_0x470eda){return _0x3c6403===_0x470eda;},'vaEGJ':function(_0x2530d1,_0x19044e){return _0x2530d1!==_0x19044e;},'brQGv':_0x4d4feb(0x153),'BNlGO':function(_0x357b48,_0x29db7f,_0x2139df){return _0x357b48(_0x29db7f,_0x2139df);}},_0x23a2ed=await fs[_0x4d4feb(0x13e)](path[_0x4d4feb(0x121)](__dirname,'..',_0x299a50[_0x4d4feb(0x112)],_0x299a50[_0x4d4feb(0x148)]),_0x299a50['IqXQF']),_0x361921={};_0x361921['schema']=CLOUDFORMATION_SCHEMA;const _0x37a55c=yaml[_0x4d4feb(0x198)](_0x23a2ed,_0x361921),_0x4e75a7=await _0x299a50['ChndC'](isBucketPresent,global_registry[_0x4d4feb(0x134)]);_0x299a50[_0x4d4feb(0x128)](_0x4e75a7,![])&&(_0x299a50[_0x4d4feb(0x133)](_0x299a50[_0x4d4feb(0x104)],_0x299a50[_0x4d4feb(0x104)])?_0x396cc9[_0x26b5ea][_0x1aea46]=_0x5771a7[_0x1423a2]:_0x299a50[_0x4d4feb(0x1a0)](mergeTemplates,_0x399dfa,_0x37a55c));},addSubnetData=async(_0x2c4de1,_0x5e86c3)=>{const _0x4ff5b6=a27_0xddbe79,_0x5d1300={'hvdpa':function(_0x491bd4,_0x539b7d){return _0x491bd4(_0x539b7d);},'mGwup':function(_0x30f25d,_0x319b0){return _0x30f25d!==_0x319b0;},'HNFfh':_0x4ff5b6(0x16c),'rILAW':_0x4ff5b6(0x10d),'gJhDp':_0x4ff5b6(0x1aa),'JmroH':'AWS::CloudFormation::Interface','vZfAd':function(_0x19d074,_0x4df9b7){return _0x19d074(_0x4df9b7);},'jRQPI':_0x4ff5b6(0xf6),'xZPAJ':function(_0x3d1e5c,_0x23144e){return _0x3d1e5c(_0x23144e);},'MUelf':'NodeGroup','vQgoc':_0x4ff5b6(0x14f),'RdZWp':'kUzRA','ULXpS':_0x4ff5b6(0x13c),'Qpptg':'subnet-import.yaml','OjQSd':_0x4ff5b6(0x14b),'IgozW':function(_0x7dde9d,_0x3d911f,_0x598b44){return _0x7dde9d(_0x3d911f,_0x598b44);},'BgrLb':function(_0x299dc1,_0x1f4b64){return _0x299dc1===_0x1f4b64;},'DJuzK':_0x4ff5b6(0x12a),'kEpIk':_0x4ff5b6(0x10a),'wXecw':_0x4ff5b6(0x1ac),'vXxni':_0x4ff5b6(0x16b),'AZDWi':'Subnet03','vWTTL':'Subnet01Block','moUWK':_0x4ff5b6(0xff),'gieMG':_0x4ff5b6(0x160)};if(_0x5e86c3){if(_0x5d1300[_0x4ff5b6(0xee)](_0x5d1300[_0x4ff5b6(0x19b)],_0x5d1300[_0x4ff5b6(0x19b)]))_0x4a06af[_0x4ff5b6(0x146)][_0x4ff5b6(0x165)]({'ParameterKey':_0x4ff5b6(0x11b)+_0x5d1300['hvdpa'](_0x391094,_0x387183)[_0x4ff5b6(0x12b)](0x2,'0'),'ParameterValue':_0x1429f6['value']}),_0x45f2a6+=0x1;else{const _0x5173ab=await fs[_0x4ff5b6(0x13e)](path[_0x4ff5b6(0x121)](__dirname,'..',_0x5d1300[_0x4ff5b6(0x1ae)],_0x5d1300[_0x4ff5b6(0x110)]),_0x5d1300[_0x4ff5b6(0x185)]),_0x59f114={};_0x59f114[_0x4ff5b6(0xf7)]=CLOUDFORMATION_SCHEMA;const _0x14f71b=yaml[_0x4ff5b6(0x198)](_0x5173ab,_0x59f114);_0x5d1300[_0x4ff5b6(0x11f)](mergeTemplates,_0x2c4de1,_0x14f71b);let _0x50d053=0x1;_0x5e86c3[_0x4ff5b6(0x136)](_0x51a4f5=>{const _0x11d6b1=_0x4ff5b6;if(_0x5d1300[_0x11d6b1(0xee)](_0x5d1300[_0x11d6b1(0x142)],_0x5d1300[_0x11d6b1(0x149)])){const _0x3c9371=_0x5d1300['gJhDp'][_0x11d6b1(0xf5)]('|');let _0x199c96=0x0;while(!![]){switch(_0x3c9371[_0x199c96++]){case'0':_0x2c4de1[_0x11d6b1(0x131)][_0x5d1300[_0x11d6b1(0x162)]][_0x11d6b1(0x101)][0x0]['Parameters'][_0x11d6b1(0x165)]('Subnet'+_0x5d1300[_0x11d6b1(0x17b)](String,_0x50d053)[_0x11d6b1(0x12b)](0x2,'0'));continue;case'1':_0x2c4de1[_0x11d6b1(0x161)][_0x11d6b1(0x14f)][_0x11d6b1(0x1a9)][_0x11d6b1(0x111)]['push']({'Ref':_0x11d6b1(0x11b)+_0x5d1300['vZfAd'](String,_0x50d053)[_0x11d6b1(0x12b)](0x2,'0')});continue;case'2':_0x50d053+=0x1;continue;case'3':_0x2c4de1['Outputs'][_0x11d6b1(0x163)][_0x11d6b1(0x100)][_0x5d1300[_0x11d6b1(0x11c)]][0x1][_0x11d6b1(0x165)]({'Ref':_0x11d6b1(0x11b)+_0x5d1300['hvdpa'](String,_0x50d053)['padStart'](0x2,'0')});continue;case'4':_0x2c4de1[_0x11d6b1(0x161)][_0x11d6b1(0x156)][_0x11d6b1(0x1a9)][_0x11d6b1(0x111)]['push']({'Ref':_0x11d6b1(0x11b)+_0x5d1300[_0x11d6b1(0x19d)](String,_0x50d053)[_0x11d6b1(0x12b)](0x2,'0')});continue;case'5':_0x2c4de1[_0x11d6b1(0x161)]['EKSCluster'][_0x11d6b1(0x1a9)][_0x11d6b1(0x154)][_0x11d6b1(0x163)][_0x11d6b1(0x165)]({'Ref':'Subnet'+_0x5d1300[_0x11d6b1(0x19d)](String,_0x50d053)[_0x11d6b1(0x12b)](0x2,'0')});continue;}break;}}else _0x59f77b[_0x11d6b1(0x161)][_0x3e7446][_0x11d6b1(0x1a9)]['Tags'][_0x11d6b1(0x165)](..._0x2696c3);});}}else{if(_0x5d1300['BgrLb'](_0x5d1300[_0x4ff5b6(0x103)],_0x5d1300[_0x4ff5b6(0x103)])){const _0x16c157=await fs[_0x4ff5b6(0x13e)](path[_0x4ff5b6(0x121)](__dirname,'..',_0x5d1300[_0x4ff5b6(0x1ae)],_0x5d1300[_0x4ff5b6(0x122)]),_0x5d1300['OjQSd']),_0x1d46a1={};_0x1d46a1[_0x4ff5b6(0xf7)]=CLOUDFORMATION_SCHEMA;const _0x24096d=yaml['load'](_0x16c157,_0x1d46a1);_0x5d1300[_0x4ff5b6(0x11f)](mergeTemplates,_0x2c4de1,_0x24096d),_0x2c4de1[_0x4ff5b6(0x161)][_0x4ff5b6(0x145)][_0x4ff5b6(0x143)][_0x4ff5b6(0x165)](_0x5d1300[_0x4ff5b6(0x1a3)],_0x5d1300[_0x4ff5b6(0xf9)],_0x5d1300['AZDWi']);const _0x33ec8f={};_0x33ec8f[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0x1a3)];const _0x1b5c20={};_0x1b5c20[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0xf9)];const _0x2c3f2a={};_0x2c3f2a['Ref']=_0x5d1300[_0x4ff5b6(0x137)],_0x2c4de1['Resources'][_0x4ff5b6(0x145)][_0x4ff5b6(0x1a9)]['ResourcesVpcConfig'][_0x4ff5b6(0x163)]=[_0x33ec8f,_0x1b5c20,_0x2c3f2a],_0x2c4de1['Metadata'][_0x5d1300[_0x4ff5b6(0x162)]][_0x4ff5b6(0x101)][0x0]['Parameters'][_0x4ff5b6(0x165)](_0x5d1300[_0x4ff5b6(0x119)],_0x5d1300[_0x4ff5b6(0x138)],_0x5d1300[_0x4ff5b6(0x129)]);const _0x1dc0c5={};_0x1dc0c5[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0x1a3)];const _0x13c107={};_0x13c107[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0xf9)];const _0x2bbb08={};_0x2bbb08['Ref']=_0x5d1300[_0x4ff5b6(0x137)],_0x2c4de1[_0x4ff5b6(0x161)][_0x4ff5b6(0x156)]['Properties']['Subnets']=[_0x1dc0c5,_0x13c107,_0x2bbb08];const _0x57eeaf={};_0x57eeaf[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0x1a3)];const _0x29094c={};_0x29094c[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0xf9)];const _0x145b55={};_0x145b55[_0x4ff5b6(0x147)]=_0x5d1300[_0x4ff5b6(0x137)],_0x2c4de1[_0x4ff5b6(0x161)]['NodeGroupWindows'][_0x4ff5b6(0x1a9)][_0x4ff5b6(0x111)]=[_0x57eeaf,_0x29094c,_0x145b55],_0x2c4de1[_0x4ff5b6(0xfa)][_0x4ff5b6(0x163)][_0x4ff5b6(0x100)][_0x5d1300[_0x4ff5b6(0x11c)]][0x1]=[{'Ref':_0x5d1300['wXecw']},{'Ref':_0x5d1300[_0x4ff5b6(0xf9)]},{'Ref':_0x5d1300[_0x4ff5b6(0x137)]}];}else{for(const _0x258cf8 in _0x1737af['Resources']){_0x12d876[_0x4ff5b6(0x161)][_0x258cf8][_0x4ff5b6(0x1a9)]&&_0x3fcdeb['Resources'][_0x258cf8][_0x4ff5b6(0x1a9)][_0x4ff5b6(0x191)]&&_0x424ee8['Resources'][_0x258cf8]['Properties'][_0x4ff5b6(0x191)][_0x4ff5b6(0x165)](..._0x45480b);}const _0xd3c7cd={};_0x3356cf['forEach'](_0x554776=>{const _0x5b1db8=_0x4ff5b6;_0xd3c7cd[_0x554776[_0x5b1db8(0x18a)]]=_0x554776[_0x5b1db8(0x100)];}),_0x15cd61[_0x4ff5b6(0x161)][_0x5d1300[_0x4ff5b6(0x186)]][_0x4ff5b6(0x1a9)][_0x4ff5b6(0x191)]=_0xd3c7cd,_0x10bd07[_0x4ff5b6(0x161)][_0x5d1300['vQgoc']][_0x4ff5b6(0x1a9)]['Tags']=_0xd3c7cd;}}},addTags=async(_0x572b97,_0x23dc3f,_0x4a03ff)=>{const _0x26a6e5=a27_0xddbe79,_0x5a481c={};_0x5a481c[_0x26a6e5(0x13d)]=_0x26a6e5(0x14e),_0x5a481c[_0x26a6e5(0x10f)]=function(_0x350f45,_0x1eef74){return _0x350f45!==_0x1eef74;},_0x5a481c[_0x26a6e5(0x159)]=_0x26a6e5(0xf8),_0x5a481c[_0x26a6e5(0x16d)]=function(_0x23553d,_0x4af01a){return _0x23553d===_0x4af01a;},_0x5a481c[_0x26a6e5(0x108)]=_0x26a6e5(0x173),_0x5a481c[_0x26a6e5(0x116)]='ymoUj',_0x5a481c[_0x26a6e5(0x13a)]=_0x26a6e5(0x156),_0x5a481c[_0x26a6e5(0x17e)]='NodeGroupWindows';const _0xb4c85b=_0x5a481c;for(const _0x33384b in _0x572b97[_0x26a6e5(0x161)]){if(_0xb4c85b['qHRmY'](_0xb4c85b[_0x26a6e5(0x108)],_0xb4c85b[_0x26a6e5(0x108)])){if(_0x572b97[_0x26a6e5(0x161)][_0x33384b][_0x26a6e5(0x1a9)]&&_0x572b97[_0x26a6e5(0x161)][_0x33384b][_0x26a6e5(0x1a9)][_0x26a6e5(0x191)]){if(_0xb4c85b[_0x26a6e5(0x16d)](_0xb4c85b['xmbWt'],_0xb4c85b[_0x26a6e5(0x116)]))_0x572b97[_0x26a6e5(0x161)][_0x33384b][_0x26a6e5(0x1a9)][_0x26a6e5(0x191)][_0x26a6e5(0x165)](..._0x4a03ff);else{var _0x2cd6c0=_0xfc5b7e[_0x500f3a];_0x2299bb['keys'](_0x2cd6c0)[_0x26a6e5(0x136)](_0x71bcd7=>{_0x34f39c[_0x35656c][_0x71bcd7]=_0x2cd6c0[_0x71bcd7];});}}}else _0x1a4daa[_0x26a6e5(0x139)](_0x2768ab)[_0x26a6e5(0x136)](_0x597180=>{const _0x756248=_0x26a6e5;var _0x16e844=_0x5573dc[_0x597180];_0x2a0862[_0x756248(0x139)](_0x16e844)[_0x756248(0x136)](_0x2f1a67=>{_0x5b294e[_0x597180][_0x2f1a67]=_0x16e844[_0x2f1a67];});});}const _0x391d23={};_0x4a03ff[_0x26a6e5(0x136)](_0x3844ba=>{const _0x535d14=_0x26a6e5;if(_0xb4c85b['MUkJD'](_0xb4c85b[_0x535d14(0x159)],_0xb4c85b[_0x535d14(0x159)])){const _0x277539={};_0x277539[_0x535d14(0x1a4)]=_0xb4c85b[_0x535d14(0x13d)],_0x277539[_0x535d14(0x10b)]=_0x182881,_0x211c51['Parameters']['push'](_0x277539);}else _0x391d23[_0x3844ba[_0x535d14(0x18a)]]=_0x3844ba[_0x535d14(0x100)];}),_0x572b97['Resources'][_0xb4c85b[_0x26a6e5(0x13a)]][_0x26a6e5(0x1a9)][_0x26a6e5(0x191)]=_0x391d23,_0x572b97[_0x26a6e5(0x161)][_0xb4c85b[_0x26a6e5(0x17e)]][_0x26a6e5(0x1a9)][_0x26a6e5(0x191)]=_0x391d23;};function a27_0x7440(_0x5b2ceb,_0x2143e4){const _0x4bbf5f=a27_0x4bbf();return a27_0x7440=function(_0x744004,_0xfb4efb){_0x744004=_0x744004-0xee;let _0x4c3d00=_0x4bbf5f[_0x744004];return _0x4c3d00;},a27_0x7440(_0x5b2ceb,_0x2143e4);}exports[a27_0xddbe79(0x166)]=async(_0x48efeb,_0x282203,_0x175821,_0x3e02fc=null,_0x41759c=null,_0x3936a4)=>{const _0x1e82cc=a27_0xddbe79,_0x2127c7={'bbPoe':function(_0x58ea08,_0x54a167){return _0x58ea08(_0x54a167);},'mgymx':'browserstack:cluster','ScWBl':'browserstack:creationDate','CmSwa':_0x1e82cc(0x15b),'MOFxR':_0x1e82cc(0x13c),'YKzVL':_0x1e82cc(0x177),'WejFd':_0x1e82cc(0x14b),'rtWNb':function(_0x58ba7a,_0x44c8b0,_0x105eab){return _0x58ba7a(_0x44c8b0,_0x105eab);},'MpLEn':function(_0x26408c,_0x187207,_0x30bbbf,_0x1368fa){return _0x26408c(_0x187207,_0x30bbbf,_0x1368fa);},'HXhzM':_0x1e82cc(0x168),'nfBVe':_0x1e82cc(0x1af),'Ycizb':_0x1e82cc(0x12e),'gEeau':'NodeAutoScalingGroupMinSize','edqiB':_0x1e82cc(0x140),'oaHBc':_0x1e82cc(0x176),'MrSYl':_0x1e82cc(0x11a),'PTaft':_0x1e82cc(0x14a),'Sxetb':_0x1e82cc(0xf4),'VYHnx':_0x1e82cc(0x192),'ibUfD':_0x1e82cc(0x12d),'NMZgR':_0x1e82cc(0x196),'LeUOY':_0x1e82cc(0x170),'vwNSU':_0x1e82cc(0x187),'QQalq':'CAPABILITY_NAMED_IAM','egyat':function(_0xe22899,_0x16d6d5){return _0xe22899!=_0x16d6d5;},'FbPPA':function(_0xff2752,_0x148ee6){return _0xff2752!==_0x148ee6;},'FwEky':function(_0x440159,_0x276c24){return _0x440159===_0x276c24;},'GDYIE':_0x1e82cc(0x19e),'lBBML':_0x1e82cc(0x13b),'EtgXj':'VPC','QqdrX':function(_0x3c2a7f,_0x4c39e8){return _0x3c2a7f!=_0x4c39e8;},'GpAjX':_0x1e82cc(0x169),'OVfPC':'stackCreateComplete'},_0x4d76ff=COMMON_HST_TAGS,_0x17f70f={};_0x17f70f[_0x1e82cc(0x18a)]=_0x2127c7[_0x1e82cc(0xfd)],_0x17f70f[_0x1e82cc(0x100)]=_0x48efeb,_0x4d76ff[_0x1e82cc(0x165)](_0x17f70f),_0x4d76ff['push']({'Key':_0x2127c7[_0x1e82cc(0x174)],'Value':new Date()['valueOf']()[_0x1e82cc(0xf0)]()});const _0x5951ff={};_0x5951ff[_0x1e82cc(0x18b)]=_0x2127c7[_0x1e82cc(0x17a)];const _0x2d61e3=new AWS[(_0x1e82cc(0x1a6))](_0x5951ff),_0x5135fa=await fs[_0x1e82cc(0x13e)](path[_0x1e82cc(0x121)](__dirname,'..',_0x2127c7[_0x1e82cc(0x107)],_0x2127c7['YKzVL']),_0x2127c7[_0x1e82cc(0x106)]),_0x1dbb5d={};_0x1dbb5d[_0x1e82cc(0xf7)]=CLOUDFORMATION_SCHEMA;const _0x190f2e=yaml[_0x1e82cc(0x198)](_0x5135fa,_0x1dbb5d);await _0x2127c7[_0x1e82cc(0x190)](addVPCData,_0x190f2e,_0x3e02fc),await _0x2127c7[_0x1e82cc(0x1a8)](addS3Data,_0x190f2e),await _0x2127c7[_0x1e82cc(0x190)](addSubnetData,_0x190f2e,_0x41759c),await _0x2127c7[_0x1e82cc(0x180)](addTags,_0x190f2e,_0x48efeb,_0x4d76ff);const _0x15c596=JSON[_0x1e82cc(0x152)](_0x190f2e),_0x4d5802={};_0x4d5802[_0x1e82cc(0x15d)]=CLUSTER_DEP_STACK_NAME+'-'+_0x48efeb,_0x4d5802['OnFailure']=_0x2127c7[_0x1e82cc(0x141)],_0x4d5802[_0x1e82cc(0x17d)]=_0x15c596,_0x4d5802[_0x1e82cc(0x146)]=[{'ParameterKey':_0x2127c7[_0x1e82cc(0x115)],'ParameterValue':_0x48efeb},{'ParameterKey':_0x2127c7[_0x1e82cc(0xf2)],'ParameterValue':_0x48efeb+_0x1e82cc(0x16a)},{'ParameterKey':_0x2127c7[_0x1e82cc(0x18e)],'ParameterValue':''+_0x282203},{'ParameterKey':_0x2127c7[_0x1e82cc(0x19f)],'ParameterValue':'0'},{'ParameterKey':_0x2127c7[_0x1e82cc(0x184)],'ParameterValue':'1'},{'ParameterKey':_0x2127c7[_0x1e82cc(0x15c)],'ParameterValue':''+_0x175821},{'ParameterKey':_0x2127c7[_0x1e82cc(0x144)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x2127c7['Sxetb'],'ParameterValue':global_registry[_0x1e82cc(0x164)]},{'ParameterKey':_0x2127c7[_0x1e82cc(0x16e)],'ParameterValue':global_registry[_0x1e82cc(0x134)]},{'ParameterKey':_0x2127c7['ibUfD'],'ParameterValue':_0x48efeb+_0x1e82cc(0x132)},{'ParameterKey':_0x2127c7[_0x1e82cc(0x179)],'ParameterValue':_0x3936a4?_0x2127c7[_0x1e82cc(0x197)]:_0x2127c7[_0x1e82cc(0x178)]}],_0x4d5802['Capabilities']=[_0x2127c7[_0x1e82cc(0x16f)]],_0x4d5802[_0x1e82cc(0x191)]=_0x4d76ff;const _0x34cb5d=_0x4d5802;if(_0x2127c7[_0x1e82cc(0x12c)](_0x3e02fc,null)&&_0x2127c7[_0x1e82cc(0x18c)](_0x3e02fc,undefined)){if(_0x2127c7[_0x1e82cc(0x15e)](_0x2127c7[_0x1e82cc(0x167)],_0x2127c7['lBBML']))_0x1ec1db[_0xacdd33[_0x1e82cc(0x18a)]]=_0x2cd89e[_0x1e82cc(0x100)];else{const _0x12679c={};_0x12679c['ParameterKey']=_0x2127c7[_0x1e82cc(0x172)],_0x12679c[_0x1e82cc(0x10b)]=_0x3e02fc,_0x34cb5d['Parameters'][_0x1e82cc(0x165)](_0x12679c);}}if(_0x2127c7[_0x1e82cc(0x188)](_0x41759c,null)&&_0x2127c7[_0x1e82cc(0x18c)](_0x41759c,undefined)){let _0x3a6f92=0x1;_0x41759c[_0x1e82cc(0x136)](_0x3fb7cf=>{const _0xd5ec6d=_0x1e82cc;_0x34cb5d[_0xd5ec6d(0x146)][_0xd5ec6d(0x165)]({'ParameterKey':_0xd5ec6d(0x11b)+_0x2127c7['bbPoe'](String,_0x3a6f92)[_0xd5ec6d(0x12b)](0x2,'0'),'ParameterValue':_0x3fb7cf[_0xd5ec6d(0x12f)]}),_0x3a6f92+=0x1;});}const _0x5b01e9=await _0x2d61e3['createStack'](_0x34cb5d)[_0x1e82cc(0x158)]();logger['debug'](_0x2127c7[_0x1e82cc(0x10c)]);const _0x2cef5e={};return _0x2cef5e[_0x1e82cc(0x15d)]=_0x5b01e9[_0x1e82cc(0x15a)],_0x2d61e3[_0x1e82cc(0x10e)](_0x2127c7[_0x1e82cc(0x182)],_0x2cef5e)[_0x1e82cc(0x158)]();};