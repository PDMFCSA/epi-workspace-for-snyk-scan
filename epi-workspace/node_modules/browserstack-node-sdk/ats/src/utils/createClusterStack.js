const a27_0x151a56=a27_0x1730;(function(_0xf70e8b,_0x2314ac){const _0x27c58f=a27_0x1730,_0xd5c67=_0xf70e8b();while(!![]){try{const _0x1bfd0f=parseInt(_0x27c58f(0x134))/0x1+parseInt(_0x27c58f(0x12d))/0x2*(-parseInt(_0x27c58f(0x101))/0x3)+-parseInt(_0x27c58f(0x14e))/0x4*(parseInt(_0x27c58f(0xd1))/0x5)+-parseInt(_0x27c58f(0x118))/0x6+-parseInt(_0x27c58f(0x14d))/0x7+parseInt(_0x27c58f(0x12a))/0x8+parseInt(_0x27c58f(0x13b))/0x9;if(_0x1bfd0f===_0x2314ac)break;else _0xd5c67['push'](_0xd5c67['shift']());}catch(_0xb34c26){_0xd5c67['push'](_0xd5c67['shift']());}}}(a27_0x1b6b,0x6bd90));function a27_0x1b6b(){const _0x36c2a8=['UuOmy','dURkb','path','BDTQC','BUFmj','s3-create.yaml','bFqiX','Subnet03','2045428aRvTZw','624lfTAfN','FHFxf','QcGQr','ParameterValue','TOvtc','bOeTs','EujkX','4|5|0|3|2|1','BUzwn','Subnet03Block','MpaKF','unQan','bkmuM','HxUQx','apiVersion','MEkrK','fPlOI','bEucC','qOTnU','mQjhF','Ref','XDvQH','Subnet','SMqMP','nfduw','utf-8','sPttl','js-yaml','JcGwE','kZajy','Fn::Join','subnet-import.yaml','JBuQP','stringify','HFxQK','XUEXX','DzstW','sTEvu','bzlxm','Parameters','toString','sQhWd','cuBwE','glBPj','CqAJp','Ebbnv','RmMpM','NodeAutoScalingGroupMinSize','YoRny','WEKQo','PLiCP','JZrFD','load','NodeAutoScalingGroupMinSizeWindows','VpcBlock','EwKQv','Subnets','pWPUQ','OlxpZ','NIiYs','OnFailure','s3Bucket','dDNIo','14170qafOkf','Capabilities','onWJm','WVudo','AWS::CloudFormation::Interface','Outputs','NodeGroupNameWindows','bluebird','Properties','../config/logger','TDPoV','EWFqM','browserstack:creationDate','Value','4|3|5|2|0|1','Subnet02Block','yWGEu','../config/constants','schema','nPjCk','tCcCS','vpc-import.yaml','CFTemplates','kkojp','sYPpp','js-yaml-cloudformation-schema','tMMcv','readFileAsync','createClusterStack','join','AvTWG','xriji','YBJDo','subnet-create.yaml','tOaiS','push','Kremn','MwlgI','aws-eks-cluster-dep.yaml','Resources','Metadata','NodeGroup','padStart','ioiXk','value','NodeAutoScalingGroupDesiredSizeWindows','createStack','NodeGroupName','3ZxTXOU','DELETE','bZPBe','iexKY','JRTxh','promisifyAll','CCwCd','ami','valueOf','rPkBF','yXWeY','FjbJm','ParameterGroups','split','TcLJD','Pkkve','erTwf','NodeGroupWindows','ParameterKey','dEUXV','EyRLa','Tags','bxAwn','1547700EClzRm','eLMWy','SubnetIds','browserstack:cluster','keys','forEach','VPC','Key','pFBjA','Subnet01','2010-05-15','SVfhr','StackId','EKSCluster','SMJAb','S3BucketName','aYoRT','TBbqh','810360UslDvR','jxLTS','ResourcesVpcConfig','1325906jOAYga','CloudFormation','pfzbf','gYfQQ','wmvrz','CAPABILITY_NAMED_IAM','-NodeGroup','767161DWNqzf','haxuT','./AWSUtils','debug','FDwrd','qbVFX','stackCreateComplete','11056491MFZYNF','fWwCF','FUrgd','gAhOr','wdgMj','YYubV','promise','StackName','cBsMO','XiWcv'];a27_0x1b6b=function(){return _0x36c2a8;};return a27_0x1b6b();}const fs=require('fs'),path=require(a27_0x151a56(0x147)),Promise=require(a27_0x151a56(0xd8)),yaml=require(a27_0x151a56(0xad)),{CLOUDFORMATION_SCHEMA}=require(a27_0x151a56(0xea)),AWS=require(a27_0x151a56(0x136))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x151a56(0xe2)),{logger}=require(a27_0x151a56(0xda)),{isBucketPresent}=require(a27_0x151a56(0x136));Promise[a27_0x151a56(0x106)](fs);function a27_0x1730(_0x1053ae,_0x152dc5){const _0x1b6ba9=a27_0x1b6b();return a27_0x1730=function(_0x1730f4,_0x5a02a0){_0x1730f4=_0x1730f4-0xa5;let _0x672390=_0x1b6ba9[_0x1730f4];return _0x672390;},a27_0x1730(_0x1053ae,_0x152dc5);}const mergeTemplates=(_0x532094,_0xecfc00)=>{const _0x46b28f=a27_0x151a56,_0x4524dd={};_0x4524dd['haxuT']=function(_0x36cb29,_0x431186){return _0x36cb29!==_0x431186;},_0x4524dd[_0x46b28f(0x139)]='QshZR',_0x4524dd[_0x46b28f(0x117)]=function(_0x3ca072,_0x40210b){return _0x3ca072===_0x40210b;},_0x4524dd[_0x46b28f(0xc5)]=_0x46b28f(0xfc),_0x4524dd[_0x46b28f(0x143)]='Uisih';const _0x1c0318=_0x4524dd;Object[_0x46b28f(0x11c)](_0xecfc00)[_0x46b28f(0x11d)](_0x90e5dc=>{const _0x35a5b4=_0x46b28f;if(_0x1c0318[_0x35a5b4(0x117)](_0x1c0318[_0x35a5b4(0xc5)],_0x1c0318['cBsMO']))_0x2b65a6['Resources'][_0xa836d][_0x35a5b4(0xd9)]&&_0x2a7250[_0x35a5b4(0xf8)][_0x4b86d9][_0x35a5b4(0xd9)]['Tags']&&_0x1437f9['Resources'][_0x5611ea][_0x35a5b4(0xd9)]['Tags'][_0x35a5b4(0xf4)](..._0x19ffab);else{var _0x2202f9=_0xecfc00[_0x90e5dc];Object[_0x35a5b4(0x11c)](_0x2202f9)[_0x35a5b4(0x11d)](_0x47541e=>{const _0x2434e0=_0x35a5b4;_0x1c0318[_0x2434e0(0x135)](_0x1c0318[_0x2434e0(0x139)],_0x1c0318[_0x2434e0(0x139)])?_0x31f5f3['Resources'][_0x30c5f6][_0x2434e0(0xd9)][_0x2434e0(0x116)][_0x2434e0(0xf4)](..._0x2ab2a9):_0x532094[_0x90e5dc][_0x47541e]=_0x2202f9[_0x47541e];});}});},addVPCData=async(_0x58440e,_0x24f710)=>{const _0x53a28d=a27_0x151a56,_0x43509a={'dDNIo':function(_0x1c465d,_0x2b6e7c,_0x251a18){return _0x1c465d(_0x2b6e7c,_0x251a18);},'kZajy':function(_0x4c9c9a,_0x339a63){return _0x4c9c9a!==_0x339a63;},'XiWcv':_0x53a28d(0x105),'QcGQr':_0x53a28d(0xe7),'CqAJp':_0x53a28d(0xe6),'nfduw':_0x53a28d(0xab),'rCXPR':function(_0x13eb05,_0x13ad46,_0x4ba103){return _0x13eb05(_0x13ad46,_0x4ba103);},'yWGEu':'AWS::CloudFormation::Interface','KcXEU':'VPC','NIiYs':_0x53a28d(0x129),'EyRLa':'Oszyl','rPkBF':'vpc-create.yaml','yXWeY':function(_0x58c03f,_0x2723fb,_0x87fc4b){return _0x58c03f(_0x2723fb,_0x87fc4b);},'BDTQC':_0x53a28d(0xc8)};if(_0x24f710){if(_0x43509a[_0x53a28d(0xaf)](_0x43509a[_0x53a28d(0x144)],_0x43509a[_0x53a28d(0x144)])){var _0x5d466d=_0x3dfa74[_0x4723e7];_0x19e256[_0x53a28d(0x11c)](_0x5d466d)['forEach'](_0x2f5ce4=>{_0x182ff2[_0x3a361a][_0x2f5ce4]=_0x5d466d[_0x2f5ce4];});}else{const _0x3386ad=await fs[_0x53a28d(0xec)](path['join'](__dirname,'..',_0x43509a[_0x53a28d(0x150)],_0x43509a[_0x53a28d(0xbe)]),_0x43509a[_0x53a28d(0xaa)]),_0x1e7e47={};_0x1e7e47['schema']=CLOUDFORMATION_SCHEMA;const _0x5e6752=yaml[_0x53a28d(0xc6)](_0x3386ad,_0x1e7e47);_0x43509a['rCXPR'](mergeTemplates,_0x58440e,_0x5e6752),_0x58440e['Metadata'][_0x43509a[_0x53a28d(0xe1)]][_0x53a28d(0x10d)][0x0][_0x53a28d(0xb9)][_0x53a28d(0xf4)](_0x43509a['KcXEU']);}}else{if(_0x43509a[_0x53a28d(0xaf)](_0x43509a[_0x53a28d(0xcd)],_0x43509a[_0x53a28d(0x115)])){const _0x401208=await fs['readFileAsync'](path[_0x53a28d(0xee)](__dirname,'..',_0x43509a[_0x53a28d(0x150)],_0x43509a[_0x53a28d(0x10a)]),_0x43509a['nfduw']),_0x49f759={};_0x49f759[_0x53a28d(0xe3)]=CLOUDFORMATION_SCHEMA;const _0x4f0869=yaml[_0x53a28d(0xc6)](_0x401208,_0x49f759);_0x43509a[_0x53a28d(0x10b)](mergeTemplates,_0x58440e,_0x4f0869),_0x58440e[_0x53a28d(0xf9)][_0x43509a[_0x53a28d(0xe1)]][_0x53a28d(0x10d)][0x0][_0x53a28d(0xb9)]['push'](_0x43509a[_0x53a28d(0x148)]);}else _0x43509a[_0x53a28d(0xd0)](_0x3c3e34,_0x426a6e,_0xde3580);}},addS3Data=async _0x4e7e00=>{const _0x4d861a=a27_0x151a56,_0x1c4e29={'YYubV':_0x4d861a(0xe7),'CCwCd':_0x4d861a(0x14a),'JcGwE':_0x4d861a(0xab),'onWJm':function(_0x599ad1,_0xcc83a0){return _0x599ad1(_0xcc83a0);},'FDwrd':function(_0x147cd0,_0x18ba1b){return _0x147cd0===_0x18ba1b;},'iexKY':function(_0x34c811,_0x3cc5dd){return _0x34c811!==_0x3cc5dd;},'AvTWG':_0x4d861a(0x10f),'unQan':function(_0x21b113,_0x2172c7,_0x21e0d1){return _0x21b113(_0x2172c7,_0x21e0d1);}},_0x4a20c6=await fs[_0x4d861a(0xec)](path[_0x4d861a(0xee)](__dirname,'..',_0x1c4e29[_0x4d861a(0x140)],_0x1c4e29[_0x4d861a(0x107)]),_0x1c4e29[_0x4d861a(0xae)]),_0xd593c7={};_0xd593c7[_0x4d861a(0xe3)]=CLOUDFORMATION_SCHEMA;const _0x78e9a7=yaml[_0x4d861a(0xc6)](_0x4a20c6,_0xd593c7),_0x338e04=await _0x1c4e29[_0x4d861a(0xd3)](isBucketPresent,global_registry[_0x4d861a(0xcf)]);_0x1c4e29[_0x4d861a(0x138)](_0x338e04,![])&&(_0x1c4e29[_0x4d861a(0x104)](_0x1c4e29[_0x4d861a(0xef)],_0x1c4e29['AvTWG'])?_0xed615[_0x4d861a(0x11c)](_0x5382d1)[_0x4d861a(0x11d)](_0x4b328b=>{const _0x59f394=_0x4d861a;var _0x53ff57=_0x50c67e[_0x4b328b];_0x33e3a6['keys'](_0x53ff57)[_0x59f394(0x11d)](_0x3dec2b=>{_0x4eb6af[_0x4b328b][_0x3dec2b]=_0x53ff57[_0x3dec2b];});}):_0x1c4e29[_0x4d861a(0x159)](mergeTemplates,_0x4e7e00,_0x78e9a7));},addSubnetData=async(_0x261444,_0x34bdf2)=>{const _0x4f378a=a27_0x151a56,_0x3d83d0={'bkmuM':function(_0x58ac7a,_0x420637){return _0x58ac7a(_0x420637);},'gAhOr':function(_0x4b3945,_0x520df3){return _0x4b3945===_0x520df3;},'fPlOI':'DQlSM','erTwf':_0x4f378a(0x128),'EujkX':_0x4f378a(0x155),'BSRCe':_0x4f378a(0xb0),'MEkrK':function(_0x5c0cb5,_0x45c6b0){return _0x5c0cb5(_0x45c6b0);},'glBPj':function(_0x2d688d,_0x3dff5f){return _0x2d688d(_0x3dff5f);},'csQRx':_0x4f378a(0xd5),'vqTNK':_0x4f378a(0x11e),'mQjhF':function(_0xba043c,_0x3d8143){return _0xba043c!==_0x3d8143;},'OlxpZ':'GActi','eMTEJ':'JwEkZ','sTEvu':_0x4f378a(0xe7),'PLiCP':_0x4f378a(0xb1),'dEUXV':_0x4f378a(0xab),'cTNfT':function(_0x1be362,_0x4739fd,_0x299c38){return _0x1be362(_0x4739fd,_0x299c38);},'EwKQv':_0x4f378a(0xb6),'tMMcv':_0x4f378a(0xf2),'FHFxf':function(_0x56c789,_0x16ca99,_0x2ecce2){return _0x56c789(_0x16ca99,_0x2ecce2);},'SVfhr':_0x4f378a(0x121),'cuBwE':'Subnet02','BUFmj':_0x4f378a(0x14c),'bZPBe':'Subnet01Block','BUzwn':_0x4f378a(0xe0),'YBJDo':_0x4f378a(0x157)};if(_0x34bdf2){if(_0x3d83d0[_0x4f378a(0xa5)](_0x3d83d0[_0x4f378a(0xcc)],_0x3d83d0['eMTEJ'])){const _0x564efd=await fs['readFileAsync'](path[_0x4f378a(0xee)](__dirname,'..',_0x3d83d0[_0x4f378a(0xb7)],_0x3d83d0[_0x4f378a(0xc4)]),_0x3d83d0[_0x4f378a(0x114)]),_0x34c95a={};_0x34c95a[_0x4f378a(0xe3)]=CLOUDFORMATION_SCHEMA;const _0x468ba5=yaml['load'](_0x564efd,_0x34c95a);_0x3d83d0['cTNfT'](mergeTemplates,_0x261444,_0x468ba5);let _0xeeb3cc=0x1;_0x34bdf2[_0x4f378a(0x11d)](_0xef8b7d=>{const _0x48acab=_0x4f378a;if(_0x3d83d0[_0x48acab(0x13e)](_0x3d83d0[_0x48acab(0x15e)],_0x3d83d0[_0x48acab(0x111)])){const _0x23e08d={'dURkb':function(_0xed8e79,_0x58b620){return _0x3d83d0['bkmuM'](_0xed8e79,_0x58b620);}};let _0x455b17=0x1;_0x13ac7c[_0x48acab(0x11d)](_0x222d33=>{const _0x28bfaa=_0x48acab;_0x39ccca[_0x28bfaa(0xb9)]['push']({'ParameterKey':'Subnet'+_0x23e08d[_0x28bfaa(0x146)](_0x593121,_0x455b17)[_0x28bfaa(0xfb)](0x2,'0'),'ParameterValue':_0x222d33[_0x28bfaa(0xfd)]}),_0x455b17+=0x1;});}else{const _0x36b1e6=_0x3d83d0[_0x48acab(0x154)][_0x48acab(0x10e)]('|');let _0x524175=0x0;while(!![]){switch(_0x36b1e6[_0x524175++]){case'0':_0x261444['Resources']['NodeGroup'][_0x48acab(0xd9)][_0x48acab(0xca)][_0x48acab(0xf4)]({'Ref':_0x48acab(0xa8)+_0x3d83d0[_0x48acab(0x15a)](String,_0xeeb3cc)[_0x48acab(0xfb)](0x2,'0')});continue;case'1':_0xeeb3cc+=0x1;continue;case'2':_0x261444[_0x48acab(0xd6)][_0x48acab(0x11a)][_0x48acab(0xde)][_0x3d83d0['BSRCe']][0x1][_0x48acab(0xf4)]({'Ref':_0x48acab(0xa8)+_0x3d83d0[_0x48acab(0x15d)](String,_0xeeb3cc)[_0x48acab(0xfb)](0x2,'0')});continue;case'3':_0x261444['Resources']['NodeGroupWindows']['Properties'][_0x48acab(0xca)][_0x48acab(0xf4)]({'Ref':_0x48acab(0xa8)+_0x3d83d0[_0x48acab(0xbd)](String,_0xeeb3cc)[_0x48acab(0xfb)](0x2,'0')});continue;case'4':_0x261444[_0x48acab(0xf8)][_0x48acab(0x125)][_0x48acab(0xd9)][_0x48acab(0x12c)][_0x48acab(0x11a)]['push']({'Ref':_0x48acab(0xa8)+_0x3d83d0[_0x48acab(0x15a)](String,_0xeeb3cc)[_0x48acab(0xfb)](0x2,'0')});continue;case'5':_0x261444[_0x48acab(0xf9)][_0x3d83d0['csQRx']][_0x48acab(0x10d)][0x0][_0x48acab(0xb9)][_0x48acab(0xf4)](_0x48acab(0xa8)+_0x3d83d0[_0x48acab(0x15a)](String,_0xeeb3cc)[_0x48acab(0xfb)](0x2,'0'));continue;}break;}}});}else _0x27c4f7[_0x4f378a(0xb9)][_0x4f378a(0xf4)]({'ParameterKey':_0x4f378a(0xa8)+_0x3d83d0[_0x4f378a(0x15d)](_0x67690e,_0x4d5a85)[_0x4f378a(0xfb)](0x2,'0'),'ParameterValue':_0x230b29[_0x4f378a(0xfd)]}),_0x31980c+=0x1;}else{if(_0x3d83d0[_0x4f378a(0x13e)](_0x3d83d0[_0x4f378a(0xc9)],_0x3d83d0['EwKQv'])){const _0x212260=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3d83d0[_0x4f378a(0xb7)],_0x3d83d0[_0x4f378a(0xeb)]),_0x3d83d0[_0x4f378a(0x114)]),_0x173f88={};_0x173f88[_0x4f378a(0xe3)]=CLOUDFORMATION_SCHEMA;const _0x278b38=yaml['load'](_0x212260,_0x173f88);_0x3d83d0[_0x4f378a(0x14f)](mergeTemplates,_0x261444,_0x278b38),_0x261444[_0x4f378a(0xf8)]['EKSCluster']['DependsOn'][_0x4f378a(0xf4)](_0x3d83d0[_0x4f378a(0x123)],_0x3d83d0[_0x4f378a(0xbc)],_0x3d83d0[_0x4f378a(0x149)]);const _0x2e4eef={};_0x2e4eef[_0x4f378a(0xa6)]=_0x3d83d0['SVfhr'];const _0x1d9e3a={};_0x1d9e3a[_0x4f378a(0xa6)]=_0x3d83d0[_0x4f378a(0xbc)];const _0x53b945={};_0x53b945[_0x4f378a(0xa6)]=_0x3d83d0[_0x4f378a(0x149)],_0x261444['Resources']['EKSCluster'][_0x4f378a(0xd9)][_0x4f378a(0x12c)][_0x4f378a(0x11a)]=[_0x2e4eef,_0x1d9e3a,_0x53b945],_0x261444[_0x4f378a(0xf9)][_0x3d83d0['csQRx']][_0x4f378a(0x10d)][0x0][_0x4f378a(0xb9)][_0x4f378a(0xf4)](_0x3d83d0[_0x4f378a(0x103)],_0x3d83d0[_0x4f378a(0x156)],_0x3d83d0[_0x4f378a(0xf1)]);const _0x4cc9f2={};_0x4cc9f2[_0x4f378a(0xa6)]=_0x3d83d0[_0x4f378a(0x123)];const _0xeabd38={};_0xeabd38[_0x4f378a(0xa6)]=_0x3d83d0[_0x4f378a(0xbc)];const _0x52d9a8={};_0x52d9a8[_0x4f378a(0xa6)]=_0x3d83d0['BUFmj'],_0x261444[_0x4f378a(0xf8)][_0x4f378a(0xfa)][_0x4f378a(0xd9)]['Subnets']=[_0x4cc9f2,_0xeabd38,_0x52d9a8];const _0x2c2920={};_0x2c2920[_0x4f378a(0xa6)]=_0x3d83d0['SVfhr'];const _0x2af2ef={};_0x2af2ef[_0x4f378a(0xa6)]=_0x3d83d0[_0x4f378a(0xbc)];const _0x3b1f50={};_0x3b1f50[_0x4f378a(0xa6)]=_0x3d83d0['BUFmj'],_0x261444[_0x4f378a(0xf8)][_0x4f378a(0x112)][_0x4f378a(0xd9)][_0x4f378a(0xca)]=[_0x2c2920,_0x2af2ef,_0x3b1f50],_0x261444[_0x4f378a(0xd6)]['SubnetIds']['Value'][_0x3d83d0['BSRCe']][0x1]=[{'Ref':_0x3d83d0[_0x4f378a(0x123)]},{'Ref':_0x3d83d0[_0x4f378a(0xbc)]},{'Ref':_0x3d83d0[_0x4f378a(0x149)]}];}else{const _0x133c3d={};_0x133c3d[_0x4f378a(0x113)]=_0x3d83d0['vqTNK'],_0x133c3d[_0x4f378a(0x151)]=_0x81ec2c,_0x28534e[_0x4f378a(0xb9)]['push'](_0x133c3d);}}},addTags=async(_0x2cbea2,_0x808c67,_0x428793)=>{const _0x5f33dd=a27_0x151a56,_0x96ee3f={'JBuQP':_0x5f33dd(0xdf),'FjbJm':_0x5f33dd(0xb0),'bzlxm':function(_0x237963,_0x526d29){return _0x237963(_0x526d29);},'YoRny':'AWS::CloudFormation::Interface','sQhWd':function(_0x2e3285,_0x1a5eab){return _0x2e3285(_0x1a5eab);},'bOeTs':function(_0x1918d7,_0x56b096){return _0x1918d7===_0x56b096;},'WVudo':_0x5f33dd(0xe8),'wmvrz':function(_0x12bc43,_0x5404d8){return _0x12bc43===_0x5404d8;},'Pkkve':_0x5f33dd(0x13d),'SMJAb':'qwaEb','xriji':function(_0x4fa7e5,_0x258ef1){return _0x4fa7e5!==_0x258ef1;},'XUEXX':_0x5f33dd(0x12f),'pFBjA':'gTNhP','pWPUQ':_0x5f33dd(0xfa),'bEucC':'NodeGroupWindows'};for(const _0x5e64b6 in _0x2cbea2[_0x5f33dd(0xf8)]){if(_0x96ee3f[_0x5f33dd(0x131)](_0x96ee3f[_0x5f33dd(0x110)],_0x96ee3f[_0x5f33dd(0x126)]))_0x1c7654[_0x1ad909][_0x32d16e]=_0x320228[_0x23d72b];else{if(_0x2cbea2[_0x5f33dd(0xf8)][_0x5e64b6][_0x5f33dd(0xd9)]&&_0x2cbea2[_0x5f33dd(0xf8)][_0x5e64b6][_0x5f33dd(0xd9)]['Tags']){if(_0x96ee3f[_0x5f33dd(0xf0)](_0x96ee3f[_0x5f33dd(0xb5)],_0x96ee3f[_0x5f33dd(0x120)]))_0x2cbea2[_0x5f33dd(0xf8)][_0x5e64b6][_0x5f33dd(0xd9)][_0x5f33dd(0x116)]['push'](..._0x428793);else{const _0x2c63a7=_0x96ee3f[_0x5f33dd(0xb2)][_0x5f33dd(0x10e)]('|');let _0x13cd2c=0x0;while(!![]){switch(_0x2c63a7[_0x13cd2c++]){case'0':_0x38d8dc[_0x5f33dd(0xd6)][_0x5f33dd(0x11a)]['Value'][_0x96ee3f[_0x5f33dd(0x10c)]][0x1][_0x5f33dd(0xf4)]({'Ref':_0x5f33dd(0xa8)+_0x96ee3f[_0x5f33dd(0xb8)](_0x1701c2,_0x3d7b4a)[_0x5f33dd(0xfb)](0x2,'0')});continue;case'1':_0x174896+=0x1;continue;case'2':_0x252c19['Resources']['NodeGroupWindows'][_0x5f33dd(0xd9)]['Subnets'][_0x5f33dd(0xf4)]({'Ref':_0x5f33dd(0xa8)+_0x96ee3f[_0x5f33dd(0xb8)](_0x4f006d,_0x1df0b4)[_0x5f33dd(0xfb)](0x2,'0')});continue;case'3':_0x22f2a8[_0x5f33dd(0xf9)][_0x96ee3f[_0x5f33dd(0xc2)]][_0x5f33dd(0x10d)][0x0][_0x5f33dd(0xb9)]['push'](_0x5f33dd(0xa8)+_0x96ee3f[_0x5f33dd(0xb8)](_0x2438d6,_0x2540fb)['padStart'](0x2,'0'));continue;case'4':_0x398f00[_0x5f33dd(0xf8)][_0x5f33dd(0x125)]['Properties']['ResourcesVpcConfig'][_0x5f33dd(0x11a)][_0x5f33dd(0xf4)]({'Ref':_0x5f33dd(0xa8)+_0x96ee3f[_0x5f33dd(0xbb)](_0x467930,_0x29a0e2)[_0x5f33dd(0xfb)](0x2,'0')});continue;case'5':_0x175ae2[_0x5f33dd(0xf8)]['NodeGroup']['Properties'][_0x5f33dd(0xca)]['push']({'Ref':_0x5f33dd(0xa8)+_0x96ee3f[_0x5f33dd(0xbb)](_0x5e7f72,_0x1381f8)[_0x5f33dd(0xfb)](0x2,'0')});continue;}break;}}}}}const _0x4b503f={};_0x428793['forEach'](_0x1ca21c=>{const _0x21a3c8=_0x5f33dd;_0x96ee3f[_0x21a3c8(0x153)](_0x96ee3f[_0x21a3c8(0xd4)],_0x96ee3f[_0x21a3c8(0xd4)])?_0x4b503f[_0x1ca21c[_0x21a3c8(0x11f)]]=_0x1ca21c['Value']:_0x43cf16[_0x194cb3['Key']]=_0x220b19['Value'];}),_0x2cbea2[_0x5f33dd(0xf8)][_0x96ee3f[_0x5f33dd(0xcb)]][_0x5f33dd(0xd9)][_0x5f33dd(0x116)]=_0x4b503f,_0x2cbea2[_0x5f33dd(0xf8)][_0x96ee3f[_0x5f33dd(0x15f)]][_0x5f33dd(0xd9)][_0x5f33dd(0x116)]=_0x4b503f;};exports[a27_0x151a56(0xed)]=async(_0x40d40f,_0x19657b,_0x2ec07b,_0x58813a=null,_0x539436=null)=>{const _0x28cbbb=a27_0x151a56,_0x4af7aa={'fWwCF':_0x28cbbb(0xfa),'UuOmy':'NodeGroupWindows','MPjKt':function(_0x7939d,_0x570ba4){return _0x7939d(_0x570ba4);},'Ebbnv':_0x28cbbb(0x11b),'bypQS':_0x28cbbb(0xdd),'Kremn':_0x28cbbb(0x122),'eLMWy':_0x28cbbb(0xe7),'MPCJk':_0x28cbbb(0xf7),'nPjCk':'utf-8','woDXA':function(_0x5cc711,_0x16cc8f,_0xb08238){return _0x5cc711(_0x16cc8f,_0xb08238);},'TDPoV':function(_0x361260,_0x16d397){return _0x361260(_0x16d397);},'RmMpM':function(_0xe7ac,_0x804ddf,_0x7ef95d){return _0xe7ac(_0x804ddf,_0x7ef95d);},'jxLTS':function(_0x61fc2c,_0x4a34e7,_0x187ef4,_0x3f9364){return _0x61fc2c(_0x4a34e7,_0x187ef4,_0x3f9364);},'HfGYk':_0x28cbbb(0x102),'WEKQo':'ClusterName','tOaiS':_0x28cbbb(0x100),'EWFqM':_0x28cbbb(0xc1),'bFqiX':_0x28cbbb(0xc7),'TOvtc':_0x28cbbb(0xfe),'gYfQQ':'NodeAutoScalingGroupMaxSize','HxUQx':'NodeImageId','sYPpp':'NodeInstanceType','MwlgI':_0x28cbbb(0x127),'sPttl':_0x28cbbb(0xd7),'XDvQH':_0x28cbbb(0x132),'HFxQK':function(_0x3c4f28,_0x2ad18a){return _0x3c4f28!=_0x2ad18a;},'crFNU':function(_0x425a50,_0x288ca1){return _0x425a50!==_0x288ca1;},'MpaKF':function(_0x575f09,_0xa26c5e){return _0x575f09===_0xa26c5e;},'tCcCS':'XdvtT','SMqMP':'VPC','qOTnU':function(_0xee0ff0,_0xc7e447){return _0xee0ff0!==_0xc7e447;},'UblAZ':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','wdgMj':_0x28cbbb(0x13a)},_0x25fe58=COMMON_HST_TAGS,_0x1a3cb7={};_0x1a3cb7['Key']=_0x4af7aa[_0x28cbbb(0xbf)],_0x1a3cb7[_0x28cbbb(0xde)]=_0x40d40f,_0x25fe58[_0x28cbbb(0xf4)](_0x1a3cb7),_0x25fe58['push']({'Key':_0x4af7aa['bypQS'],'Value':new Date()[_0x28cbbb(0x109)]()[_0x28cbbb(0xba)]()});const _0x57ec13={};_0x57ec13[_0x28cbbb(0x15c)]=_0x4af7aa[_0x28cbbb(0xf5)];const _0x17a8ca=new AWS[(_0x28cbbb(0x12e))](_0x57ec13),_0x3a687b=await fs[_0x28cbbb(0xec)](path[_0x28cbbb(0xee)](__dirname,'..',_0x4af7aa[_0x28cbbb(0x119)],_0x4af7aa['MPCJk']),_0x4af7aa[_0x28cbbb(0xe4)]),_0x3554b4={};_0x3554b4[_0x28cbbb(0xe3)]=CLOUDFORMATION_SCHEMA;const _0x5a314a=yaml[_0x28cbbb(0xc6)](_0x3a687b,_0x3554b4);await _0x4af7aa['woDXA'](addVPCData,_0x5a314a,_0x58813a),await _0x4af7aa[_0x28cbbb(0xdb)](addS3Data,_0x5a314a),await _0x4af7aa[_0x28cbbb(0xc0)](addSubnetData,_0x5a314a,_0x539436),await _0x4af7aa[_0x28cbbb(0x12b)](addTags,_0x5a314a,_0x40d40f,_0x25fe58);const _0x3b7d97=JSON[_0x28cbbb(0xb3)](_0x5a314a),_0x4ce288={};_0x4ce288[_0x28cbbb(0x142)]=CLUSTER_DEP_STACK_NAME+'-'+_0x40d40f,_0x4ce288[_0x28cbbb(0xce)]=_0x4af7aa['HfGYk'],_0x4ce288['TemplateBody']=_0x3b7d97,_0x4ce288[_0x28cbbb(0xb9)]=[{'ParameterKey':_0x4af7aa[_0x28cbbb(0xc3)],'ParameterValue':_0x40d40f},{'ParameterKey':_0x4af7aa[_0x28cbbb(0xf3)],'ParameterValue':_0x40d40f+_0x28cbbb(0x133)},{'ParameterKey':_0x4af7aa[_0x28cbbb(0xdc)],'ParameterValue':''+_0x19657b},{'ParameterKey':_0x4af7aa[_0x28cbbb(0x14b)],'ParameterValue':'0'},{'ParameterKey':_0x4af7aa[_0x28cbbb(0x152)],'ParameterValue':'1'},{'ParameterKey':_0x4af7aa[_0x28cbbb(0x130)],'ParameterValue':''+_0x2ec07b},{'ParameterKey':_0x4af7aa[_0x28cbbb(0x15b)],'ParameterValue':global_registry[_0x28cbbb(0x108)]},{'ParameterKey':_0x4af7aa[_0x28cbbb(0xe9)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x4af7aa[_0x28cbbb(0xf6)],'ParameterValue':global_registry[_0x28cbbb(0xcf)]},{'ParameterKey':_0x4af7aa[_0x28cbbb(0xac)],'ParameterValue':_0x40d40f+'-Windows-NodeGroup'}],_0x4ce288[_0x28cbbb(0xd2)]=[_0x4af7aa[_0x28cbbb(0xa7)]],_0x4ce288[_0x28cbbb(0x116)]=_0x25fe58;const _0x2d00c3=_0x4ce288;if(_0x4af7aa[_0x28cbbb(0xb4)](_0x58813a,null)&&_0x4af7aa['crFNU'](_0x58813a,undefined)){if(_0x4af7aa[_0x28cbbb(0x158)](_0x4af7aa[_0x28cbbb(0xe5)],_0x4af7aa['tCcCS'])){const _0x2e1f08={};_0x2e1f08[_0x28cbbb(0x113)]=_0x4af7aa[_0x28cbbb(0xa9)],_0x2e1f08[_0x28cbbb(0x151)]=_0x58813a,_0x2d00c3[_0x28cbbb(0xb9)][_0x28cbbb(0xf4)](_0x2e1f08);}else{for(const _0x2abb4d in _0x19aeb7[_0x28cbbb(0xf8)]){_0x71ed0e[_0x28cbbb(0xf8)][_0x2abb4d][_0x28cbbb(0xd9)]&&_0x464d46[_0x28cbbb(0xf8)][_0x2abb4d]['Properties'][_0x28cbbb(0x116)]&&_0x32a943[_0x28cbbb(0xf8)][_0x2abb4d][_0x28cbbb(0xd9)][_0x28cbbb(0x116)]['push'](..._0x443ae4);}const _0x2ff509={};_0x48a2cd[_0x28cbbb(0x11d)](_0x1edb2=>{const _0x11b55e=_0x28cbbb;_0x2ff509[_0x1edb2[_0x11b55e(0x11f)]]=_0x1edb2['Value'];}),_0x1c219d['Resources'][_0x4af7aa[_0x28cbbb(0x13c)]][_0x28cbbb(0xd9)][_0x28cbbb(0x116)]=_0x2ff509,_0x53c065['Resources'][_0x4af7aa[_0x28cbbb(0x145)]][_0x28cbbb(0xd9)][_0x28cbbb(0x116)]=_0x2ff509;}}if(_0x4af7aa[_0x28cbbb(0xb4)](_0x539436,null)&&_0x4af7aa[_0x28cbbb(0x160)](_0x539436,undefined)){let _0x562c40=0x1;_0x539436[_0x28cbbb(0x11d)](_0x2f764c=>{const _0x5cb5eb=_0x28cbbb;_0x2d00c3[_0x5cb5eb(0xb9)][_0x5cb5eb(0xf4)]({'ParameterKey':'Subnet'+_0x4af7aa['MPjKt'](String,_0x562c40)[_0x5cb5eb(0xfb)](0x2,'0'),'ParameterValue':_0x2f764c[_0x5cb5eb(0xfd)]}),_0x562c40+=0x1;});}const _0x531352=await _0x17a8ca[_0x28cbbb(0xff)](_0x2d00c3)['promise']();logger[_0x28cbbb(0x137)](_0x4af7aa['UblAZ']);const _0x4461d3={};return _0x4461d3[_0x28cbbb(0x142)]=_0x531352[_0x28cbbb(0x124)],_0x17a8ca['waitFor'](_0x4af7aa[_0x28cbbb(0x13f)],_0x4461d3)[_0x28cbbb(0x141)]();};