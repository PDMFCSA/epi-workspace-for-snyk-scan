const a27_0x15d25f=a27_0x5484;(function(_0x32afe4,_0x28954a){const _0x2f34d4=a27_0x5484,_0x2a7416=_0x32afe4();while(!![]){try{const _0x96c1a0=-parseInt(_0x2f34d4(0x1de))/0x1+-parseInt(_0x2f34d4(0x1ed))/0x2+-parseInt(_0x2f34d4(0x202))/0x3*(parseInt(_0x2f34d4(0x1c8))/0x4)+parseInt(_0x2f34d4(0x21d))/0x5+parseInt(_0x2f34d4(0x198))/0x6+parseInt(_0x2f34d4(0x193))/0x7+-parseInt(_0x2f34d4(0x1a3))/0x8*(-parseInt(_0x2f34d4(0x213))/0x9);if(_0x96c1a0===_0x28954a)break;else _0x2a7416['push'](_0x2a7416['shift']());}catch(_0x30c8a4){_0x2a7416['push'](_0x2a7416['shift']());}}}(a27_0x5a8c,0x86508));const fs=require('fs'),path=require('path'),Promise=require(a27_0x15d25f(0x1c7)),yaml=require(a27_0x15d25f(0x210)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a27_0x15d25f(0x1e3))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x15d25f(0x208)),{logger}=require(a27_0x15d25f(0x1f4)),{isBucketPresent}=require(a27_0x15d25f(0x1e3));Promise[a27_0x15d25f(0x1ce)](fs);const mergeTemplates=(_0x51c5b8,_0x273083)=>{const _0x2a73f9=a27_0x15d25f,_0x3b9f10={'fRzKh':function(_0xdf683c,_0x107bd7,_0x2b2634){return _0xdf683c(_0x107bd7,_0x2b2634);},'TIiuz':'NodeGroup','zKtWi':_0x2a73f9(0x1f2),'uPDWz':function(_0x53dd5e,_0xfb1170){return _0x53dd5e===_0xfb1170;},'MyfZg':_0x2a73f9(0x1eb),'xlLnR':function(_0x1d6d86,_0x44260a){return _0x1d6d86!==_0x44260a;},'sGclz':_0x2a73f9(0x217)};Object['keys'](_0x273083)[_0x2a73f9(0x19d)](_0x3b09f1=>{const _0xa439e6=_0x2a73f9;if(_0x3b9f10[_0xa439e6(0x1f9)](_0x3b9f10[_0xa439e6(0x1df)],_0x3b9f10[_0xa439e6(0x1df)]))_0x3b9f10[_0xa439e6(0x239)](_0x44ba56,_0x5bdcc9,_0x5c6088);else{var _0x3001cb=_0x273083[_0x3b09f1];Object[_0xa439e6(0x1be)](_0x3001cb)[_0xa439e6(0x19d)](_0x517280=>{const _0x4580f9=_0xa439e6,_0x4cfc33={};_0x4cfc33['yvyai']=_0x3b9f10[_0x4580f9(0x192)],_0x4cfc33['DODye']=_0x3b9f10[_0x4580f9(0x1f5)];const _0x803383=_0x4cfc33;if(_0x3b9f10[_0x4580f9(0x1cd)](_0x3b9f10[_0x4580f9(0x1af)],_0x3b9f10['MyfZg']))_0x51c5b8[_0x3b09f1][_0x517280]=_0x3001cb[_0x517280];else{for(const _0x1ad720 in _0x4a88c1[_0x4580f9(0x1d2)]){_0x49be97['Resources'][_0x1ad720][_0x4580f9(0x20a)]&&_0x2268de[_0x4580f9(0x1d2)][_0x1ad720][_0x4580f9(0x20a)][_0x4580f9(0x220)]&&_0x145b51[_0x4580f9(0x1d2)][_0x1ad720][_0x4580f9(0x20a)][_0x4580f9(0x220)][_0x4580f9(0x224)](..._0xb8b4d7);}const _0x441ded={};_0x549967['forEach'](_0x5153bb=>{const _0x1e230c=_0x4580f9;_0x441ded[_0x5153bb['Key']]=_0x5153bb[_0x1e230c(0x1d3)];}),_0x178e19[_0x4580f9(0x1d2)][_0x803383[_0x4580f9(0x18c)]]['Properties'][_0x4580f9(0x220)]=_0x441ded,_0x203883['Resources'][_0x803383[_0x4580f9(0x219)]][_0x4580f9(0x20a)][_0x4580f9(0x220)]=_0x441ded;}});}});},addVPCData=async(_0x2e1c83,_0x4874eb)=>{const _0x4ec2e0=a27_0x15d25f,_0x55d9ed={'tRtjP':function(_0x2e5de5,_0x1f365c){return _0x2e5de5!==_0x1f365c;},'iggou':_0x4ec2e0(0x207),'crjFl':_0x4ec2e0(0x1b3),'FlIgA':'vpc-import.yaml','vHSkM':_0x4ec2e0(0x209),'uTwqQ':function(_0x11660b,_0x2ad4f9,_0x2ef7a4){return _0x11660b(_0x2ad4f9,_0x2ef7a4);},'BhEjy':_0x4ec2e0(0x1dc),'ZsvaD':_0x4ec2e0(0x195),'kNTCf':function(_0x597f65,_0x1af654){return _0x597f65===_0x1af654;},'tnJIa':'UjKng','aNehw':'ChmiU','SXoSj':_0x4ec2e0(0x1b5),'wnhKB':function(_0x1df33f,_0x56bd5f,_0x5237ca){return _0x1df33f(_0x56bd5f,_0x5237ca);},'ehNYn':_0x4ec2e0(0x1bb)};if(_0x4874eb){if(_0x55d9ed[_0x4ec2e0(0x1d0)](_0x55d9ed[_0x4ec2e0(0x1b7)],_0x55d9ed[_0x4ec2e0(0x1b7)]))_0x136cba[_0x4ec2e0(0x1d2)][_0x24a982][_0x4ec2e0(0x20a)]&&_0x38c7b0[_0x4ec2e0(0x1d2)][_0x49b158][_0x4ec2e0(0x20a)][_0x4ec2e0(0x220)]&&_0x488a73['Resources'][_0x81181d]['Properties'][_0x4ec2e0(0x220)][_0x4ec2e0(0x224)](..._0x4fc5a8);else{const _0x3b0633=await fs['readFileAsync'](path['join'](__dirname,'..',_0x55d9ed[_0x4ec2e0(0x1db)],_0x55d9ed['FlIgA']),_0x55d9ed['vHSkM']),_0x47b722={};_0x47b722[_0x4ec2e0(0x1fa)]=CLOUDFORMATION_SCHEMA;const _0x5b38ef=yaml[_0x4ec2e0(0x1b0)](_0x3b0633,_0x47b722);_0x55d9ed[_0x4ec2e0(0x233)](mergeTemplates,_0x2e1c83,_0x5b38ef),_0x2e1c83['Metadata'][_0x55d9ed['BhEjy']]['ParameterGroups'][0x0][_0x4ec2e0(0x19c)][_0x4ec2e0(0x224)](_0x55d9ed[_0x4ec2e0(0x22a)]);}}else{if(_0x55d9ed['kNTCf'](_0x55d9ed[_0x4ec2e0(0x1c2)],_0x55d9ed[_0x4ec2e0(0x21e)]))_0x5cf865[_0x4ec2e0(0x1d2)][_0x542608]['Properties'][_0x4ec2e0(0x220)][_0x4ec2e0(0x224)](..._0x3aa17b);else{const _0x5393d5=await fs[_0x4ec2e0(0x1ec)](path[_0x4ec2e0(0x19b)](__dirname,'..',_0x55d9ed['crjFl'],_0x55d9ed[_0x4ec2e0(0x205)]),_0x55d9ed[_0x4ec2e0(0x1a6)]),_0xc0bfc3={};_0xc0bfc3[_0x4ec2e0(0x1fa)]=CLOUDFORMATION_SCHEMA;const _0x51e805=yaml[_0x4ec2e0(0x1b0)](_0x5393d5,_0xc0bfc3);_0x55d9ed['wnhKB'](mergeTemplates,_0x2e1c83,_0x51e805),_0x2e1c83[_0x4ec2e0(0x232)][_0x55d9ed[_0x4ec2e0(0x1f1)]][_0x4ec2e0(0x1fc)][0x0]['Parameters'][_0x4ec2e0(0x224)](_0x55d9ed['ehNYn']);}}},addS3Data=async _0x5b8a1f=>{const _0x5cadc9=a27_0x15d25f,_0x591004={'vZUKw':_0x5cadc9(0x1b3),'kvwRR':_0x5cadc9(0x21f),'pqLjy':_0x5cadc9(0x209),'TdJhB':function(_0x255222,_0x3b2872){return _0x255222(_0x3b2872);},'PaiXy':function(_0x44b461,_0x502c83){return _0x44b461===_0x502c83;},'WEVth':function(_0x58a589,_0x5c21d0){return _0x58a589!==_0x5c21d0;},'vXiyN':_0x5cadc9(0x200),'QHODd':function(_0x4efbb6,_0x22ee35,_0x482926){return _0x4efbb6(_0x22ee35,_0x482926);}},_0x16757a=await fs[_0x5cadc9(0x1ec)](path[_0x5cadc9(0x19b)](__dirname,'..',_0x591004['vZUKw'],_0x591004['kvwRR']),_0x591004[_0x5cadc9(0x1b1)]),_0x153248={};_0x153248[_0x5cadc9(0x1fa)]=CLOUDFORMATION_SCHEMA;const _0x30aa70=yaml[_0x5cadc9(0x1b0)](_0x16757a,_0x153248),_0x21aa14=await _0x591004['TdJhB'](isBucketPresent,global_registry[_0x5cadc9(0x235)]);_0x591004['PaiXy'](_0x21aa14,![])&&(_0x591004['WEVth'](_0x591004['vXiyN'],_0x591004[_0x5cadc9(0x1ab)])?_0x42bfc0[_0x11fded[_0x5cadc9(0x1ae)]]=_0x52572a[_0x5cadc9(0x1d3)]:_0x591004['QHODd'](mergeTemplates,_0x5b8a1f,_0x30aa70));},addSubnetData=async(_0x27a7c8,_0x1df3d9)=>{const _0xc71c41=a27_0x15d25f,_0x32d15a={'ACfdW':_0xc71c41(0x228),'sIkLx':function(_0x5d581c,_0x69d98a){return _0x5d581c(_0x69d98a);},'ypvRv':function(_0x2c05a6,_0x27327a){return _0x2c05a6(_0x27327a);},'ljyuF':'Fn::Join','BrCEL':_0xc71c41(0x1dc),'TjzyW':function(_0x2f7798,_0x26c88d){return _0x2f7798!==_0x26c88d;},'KmyjQ':_0xc71c41(0x1f8),'OfwfB':_0xc71c41(0x23c),'EQGmP':function(_0x5d8656,_0x54dd97){return _0x5d8656(_0x54dd97);},'mFbUj':function(_0x512556,_0x475902){return _0x512556(_0x475902);},'cuiUk':_0xc71c41(0x195),'UdflF':_0xc71c41(0x1a2),'KmdqR':_0xc71c41(0x1b3),'qCHRD':_0xc71c41(0x1f0),'iMony':_0xc71c41(0x209),'zFtMR':function(_0x34026a,_0x12c45d,_0xe70af4){return _0x34026a(_0x12c45d,_0xe70af4);},'xCJrG':function(_0x589be8,_0x46c719){return _0x589be8===_0x46c719;},'mdGsA':'OmwNq','erSJE':'tGULb','uCjBo':_0xc71c41(0x227),'PhCHC':_0xc71c41(0x22c),'SzzHC':'Subnet02','AIzRX':_0xc71c41(0x1e2),'Ojjto':_0xc71c41(0x1cf),'eHNQG':_0xc71c41(0x19e),'BhKYn':_0xc71c41(0x215)};if(_0x1df3d9){if(_0x32d15a[_0xc71c41(0x1d9)](_0x32d15a[_0xc71c41(0x226)],_0x32d15a[_0xc71c41(0x226)])){const _0x3e943e=_0x32d15a[_0xc71c41(0x1ff)][_0xc71c41(0x230)]('|');let _0x1705f6=0x0;while(!![]){switch(_0x3e943e[_0x1705f6++]){case'0':_0x101f8e[_0xc71c41(0x1d2)][_0xc71c41(0x229)][_0xc71c41(0x20a)][_0xc71c41(0x1d6)][_0xc71c41(0x224)]({'Ref':'Subnet'+_0x32d15a[_0xc71c41(0x218)](_0x3f36c1,_0x14f755)[_0xc71c41(0x21a)](0x2,'0')});continue;case'1':_0x42b014[_0xc71c41(0x1d2)][_0xc71c41(0x19f)][_0xc71c41(0x20a)][_0xc71c41(0x194)][_0xc71c41(0x22b)][_0xc71c41(0x224)]({'Ref':_0xc71c41(0x1f6)+_0x32d15a[_0xc71c41(0x236)](_0x5b6d0f,_0x4a5091)[_0xc71c41(0x21a)](0x2,'0')});continue;case'2':_0x3aff5b[_0xc71c41(0x206)][_0xc71c41(0x22b)][_0xc71c41(0x1d3)][_0x32d15a[_0xc71c41(0x23a)]][0x1][_0xc71c41(0x224)]({'Ref':'Subnet'+_0x32d15a[_0xc71c41(0x236)](_0x46b7b3,_0x430353)['padStart'](0x2,'0')});continue;case'3':_0x49f230+=0x1;continue;case'4':_0x597984[_0xc71c41(0x1d2)][_0xc71c41(0x1f2)]['Properties'][_0xc71c41(0x1d6)][_0xc71c41(0x224)]({'Ref':_0xc71c41(0x1f6)+_0x32d15a[_0xc71c41(0x218)](_0x57d613,_0x34577d)[_0xc71c41(0x21a)](0x2,'0')});continue;case'5':_0x2a8231['Metadata'][_0x32d15a['BrCEL']][_0xc71c41(0x1fc)][0x0][_0xc71c41(0x19c)][_0xc71c41(0x224)](_0xc71c41(0x1f6)+_0x32d15a[_0xc71c41(0x218)](_0x386317,_0x35015e)[_0xc71c41(0x21a)](0x2,'0'));continue;}break;}}else{const _0x328943=await fs[_0xc71c41(0x1ec)](path[_0xc71c41(0x19b)](__dirname,'..',_0x32d15a[_0xc71c41(0x1cb)],_0x32d15a[_0xc71c41(0x1a8)]),_0x32d15a[_0xc71c41(0x216)]),_0x5a26c5={};_0x5a26c5['schema']=CLOUDFORMATION_SCHEMA;const _0x8274b5=yaml[_0xc71c41(0x1b0)](_0x328943,_0x5a26c5);_0x32d15a[_0xc71c41(0x1b2)](mergeTemplates,_0x27a7c8,_0x8274b5);let _0x4cd996=0x1;_0x1df3d9['forEach'](_0x54153a=>{const _0x17f9ee=_0xc71c41;if(_0x32d15a['TjzyW'](_0x32d15a[_0x17f9ee(0x203)],_0x32d15a[_0x17f9ee(0x203)]))_0x4872cc[_0x17f9ee(0x19c)][_0x17f9ee(0x224)]({'ParameterKey':_0x17f9ee(0x1f6)+_0x32d15a[_0x17f9ee(0x236)](_0x4b7971,_0x3a1741)[_0x17f9ee(0x21a)](0x2,'0'),'ParameterValue':_0x5dc6c1['value']}),_0x59050a+=0x1;else{const _0xf4f984=_0x32d15a[_0x17f9ee(0x18d)][_0x17f9ee(0x230)]('|');let _0x1b125e=0x0;while(!![]){switch(_0xf4f984[_0x1b125e++]){case'0':_0x27a7c8['Resources'][_0x17f9ee(0x19f)][_0x17f9ee(0x20a)][_0x17f9ee(0x194)][_0x17f9ee(0x22b)][_0x17f9ee(0x224)]({'Ref':_0x17f9ee(0x1f6)+_0x32d15a[_0x17f9ee(0x218)](String,_0x4cd996)[_0x17f9ee(0x21a)](0x2,'0')});continue;case'1':_0x27a7c8[_0x17f9ee(0x1d2)][_0x17f9ee(0x229)][_0x17f9ee(0x20a)][_0x17f9ee(0x1d6)][_0x17f9ee(0x224)]({'Ref':_0x17f9ee(0x1f6)+_0x32d15a[_0x17f9ee(0x236)](String,_0x4cd996)[_0x17f9ee(0x21a)](0x2,'0')});continue;case'2':_0x27a7c8[_0x17f9ee(0x206)][_0x17f9ee(0x22b)]['Value'][_0x32d15a[_0x17f9ee(0x23a)]][0x1][_0x17f9ee(0x224)]({'Ref':_0x17f9ee(0x1f6)+_0x32d15a[_0x17f9ee(0x218)](String,_0x4cd996)[_0x17f9ee(0x21a)](0x2,'0')});continue;case'3':_0x27a7c8[_0x17f9ee(0x232)][_0x32d15a[_0x17f9ee(0x1a7)]][_0x17f9ee(0x1fc)][0x0]['Parameters'][_0x17f9ee(0x224)](_0x17f9ee(0x1f6)+_0x32d15a[_0x17f9ee(0x1fd)](String,_0x4cd996)[_0x17f9ee(0x21a)](0x2,'0'));continue;case'4':_0x4cd996+=0x1;continue;case'5':_0x27a7c8[_0x17f9ee(0x1d2)][_0x17f9ee(0x1f2)][_0x17f9ee(0x20a)]['Subnets']['push']({'Ref':'Subnet'+_0x32d15a['mFbUj'](String,_0x4cd996)[_0x17f9ee(0x21a)](0x2,'0')});continue;}break;}}});}}else{if(_0x32d15a[_0xc71c41(0x1bc)](_0x32d15a[_0xc71c41(0x1c3)],_0x32d15a[_0xc71c41(0x237)])){const _0x3d8486={};_0x3d8486[_0xc71c41(0x18b)]=_0x32d15a[_0xc71c41(0x18a)],_0x3d8486[_0xc71c41(0x1bd)]=_0x165b18,_0x12bf7f[_0xc71c41(0x19c)][_0xc71c41(0x224)](_0x3d8486);}else{const _0x4375c5=await fs['readFileAsync'](path[_0xc71c41(0x19b)](__dirname,'..',_0x32d15a[_0xc71c41(0x1cb)],_0x32d15a[_0xc71c41(0x1fb)]),_0x32d15a[_0xc71c41(0x216)]),_0x42ac53={};_0x42ac53[_0xc71c41(0x1fa)]=CLOUDFORMATION_SCHEMA;const _0x1a1a82=yaml[_0xc71c41(0x1b0)](_0x4375c5,_0x42ac53);_0x32d15a[_0xc71c41(0x1b2)](mergeTemplates,_0x27a7c8,_0x1a1a82),_0x27a7c8[_0xc71c41(0x1d2)][_0xc71c41(0x19f)][_0xc71c41(0x1da)][_0xc71c41(0x224)](_0x32d15a['PhCHC'],_0x32d15a['SzzHC'],_0x32d15a[_0xc71c41(0x204)]);const _0xa275b1={};_0xa275b1[_0xc71c41(0x196)]=_0x32d15a['PhCHC'];const _0x3b0232={};_0x3b0232['Ref']=_0x32d15a[_0xc71c41(0x1d4)];const _0x32241a={};_0x32241a['Ref']=_0x32d15a['AIzRX'],_0x27a7c8[_0xc71c41(0x1d2)][_0xc71c41(0x19f)][_0xc71c41(0x20a)][_0xc71c41(0x194)][_0xc71c41(0x22b)]=[_0xa275b1,_0x3b0232,_0x32241a],_0x27a7c8[_0xc71c41(0x232)][_0x32d15a[_0xc71c41(0x1a7)]][_0xc71c41(0x1fc)][0x0]['Parameters'][_0xc71c41(0x224)](_0x32d15a[_0xc71c41(0x22f)],_0x32d15a['eHNQG'],_0x32d15a[_0xc71c41(0x1d5)]);const _0x1ef794={};_0x1ef794[_0xc71c41(0x196)]=_0x32d15a[_0xc71c41(0x191)];const _0x3df447={};_0x3df447[_0xc71c41(0x196)]=_0x32d15a['SzzHC'];const _0x116e90={};_0x116e90[_0xc71c41(0x196)]=_0x32d15a[_0xc71c41(0x204)],_0x27a7c8['Resources'][_0xc71c41(0x229)][_0xc71c41(0x20a)]['Subnets']=[_0x1ef794,_0x3df447,_0x116e90];const _0x6225ab={};_0x6225ab[_0xc71c41(0x196)]=_0x32d15a['PhCHC'];const _0x13909e={};_0x13909e[_0xc71c41(0x196)]=_0x32d15a[_0xc71c41(0x1d4)];const _0x375847={};_0x375847[_0xc71c41(0x196)]=_0x32d15a[_0xc71c41(0x204)],_0x27a7c8[_0xc71c41(0x1d2)][_0xc71c41(0x1f2)][_0xc71c41(0x20a)][_0xc71c41(0x1d6)]=[_0x6225ab,_0x13909e,_0x375847],_0x27a7c8[_0xc71c41(0x206)][_0xc71c41(0x22b)]['Value'][_0x32d15a[_0xc71c41(0x23a)]][0x1]=[{'Ref':_0x32d15a[_0xc71c41(0x191)]},{'Ref':_0x32d15a[_0xc71c41(0x1d4)]},{'Ref':_0x32d15a[_0xc71c41(0x204)]}];}}},addTags=async(_0x542692,_0x21cbd6,_0x9f0bac)=>{const _0x8f403a=a27_0x15d25f,_0x27d9e0={'xlhlt':function(_0x458f79,_0x1bc539){return _0x458f79(_0x1bc539);},'YIheR':function(_0x40f7b0,_0x5b09dd){return _0x40f7b0!==_0x5b09dd;},'eAYvQ':_0x8f403a(0x1ee),'zUboK':'MWSAx','ExFkR':function(_0x5a05e1,_0x36ac28){return _0x5a05e1===_0x36ac28;},'ZRohY':_0x8f403a(0x1e7),'ZEoeL':_0x8f403a(0x1a0),'gshjt':_0x8f403a(0x229),'rqJlG':_0x8f403a(0x1f2)};for(const _0x5d65f9 in _0x542692[_0x8f403a(0x1d2)]){if(_0x27d9e0[_0x8f403a(0x1e5)](_0x27d9e0[_0x8f403a(0x21c)],_0x27d9e0[_0x8f403a(0x21c)])){if(_0x542692[_0x8f403a(0x1d2)][_0x5d65f9][_0x8f403a(0x20a)]&&_0x542692[_0x8f403a(0x1d2)][_0x5d65f9]['Properties']['Tags']){if(_0x27d9e0[_0x8f403a(0x1d7)](_0x27d9e0[_0x8f403a(0x1ac)],_0x27d9e0[_0x8f403a(0x1ac)])){var _0x12dc6a=_0x11e5a6[_0x49a91a];_0x3116dd[_0x8f403a(0x1be)](_0x12dc6a)['forEach'](_0x306a8a=>{_0x2cc1c3[_0x4b718b][_0x306a8a]=_0x12dc6a[_0x306a8a];});}else _0x542692[_0x8f403a(0x1d2)][_0x5d65f9]['Properties'][_0x8f403a(0x220)][_0x8f403a(0x224)](..._0x9f0bac);}}else{let _0x19d116=0x1;_0x403261[_0x8f403a(0x19d)](_0x2b9e91=>{const _0x52c9a8=_0x8f403a;_0x4c2655[_0x52c9a8(0x19c)][_0x52c9a8(0x224)]({'ParameterKey':_0x52c9a8(0x1f6)+_0x27d9e0[_0x52c9a8(0x1ef)](_0x2fd30a,_0x19d116)[_0x52c9a8(0x21a)](0x2,'0'),'ParameterValue':_0x2b9e91['value']}),_0x19d116+=0x1;});}}const _0x163997={};_0x9f0bac['forEach'](_0x19187a=>{const _0x27cb4b=_0x8f403a;_0x27d9e0[_0x27cb4b(0x1d7)](_0x27d9e0[_0x27cb4b(0x1d1)],_0x27d9e0[_0x27cb4b(0x225)])?_0x163997[_0x19187a['Key']]=_0x19187a['Value']:_0x55ef29[_0x664431][_0x401c1b]=_0x31615e[_0x3282bc];}),_0x542692['Resources'][_0x27d9e0['gshjt']]['Properties'][_0x8f403a(0x220)]=_0x163997,_0x542692[_0x8f403a(0x1d2)][_0x27d9e0['rqJlG']][_0x8f403a(0x20a)]['Tags']=_0x163997;};function a27_0x5a8c(){const _0xb757aa=['Key','MyfZg','load','pqLjy','zFtMR','CFTemplates','TOvoL','vpc-create.yaml','StackName','iggou','OnFailure','xUOIg','TemplateBody','VpcBlock','xCJrG','ParameterValue','keys','NodeGroupNameWindows','createClusterStack','aws-eks-cluster-dep.yaml','tnJIa','mdGsA','CAPABILITY_NAMED_IAM','value','uHLuv','bluebird','12uyWWwV','xyfxM','CloudFormation','KmdqR','promise','uPDWz','promisifyAll','Subnet01Block','tRtjP','eAYvQ','Resources','Value','SzzHC','BhKYn','Subnets','YIheR','UbQci','TjzyW','DependsOn','crjFl','AWS::CloudFormation::Interface','NodeInstanceType','899223KQNYol','sGclz','oEXLb','Cwvpv','Subnet03','./AWSUtils','debug','ExFkR','ami','JEdTD','UDldB','dmsqG','S3BucketName','Ifpge','readFileAsync','712008riLnxF','cnLfP','xlhlt','subnet-import.yaml','BhEjy','NodeGroupWindows','ZyfFx','../config/logger','zKtWi','Subnet','NodeAutoScalingGroupMinSizeWindows','XZSVk','xlLnR','schema','uCjBo','ParameterGroups','EQGmP','zping','ACfdW','SCoPq','orllm','683115JydIkB','KmyjQ','AIzRX','SXoSj','Outputs','ddAbm','../config/constants','utf-8','Properties','FtoPX','xkxkG','stackCreateComplete','-Windows-NodeGroup','browserstack:creationDate','js-yaml','yMxul','apiVersion','1629Ezkwhu','MDZMH','Subnet03Block','iMony','qlnhT','sIkLx','DODye','padStart','instanceType','ZRohY','123405vetDBb','aNehw','s3-create.yaml','Tags','NodeAutoScalingGroupDesiredSizeWindows','cwpqJ','NodeImageId','push','zUboK','UdflF','subnet-create.yaml','1|5|0|4|2|3','NodeGroup','ZsvaD','SubnetIds','Subnet01','sFkVq','2010-05-15','Ojjto','split','NodeAutoScalingGroupMaxSize','Metadata','uTwqQ','SVICL','s3Bucket','ypvRv','erSJE','yuoSf','fRzKh','ljyuF','toString','0|3|1|5|2|4','NodeGroupName','cuiUk','ParameterKey','yvyai','OfwfB','stringify','MleFp','UCLTP','PhCHC','TIiuz','4059769dkcPCZ','ResourcesVpcConfig','VPC','Ref','Capabilities','3551208LlSEHD','LekqO','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','join','Parameters','forEach','Subnet02Block','EKSCluster','wfCWI','DELETE','IAOCR','57104vkCPWg','browserstack:cluster','NodeAutoScalingGroupMinSize','vHSkM','BrCEL','qCHRD','YNvoV','CxyYa','vXiyN','ZEoeL','-NodeGroup'];a27_0x5a8c=function(){return _0xb757aa;};return a27_0x5a8c();}function a27_0x5484(_0x53358d,_0x4e8f61){const _0x5a8c25=a27_0x5a8c();return a27_0x5484=function(_0x54840c,_0x20e028){_0x54840c=_0x54840c-0x189;let _0x3161b7=_0x5a8c25[_0x54840c];return _0x3161b7;},a27_0x5484(_0x53358d,_0x4e8f61);}exports[a27_0x15d25f(0x1c0)]=async(_0x4fd2fd,_0x2c65b0,_0x3cc0ec,_0x169747=null,_0xdd0b13=null)=>{const _0x521554=a27_0x15d25f,_0x2e711a={'FtoPX':function(_0x2e051d,_0x24c3a9){return _0x2e051d(_0x24c3a9);},'ZyfFx':_0x521554(0x1a4),'yuoSf':_0x521554(0x20f),'mpPrr':_0x521554(0x22e),'sFkVq':'CFTemplates','xChkO':_0x521554(0x1c1),'LekqO':_0x521554(0x209),'cwpqJ':function(_0x4c0086,_0x4bbdbd,_0x3dc38f){return _0x4c0086(_0x4bbdbd,_0x3dc38f);},'zping':function(_0x5d4ff3,_0x3dc605,_0x364866){return _0x5d4ff3(_0x3dc605,_0x364866);},'TOvoL':function(_0x13eadc,_0x20f566,_0x3feef9,_0x212291){return _0x13eadc(_0x20f566,_0x3feef9,_0x212291);},'GUiHM':_0x521554(0x1a1),'ZjgVm':'ClusterName','MDZMH':_0x521554(0x189),'yMxul':_0x521554(0x1a5),'WJxkT':_0x521554(0x1f7),'CxyYa':_0x521554(0x221),'xkxkG':_0x521554(0x231),'TTaSJ':_0x521554(0x223),'UCLTP':_0x521554(0x1dd),'aiNMO':_0x521554(0x1ea),'YNvoV':_0x521554(0x1bf),'xUOIg':_0x521554(0x1c4),'uHLuv':function(_0x384bc5,_0x13f816){return _0x384bc5!=_0x13f816;},'orllm':function(_0x3f97b8,_0x2827e4){return _0x3f97b8!==_0x2827e4;},'xyfxM':function(_0x1a2ef1,_0x586ca9){return _0x1a2ef1===_0x586ca9;},'UbQci':_0x521554(0x234),'UDldB':'dIknO','oEXLb':_0x521554(0x195),'MleFp':function(_0x2b5df8,_0x158df7){return _0x2b5df8!=_0x158df7;},'Cwvpv':_0x521554(0x19a),'dmsqG':_0x521554(0x20d)},_0x23eef6=COMMON_HST_TAGS,_0x4fc011={};_0x4fc011[_0x521554(0x1ae)]=_0x2e711a[_0x521554(0x1f3)],_0x4fc011[_0x521554(0x1d3)]=_0x4fd2fd,_0x23eef6[_0x521554(0x224)](_0x4fc011),_0x23eef6['push']({'Key':_0x2e711a[_0x521554(0x238)],'Value':new Date()['valueOf']()[_0x521554(0x23b)]()});const _0x1cf3a4={};_0x1cf3a4[_0x521554(0x212)]=_0x2e711a['mpPrr'];const _0x5e4c0c=new AWS[(_0x521554(0x1ca))](_0x1cf3a4),_0x9ab8bf=await fs['readFileAsync'](path[_0x521554(0x19b)](__dirname,'..',_0x2e711a[_0x521554(0x22d)],_0x2e711a['xChkO']),_0x2e711a[_0x521554(0x199)]),_0x10c395={};_0x10c395['schema']=CLOUDFORMATION_SCHEMA;const _0xb04083=yaml['load'](_0x9ab8bf,_0x10c395);await _0x2e711a[_0x521554(0x222)](addVPCData,_0xb04083,_0x169747),await _0x2e711a['FtoPX'](addS3Data,_0xb04083),await _0x2e711a[_0x521554(0x1fe)](addSubnetData,_0xb04083,_0xdd0b13),await _0x2e711a[_0x521554(0x1b4)](addTags,_0xb04083,_0x4fd2fd,_0x23eef6);const _0x1aac5b=JSON[_0x521554(0x18e)](_0xb04083),_0x460137={};_0x460137[_0x521554(0x1b6)]=CLUSTER_DEP_STACK_NAME+'-'+_0x4fd2fd,_0x460137[_0x521554(0x1b8)]=_0x2e711a['GUiHM'],_0x460137[_0x521554(0x1ba)]=_0x1aac5b,_0x460137['Parameters']=[{'ParameterKey':_0x2e711a['ZjgVm'],'ParameterValue':_0x4fd2fd},{'ParameterKey':_0x2e711a[_0x521554(0x214)],'ParameterValue':_0x4fd2fd+_0x521554(0x1ad)},{'ParameterKey':_0x2e711a[_0x521554(0x211)],'ParameterValue':''+_0x2c65b0},{'ParameterKey':_0x2e711a['WJxkT'],'ParameterValue':'0'},{'ParameterKey':_0x2e711a[_0x521554(0x1aa)],'ParameterValue':'1'},{'ParameterKey':_0x2e711a[_0x521554(0x20c)],'ParameterValue':''+_0x3cc0ec},{'ParameterKey':_0x2e711a['TTaSJ'],'ParameterValue':global_registry[_0x521554(0x1e6)]},{'ParameterKey':_0x2e711a[_0x521554(0x190)],'ParameterValue':global_registry[_0x521554(0x21b)]},{'ParameterKey':_0x2e711a['aiNMO'],'ParameterValue':global_registry[_0x521554(0x235)]},{'ParameterKey':_0x2e711a[_0x521554(0x1a9)],'ParameterValue':_0x4fd2fd+_0x521554(0x20e)}],_0x460137[_0x521554(0x197)]=[_0x2e711a[_0x521554(0x1b9)]],_0x460137[_0x521554(0x220)]=_0x23eef6;const _0x3e9161=_0x460137;if(_0x2e711a[_0x521554(0x1c6)](_0x169747,null)&&_0x2e711a[_0x521554(0x201)](_0x169747,undefined)){if(_0x2e711a[_0x521554(0x1c9)](_0x2e711a[_0x521554(0x1d8)],_0x2e711a[_0x521554(0x1e8)]))_0x2d7c5a[_0x521554(0x1be)](_0x228098)[_0x521554(0x19d)](_0x9f5eac=>{var _0x1a7192=_0x194c69[_0x9f5eac];_0x4f7bd9['keys'](_0x1a7192)['forEach'](_0x20c4cb=>{_0x37c9b7[_0x9f5eac][_0x20c4cb]=_0x1a7192[_0x20c4cb];});});else{const _0x17b1e0={};_0x17b1e0[_0x521554(0x18b)]=_0x2e711a[_0x521554(0x1e0)],_0x17b1e0[_0x521554(0x1bd)]=_0x169747,_0x3e9161[_0x521554(0x19c)][_0x521554(0x224)](_0x17b1e0);}}if(_0x2e711a[_0x521554(0x18f)](_0xdd0b13,null)&&_0x2e711a['orllm'](_0xdd0b13,undefined)){let _0x4b9c6e=0x1;_0xdd0b13[_0x521554(0x19d)](_0x3ad2be=>{const _0x573aab=_0x521554;_0x3e9161[_0x573aab(0x19c)][_0x573aab(0x224)]({'ParameterKey':_0x573aab(0x1f6)+_0x2e711a[_0x573aab(0x20b)](String,_0x4b9c6e)[_0x573aab(0x21a)](0x2,'0'),'ParameterValue':_0x3ad2be[_0x573aab(0x1c5)]}),_0x4b9c6e+=0x1;});}const _0x149a42=await _0x5e4c0c['createStack'](_0x3e9161)[_0x521554(0x1cc)]();logger[_0x521554(0x1e4)](_0x2e711a[_0x521554(0x1e1)]);const _0x492ccf={};return _0x492ccf[_0x521554(0x1b6)]=_0x149a42['StackId'],_0x5e4c0c['waitFor'](_0x2e711a[_0x521554(0x1e9)],_0x492ccf)[_0x521554(0x1cc)]();};