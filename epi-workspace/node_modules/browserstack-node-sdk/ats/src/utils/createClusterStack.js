const a27_0x4bc360=a27_0x2e8e;(function(_0x3c4cf8,_0x2aaef1){const _0x420866=a27_0x2e8e,_0x5e2612=_0x3c4cf8();while(!![]){try{const _0x16fba1=-parseInt(_0x420866(0x217))/0x1*(-parseInt(_0x420866(0x1af))/0x2)+parseInt(_0x420866(0x184))/0x3*(parseInt(_0x420866(0x1a0))/0x4)+parseInt(_0x420866(0x1fd))/0x5*(parseInt(_0x420866(0x1a9))/0x6)+-parseInt(_0x420866(0x1eb))/0x7+-parseInt(_0x420866(0x1d7))/0x8+-parseInt(_0x420866(0x19d))/0x9*(parseInt(_0x420866(0x20d))/0xa)+-parseInt(_0x420866(0x1a6))/0xb*(-parseInt(_0x420866(0x1be))/0xc);if(_0x16fba1===_0x2aaef1)break;else _0x5e2612['push'](_0x5e2612['shift']());}catch(_0x3624ff){_0x5e2612['push'](_0x5e2612['shift']());}}}(a27_0x2d08,0xded06));function a27_0x2e8e(_0x17b23a,_0x3587aa){const _0x2d08b5=a27_0x2d08();return a27_0x2e8e=function(_0x2e8e20,_0x4df07e){_0x2e8e20=_0x2e8e20-0x176;let _0x39599d=_0x2d08b5[_0x2e8e20];return _0x39599d;},a27_0x2e8e(_0x17b23a,_0x3587aa);}const fs=require('fs'),path=require(a27_0x4bc360(0x198)),Promise=require(a27_0x4bc360(0x1ba)),yaml=require(a27_0x4bc360(0x1f4)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4bc360(0x1b8)),AWS=require(a27_0x4bc360(0x1fa))[a27_0x4bc360(0x21d)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x4bc360(0x1f2)),{logger}=require(a27_0x4bc360(0x1d1)),{isBucketPresent}=require('./AWSUtils');Promise['promisifyAll'](fs);function a27_0x2d08(){const _0x550ca3=['KMJml','load','QuznW','QbSrx','false','ParameterGroups','AWS::CloudFormation::Interface','qglyj','S3BucketName','UJEzi','RtOUS','QEatj','Subnet03','11980283sMwnIK','browserstack:cluster','lChmp','utf-8','split','zmOXJ','Subnet02Block','../config/constants','SRPxB','js-yaml','caieW','2010-05-15','-Windows-NodeGroup','uJWyY','NodeGroupNameWindows','./AWSUtils','EJaMV','hVhHU','1325RjTdrM','Subnet','push','FAvwN','DependsOn','xuqwi','toStg','MszKL','gVjTE','Properties','pCUSp','WNXUe','nYAXK','OnFailure','Subnet01Block','MwdUr','70UXlQcG','dPPgl','EQMoZ','Pkcca','oSIkp','NpBNd','kyqky','VpcBlock','Subnet02','NodeAutoScalingGroupDesiredSizeWindows','76499DCoKLz','ClusterAutoUpgrade','opPCI','kWmxI','StackName','NodeImageId','awsObj','xxowq','vWQAe','createStack','oqujb','oyGTJ','bVcJJ','kuJsH','vbUpY','UqVOG','FHIeh','ZfZrW','mMGMF','YXgJW','cgihb','Subnets','Ruqtv','ParameterValue','Tags','ami','apiVersion','NodeGroup','HxLfd','hebJE','MVUNf','readFileAsync','qggSe','hQpxE','yWvia','YYTXt','s3Bucket','zSPbD','2|4|3|0|1|5','UCQHB','AHehH','JewSJ','fDGMf','tDdlr','boTDm','NtIpS','sBKqS','bQRfj','DpweC','grXNa','forEach','ddgoD','EsvHc','CAPABILITY_NAMED_IAM','5293380LjsTiJ','nWkfq','Capabilities','Outputs','subnet-import.yaml','QPXjU','tgGAO','QJKDc','NodeGroupName','4|1|0|3|2|5','vpc-create.yaml','UWAOk','SQCit','jfdNd','toString','KcHTC','join','ClusterName','stackCreateComplete','CFTemplates','path','TuRTR','sOFty','RjJQi','SubnetIds','501867XLIXjP','vbffv','ewAUG','4wvuSEF','Hlvcw','yYIAq','browserstack:creationDate','EKSCluster','subnet-create.yaml','2024TOJviU','gqSif','kObkN','9642igIfYr','stringify','xQJNH','Fn::Join','BAVEs','Resources','34UWNUbN','debug','instanceType','waitFor','NodeInstanceType','padStart','uupnL','xqjbM','keys','js-yaml-cloudformation-schema','Key','bluebird','HeguZ','ResourcesVpcConfig','IZWCq','48144tcbpGN','Value','wTgfa','PkQzR','StackId','VPC','Parameters','NodeGroupWindows','VFtjC','DwtzC','Metadata','NodeAutoScalingGroupMinSizeWindows','oZOhi','pLMdf','HsLoy','NvSnk','promise','KoLnZ','HytNA','../config/logger','Ref','Fxaib','ParameterKey','gOayH','value','9716400LSbaih','Subnet01','true','schema','dBpPw','NAXET','CloudFormation'];a27_0x2d08=function(){return _0x550ca3;};return a27_0x2d08();}const mergeTemplates=(_0x6eeb4d,_0x4edc98)=>{const _0xdae988=a27_0x4bc360,_0x33f1c5={'CsehC':_0xdae988(0x23d),'MVUNf':function(_0x2b7b09,_0x5eb6f8){return _0x2b7b09(_0x5eb6f8);},'RtOUS':'Fn::Join','xqjbM':function(_0x3f8195,_0xc0d3f0){return _0x3f8195(_0xc0d3f0);},'MwdUr':_0xdae988(0x1e4),'xuqwi':function(_0x26fa01,_0x3247d4){return _0x26fa01!==_0x3247d4;},'xxowq':_0xdae988(0x185),'JewSJ':function(_0x2bf81b,_0xe49747){return _0x2bf81b===_0xe49747;},'PTrbl':_0xdae988(0x1e1)};Object[_0xdae988(0x1b7)](_0x4edc98)[_0xdae988(0x180)](_0x377fd7=>{const _0x2c8320=_0xdae988;if(_0x33f1c5[_0x2c8320(0x177)](_0x33f1c5['PTrbl'],_0x33f1c5['PTrbl'])){var _0x9ef689=_0x4edc98[_0x377fd7];Object['keys'](_0x9ef689)[_0x2c8320(0x180)](_0x15b24a=>{const _0x220f50=_0x2c8320,_0x42c536={'Pkcca':_0x33f1c5['CsehC'],'SQCit':function(_0x11fd86,_0x157115){const _0x15f082=a27_0x2e8e;return _0x33f1c5[_0x15f082(0x235)](_0x11fd86,_0x157115);},'AARiB':_0x33f1c5[_0x220f50(0x1e8)],'PkQzR':function(_0x538a38,_0x2af489){const _0x125fbb=_0x220f50;return _0x33f1c5[_0x125fbb(0x1b6)](_0x538a38,_0x2af489);},'kObkN':function(_0x12bc78,_0x59a38c){const _0x49e204=_0x220f50;return _0x33f1c5[_0x49e204(0x235)](_0x12bc78,_0x59a38c);},'tDYFi':_0x33f1c5[_0x220f50(0x20c)]};if(_0x33f1c5[_0x220f50(0x202)](_0x33f1c5[_0x220f50(0x21e)],_0x33f1c5[_0x220f50(0x21e)])){const _0x57ac28=_0x42c536[_0x220f50(0x210)][_0x220f50(0x1ef)]('|');let _0x51d7e3=0x0;while(!![]){switch(_0x57ac28[_0x51d7e3++]){case'0':_0x5ec53e['Resources'][_0x220f50(0x1c5)][_0x220f50(0x206)]['Subnets']['push']({'Ref':_0x220f50(0x1fe)+_0x42c536[_0x220f50(0x190)](_0x51e633,_0x4b0b60)[_0x220f50(0x1b4)](0x2,'0')});continue;case'1':_0x4fcb34[_0x220f50(0x187)][_0x220f50(0x19c)][_0x220f50(0x1bf)][_0x42c536['AARiB']][0x1][_0x220f50(0x1ff)]({'Ref':_0x220f50(0x1fe)+_0x42c536[_0x220f50(0x190)](_0x5ab387,_0x41f2f5)[_0x220f50(0x1b4)](0x2,'0')});continue;case'2':_0x33fb11[_0x220f50(0x1ae)][_0x220f50(0x1a4)]['Properties']['ResourcesVpcConfig'][_0x220f50(0x19c)][_0x220f50(0x1ff)]({'Ref':_0x220f50(0x1fe)+_0x42c536[_0x220f50(0x1c1)](_0x3b8c1e,_0x58c617)['padStart'](0x2,'0')});continue;case'3':_0x2d5313[_0x220f50(0x1ae)][_0x220f50(0x232)]['Properties'][_0x220f50(0x22c)][_0x220f50(0x1ff)]({'Ref':_0x220f50(0x1fe)+_0x42c536[_0x220f50(0x1a8)](_0x41a20b,_0x5ed56c)[_0x220f50(0x1b4)](0x2,'0')});continue;case'4':_0x8b8cb[_0x220f50(0x1c8)][_0x42c536['tDYFi']][_0x220f50(0x1e3)][0x0]['Parameters'][_0x220f50(0x1ff)]('Subnet'+_0x42c536[_0x220f50(0x1a8)](_0x30f1e2,_0x5c4428)[_0x220f50(0x1b4)](0x2,'0'));continue;case'5':_0x1cb4cf+=0x1;continue;}break;}}else _0x6eeb4d[_0x377fd7][_0x15b24a]=_0x9ef689[_0x15b24a];});}else{var _0x46a368=_0x4a9f3c[_0x37c249];_0x214ded['keys'](_0x46a368)['forEach'](_0x3002cf=>{_0xc18b12[_0x2568d1][_0x3002cf]=_0x46a368[_0x3002cf];});}});},addVPCData=async(_0xced6ed,_0x1f05ba)=>{const _0x2818ac=a27_0x4bc360,_0x4431a8={'QPXjU':function(_0x5d4d4f,_0x4c7b4a,_0x259455){return _0x5d4d4f(_0x4c7b4a,_0x259455);},'pLMdf':function(_0x1d304d,_0x371ed5){return _0x1d304d===_0x371ed5;},'rptUM':_0x2818ac(0x1db),'mMGMF':'CFTemplates','lChmp':'vpc-import.yaml','UqVOG':_0x2818ac(0x1ee),'vbffv':function(_0x24de22,_0x5d6f09,_0x20895f){return _0x24de22(_0x5d6f09,_0x20895f);},'boTDm':_0x2818ac(0x1e4),'AMHHB':_0x2818ac(0x1c3),'zqzmg':function(_0x4a23bc,_0x19c8d4){return _0x4a23bc!==_0x19c8d4;},'WNXUe':_0x2818ac(0x1e0),'hVhHU':'jBbWg','oqujb':_0x2818ac(0x18e),'bQRfj':function(_0x453ef6,_0x5e8f5d,_0xedeb2f){return _0x453ef6(_0x5e8f5d,_0xedeb2f);},'BAVEs':_0x2818ac(0x214)};if(_0x1f05ba){if(_0x4431a8[_0x2818ac(0x1cb)](_0x4431a8['rptUM'],_0x4431a8['rptUM'])){const _0x158de4=await fs[_0x2818ac(0x236)](path['join'](__dirname,'..',_0x4431a8[_0x2818ac(0x229)],_0x4431a8[_0x2818ac(0x1ed)]),_0x4431a8[_0x2818ac(0x226)]),_0x3ca461={};_0x3ca461[_0x2818ac(0x1da)]=CLOUDFORMATION_SCHEMA;const _0x40636e=yaml[_0x2818ac(0x1df)](_0x158de4,_0x3ca461);_0x4431a8[_0x2818ac(0x19e)](mergeTemplates,_0xced6ed,_0x40636e),_0xced6ed[_0x2818ac(0x1c8)][_0x4431a8[_0x2818ac(0x17a)]]['ParameterGroups'][0x0][_0x2818ac(0x1c4)][_0x2818ac(0x1ff)](_0x4431a8['AMHHB']);}else _0x4431a8[_0x2818ac(0x189)](_0x18daa2,_0x4eff21,_0x831aa7);}else{if(_0x4431a8['zqzmg'](_0x4431a8[_0x2818ac(0x208)],_0x4431a8[_0x2818ac(0x1fc)])){const _0x211304=await fs[_0x2818ac(0x236)](path[_0x2818ac(0x194)](__dirname,'..',_0x4431a8[_0x2818ac(0x229)],_0x4431a8[_0x2818ac(0x221)]),_0x4431a8['UqVOG']),_0x13534f={};_0x13534f[_0x2818ac(0x1da)]=CLOUDFORMATION_SCHEMA;const _0x516eea=yaml[_0x2818ac(0x1df)](_0x211304,_0x13534f);_0x4431a8[_0x2818ac(0x17d)](mergeTemplates,_0xced6ed,_0x516eea),_0xced6ed[_0x2818ac(0x1c8)][_0x4431a8[_0x2818ac(0x17a)]][_0x2818ac(0x1e3)][0x0][_0x2818ac(0x1c4)]['push'](_0x4431a8[_0x2818ac(0x1ad)]);}else _0x222d27[_0x849322[_0x2818ac(0x1b9)]]=_0x259e31[_0x2818ac(0x1bf)];}},addS3Data=async _0x128770=>{const _0x3b0e88=a27_0x4bc360,_0x586b4f={'zSPbD':_0x3b0e88(0x232),'kWmxI':_0x3b0e88(0x1c5),'Ruqtv':_0x3b0e88(0x197),'yWvia':'s3-create.yaml','opPCI':_0x3b0e88(0x1ee),'hebJE':function(_0x2aca1e,_0x2dccea){return _0x2aca1e(_0x2dccea);},'HytNA':function(_0x458c93,_0x2a048d){return _0x458c93===_0x2a048d;},'Hlvcw':function(_0x21a922,_0x3228dc){return _0x21a922!==_0x3228dc;},'DwtzC':'hYGHV','fDGMf':function(_0x3edd89,_0x570e77,_0x14ecc5){return _0x3edd89(_0x570e77,_0x14ecc5);}},_0x203fa3=await fs[_0x3b0e88(0x236)](path[_0x3b0e88(0x194)](__dirname,'..',_0x586b4f[_0x3b0e88(0x22d)],_0x586b4f[_0x3b0e88(0x239)]),_0x586b4f[_0x3b0e88(0x219)]),_0x3f271d={};_0x3f271d[_0x3b0e88(0x1da)]=CLOUDFORMATION_SCHEMA;const _0x382a3d=yaml[_0x3b0e88(0x1df)](_0x203fa3,_0x3f271d),_0x146318=await _0x586b4f[_0x3b0e88(0x234)](isBucketPresent,global_registry['s3Bucket']);if(_0x586b4f[_0x3b0e88(0x1d0)](_0x146318,![])){if(_0x586b4f[_0x3b0e88(0x1a1)](_0x586b4f[_0x3b0e88(0x1c7)],_0x586b4f[_0x3b0e88(0x1c7)])){for(const _0x52468f in _0x205b16[_0x3b0e88(0x1ae)]){_0x327610[_0x3b0e88(0x1ae)][_0x52468f][_0x3b0e88(0x206)]&&_0xf314d1[_0x3b0e88(0x1ae)][_0x52468f]['Properties'][_0x3b0e88(0x22f)]&&_0x144ebb['Resources'][_0x52468f][_0x3b0e88(0x206)][_0x3b0e88(0x22f)]['push'](..._0x42df54);}const _0x1491ed={};_0x4f1549[_0x3b0e88(0x180)](_0x1c0bab=>{const _0x4e6e87=_0x3b0e88;_0x1491ed[_0x1c0bab[_0x4e6e87(0x1b9)]]=_0x1c0bab[_0x4e6e87(0x1bf)];}),_0x11ba8d[_0x3b0e88(0x1ae)][_0x586b4f[_0x3b0e88(0x23c)]]['Properties']['Tags']=_0x1491ed,_0x22d2f7[_0x3b0e88(0x1ae)][_0x586b4f[_0x3b0e88(0x21a)]][_0x3b0e88(0x206)][_0x3b0e88(0x22f)]=_0x1491ed;}else _0x586b4f[_0x3b0e88(0x178)](mergeTemplates,_0x128770,_0x382a3d);}},addSubnetData=async(_0x207691,_0xcd12de)=>{const _0x24785b=a27_0x4bc360,_0x1a1bcd={'tgGAO':_0x24785b(0x1c3),'vbUpY':function(_0x19d98d,_0xba2cfa){return _0x19d98d===_0xba2cfa;},'VFtjC':_0x24785b(0x1fb),'HxLfd':'dWoxf','toStg':_0x24785b(0x18d),'WMLHa':function(_0xf3a704,_0x1e9725){return _0xf3a704(_0x1e9725);},'UJEzi':'AWS::CloudFormation::Interface','pCUSp':function(_0x51fff7,_0xfc5094){return _0x51fff7(_0xfc5094);},'HsLoy':_0x24785b(0x1ac),'mKTdD':function(_0x6ceb16,_0x458aa8){return _0x6ceb16(_0x458aa8);},'hQpxE':function(_0x23d708,_0x8b932b){return _0x23d708(_0x8b932b);},'grXNa':function(_0x347c12,_0x2386aa){return _0x347c12===_0x2386aa;},'xFufM':_0x24785b(0x1b5),'EQMoZ':_0x24785b(0x197),'HGudv':_0x24785b(0x188),'MszKL':_0x24785b(0x1ee),'Dcwhe':function(_0xb918f5,_0x526008,_0x4d85ac){return _0xb918f5(_0x526008,_0x4d85ac);},'FAvwN':function(_0x5a909a,_0x525df7){return _0x5a909a!==_0x525df7;},'NvSnk':'nFbru','KclYk':_0x24785b(0x1a5),'DktIH':function(_0x422cbc,_0x1a7f6d,_0x2588ce){return _0x422cbc(_0x1a7f6d,_0x2588ce);},'KcHTC':_0x24785b(0x1d8),'kyqky':_0x24785b(0x215),'YYTXt':_0x24785b(0x1ea),'qglyj':_0x24785b(0x20b),'qggSe':_0x24785b(0x1f1),'zmOXJ':'Subnet03Block'};if(_0xcd12de){if(_0x1a1bcd[_0x24785b(0x17f)](_0x1a1bcd['xFufM'],_0x1a1bcd['xFufM'])){const _0x19e06b=await fs['readFileAsync'](path['join'](__dirname,'..',_0x1a1bcd[_0x24785b(0x20f)],_0x1a1bcd['HGudv']),_0x1a1bcd[_0x24785b(0x204)]),_0x2ac5e0={};_0x2ac5e0['schema']=CLOUDFORMATION_SCHEMA;const _0x4d5f02=yaml[_0x24785b(0x1df)](_0x19e06b,_0x2ac5e0);_0x1a1bcd['Dcwhe'](mergeTemplates,_0x207691,_0x4d5f02);let _0x4b6387=0x1;_0xcd12de[_0x24785b(0x180)](_0x3393c0=>{const _0x3dff28=_0x24785b;if(_0x1a1bcd[_0x3dff28(0x225)](_0x1a1bcd[_0x3dff28(0x1c6)],_0x1a1bcd[_0x3dff28(0x233)])){const _0x96cfac={};_0x96cfac[_0x3dff28(0x1d4)]=_0x1a1bcd[_0x3dff28(0x18a)],_0x96cfac[_0x3dff28(0x22e)]=_0x32a37a,_0xe33f85[_0x3dff28(0x1c4)][_0x3dff28(0x1ff)](_0x96cfac);}else{const _0x2d723d=_0x1a1bcd[_0x3dff28(0x203)][_0x3dff28(0x1ef)]('|');let _0x385e32=0x0;while(!![]){switch(_0x2d723d[_0x385e32++]){case'0':_0x207691[_0x3dff28(0x1ae)][_0x3dff28(0x232)][_0x3dff28(0x206)]['Subnets'][_0x3dff28(0x1ff)]({'Ref':_0x3dff28(0x1fe)+_0x1a1bcd['WMLHa'](String,_0x4b6387)[_0x3dff28(0x1b4)](0x2,'0')});continue;case'1':_0x207691[_0x3dff28(0x1c8)][_0x1a1bcd[_0x3dff28(0x1e7)]][_0x3dff28(0x1e3)][0x0][_0x3dff28(0x1c4)][_0x3dff28(0x1ff)]('Subnet'+_0x1a1bcd[_0x3dff28(0x207)](String,_0x4b6387)['padStart'](0x2,'0'));continue;case'2':_0x207691[_0x3dff28(0x187)][_0x3dff28(0x19c)][_0x3dff28(0x1bf)][_0x1a1bcd[_0x3dff28(0x1cc)]][0x1][_0x3dff28(0x1ff)]({'Ref':_0x3dff28(0x1fe)+_0x1a1bcd['mKTdD'](String,_0x4b6387)['padStart'](0x2,'0')});continue;case'3':_0x207691[_0x3dff28(0x1ae)][_0x3dff28(0x1c5)][_0x3dff28(0x206)][_0x3dff28(0x22c)][_0x3dff28(0x1ff)]({'Ref':_0x3dff28(0x1fe)+_0x1a1bcd[_0x3dff28(0x238)](String,_0x4b6387)[_0x3dff28(0x1b4)](0x2,'0')});continue;case'4':_0x207691[_0x3dff28(0x1ae)]['EKSCluster']['Properties'][_0x3dff28(0x1bc)]['SubnetIds'][_0x3dff28(0x1ff)]({'Ref':_0x3dff28(0x1fe)+_0x1a1bcd[_0x3dff28(0x207)](String,_0x4b6387)[_0x3dff28(0x1b4)](0x2,'0')});continue;case'5':_0x4b6387+=0x1;continue;}break;}}});}else _0x180f72['Parameters'][_0x24785b(0x1ff)]({'ParameterKey':_0x24785b(0x1fe)+_0x1a1bcd[_0x24785b(0x238)](_0x164709,_0x2ba9e1)[_0x24785b(0x1b4)](0x2,'0'),'ParameterValue':_0x296045['value']}),_0x292ccd+=0x1;}else{if(_0x1a1bcd[_0x24785b(0x200)](_0x1a1bcd[_0x24785b(0x1cd)],_0x1a1bcd[_0x24785b(0x1cd)]))_0x3aafeb[_0x24785b(0x1ae)][_0x52487e][_0x24785b(0x206)]&&_0x477177['Resources'][_0x5893f3][_0x24785b(0x206)][_0x24785b(0x22f)]&&_0x2a70d8[_0x24785b(0x1ae)][_0xc50d81][_0x24785b(0x206)][_0x24785b(0x22f)][_0x24785b(0x1ff)](..._0x39a7f4);else{const _0x28b1f0=await fs['readFileAsync'](path[_0x24785b(0x194)](__dirname,'..',_0x1a1bcd[_0x24785b(0x20f)],_0x1a1bcd['KclYk']),_0x1a1bcd[_0x24785b(0x204)]),_0x1a81c7={};_0x1a81c7['schema']=CLOUDFORMATION_SCHEMA;const _0x381961=yaml[_0x24785b(0x1df)](_0x28b1f0,_0x1a81c7);_0x1a1bcd['DktIH'](mergeTemplates,_0x207691,_0x381961),_0x207691[_0x24785b(0x1ae)][_0x24785b(0x1a4)][_0x24785b(0x201)][_0x24785b(0x1ff)](_0x1a1bcd[_0x24785b(0x193)],_0x1a1bcd['kyqky'],_0x1a1bcd[_0x24785b(0x23a)]);const _0x43fc5e={};_0x43fc5e['Ref']=_0x1a1bcd[_0x24785b(0x193)];const _0x259545={};_0x259545[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x213)];const _0x3daf14={};_0x3daf14['Ref']=_0x1a1bcd[_0x24785b(0x23a)],_0x207691['Resources']['EKSCluster'][_0x24785b(0x206)][_0x24785b(0x1bc)][_0x24785b(0x19c)]=[_0x43fc5e,_0x259545,_0x3daf14],_0x207691[_0x24785b(0x1c8)][_0x1a1bcd['UJEzi']][_0x24785b(0x1e3)][0x0][_0x24785b(0x1c4)][_0x24785b(0x1ff)](_0x1a1bcd[_0x24785b(0x1e5)],_0x1a1bcd[_0x24785b(0x237)],_0x1a1bcd[_0x24785b(0x1f0)]);const _0x25bc99={};_0x25bc99[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x193)];const _0x167b74={};_0x167b74[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x213)];const _0x57f8b0={};_0x57f8b0[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x23a)],_0x207691[_0x24785b(0x1ae)][_0x24785b(0x232)][_0x24785b(0x206)][_0x24785b(0x22c)]=[_0x25bc99,_0x167b74,_0x57f8b0];const _0x3813b2={};_0x3813b2[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x193)];const _0x4274e4={};_0x4274e4[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x213)];const _0x3650eb={};_0x3650eb[_0x24785b(0x1d2)]=_0x1a1bcd[_0x24785b(0x23a)],_0x207691['Resources'][_0x24785b(0x1c5)][_0x24785b(0x206)][_0x24785b(0x22c)]=[_0x3813b2,_0x4274e4,_0x3650eb],_0x207691[_0x24785b(0x187)][_0x24785b(0x19c)][_0x24785b(0x1bf)][_0x1a1bcd[_0x24785b(0x1cc)]][0x1]=[{'Ref':_0x1a1bcd['KcHTC']},{'Ref':_0x1a1bcd[_0x24785b(0x213)]},{'Ref':_0x1a1bcd[_0x24785b(0x23a)]}];}}},addTags=async(_0x3783fe,_0x150ef6,_0x1ddff6)=>{const _0x357e12=a27_0x4bc360,_0x3e0a66={};_0x3e0a66[_0x357e12(0x1bd)]=function(_0x2e3e9a,_0x434b15){return _0x2e3e9a===_0x434b15;},_0x3e0a66[_0x357e12(0x209)]=_0x357e12(0x1cf),_0x3e0a66[_0x357e12(0x191)]=_0x357e12(0x1f8),_0x3e0a66[_0x357e12(0x23e)]=function(_0x61d5ef,_0x2ef4f5){return _0x61d5ef!==_0x2ef4f5;},_0x3e0a66['KMJml']='OPUkD',_0x3e0a66['bVcJJ']=function(_0x3b4d67,_0x10d57c){return _0x3b4d67===_0x10d57c;},_0x3e0a66[_0x357e12(0x199)]=_0x357e12(0x176),_0x3e0a66[_0x357e12(0x1d5)]=_0x357e12(0x228),_0x3e0a66[_0x357e12(0x1ab)]='NodeGroup',_0x3e0a66['NAXET']=_0x357e12(0x1c5);const _0x39d184=_0x3e0a66;for(const _0x59a557 in _0x3783fe['Resources']){_0x39d184[_0x357e12(0x23e)](_0x39d184[_0x357e12(0x1de)],_0x39d184[_0x357e12(0x1de)])?_0x2a3154[_0xa71054][_0x271aef]=_0x12033d[_0x929b7a]:_0x3783fe['Resources'][_0x59a557][_0x357e12(0x206)]&&_0x3783fe['Resources'][_0x59a557][_0x357e12(0x206)][_0x357e12(0x22f)]&&(_0x39d184[_0x357e12(0x223)](_0x39d184[_0x357e12(0x199)],_0x39d184['gOayH'])?_0x3a8d74[_0x357e12(0x1ae)][_0x2cc995][_0x357e12(0x206)][_0x357e12(0x22f)][_0x357e12(0x1ff)](..._0x15a9a4):_0x3783fe[_0x357e12(0x1ae)][_0x59a557]['Properties']['Tags'][_0x357e12(0x1ff)](..._0x1ddff6));}const _0x46fb80={};_0x1ddff6['forEach'](_0x456a30=>{const _0x4e975c=_0x357e12;_0x39d184[_0x4e975c(0x1bd)](_0x39d184[_0x4e975c(0x209)],_0x39d184[_0x4e975c(0x191)])?_0x41a156[_0x4e975c(0x1b7)](_0x35b06e)[_0x4e975c(0x180)](_0x1531b6=>{const _0x273923=_0x4e975c;var _0x5752af=_0x10ad6e[_0x1531b6];_0x277d48[_0x273923(0x1b7)](_0x5752af)[_0x273923(0x180)](_0x4ffd1a=>{_0x398500[_0x1531b6][_0x4ffd1a]=_0x5752af[_0x4ffd1a];});}):_0x46fb80[_0x456a30[_0x4e975c(0x1b9)]]=_0x456a30[_0x4e975c(0x1bf)];}),_0x3783fe[_0x357e12(0x1ae)][_0x39d184[_0x357e12(0x1ab)]]['Properties'][_0x357e12(0x22f)]=_0x46fb80,_0x3783fe[_0x357e12(0x1ae)][_0x39d184[_0x357e12(0x1dc)]]['Properties'][_0x357e12(0x22f)]=_0x46fb80;};exports['createClusterStack']=async(_0x2b1930,_0x17b659,_0x53c7c8,_0x81b8e5=null,_0x4fc3d7=null,_0x4517da)=>{const _0x277105=a27_0x4bc360,_0x127823={'NpBNd':function(_0x30c9b9,_0x2436ff){return _0x30c9b9(_0x2436ff);},'HeguZ':function(_0x14a3f6,_0x5ea64a){return _0x14a3f6(_0x5ea64a);},'UWAOk':_0x277105(0x1ec),'EsvHc':_0x277105(0x1a3),'QEatj':_0x277105(0x1f6),'DpweC':_0x277105(0x197),'RjJQi':'aws-eks-cluster-dep.yaml','NtIpS':_0x277105(0x1ee),'YXgJW':function(_0x308147,_0x94ac34,_0x4f6b6a){return _0x308147(_0x94ac34,_0x4f6b6a);},'caieW':function(_0x434557,_0x583ec5,_0x22ba8d,_0x463ad5){return _0x434557(_0x583ec5,_0x22ba8d,_0x463ad5);},'ddgoD':'DELETE','gqSif':_0x277105(0x195),'FHIeh':_0x277105(0x18c),'gVjTE':'NodeAutoScalingGroupMinSize','oZOhi':_0x277105(0x1c9),'QJKDc':_0x277105(0x216),'SRPxB':'NodeAutoScalingGroupMaxSize','dPPgl':_0x277105(0x21c),'LBxDV':_0x277105(0x1b3),'zfEKp':_0x277105(0x1e6),'sBKqS':_0x277105(0x1f9),'ewAUG':_0x277105(0x218),'fhGtg':_0x277105(0x1d9),'vWQAe':_0x277105(0x1e2),'wTgfa':_0x277105(0x183),'Fxaib':function(_0x4a96bc,_0x2629b3){return _0x4a96bc!=_0x2629b3;},'YFpFY':function(_0x4e12ce,_0x4dbe15){return _0x4e12ce!==_0x4dbe15;},'EodiH':function(_0x2e3d7b,_0x54e3c9){return _0x2e3d7b!==_0x54e3c9;},'kuJsH':_0x277105(0x1a2),'oyGTJ':'gwxSN','cgihb':_0x277105(0x1c3),'oSIkp':function(_0x5aed08,_0x21b4ce){return _0x5aed08!==_0x21b4ce;},'sOFty':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','tDdlr':_0x277105(0x196)},_0xc3db1e=COMMON_HST_TAGS,_0xb56407={};_0xb56407[_0x277105(0x1b9)]=_0x127823[_0x277105(0x18f)],_0xb56407[_0x277105(0x1bf)]=_0x2b1930,_0xc3db1e[_0x277105(0x1ff)](_0xb56407),_0xc3db1e[_0x277105(0x1ff)]({'Key':_0x127823[_0x277105(0x182)],'Value':new Date()['valueOf']()[_0x277105(0x192)]()});const _0x12c893={};_0x12c893[_0x277105(0x231)]=_0x127823[_0x277105(0x1e9)];const _0x1f0469=new AWS[(_0x277105(0x1dd))](_0x12c893),_0x391d47=await fs[_0x277105(0x236)](path[_0x277105(0x194)](__dirname,'..',_0x127823[_0x277105(0x17e)],_0x127823[_0x277105(0x19b)]),_0x127823[_0x277105(0x17b)]),_0x21ec83={};_0x21ec83[_0x277105(0x1da)]=CLOUDFORMATION_SCHEMA;const _0x592c01=yaml[_0x277105(0x1df)](_0x391d47,_0x21ec83);await _0x127823[_0x277105(0x22a)](addVPCData,_0x592c01,_0x81b8e5),await _0x127823[_0x277105(0x1bb)](addS3Data,_0x592c01),await _0x127823[_0x277105(0x22a)](addSubnetData,_0x592c01,_0x4fc3d7),await _0x127823[_0x277105(0x1f5)](addTags,_0x592c01,_0x2b1930,_0xc3db1e);const _0x4e8b29=JSON[_0x277105(0x1aa)](_0x592c01),_0x181d4a={};_0x181d4a[_0x277105(0x21b)]=CLUSTER_DEP_STACK_NAME+'-'+_0x2b1930,_0x181d4a[_0x277105(0x20a)]=_0x127823[_0x277105(0x181)],_0x181d4a['TemplateBody']=_0x4e8b29,_0x181d4a[_0x277105(0x1c4)]=[{'ParameterKey':_0x127823[_0x277105(0x1a7)],'ParameterValue':_0x2b1930},{'ParameterKey':_0x127823[_0x277105(0x227)],'ParameterValue':_0x2b1930+'-NodeGroup'},{'ParameterKey':_0x127823[_0x277105(0x205)],'ParameterValue':''+_0x17b659},{'ParameterKey':_0x127823[_0x277105(0x1ca)],'ParameterValue':'0'},{'ParameterKey':_0x127823[_0x277105(0x18b)],'ParameterValue':'1'},{'ParameterKey':_0x127823[_0x277105(0x1f3)],'ParameterValue':''+_0x53c7c8},{'ParameterKey':_0x127823[_0x277105(0x20e)],'ParameterValue':global_registry[_0x277105(0x230)]},{'ParameterKey':_0x127823['LBxDV'],'ParameterValue':global_registry[_0x277105(0x1b1)]},{'ParameterKey':_0x127823['zfEKp'],'ParameterValue':global_registry[_0x277105(0x23b)]},{'ParameterKey':_0x127823[_0x277105(0x17c)],'ParameterValue':_0x2b1930+_0x277105(0x1f7)},{'ParameterKey':_0x127823[_0x277105(0x19f)],'ParameterValue':_0x4517da?_0x127823['fhGtg']:_0x127823[_0x277105(0x21f)]}],_0x181d4a[_0x277105(0x186)]=[_0x127823[_0x277105(0x1c0)]],_0x181d4a['Tags']=_0xc3db1e;const _0x2e31cc=_0x181d4a;if(_0x127823[_0x277105(0x1d3)](_0x81b8e5,null)&&_0x127823['YFpFY'](_0x81b8e5,undefined)){if(_0x127823['EodiH'](_0x127823[_0x277105(0x224)],_0x127823[_0x277105(0x222)])){const _0x3d2784={};_0x3d2784[_0x277105(0x1d4)]=_0x127823[_0x277105(0x22b)],_0x3d2784[_0x277105(0x22e)]=_0x81b8e5,_0x2e31cc[_0x277105(0x1c4)][_0x277105(0x1ff)](_0x3d2784);}else{let _0x59b037=0x1;_0x20681c[_0x277105(0x180)](_0xf2b53b=>{const _0x16d59a=_0x277105;_0x117591[_0x16d59a(0x1c4)][_0x16d59a(0x1ff)]({'ParameterKey':_0x16d59a(0x1fe)+_0x127823[_0x16d59a(0x212)](_0x7768bc,_0x59b037)['padStart'](0x2,'0'),'ParameterValue':_0xf2b53b[_0x16d59a(0x1d6)]}),_0x59b037+=0x1;});}}if(_0x127823[_0x277105(0x1d3)](_0x4fc3d7,null)&&_0x127823[_0x277105(0x211)](_0x4fc3d7,undefined)){let _0x1fc886=0x1;_0x4fc3d7['forEach'](_0x39f931=>{const _0x24b688=_0x277105;_0x2e31cc[_0x24b688(0x1c4)][_0x24b688(0x1ff)]({'ParameterKey':_0x24b688(0x1fe)+_0x127823['HeguZ'](String,_0x1fc886)[_0x24b688(0x1b4)](0x2,'0'),'ParameterValue':_0x39f931[_0x24b688(0x1d6)]}),_0x1fc886+=0x1;});}const _0x5db5f4=await _0x1f0469[_0x277105(0x220)](_0x2e31cc)[_0x277105(0x1ce)]();logger[_0x277105(0x1b0)](_0x127823[_0x277105(0x19a)]);const _0x36eee6={};return _0x36eee6[_0x277105(0x21b)]=_0x5db5f4[_0x277105(0x1c2)],_0x1f0469[_0x277105(0x1b2)](_0x127823[_0x277105(0x179)],_0x36eee6)[_0x277105(0x1ce)]();};