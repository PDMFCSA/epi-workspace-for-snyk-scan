const a27_0xc11bba=a27_0x2d41;function a27_0x5dea(){const _0x42c95e=['s3-create.yaml','js-yaml-cloudformation-schema','lgtfg','XWqsF','uhDMG','orPej','split','eJqxL','fdrBs','DependsOn','awsObj','oBTDA','NodeAutoScalingGroupMinSize','RZqXd','hpCLa','IEhsy','efpHn','../config/logger','aws-eks-cluster-dep.yaml','./AWSUtils','nYrkx','rTHOr','1|5|3|2|4|0','yajaZ','tivTs','JUJnq','pqtVM','ljxXO','NodeAutoScalingGroupMaxSize','mVPnY','PSAtC','instanceType','Wdcxr','CloudFormation','Metadata','NodeGroupWindows','ResourcesVpcConfig','jrfIf','DqAYO','forEach','RvOSd','NodeAutoScalingGroupMinSizeWindows','EKSCluster','qakqE','mTKQJ','NodeGroupNameWindows','4786312xOOcRp','Subnet01Block','afEQu','WWNPJ','S3BucketName','value','nbsgf','Subnet01','Subnet02Block','eFtuG','REXvJ','Parameters','../config/constants','WiYhq','wGuzS','Value','bluebird','iUnPd','yljbv','pfyrF','HaxOr','NodeImageId','AGxNK','YLPuB','FtlnE','pguGJ','aXFUy','bnGXv','NodeAutoScalingGroupDesiredSizeWindows','path','readFileAsync','WLkSh','valueOf','CAPABILITY_NAMED_IAM','qcPRV','uKFSt','Iwagx','ami','Subnets','Subnet03','padStart','-NodeGroup','XIeAI','2081716KgmNlZ','StackName','pUVqI','6912090PLHNRG','NodeGroup','ECkKs','NnuqZ','cfOqi','HKxMp','jtjWi','5740320jocneh','uhwdD','Appoz','2010-05-15','UsNyb','RnmSc','EPzDO','gJHpV','ifJix','vpc-import.yaml','gCUrn','browserstack:creationDate','stackCreateComplete','Resources','ParameterGroups','js-yaml','waitFor','osfIj','DrLKp','Capabilities','Subnet','TbLyx','136548XbypAc','gKvnK','BZgLA','oEZav','false','vvsYE','createStack','true','schema','EvjgF','GvtdD','gtuQr','LUwJN','CFTemplates','CUrel','jbuiG','eCURH','load','Key','push','wlTNy','stringify','mXLWG','ClusterName','pITpw','SubnetIds','2|0|3|5|4|1','Ref','35370536pBjPTp','qNpsz','hlyAS','VpcBlock','Outputs','TemplateBody','BLJVq','s3Bucket','BwrsE','qEVRK','UXlPh','ParameterValue','debug','subnet-create.yaml','utf-8','pjluf','StackId','ypzRH','LrRpT','promise','apiVersion','tXcEk','join','aFmVp','VPC','AWS::CloudFormation::Interface','whbyb','vWmGH','21LGARWp','OnFailure','1443483GRtvkG','Properties','vpc-create.yaml','oVyca','subnet-import.yaml','Tags','keys','NodeInstanceType','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete'];a27_0x5dea=function(){return _0x42c95e;};return a27_0x5dea();}(function(_0x1ec8b3,_0x4191cd){const _0x6fb680=a27_0x2d41,_0x4d69bd=_0x1ec8b3();while(!![]){try{const _0x18ae8a=parseInt(_0x6fb680(0x1e9))/0x1*(parseInt(_0x6fb680(0x26d))/0x2)+parseInt(_0x6fb680(0x1eb))/0x3+parseInt(_0x6fb680(0x222))/0x4+parseInt(_0x6fb680(0x250))/0x5+parseInt(_0x6fb680(0x257))/0x6+-parseInt(_0x6fb680(0x24d))/0x7+-parseInt(_0x6fb680(0x289))/0x8;if(_0x18ae8a===_0x4191cd)break;else _0x4d69bd['push'](_0x4d69bd['shift']());}catch(_0x118773){_0x4d69bd['push'](_0x4d69bd['shift']());}}}(a27_0x5dea,0xb2b16));function a27_0x2d41(_0x31786a,_0x3b6ac8){const _0x5dea72=a27_0x5dea();return a27_0x2d41=function(_0x2d41e4,_0x57ba64){_0x2d41e4=_0x2d41e4-0x1e2;let _0x4dc61a=_0x5dea72[_0x2d41e4];return _0x4dc61a;},a27_0x2d41(_0x31786a,_0x3b6ac8);}const fs=require('fs'),path=require(a27_0xc11bba(0x23f)),Promise=require(a27_0xc11bba(0x232)),yaml=require(a27_0xc11bba(0x266)),{CLOUDFORMATION_SCHEMA}=require(a27_0xc11bba(0x1f5)),AWS=require('./AWSUtils')[a27_0xc11bba(0x1fe)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0xc11bba(0x22e)),{logger}=require(a27_0xc11bba(0x205)),{isBucketPresent}=require(a27_0xc11bba(0x207));Promise['promisifyAll'](fs);const mergeTemplates=(_0x48a069,_0x4766fe)=>{const _0x7dee5=a27_0xc11bba,_0x10bd93={};_0x10bd93[_0x7dee5(0x293)]=function(_0x29581d,_0x2db81f){return _0x29581d!==_0x2db81f;},_0x10bd93[_0x7dee5(0x291)]=_0x7dee5(0x230),_0x10bd93[_0x7dee5(0x241)]=_0x7dee5(0x25c),_0x10bd93[_0x7dee5(0x1f8)]=function(_0x125231,_0x32c16c){return _0x125231===_0x32c16c;},_0x10bd93[_0x7dee5(0x23b)]=_0x7dee5(0x219);const _0x3f60dd=_0x10bd93;Object[_0x7dee5(0x1f1)](_0x4766fe)[_0x7dee5(0x21b)](_0x35eb64=>{const _0x4fcd10=_0x7dee5;if(_0x3f60dd[_0x4fcd10(0x1f8)](_0x3f60dd[_0x4fcd10(0x23b)],_0x3f60dd['pguGJ'])){var _0x51ffb0=_0x4766fe[_0x35eb64];Object[_0x4fcd10(0x1f1)](_0x51ffb0)[_0x4fcd10(0x21b)](_0x5a6b7f=>{const _0x49a8c7=_0x4fcd10;_0x3f60dd[_0x49a8c7(0x293)](_0x3f60dd['BwrsE'],_0x3f60dd[_0x49a8c7(0x241)])?_0x48a069[_0x35eb64][_0x5a6b7f]=_0x51ffb0[_0x5a6b7f]:_0x5d8074[_0x49a8c7(0x264)][_0x199d42]['Properties']&&_0xbb8b0[_0x49a8c7(0x264)][_0x14173c]['Properties'][_0x49a8c7(0x1f0)]&&_0x17c769[_0x49a8c7(0x264)][_0x460ef5][_0x49a8c7(0x1ec)][_0x49a8c7(0x1f0)][_0x49a8c7(0x280)](..._0x41cb4e);});}else _0xdbbd77[_0x4fcd10(0x1f1)](_0x276886)[_0x4fcd10(0x21b)](_0x2bfcb2=>{const _0x5172b0=_0x4fcd10;var _0x4e20de=_0x5237f9[_0x2bfcb2];_0x1927d7[_0x5172b0(0x1f1)](_0x4e20de)['forEach'](_0x2dc03b=>{_0x29d867[_0x2bfcb2][_0x2dc03b]=_0x4e20de[_0x2dc03b];});});});},addVPCData=async(_0x38d37a,_0x5941ff)=>{const _0x23e050=a27_0xc11bba,_0xd714c4={'wlTNy':_0x23e050(0x1e5),'afEQu':_0x23e050(0x251),'aXAFx':_0x23e050(0x217),'oEZav':function(_0x29ffc5,_0x296d34){return _0x29ffc5!==_0x296d34;},'nbsgf':'wCBuy','PSAtC':'MiQBQ','tXcEk':_0x23e050(0x27a),'qcPRV':_0x23e050(0x260),'efpHn':_0x23e050(0x297),'pfyrF':function(_0x10e884,_0x5c3fe8,_0x31c213){return _0x10e884(_0x5c3fe8,_0x31c213);},'lgtfg':_0x23e050(0x1e6),'lHdYu':function(_0x4db304,_0x3faf99){return _0x4db304!==_0x3faf99;},'hpCLa':_0x23e050(0x255),'HufaI':_0x23e050(0x1ed),'marih':_0x23e050(0x28c)};if(_0x5941ff){if(_0xd714c4[_0x23e050(0x270)](_0xd714c4[_0x23e050(0x228)],_0xd714c4[_0x23e050(0x212)])){const _0x188445=await fs[_0x23e050(0x240)](path[_0x23e050(0x1e3)](__dirname,'..',_0xd714c4[_0x23e050(0x1e2)],_0xd714c4[_0x23e050(0x244)]),_0xd714c4[_0x23e050(0x204)]),_0x408887={};_0x408887['schema']=CLOUDFORMATION_SCHEMA;const _0x340f5b=yaml['load'](_0x188445,_0x408887);_0xd714c4[_0x23e050(0x235)](mergeTemplates,_0x38d37a,_0x340f5b),_0x38d37a[_0x23e050(0x216)][_0xd714c4[_0x23e050(0x1f6)]][_0x23e050(0x265)][0x0][_0x23e050(0x22d)][_0x23e050(0x280)](_0xd714c4[_0x23e050(0x281)]);}else{const _0x440e2d={};_0x440e2d['ParameterKey']=_0xd714c4[_0x23e050(0x281)],_0x440e2d[_0x23e050(0x294)]=_0x18dece,_0xabdc17[_0x23e050(0x22d)][_0x23e050(0x280)](_0x440e2d);}}else{if(_0xd714c4['lHdYu'](_0xd714c4[_0x23e050(0x202)],_0xd714c4['hpCLa'])){for(const _0x5a071d in _0x3cb5c7[_0x23e050(0x264)]){_0x137ca5[_0x23e050(0x264)][_0x5a071d]['Properties']&&_0x1971d6['Resources'][_0x5a071d][_0x23e050(0x1ec)][_0x23e050(0x1f0)]&&_0x40a1af[_0x23e050(0x264)][_0x5a071d][_0x23e050(0x1ec)][_0x23e050(0x1f0)][_0x23e050(0x280)](..._0x14b722);}const _0x20ecea={};_0x58cdcc[_0x23e050(0x21b)](_0x32f1ad=>{const _0x346705=_0x23e050;_0x20ecea[_0x32f1ad[_0x346705(0x27f)]]=_0x32f1ad[_0x346705(0x231)];}),_0x4b5cbd['Resources'][_0xd714c4[_0x23e050(0x224)]][_0x23e050(0x1ec)][_0x23e050(0x1f0)]=_0x20ecea,_0x3850af[_0x23e050(0x264)][_0xd714c4['aXAFx']]['Properties'][_0x23e050(0x1f0)]=_0x20ecea;}else{const _0x88511c=await fs[_0x23e050(0x240)](path['join'](__dirname,'..',_0xd714c4[_0x23e050(0x1e2)],_0xd714c4['HufaI']),_0xd714c4[_0x23e050(0x204)]),_0x4c0fb0={};_0x4c0fb0[_0x23e050(0x275)]=CLOUDFORMATION_SCHEMA;const _0x20bfea=yaml[_0x23e050(0x27e)](_0x88511c,_0x4c0fb0);_0xd714c4[_0x23e050(0x235)](mergeTemplates,_0x38d37a,_0x20bfea),_0x38d37a[_0x23e050(0x216)][_0xd714c4[_0x23e050(0x1f6)]][_0x23e050(0x265)][0x0][_0x23e050(0x22d)][_0x23e050(0x280)](_0xd714c4['marih']);}}},addS3Data=async _0x4ce251=>{const _0x237c7c=a27_0xc11bba,_0x29a299={'eJqxL':'CFTemplates','XWqsF':_0x237c7c(0x1f4),'EPzDO':_0x237c7c(0x297),'DjTPE':function(_0x1a5258,_0x3215ba){return _0x1a5258(_0x3215ba);},'Iwagx':function(_0x5aa168,_0x398cc6){return _0x5aa168===_0x398cc6;},'pITpw':function(_0xb33574,_0xbbb74a){return _0xb33574!==_0xbbb74a;},'nYrkx':_0x237c7c(0x279),'bnGXv':function(_0x2453e5,_0x27856f,_0x58f5f5){return _0x2453e5(_0x27856f,_0x58f5f5);}},_0x5104d1=await fs[_0x237c7c(0x240)](path[_0x237c7c(0x1e3)](__dirname,'..',_0x29a299[_0x237c7c(0x1fb)],_0x29a299[_0x237c7c(0x1f7)]),_0x29a299[_0x237c7c(0x25d)]),_0x5ed0e4={};_0x5ed0e4['schema']=CLOUDFORMATION_SCHEMA;const _0x76af40=yaml[_0x237c7c(0x27e)](_0x5104d1,_0x5ed0e4),_0x41bbc1=await _0x29a299['DjTPE'](isBucketPresent,global_registry[_0x237c7c(0x290)]);_0x29a299[_0x237c7c(0x246)](_0x41bbc1,![])&&(_0x29a299[_0x237c7c(0x285)](_0x29a299[_0x237c7c(0x208)],_0x29a299[_0x237c7c(0x208)])?_0x3b862f[_0x237c7c(0x264)][_0x40b83c]['Properties'][_0x237c7c(0x1f0)][_0x237c7c(0x280)](..._0x19f7b5):_0x29a299[_0x237c7c(0x23d)](mergeTemplates,_0x4ce251,_0x76af40));},addSubnetData=async(_0xf95a88,_0x41c948)=>{const _0x42abf1=a27_0xc11bba,_0x3d8648={'mVPnY':function(_0x24a635,_0x24c4d7,_0x43317b){return _0x24a635(_0x24c4d7,_0x43317b);},'qakqE':function(_0x230eb4,_0x505623){return _0x230eb4!==_0x505623;},'DrLKp':_0x42abf1(0x28b),'ECkKs':_0x42abf1(0x287),'UsNyb':'AWS::CloudFormation::Interface','ljxXO':function(_0x5053dd,_0x3ca5f7){return _0x5053dd(_0x3ca5f7);},'mTKQJ':'Fn::Join','fdrBs':function(_0x1d4664,_0x51f05e){return _0x1d4664(_0x51f05e);},'JUJnq':function(_0xdeac5a,_0x52d495){return _0xdeac5a!==_0x52d495;},'YLPuB':'jjMcD','VFiRf':_0x42abf1(0x27a),'oBTDA':_0x42abf1(0x1ef),'CUrel':'utf-8','gtuQr':'uZxTw','ODVID':_0x42abf1(0x296),'whbyb':_0x42abf1(0x229),'mXLWG':'Subnet02','osfIj':_0x42abf1(0x249),'pqtVM':_0x42abf1(0x223),'gCUrn':_0x42abf1(0x22a),'cfOqi':'Subnet03Block'};if(_0x41c948){if(_0x3d8648[_0x42abf1(0x20d)](_0x3d8648['YLPuB'],_0x3d8648[_0x42abf1(0x239)]))_0x1f8df6[_0x1e95af[_0x42abf1(0x27f)]]=_0x2099a1[_0x42abf1(0x231)];else{const _0x5cb046=await fs[_0x42abf1(0x240)](path[_0x42abf1(0x1e3)](__dirname,'..',_0x3d8648['VFiRf'],_0x3d8648[_0x42abf1(0x1ff)]),_0x3d8648[_0x42abf1(0x27b)]),_0x10f90a={};_0x10f90a[_0x42abf1(0x275)]=CLOUDFORMATION_SCHEMA;const _0xc16154=yaml[_0x42abf1(0x27e)](_0x5cb046,_0x10f90a);_0x3d8648[_0x42abf1(0x211)](mergeTemplates,_0xf95a88,_0xc16154);let _0x31498e=0x1;_0x41c948[_0x42abf1(0x21b)](_0x3b7649=>{const _0x568c52=_0x42abf1,_0x5abec8={'jbuiG':function(_0x3eec31,_0x2e60b0,_0x307283){const _0x2356ca=a27_0x2d41;return _0x3d8648[_0x2356ca(0x211)](_0x3eec31,_0x2e60b0,_0x307283);}};if(_0x3d8648[_0x568c52(0x21f)](_0x3d8648[_0x568c52(0x269)],_0x3d8648[_0x568c52(0x269)]))_0x5abec8[_0x568c52(0x27c)](_0x968527,_0x4e60be,_0x3561a);else{const _0x55c73f=_0x3d8648[_0x568c52(0x252)][_0x568c52(0x1fa)]('|');let _0x4e0e15=0x0;while(!![]){switch(_0x55c73f[_0x4e0e15++]){case'0':_0xf95a88[_0x568c52(0x216)][_0x3d8648[_0x568c52(0x25b)]][_0x568c52(0x265)][0x0][_0x568c52(0x22d)]['push'](_0x568c52(0x26b)+_0x3d8648[_0x568c52(0x20f)](String,_0x31498e)[_0x568c52(0x24a)](0x2,'0'));continue;case'1':_0x31498e+=0x1;continue;case'2':_0xf95a88[_0x568c52(0x264)][_0x568c52(0x21e)][_0x568c52(0x1ec)][_0x568c52(0x218)][_0x568c52(0x286)][_0x568c52(0x280)]({'Ref':_0x568c52(0x26b)+_0x3d8648[_0x568c52(0x20f)](String,_0x31498e)[_0x568c52(0x24a)](0x2,'0')});continue;case'3':_0xf95a88[_0x568c52(0x264)][_0x568c52(0x251)][_0x568c52(0x1ec)][_0x568c52(0x248)][_0x568c52(0x280)]({'Ref':_0x568c52(0x26b)+_0x3d8648['ljxXO'](String,_0x31498e)[_0x568c52(0x24a)](0x2,'0')});continue;case'4':_0xf95a88[_0x568c52(0x28d)][_0x568c52(0x286)][_0x568c52(0x231)][_0x3d8648[_0x568c52(0x220)]][0x1]['push']({'Ref':'Subnet'+_0x3d8648[_0x568c52(0x1fc)](String,_0x31498e)[_0x568c52(0x24a)](0x2,'0')});continue;case'5':_0xf95a88['Resources'][_0x568c52(0x217)]['Properties'][_0x568c52(0x248)]['push']({'Ref':_0x568c52(0x26b)+_0x3d8648[_0x568c52(0x1fc)](String,_0x31498e)['padStart'](0x2,'0')});continue;}break;}}});}}else{if(_0x3d8648[_0x42abf1(0x20d)](_0x3d8648[_0x42abf1(0x278)],_0x3d8648['gtuQr'])){var _0x2c2579=_0x16901e[_0xfc9462];_0x1791eb[_0x42abf1(0x1f1)](_0x2c2579)['forEach'](_0x4f1c92=>{_0x57404d[_0xf0705d][_0x4f1c92]=_0x2c2579[_0x4f1c92];});}else{const _0x21060f=await fs[_0x42abf1(0x240)](path['join'](__dirname,'..',_0x3d8648['VFiRf'],_0x3d8648['ODVID']),_0x3d8648[_0x42abf1(0x27b)]),_0x5ac0b4={};_0x5ac0b4[_0x42abf1(0x275)]=CLOUDFORMATION_SCHEMA;const _0x1ddbd5=yaml[_0x42abf1(0x27e)](_0x21060f,_0x5ac0b4);_0x3d8648[_0x42abf1(0x211)](mergeTemplates,_0xf95a88,_0x1ddbd5),_0xf95a88[_0x42abf1(0x264)][_0x42abf1(0x21e)][_0x42abf1(0x1fd)][_0x42abf1(0x280)](_0x3d8648[_0x42abf1(0x1e7)],_0x3d8648[_0x42abf1(0x283)],_0x3d8648['osfIj']);const _0x3ef3c8={};_0x3ef3c8[_0x42abf1(0x288)]=_0x3d8648[_0x42abf1(0x1e7)];const _0x593d60={};_0x593d60[_0x42abf1(0x288)]=_0x3d8648['mXLWG'];const _0x8e9774={};_0x8e9774['Ref']=_0x3d8648['osfIj'],_0xf95a88[_0x42abf1(0x264)][_0x42abf1(0x21e)]['Properties'][_0x42abf1(0x218)][_0x42abf1(0x286)]=[_0x3ef3c8,_0x593d60,_0x8e9774],_0xf95a88[_0x42abf1(0x216)][_0x3d8648[_0x42abf1(0x25b)]][_0x42abf1(0x265)][0x0][_0x42abf1(0x22d)][_0x42abf1(0x280)](_0x3d8648[_0x42abf1(0x20e)],_0x3d8648[_0x42abf1(0x261)],_0x3d8648[_0x42abf1(0x254)]);const _0x431cca={};_0x431cca['Ref']=_0x3d8648['whbyb'];const _0x15ffc7={};_0x15ffc7['Ref']=_0x3d8648[_0x42abf1(0x283)];const _0x5dd77e={};_0x5dd77e[_0x42abf1(0x288)]=_0x3d8648[_0x42abf1(0x268)],_0xf95a88[_0x42abf1(0x264)][_0x42abf1(0x251)][_0x42abf1(0x1ec)][_0x42abf1(0x248)]=[_0x431cca,_0x15ffc7,_0x5dd77e];const _0x28f265={};_0x28f265['Ref']=_0x3d8648[_0x42abf1(0x1e7)];const _0x309dc3={};_0x309dc3[_0x42abf1(0x288)]=_0x3d8648[_0x42abf1(0x283)];const _0x5e125f={};_0x5e125f[_0x42abf1(0x288)]=_0x3d8648[_0x42abf1(0x268)],_0xf95a88['Resources'][_0x42abf1(0x217)]['Properties'][_0x42abf1(0x248)]=[_0x28f265,_0x309dc3,_0x5e125f],_0xf95a88[_0x42abf1(0x28d)][_0x42abf1(0x286)][_0x42abf1(0x231)][_0x3d8648[_0x42abf1(0x220)]][0x1]=[{'Ref':_0x3d8648[_0x42abf1(0x1e7)]},{'Ref':_0x3d8648['mXLWG']},{'Ref':_0x3d8648[_0x42abf1(0x268)]}];}}},addTags=async(_0x2056cf,_0x5e3de7,_0x330559)=>{const _0x57c92c=a27_0xc11bba,_0x167fcb={'ubiNH':function(_0x165be6,_0xa06392){return _0x165be6(_0xa06392);},'GMKbn':_0x57c92c(0x20a),'GvtdD':function(_0x4e5964,_0x380c47){return _0x4e5964(_0x380c47);},'pUVqI':function(_0xb1ab94,_0x57e9a7){return _0xb1ab94(_0x57e9a7);},'WWNPJ':'Fn::Join','pjluf':_0x57c92c(0x1e6),'NnuqZ':function(_0x3cd2e0,_0x3bab57){return _0x3cd2e0!==_0x3bab57;},'IEhsy':_0x57c92c(0x1e4),'eFtuG':function(_0x2fa56b,_0x46c684){return _0x2fa56b===_0x46c684;},'vvsYE':'iylfm','ZcsDy':'WtKba','EvjgF':_0x57c92c(0x251),'VETty':'NodeGroupWindows'};for(const _0x2e20d5 in _0x2056cf['Resources']){if(_0x167fcb[_0x57c92c(0x22b)](_0x167fcb[_0x57c92c(0x272)],_0x167fcb[_0x57c92c(0x272)]))_0x2056cf['Resources'][_0x2e20d5][_0x57c92c(0x1ec)]&&_0x2056cf[_0x57c92c(0x264)][_0x2e20d5][_0x57c92c(0x1ec)][_0x57c92c(0x1f0)]&&(_0x167fcb[_0x57c92c(0x253)](_0x167fcb['ZcsDy'],_0x167fcb['ZcsDy'])?_0x40be5c[_0x4fed67][_0x5b1c21]=_0x2db803[_0x1cc485]:_0x2056cf[_0x57c92c(0x264)][_0x2e20d5][_0x57c92c(0x1ec)][_0x57c92c(0x1f0)][_0x57c92c(0x280)](..._0x330559));else{const _0x3f4a22={'uhwdD':function(_0x15c0ae,_0x11a1bd){return _0x167fcb['ubiNH'](_0x15c0ae,_0x11a1bd);}};let _0x28946d=0x1;_0x1fcf22[_0x57c92c(0x21b)](_0x535d64=>{const _0x4efbf4=_0x57c92c;_0x2a6578['Parameters'][_0x4efbf4(0x280)]({'ParameterKey':'Subnet'+_0x3f4a22[_0x4efbf4(0x258)](_0x5509f2,_0x28946d)[_0x4efbf4(0x24a)](0x2,'0'),'ParameterValue':_0x535d64['value']}),_0x28946d+=0x1;});}}const _0x19a55d={};_0x330559[_0x57c92c(0x21b)](_0x556371=>{const _0x171758=_0x57c92c,_0x3e67ed={'Appoz':_0x167fcb['GMKbn'],'HaxOr':function(_0x3cfbc3,_0x5dd413){const _0x4cab45=a27_0x2d41;return _0x167fcb[_0x4cab45(0x277)](_0x3cfbc3,_0x5dd413);},'DqAYO':function(_0x2f9145,_0x618eb4){const _0x506bac=a27_0x2d41;return _0x167fcb[_0x506bac(0x24f)](_0x2f9145,_0x618eb4);},'vWmGH':_0x167fcb[_0x171758(0x225)],'osiGn':_0x167fcb[_0x171758(0x298)]};if(_0x167fcb['NnuqZ'](_0x167fcb[_0x171758(0x203)],_0x167fcb[_0x171758(0x203)])){const _0x36ffc3=_0x3e67ed[_0x171758(0x259)]['split']('|');let _0x21d07f=0x0;while(!![]){switch(_0x36ffc3[_0x21d07f++]){case'0':_0x84cceb+=0x1;continue;case'1':_0x22b2fd['Resources']['EKSCluster'][_0x171758(0x1ec)][_0x171758(0x218)]['SubnetIds'][_0x171758(0x280)]({'Ref':'Subnet'+_0x3e67ed['HaxOr'](_0x26060b,_0x4ad584)[_0x171758(0x24a)](0x2,'0')});continue;case'2':_0x30015b['Resources'][_0x171758(0x217)][_0x171758(0x1ec)][_0x171758(0x248)][_0x171758(0x280)]({'Ref':_0x171758(0x26b)+_0x3e67ed['HaxOr'](_0x6c5a14,_0x38b57d)[_0x171758(0x24a)](0x2,'0')});continue;case'3':_0xb2e93d[_0x171758(0x264)][_0x171758(0x251)][_0x171758(0x1ec)]['Subnets']['push']({'Ref':'Subnet'+_0x3e67ed['DqAYO'](_0x1e4e11,_0x52db50)[_0x171758(0x24a)](0x2,'0')});continue;case'4':_0x263b6a[_0x171758(0x28d)][_0x171758(0x286)][_0x171758(0x231)][_0x3e67ed[_0x171758(0x1e8)]][0x1][_0x171758(0x280)]({'Ref':'Subnet'+_0x3e67ed[_0x171758(0x21a)](_0x3a0eba,_0xf4272e)[_0x171758(0x24a)](0x2,'0')});continue;case'5':_0x39ee4b[_0x171758(0x216)][_0x3e67ed['osiGn']][_0x171758(0x265)][0x0]['Parameters']['push'](_0x171758(0x26b)+_0x3e67ed[_0x171758(0x236)](_0x2154c8,_0x29947d)['padStart'](0x2,'0'));continue;}break;}}else _0x19a55d[_0x556371[_0x171758(0x27f)]]=_0x556371[_0x171758(0x231)];}),_0x2056cf['Resources'][_0x167fcb[_0x57c92c(0x276)]][_0x57c92c(0x1ec)][_0x57c92c(0x1f0)]=_0x19a55d,_0x2056cf[_0x57c92c(0x264)][_0x167fcb['VETty']][_0x57c92c(0x1ec)]['Tags']=_0x19a55d;};exports['createClusterStack']=async(_0x38849b,_0x38adb4,_0x4b59f4,_0x53a831=null,_0x10c830=null,_0x59964e)=>{const _0x570d7b=a27_0xc11bba,_0x344a68={'REXvJ':function(_0xbfe45f,_0x3c2fac){return _0xbfe45f(_0x3c2fac);},'ZsADh':function(_0x503a14,_0x433f3a){return _0x503a14(_0x433f3a);},'iUnPd':'browserstack:cluster','rTHOr':_0x570d7b(0x262),'NWGzw':_0x570d7b(0x25a),'ijxrP':_0x570d7b(0x27a),'BLJVq':_0x570d7b(0x206),'qEVRK':'utf-8','HrmMZ':function(_0xbbc6ce,_0x2124c2,_0x5e8680){return _0xbbc6ce(_0x2124c2,_0x5e8680);},'Wdcxr':function(_0x130c9c,_0x1aad2c){return _0x130c9c(_0x1aad2c);},'gKvnK':function(_0x195cba,_0x59253c,_0x3d124d){return _0x195cba(_0x59253c,_0x3d124d);},'qNpsz':function(_0x361c2c,_0xaaa2b7,_0x2f274a,_0x4921d1){return _0x361c2c(_0xaaa2b7,_0x2f274a,_0x4921d1);},'LrRpT':'DELETE','QbJfM':_0x570d7b(0x284),'orPej':'NodeGroupName','RvOSd':_0x570d7b(0x200),'RZqXd':_0x570d7b(0x21d),'ypzRH':_0x570d7b(0x23e),'TbLyx':_0x570d7b(0x210),'uNTID':_0x570d7b(0x237),'usoHJ':_0x570d7b(0x1f2),'yajaZ':_0x570d7b(0x226),'gJHpV':_0x570d7b(0x221),'yljbv':'ClusterAutoUpgrade','AGxNK':_0x570d7b(0x274),'eCURH':_0x570d7b(0x271),'jtjWi':_0x570d7b(0x243),'FtlnE':function(_0x28dbe8,_0x4442f1){return _0x28dbe8!=_0x4442f1;},'XIeAI':function(_0x11372d,_0xadc6e1){return _0x11372d!==_0xadc6e1;},'uKFSt':function(_0x2f761b,_0x42461a){return _0x2f761b===_0x42461a;},'odxMy':_0x570d7b(0x23c),'ifJix':_0x570d7b(0x22f),'bMipq':'VPC','BZgLA':function(_0x5874ac,_0x52ddbf){return _0x5874ac!=_0x52ddbf;},'DvXir':function(_0x41e12f,_0x69865c){return _0x41e12f!==_0x69865c;},'tivTs':_0x570d7b(0x1f3),'oVyca':_0x570d7b(0x263)},_0x3a1023=COMMON_HST_TAGS,_0x62cef0={};_0x62cef0[_0x570d7b(0x27f)]=_0x344a68[_0x570d7b(0x233)],_0x62cef0[_0x570d7b(0x231)]=_0x38849b,_0x3a1023['push'](_0x62cef0),_0x3a1023[_0x570d7b(0x280)]({'Key':_0x344a68[_0x570d7b(0x209)],'Value':new Date()[_0x570d7b(0x242)]()['toString']()});const _0x1bea59={};_0x1bea59[_0x570d7b(0x29d)]=_0x344a68['NWGzw'];const _0x368977=new AWS[(_0x570d7b(0x215))](_0x1bea59),_0x4df3f9=await fs[_0x570d7b(0x240)](path[_0x570d7b(0x1e3)](__dirname,'..',_0x344a68['ijxrP'],_0x344a68[_0x570d7b(0x28f)]),_0x344a68[_0x570d7b(0x292)]),_0x253a18={};_0x253a18[_0x570d7b(0x275)]=CLOUDFORMATION_SCHEMA;const _0x412f8e=yaml[_0x570d7b(0x27e)](_0x4df3f9,_0x253a18);await _0x344a68['HrmMZ'](addVPCData,_0x412f8e,_0x53a831),await _0x344a68[_0x570d7b(0x214)](addS3Data,_0x412f8e),await _0x344a68[_0x570d7b(0x26e)](addSubnetData,_0x412f8e,_0x10c830),await _0x344a68[_0x570d7b(0x28a)](addTags,_0x412f8e,_0x38849b,_0x3a1023);const _0x249bcc=JSON[_0x570d7b(0x282)](_0x412f8e),_0x32e1af={};_0x32e1af['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0x38849b,_0x32e1af[_0x570d7b(0x1ea)]=_0x344a68[_0x570d7b(0x29b)],_0x32e1af[_0x570d7b(0x28e)]=_0x249bcc,_0x32e1af['Parameters']=[{'ParameterKey':_0x344a68['QbJfM'],'ParameterValue':_0x38849b},{'ParameterKey':_0x344a68[_0x570d7b(0x1f9)],'ParameterValue':_0x38849b+_0x570d7b(0x24b)},{'ParameterKey':_0x344a68[_0x570d7b(0x21c)],'ParameterValue':''+_0x38adb4},{'ParameterKey':_0x344a68[_0x570d7b(0x201)],'ParameterValue':'0'},{'ParameterKey':_0x344a68[_0x570d7b(0x29a)],'ParameterValue':'1'},{'ParameterKey':_0x344a68[_0x570d7b(0x26c)],'ParameterValue':''+_0x4b59f4},{'ParameterKey':_0x344a68['uNTID'],'ParameterValue':global_registry[_0x570d7b(0x247)]},{'ParameterKey':_0x344a68['usoHJ'],'ParameterValue':global_registry[_0x570d7b(0x213)]},{'ParameterKey':_0x344a68[_0x570d7b(0x20b)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x344a68[_0x570d7b(0x25e)],'ParameterValue':_0x38849b+'-Windows-NodeGroup'},{'ParameterKey':_0x344a68[_0x570d7b(0x234)],'ParameterValue':_0x59964e?_0x344a68[_0x570d7b(0x238)]:_0x344a68[_0x570d7b(0x27d)]}],_0x32e1af[_0x570d7b(0x26a)]=[_0x344a68[_0x570d7b(0x256)]],_0x32e1af[_0x570d7b(0x1f0)]=_0x3a1023;const _0x4f3221=_0x32e1af;if(_0x344a68[_0x570d7b(0x23a)](_0x53a831,null)&&_0x344a68[_0x570d7b(0x24c)](_0x53a831,undefined)){if(_0x344a68[_0x570d7b(0x245)](_0x344a68['odxMy'],_0x344a68[_0x570d7b(0x25f)]))_0x2456c9[_0x570d7b(0x22d)][_0x570d7b(0x280)]({'ParameterKey':'Subnet'+_0x344a68[_0x570d7b(0x22c)](_0x5e7c1d,_0x1fb411)['padStart'](0x2,'0'),'ParameterValue':_0xeca7fe[_0x570d7b(0x227)]}),_0x517211+=0x1;else{const _0xdcd394={};_0xdcd394['ParameterKey']=_0x344a68['bMipq'],_0xdcd394[_0x570d7b(0x294)]=_0x53a831,_0x4f3221[_0x570d7b(0x22d)][_0x570d7b(0x280)](_0xdcd394);}}if(_0x344a68[_0x570d7b(0x26f)](_0x10c830,null)&&_0x344a68['DvXir'](_0x10c830,undefined)){let _0x5a843c=0x1;_0x10c830[_0x570d7b(0x21b)](_0x483b7e=>{const _0x54a015=_0x570d7b;_0x4f3221['Parameters']['push']({'ParameterKey':_0x54a015(0x26b)+_0x344a68['ZsADh'](String,_0x5a843c)['padStart'](0x2,'0'),'ParameterValue':_0x483b7e[_0x54a015(0x227)]}),_0x5a843c+=0x1;});}const _0x2c27ce=await _0x368977[_0x570d7b(0x273)](_0x4f3221)[_0x570d7b(0x29c)]();logger[_0x570d7b(0x295)](_0x344a68[_0x570d7b(0x20c)]);const _0x1f53ed={};return _0x1f53ed[_0x570d7b(0x24e)]=_0x2c27ce[_0x570d7b(0x299)],_0x368977[_0x570d7b(0x267)](_0x344a68[_0x570d7b(0x1ee)],_0x1f53ed)[_0x570d7b(0x29c)]();};