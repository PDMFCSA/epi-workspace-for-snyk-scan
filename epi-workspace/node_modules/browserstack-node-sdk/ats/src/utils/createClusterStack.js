const a27_0x1c3871=a27_0x524c;function a27_0x524c(_0x128128,_0x2a8205){const _0x983261=a27_0x9832();return a27_0x524c=function(_0x524cee,_0x5baa64){_0x524cee=_0x524cee-0x163;let _0x2524a7=_0x983261[_0x524cee];return _0x2524a7;},a27_0x524c(_0x128128,_0x2a8205);}(function(_0x298da5,_0x24b5ee){const _0xc95ba0=a27_0x524c,_0x2662e8=_0x298da5();while(!![]){try{const _0x3dcf62=parseInt(_0xc95ba0(0x177))/0x1+-parseInt(_0xc95ba0(0x1d3))/0x2+-parseInt(_0xc95ba0(0x210))/0x3*(-parseInt(_0xc95ba0(0x173))/0x4)+parseInt(_0xc95ba0(0x1dc))/0x5+parseInt(_0xc95ba0(0x18b))/0x6+-parseInt(_0xc95ba0(0x1f0))/0x7*(parseInt(_0xc95ba0(0x1c7))/0x8)+-parseInt(_0xc95ba0(0x1c2))/0x9*(-parseInt(_0xc95ba0(0x1aa))/0xa);if(_0x3dcf62===_0x24b5ee)break;else _0x2662e8['push'](_0x2662e8['shift']());}catch(_0x167264){_0x2662e8['push'](_0x2662e8['shift']());}}}(a27_0x9832,0x3a299));function a27_0x9832(){const _0x926ec6=['AJogq','NdZwn','hkVPF','LxDzk','RXvUq','fgEOo','12560pONfUh','uDpEB','ClusterAutoUpgrade','StackName','load','QgFNv','gziZA','waitFor','DDfag','AugRq','readFileAsync','path','apiVersion','leWix','NodeAutoScalingGroupMinSizeWindows','promise','Value','UEGxQ','js-yaml','./AWSUtils','valueOf','2010-05-15','YLluu','value','3231xldhTR','false','Metadata','join','nbhlY','3011512YbVQUW','tlkzC','WndsH','Subnet01Block','BlGQJ','S3BucketName','Outputs','Subnet','../config/constants','CLOLh','CAPABILITY_NAMED_IAM','rdjxi','266156NuXwIU','BMizj','MHdOb','AqXwa','EKSCluster','ParameterGroups','JoYXO','iLkQn','XWtWI','30625sLFWvI','NodeGroupName','FXdYd','rdbZq','aOnUx','debug','HkEgC','jmcEw','OxWMc','NodeInstanceType','qpWAM','Subnet02Block','DependsOn','vxOSa','AWS::CloudFormation::Interface','KnAYU','Fn::Join','Key','ltTTL','fymZd','7pNWNyg','Upxlk','padStart','js-yaml-cloudformation-schema','Resources','NodeGroup','NodeGroupNameWindows','promisifyAll','aKIbU','hWPKk','Subnet03','BGtGS','WFSPJ','awsObj','WuaHw','ebZuR','TYQZO','DDZCO','dHflE','DSDzK','gHVEw','tgLmX','SkKLq','OMqPh','QksBp','ARirz','Ref','stackCreateComplete','XBdBt','POWzW','Tags','s3Bucket','86691RKktKn','yacRx','dDNqV','obJOv','CXwPS','-Windows-NodeGroup','DELETE','VtHBv','ResourcesVpcConfig','true','NodeAutoScalingGroupMinSize','ParameterValue','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','subnet-import.yaml','Subnet03Block','wpdQd','ParameterKey','pWduw','gzpdK','VpcBlock','Properties','vUbcz','TemplateBody','4|1|5|0|3|2','schema','VCzgU','push','dqcGk','meaMN','toString','12mnulSZ','fkMUR','CloudFormation','Xmelf','143362SpObFJ','../config/logger','gpZfZ','czJsJ','vpc-create.yaml','split','NodeImageId','opgNr','dIqBQ','FybIo','MzhhF','GxNdm','UWMdw','VPC','utf-8','wtbWo','vpc-import.yaml','keys','Parameters','s3-create.yaml','364008nLRvlR','instanceType','mDZRe','jzgNR','SubnetIds','bluebird','YVVbF','CFTemplates','YhymF','NodeGroupWindows','vgZpK','browserstack:cluster','aZgXG','BTSEp','ciACC','ufyaW','Subnet02','HbaCy','pUDro','DCsov','Subnets','BORbW','vVLrx','forEach','ami'];a27_0x9832=function(){return _0x926ec6;};return a27_0x9832();}const fs=require('fs'),path=require(a27_0x1c3871(0x1b5)),Promise=require(a27_0x1c3871(0x190)),yaml=require(a27_0x1c3871(0x1bc)),{CLOUDFORMATION_SCHEMA}=require(a27_0x1c3871(0x1f3)),AWS=require(a27_0x1c3871(0x1bd))[a27_0x1c3871(0x1fd)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x1c3871(0x1cf)),{logger}=require(a27_0x1c3871(0x178)),{isBucketPresent}=require('./AWSUtils');Promise[a27_0x1c3871(0x1f7)](fs);const mergeTemplates=(_0x3460cd,_0x26a0fd)=>{const _0x419b27=a27_0x1c3871,_0x21a21c={'danUl':function(_0x26346b,_0x80b1f7){return _0x26346b!==_0x80b1f7;},'wpdQd':'aCIrg','OMqPh':_0x419b27(0x1de),'UEGxQ':function(_0x2774d1,_0x95f286){return _0x2774d1(_0x95f286);},'HbaCy':function(_0xe29df7,_0x262edb){return _0xe29df7===_0x262edb;},'POWzW':_0x419b27(0x1fe)};Object[_0x419b27(0x188)](_0x26a0fd)['forEach'](_0x4d18cd=>{const _0x4d7fbf=_0x419b27,_0x219c95={'VjbvY':function(_0x58b04c,_0x364951){const _0x5b118d=a27_0x524c;return _0x21a21c[_0x5b118d(0x1bb)](_0x58b04c,_0x364951);}};if(_0x21a21c[_0x4d7fbf(0x19c)](_0x21a21c[_0x4d7fbf(0x20d)],_0x21a21c[_0x4d7fbf(0x20d)])){var _0x5f4100=_0x26a0fd[_0x4d18cd];Object[_0x4d7fbf(0x188)](_0x5f4100)[_0x4d7fbf(0x1a2)](_0x3d9b77=>{const _0x19cbf9=_0x4d7fbf;if(_0x21a21c['danUl'](_0x21a21c[_0x19cbf9(0x164)],_0x21a21c[_0x19cbf9(0x207)]))_0x3460cd[_0x4d18cd][_0x3d9b77]=_0x5f4100[_0x3d9b77];else{const _0x52aee1={'QksBp':function(_0x5b22a5,_0x2d6f42){return _0x219c95['VjbvY'](_0x5b22a5,_0x2d6f42);}};let _0x2349de=0x1;_0x39c1a9[_0x19cbf9(0x1a2)](_0xcdd8a9=>{const _0x5932c8=_0x19cbf9;_0x24336a[_0x5932c8(0x189)]['push']({'ParameterKey':_0x5932c8(0x1ce)+_0x52aee1[_0x5932c8(0x208)](_0x41a370,_0x2349de)[_0x5932c8(0x1f2)](0x2,'0'),'ParameterValue':_0xcdd8a9[_0x5932c8(0x1c1)]}),_0x2349de+=0x1;});}});}else _0xd2148a[_0x50e220[_0x4d7fbf(0x1ed)]]=_0x70fd52[_0x4d7fbf(0x1ba)];});},addVPCData=async(_0x107c73,_0x1bdc74)=>{const _0x5c5c46=a27_0x1c3871,_0x37f09f={'iLkQn':'2|3|1|5|0|4','QiLgb':_0x5c5c46(0x1ec),'JoYXO':function(_0x1713ca,_0x15660f){return _0x1713ca(_0x15660f);},'aOnUx':function(_0x3f41b4,_0xdc9f2a){return _0x3f41b4(_0xdc9f2a);},'hkVPF':function(_0x358fc9,_0x4790e5){return _0x358fc9(_0x4790e5);},'uDpEB':_0x5c5c46(0x1ea),'qpWAM':function(_0x33bdca,_0x3c1b2b){return _0x33bdca(_0x3c1b2b);},'DCsov':function(_0x44b8f1,_0x382aa3){return _0x44b8f1(_0x382aa3);},'vUbcz':function(_0x3e73d7,_0x40501a){return _0x3e73d7!==_0x40501a;},'yracP':_0x5c5c46(0x198),'LxDzk':_0x5c5c46(0x192),'wtbWo':_0x5c5c46(0x187),'opgNr':_0x5c5c46(0x185),'fymZd':function(_0x276597,_0x243ee6,_0x32bed5){return _0x276597(_0x243ee6,_0x32bed5);},'dDNqV':'VPC','UWMdw':function(_0x546cbf,_0xd6e08){return _0x546cbf===_0xd6e08;},'EtmaH':_0x5c5c46(0x1c8),'QGAEL':_0x5c5c46(0x211),'ltTTL':_0x5c5c46(0x17b),'GxNdm':_0x5c5c46(0x168)};if(_0x1bdc74){if(_0x37f09f[_0x5c5c46(0x16a)](_0x37f09f['yracP'],_0x37f09f['yracP']))_0xb7d8c2[_0x5c5c46(0x1f4)][_0xb60757]['Properties']['Tags'][_0x5c5c46(0x16f)](..._0x43b40d);else{const _0x4835d2=await fs[_0x5c5c46(0x1b4)](path[_0x5c5c46(0x1c5)](__dirname,'..',_0x37f09f[_0x5c5c46(0x1a7)],_0x37f09f[_0x5c5c46(0x186)]),_0x37f09f[_0x5c5c46(0x17e)]),_0x36d1ce={};_0x36d1ce['schema']=CLOUDFORMATION_SCHEMA;const _0x4038ff=yaml[_0x5c5c46(0x1ae)](_0x4835d2,_0x36d1ce);_0x37f09f[_0x5c5c46(0x1ef)](mergeTemplates,_0x107c73,_0x4038ff),_0x107c73[_0x5c5c46(0x1c4)][_0x37f09f[_0x5c5c46(0x1ab)]][_0x5c5c46(0x1d8)][0x0][_0x5c5c46(0x189)][_0x5c5c46(0x16f)](_0x37f09f[_0x5c5c46(0x212)]);}}else{if(_0x37f09f[_0x5c5c46(0x183)](_0x37f09f['EtmaH'],_0x37f09f['QGAEL'])){const _0x400a01=_0x37f09f[_0x5c5c46(0x1da)][_0x5c5c46(0x17c)]('|');let _0x118556=0x0;while(!![]){switch(_0x400a01[_0x118556++]){case'0':_0x19df68['Outputs'][_0x5c5c46(0x18f)][_0x5c5c46(0x1ba)][_0x37f09f['QiLgb']][0x1][_0x5c5c46(0x16f)]({'Ref':_0x5c5c46(0x1ce)+_0x37f09f[_0x5c5c46(0x1d9)](_0x477ede,_0x3918ec)[_0x5c5c46(0x1f2)](0x2,'0')});continue;case'1':_0x234f9f[_0x5c5c46(0x1f4)][_0x5c5c46(0x1f5)][_0x5c5c46(0x169)]['Subnets']['push']({'Ref':_0x5c5c46(0x1ce)+_0x37f09f[_0x5c5c46(0x1e0)](_0x14d9c8,_0x3a768d)[_0x5c5c46(0x1f2)](0x2,'0')});continue;case'2':_0x3ec57f[_0x5c5c46(0x1f4)][_0x5c5c46(0x1d7)][_0x5c5c46(0x169)][_0x5c5c46(0x218)]['SubnetIds']['push']({'Ref':_0x5c5c46(0x1ce)+_0x37f09f[_0x5c5c46(0x1a6)](_0x449d06,_0x360fcf)[_0x5c5c46(0x1f2)](0x2,'0')});continue;case'3':_0x2ce965[_0x5c5c46(0x1c4)][_0x37f09f['uDpEB']][_0x5c5c46(0x1d8)][0x0][_0x5c5c46(0x189)]['push'](_0x5c5c46(0x1ce)+_0x37f09f[_0x5c5c46(0x1e6)](_0x578465,_0x443d27)[_0x5c5c46(0x1f2)](0x2,'0'));continue;case'4':_0x29d3e3+=0x1;continue;case'5':_0x161fc5[_0x5c5c46(0x1f4)][_0x5c5c46(0x194)][_0x5c5c46(0x169)][_0x5c5c46(0x19f)][_0x5c5c46(0x16f)]({'Ref':_0x5c5c46(0x1ce)+_0x37f09f[_0x5c5c46(0x19e)](_0x291ef1,_0x30f282)[_0x5c5c46(0x1f2)](0x2,'0')});continue;}break;}}else{const _0xf59727=await fs['readFileAsync'](path[_0x5c5c46(0x1c5)](__dirname,'..',_0x37f09f[_0x5c5c46(0x1a7)],_0x37f09f[_0x5c5c46(0x1ee)]),_0x37f09f['opgNr']),_0x3770df={};_0x3770df[_0x5c5c46(0x16d)]=CLOUDFORMATION_SCHEMA;const _0xba5895=yaml[_0x5c5c46(0x1ae)](_0xf59727,_0x3770df);_0x37f09f[_0x5c5c46(0x1ef)](mergeTemplates,_0x107c73,_0xba5895),_0x107c73[_0x5c5c46(0x1c4)][_0x37f09f[_0x5c5c46(0x1ab)]][_0x5c5c46(0x1d8)][0x0][_0x5c5c46(0x189)][_0x5c5c46(0x16f)](_0x37f09f[_0x5c5c46(0x182)]);}}},addS3Data=async _0x5e5be9=>{const _0x10cd94=a27_0x1c3871,_0x5f0b54={'RXvUq':function(_0x176c54,_0x2d6aef){return _0x176c54(_0x2d6aef);},'UkEvP':_0x10cd94(0x192),'BMizj':_0x10cd94(0x18a),'TdFcI':'utf-8','vVLrx':function(_0x4d44f4,_0x2e06d7){return _0x4d44f4(_0x2e06d7);},'nbhlY':function(_0x37299f,_0x38f5b3){return _0x37299f===_0x38f5b3;},'vxOSa':'AUSHj','FybIo':function(_0x26029a,_0x26b341,_0x32130b){return _0x26029a(_0x26b341,_0x32130b);}},_0x2b5704=await fs['readFileAsync'](path[_0x10cd94(0x1c5)](__dirname,'..',_0x5f0b54['UkEvP'],_0x5f0b54[_0x10cd94(0x1d4)]),_0x5f0b54['TdFcI']),_0x141594={};_0x141594[_0x10cd94(0x16d)]=CLOUDFORMATION_SCHEMA;const _0x1db0df=yaml['load'](_0x2b5704,_0x141594),_0x2f74e7=await _0x5f0b54[_0x10cd94(0x1a1)](isBucketPresent,global_registry[_0x10cd94(0x20f)]);_0x5f0b54[_0x10cd94(0x1c6)](_0x2f74e7,![])&&(_0x5f0b54[_0x10cd94(0x1c6)](_0x5f0b54[_0x10cd94(0x1e9)],_0x5f0b54[_0x10cd94(0x1e9)])?_0x5f0b54[_0x10cd94(0x180)](mergeTemplates,_0x5e5be9,_0x1db0df):(_0x3aa80a[_0x10cd94(0x189)]['push']({'ParameterKey':_0x10cd94(0x1ce)+_0x5f0b54[_0x10cd94(0x1a8)](_0x375f87,_0x25bf91)[_0x10cd94(0x1f2)](0x2,'0'),'ParameterValue':_0x2bb464[_0x10cd94(0x1c1)]}),_0x67f30c+=0x1));},addSubnetData=async(_0x3395b9,_0x240036)=>{const _0x396dc5=a27_0x1c3871,_0x1fc50b={'AugRq':function(_0x273521,_0x2e306a){return _0x273521===_0x2e306a;},'AJogq':'QnMzI','SkKLq':_0x396dc5(0x16c),'TtjGK':function(_0x2ef89c,_0x54ec99){return _0x2ef89c(_0x54ec99);},'ciACC':_0x396dc5(0x1ea),'QgFNv':function(_0x1fc322,_0x971c72){return _0x1fc322(_0x971c72);},'MzhhF':'Fn::Join','fkMUR':function(_0x503ac2,_0x495795){return _0x503ac2(_0x495795);},'KnAYU':function(_0x43f5f0,_0x523292,_0xe4ff3e){return _0x43f5f0(_0x523292,_0xe4ff3e);},'CLOLh':'UdbVS','rdbZq':_0x396dc5(0x192),'VtHBv':_0x396dc5(0x21d),'YLluu':_0x396dc5(0x185),'BORbW':_0x396dc5(0x201),'gpZfZ':'subnet-create.yaml','DDfag':'Subnet01','WFSPJ':_0x396dc5(0x19b),'gziZA':_0x396dc5(0x1fa),'DSDzK':_0x396dc5(0x1ca),'dIqBQ':_0x396dc5(0x1e7),'pMFqV':_0x396dc5(0x163)};if(_0x240036){if(_0x1fc50b[_0x396dc5(0x1b3)](_0x1fc50b[_0x396dc5(0x1d0)],_0x1fc50b[_0x396dc5(0x1d0)])){const _0x4f7941=await fs[_0x396dc5(0x1b4)](path[_0x396dc5(0x1c5)](__dirname,'..',_0x1fc50b[_0x396dc5(0x1df)],_0x1fc50b[_0x396dc5(0x217)]),_0x1fc50b[_0x396dc5(0x1c0)]),_0x5666b0={};_0x5666b0[_0x396dc5(0x16d)]=CLOUDFORMATION_SCHEMA;const _0x326377=yaml[_0x396dc5(0x1ae)](_0x4f7941,_0x5666b0);_0x1fc50b[_0x396dc5(0x1eb)](mergeTemplates,_0x3395b9,_0x326377);let _0x1d78f2=0x1;_0x240036[_0x396dc5(0x1a2)](_0x171050=>{const _0x1f5649=_0x396dc5;if(_0x1fc50b['AugRq'](_0x1fc50b['AJogq'],_0x1fc50b[_0x1f5649(0x1a4)])){const _0x57dbaa=_0x1fc50b[_0x1f5649(0x206)]['split']('|');let _0x179f73=0x0;while(!![]){switch(_0x57dbaa[_0x179f73++]){case'0':_0x3395b9[_0x1f5649(0x1f4)][_0x1f5649(0x194)][_0x1f5649(0x169)]['Subnets'][_0x1f5649(0x16f)]({'Ref':'Subnet'+_0x1fc50b['TtjGK'](String,_0x1d78f2)[_0x1f5649(0x1f2)](0x2,'0')});continue;case'1':_0x3395b9[_0x1f5649(0x1c4)][_0x1fc50b['ciACC']]['ParameterGroups'][0x0][_0x1f5649(0x189)]['push'](_0x1f5649(0x1ce)+_0x1fc50b['QgFNv'](String,_0x1d78f2)[_0x1f5649(0x1f2)](0x2,'0'));continue;case'2':_0x1d78f2+=0x1;continue;case'3':_0x3395b9[_0x1f5649(0x1cd)][_0x1f5649(0x18f)][_0x1f5649(0x1ba)][_0x1fc50b[_0x1f5649(0x181)]][0x1][_0x1f5649(0x16f)]({'Ref':_0x1f5649(0x1ce)+_0x1fc50b[_0x1f5649(0x174)](String,_0x1d78f2)[_0x1f5649(0x1f2)](0x2,'0')});continue;case'4':_0x3395b9[_0x1f5649(0x1f4)]['EKSCluster']['Properties']['ResourcesVpcConfig'][_0x1f5649(0x18f)][_0x1f5649(0x16f)]({'Ref':_0x1f5649(0x1ce)+_0x1fc50b[_0x1f5649(0x1af)](String,_0x1d78f2)['padStart'](0x2,'0')});continue;case'5':_0x3395b9[_0x1f5649(0x1f4)][_0x1f5649(0x1f5)][_0x1f5649(0x169)][_0x1f5649(0x19f)][_0x1f5649(0x16f)]({'Ref':_0x1f5649(0x1ce)+_0x1fc50b[_0x1f5649(0x174)](String,_0x1d78f2)[_0x1f5649(0x1f2)](0x2,'0')});continue;}break;}}else _0x45c5f1[_0x1f5649(0x1f4)][_0x29aa88]['Properties']&&_0x58ba00['Resources'][_0x1cfee7][_0x1f5649(0x169)][_0x1f5649(0x20e)]&&_0x1b10ab['Resources'][_0x4966b0][_0x1f5649(0x169)][_0x1f5649(0x20e)][_0x1f5649(0x16f)](..._0x24d209);});}else _0x1ece13[_0x18e2be][_0x19c346]=_0x4416c3[_0x2df56d];}else{if(_0x1fc50b[_0x396dc5(0x1b3)](_0x1fc50b[_0x396dc5(0x1a0)],_0x1fc50b[_0x396dc5(0x1a0)])){const _0x2ade1c=await fs[_0x396dc5(0x1b4)](path[_0x396dc5(0x1c5)](__dirname,'..',_0x1fc50b[_0x396dc5(0x1df)],_0x1fc50b[_0x396dc5(0x179)]),_0x1fc50b[_0x396dc5(0x1c0)]),_0x40ba5a={};_0x40ba5a[_0x396dc5(0x16d)]=CLOUDFORMATION_SCHEMA;const _0x20b3b0=yaml[_0x396dc5(0x1ae)](_0x2ade1c,_0x40ba5a);_0x1fc50b['KnAYU'](mergeTemplates,_0x3395b9,_0x20b3b0),_0x3395b9[_0x396dc5(0x1f4)][_0x396dc5(0x1d7)][_0x396dc5(0x1e8)]['push'](_0x1fc50b[_0x396dc5(0x1b2)],_0x1fc50b[_0x396dc5(0x1fc)],_0x1fc50b[_0x396dc5(0x1b0)]);const _0x1aaff4={};_0x1aaff4['Ref']=_0x1fc50b['DDfag'];const _0x4280be={};_0x4280be[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1fc)];const _0x5cd027={};_0x5cd027[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1b0)],_0x3395b9[_0x396dc5(0x1f4)]['EKSCluster']['Properties'][_0x396dc5(0x218)]['SubnetIds']=[_0x1aaff4,_0x4280be,_0x5cd027],_0x3395b9[_0x396dc5(0x1c4)][_0x1fc50b[_0x396dc5(0x199)]][_0x396dc5(0x1d8)][0x0]['Parameters'][_0x396dc5(0x16f)](_0x1fc50b[_0x396dc5(0x203)],_0x1fc50b[_0x396dc5(0x17f)],_0x1fc50b['pMFqV']);const _0x31f84a={};_0x31f84a[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1b2)];const _0x5d4008={};_0x5d4008[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1fc)];const _0x5b3433={};_0x5b3433[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1b0)],_0x3395b9[_0x396dc5(0x1f4)][_0x396dc5(0x1f5)]['Properties'][_0x396dc5(0x19f)]=[_0x31f84a,_0x5d4008,_0x5b3433];const _0x2bacdf={};_0x2bacdf[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1b2)];const _0x3d3d25={};_0x3d3d25[_0x396dc5(0x20a)]=_0x1fc50b['WFSPJ'];const _0x325ba5={};_0x325ba5[_0x396dc5(0x20a)]=_0x1fc50b[_0x396dc5(0x1b0)],_0x3395b9[_0x396dc5(0x1f4)][_0x396dc5(0x194)]['Properties'][_0x396dc5(0x19f)]=[_0x2bacdf,_0x3d3d25,_0x325ba5],_0x3395b9[_0x396dc5(0x1cd)][_0x396dc5(0x18f)]['Value'][_0x1fc50b[_0x396dc5(0x181)]][0x1]=[{'Ref':_0x1fc50b[_0x396dc5(0x1b2)]},{'Ref':_0x1fc50b[_0x396dc5(0x1fc)]},{'Ref':_0x1fc50b['gziZA']}];}else _0x1fc50b[_0x396dc5(0x1eb)](_0x418bc5,_0x16c1ec,_0x25b377);}},addTags=async(_0x133348,_0x43f093,_0x4fbe41)=>{const _0x42cf57=a27_0x1c3871,_0x43e518={};_0x43e518[_0x42cf57(0x1e2)]='VPC',_0x43e518[_0x42cf57(0x176)]=function(_0x4ed121,_0x31bf69){return _0x4ed121!==_0x31bf69;},_0x43e518[_0x42cf57(0x204)]=_0x42cf57(0x1cb),_0x43e518[_0x42cf57(0x1fb)]=_0x42cf57(0x1f1),_0x43e518['TYQZO']=_0x42cf57(0x195),_0x43e518[_0x42cf57(0x166)]=_0x42cf57(0x1e3),_0x43e518[_0x42cf57(0x1db)]=function(_0x2fd934,_0xd5e6bb){return _0x2fd934===_0xd5e6bb;},_0x43e518[_0x42cf57(0x20c)]=_0x42cf57(0x19d),_0x43e518[_0x42cf57(0x1ff)]='JCrzh',_0x43e518[_0x42cf57(0x1a5)]=_0x42cf57(0x1f5),_0x43e518[_0x42cf57(0x209)]=_0x42cf57(0x194);const _0x4ccbdf=_0x43e518;for(const _0x2b65cf in _0x133348[_0x42cf57(0x1f4)]){if(_0x4ccbdf[_0x42cf57(0x176)](_0x4ccbdf[_0x42cf57(0x200)],_0x4ccbdf[_0x42cf57(0x166)])){if(_0x133348['Resources'][_0x2b65cf][_0x42cf57(0x169)]&&_0x133348[_0x42cf57(0x1f4)][_0x2b65cf][_0x42cf57(0x169)][_0x42cf57(0x20e)]){if(_0x4ccbdf[_0x42cf57(0x1db)](_0x4ccbdf[_0x42cf57(0x20c)],_0x4ccbdf['ebZuR'])){const _0x5a6cd7={};_0x5a6cd7['ParameterKey']=_0x4ccbdf[_0x42cf57(0x1e2)],_0x5a6cd7['ParameterValue']=_0x3496c7,_0x5bccb6['Parameters'][_0x42cf57(0x16f)](_0x5a6cd7);}else _0x133348['Resources'][_0x2b65cf][_0x42cf57(0x169)]['Tags'][_0x42cf57(0x16f)](..._0x4fbe41);}}else{var _0xe58fe8=_0x5ba533[_0x745526];_0x1d8d1e[_0x42cf57(0x188)](_0xe58fe8)[_0x42cf57(0x1a2)](_0x4f75=>{_0x2e090c[_0x21f811][_0x4f75]=_0xe58fe8[_0x4f75];});}}const _0x117e4d={};_0x4fbe41['forEach'](_0x33a46b=>{const _0x289d3a=_0x42cf57;_0x4ccbdf['Xmelf'](_0x4ccbdf['gHVEw'],_0x4ccbdf[_0x289d3a(0x1fb)])?_0x117e4d[_0x33a46b[_0x289d3a(0x1ed)]]=_0x33a46b[_0x289d3a(0x1ba)]:_0x42dab7[_0x289d3a(0x188)](_0x2fda73)[_0x289d3a(0x1a2)](_0x4873ce=>{const _0xf2113=_0x289d3a;var _0x3ff676=_0x25520c[_0x4873ce];_0x455e62[_0xf2113(0x188)](_0x3ff676)[_0xf2113(0x1a2)](_0x313f7a=>{_0x1b4a7d[_0x4873ce][_0x313f7a]=_0x3ff676[_0x313f7a];});});}),_0x133348[_0x42cf57(0x1f4)][_0x4ccbdf[_0x42cf57(0x1a5)]][_0x42cf57(0x169)][_0x42cf57(0x20e)]=_0x117e4d,_0x133348[_0x42cf57(0x1f4)][_0x4ccbdf[_0x42cf57(0x209)]][_0x42cf57(0x169)]['Tags']=_0x117e4d;};exports['createClusterStack']=async(_0x208b8b,_0x46348f,_0xf5ab1c,_0x270052=null,_0x313ac6=null,_0x254014)=>{const _0xc3c0a2=a27_0x1c3871,_0x19a631={'aKIbU':_0xc3c0a2(0x1f5),'rdjxi':_0xc3c0a2(0x194),'wVYcI':function(_0x4d05ef,_0x4f237d){return _0x4d05ef(_0x4f237d);},'meaMN':_0xc3c0a2(0x196),'uifbw':'browserstack:creationDate','IqyYb':_0xc3c0a2(0x1bf),'czJsJ':_0xc3c0a2(0x192),'DJwiX':'aws-eks-cluster-dep.yaml','aZgXG':'utf-8','tgLmX':function(_0x3d2606,_0x5d29cb,_0x5a38a0){return _0x3d2606(_0x5d29cb,_0x5a38a0);},'oEEPA':function(_0x136d00,_0x3c1c0a){return _0x136d00(_0x3c1c0a);},'kgteB':function(_0x258344,_0x59415f,_0x25cf31){return _0x258344(_0x59415f,_0x25cf31);},'dHflE':function(_0x537837,_0xaf532b,_0x236ba0,_0x50e2db){return _0x537837(_0xaf532b,_0x236ba0,_0x50e2db);},'jzgNR':_0xc3c0a2(0x216),'ufyaW':'ClusterName','YVVbF':_0xc3c0a2(0x1dd),'obJOv':_0xc3c0a2(0x21a),'OxWMc':_0xc3c0a2(0x1b8),'MHdOb':'NodeAutoScalingGroupDesiredSizeWindows','gzpdK':'NodeAutoScalingGroupMaxSize','qvvGG':_0xc3c0a2(0x17d),'YFzQK':_0xc3c0a2(0x1e5),'nSkRC':_0xc3c0a2(0x1cc),'fgEOo':_0xc3c0a2(0x1f6),'NNIRx':_0xc3c0a2(0x1ac),'mDZRe':_0xc3c0a2(0x219),'AeqSH':_0xc3c0a2(0x1c3),'YhymF':_0xc3c0a2(0x1d1),'VCzgU':function(_0x2b523a,_0x269284){return _0x2b523a!=_0x269284;},'AqXwa':function(_0x56ce57,_0x1160ad){return _0x56ce57!==_0x1160ad;},'leWix':function(_0x16f832,_0x64e5c8){return _0x16f832===_0x64e5c8;},'WndsH':_0xc3c0a2(0x170),'ZZQie':_0xc3c0a2(0x184),'hWPKk':function(_0x466dc6,_0x21d19b){return _0x466dc6!=_0x21d19b;},'CXwPS':_0xc3c0a2(0x21c),'aBJlV':_0xc3c0a2(0x20b)},_0x49a965=COMMON_HST_TAGS,_0x47685b={};_0x47685b[_0xc3c0a2(0x1ed)]=_0x19a631[_0xc3c0a2(0x171)],_0x47685b[_0xc3c0a2(0x1ba)]=_0x208b8b,_0x49a965[_0xc3c0a2(0x16f)](_0x47685b),_0x49a965[_0xc3c0a2(0x16f)]({'Key':_0x19a631['uifbw'],'Value':new Date()[_0xc3c0a2(0x1be)]()[_0xc3c0a2(0x172)]()});const _0x390428={};_0x390428[_0xc3c0a2(0x1b6)]=_0x19a631['IqyYb'];const _0xf149d=new AWS[(_0xc3c0a2(0x175))](_0x390428),_0x5e7f94=await fs['readFileAsync'](path[_0xc3c0a2(0x1c5)](__dirname,'..',_0x19a631[_0xc3c0a2(0x17a)],_0x19a631['DJwiX']),_0x19a631[_0xc3c0a2(0x197)]),_0x3c8b6b={};_0x3c8b6b['schema']=CLOUDFORMATION_SCHEMA;const _0x558507=yaml[_0xc3c0a2(0x1ae)](_0x5e7f94,_0x3c8b6b);await _0x19a631[_0xc3c0a2(0x205)](addVPCData,_0x558507,_0x270052),await _0x19a631['oEEPA'](addS3Data,_0x558507),await _0x19a631['kgteB'](addSubnetData,_0x558507,_0x313ac6),await _0x19a631[_0xc3c0a2(0x202)](addTags,_0x558507,_0x208b8b,_0x49a965);const _0x47549e=JSON['stringify'](_0x558507),_0x41ce71={};_0x41ce71[_0xc3c0a2(0x1ad)]=CLUSTER_DEP_STACK_NAME+'-'+_0x208b8b,_0x41ce71['OnFailure']=_0x19a631[_0xc3c0a2(0x18e)],_0x41ce71[_0xc3c0a2(0x16b)]=_0x47549e,_0x41ce71[_0xc3c0a2(0x189)]=[{'ParameterKey':_0x19a631[_0xc3c0a2(0x19a)],'ParameterValue':_0x208b8b},{'ParameterKey':_0x19a631[_0xc3c0a2(0x191)],'ParameterValue':_0x208b8b+'-NodeGroup'},{'ParameterKey':_0x19a631[_0xc3c0a2(0x213)],'ParameterValue':''+_0x46348f},{'ParameterKey':_0x19a631[_0xc3c0a2(0x1e4)],'ParameterValue':'0'},{'ParameterKey':_0x19a631[_0xc3c0a2(0x1d5)],'ParameterValue':'1'},{'ParameterKey':_0x19a631[_0xc3c0a2(0x167)],'ParameterValue':''+_0xf5ab1c},{'ParameterKey':_0x19a631['qvvGG'],'ParameterValue':global_registry[_0xc3c0a2(0x1a3)]},{'ParameterKey':_0x19a631['YFzQK'],'ParameterValue':global_registry[_0xc3c0a2(0x18c)]},{'ParameterKey':_0x19a631['nSkRC'],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x19a631[_0xc3c0a2(0x1a9)],'ParameterValue':_0x208b8b+_0xc3c0a2(0x215)},{'ParameterKey':_0x19a631['NNIRx'],'ParameterValue':_0x254014?_0x19a631[_0xc3c0a2(0x18d)]:_0x19a631['AeqSH']}],_0x41ce71['Capabilities']=[_0x19a631[_0xc3c0a2(0x193)]],_0x41ce71[_0xc3c0a2(0x20e)]=_0x49a965;const _0x822d0=_0x41ce71;if(_0x19a631[_0xc3c0a2(0x16e)](_0x270052,null)&&_0x19a631['AqXwa'](_0x270052,undefined)){if(_0x19a631[_0xc3c0a2(0x1b7)](_0x19a631[_0xc3c0a2(0x1c9)],_0x19a631[_0xc3c0a2(0x1c9)])){const _0x2f6c9e={};_0x2f6c9e[_0xc3c0a2(0x165)]=_0x19a631['ZZQie'],_0x2f6c9e[_0xc3c0a2(0x21b)]=_0x270052,_0x822d0[_0xc3c0a2(0x189)]['push'](_0x2f6c9e);}else{for(const _0x376b8d in _0x3916a9[_0xc3c0a2(0x1f4)]){_0x4dc78a[_0xc3c0a2(0x1f4)][_0x376b8d][_0xc3c0a2(0x169)]&&_0x3a122d[_0xc3c0a2(0x1f4)][_0x376b8d][_0xc3c0a2(0x169)][_0xc3c0a2(0x20e)]&&_0x42e407[_0xc3c0a2(0x1f4)][_0x376b8d][_0xc3c0a2(0x169)][_0xc3c0a2(0x20e)][_0xc3c0a2(0x16f)](..._0x2a648b);}const _0x4143de={};_0x470fee[_0xc3c0a2(0x1a2)](_0x382d77=>{const _0x580dd2=_0xc3c0a2;_0x4143de[_0x382d77[_0x580dd2(0x1ed)]]=_0x382d77['Value'];}),_0x433a0a['Resources'][_0x19a631[_0xc3c0a2(0x1f8)]][_0xc3c0a2(0x169)][_0xc3c0a2(0x20e)]=_0x4143de,_0x2a1513[_0xc3c0a2(0x1f4)][_0x19a631[_0xc3c0a2(0x1d2)]][_0xc3c0a2(0x169)][_0xc3c0a2(0x20e)]=_0x4143de;}}if(_0x19a631[_0xc3c0a2(0x1f9)](_0x313ac6,null)&&_0x19a631[_0xc3c0a2(0x1d6)](_0x313ac6,undefined)){let _0x57a4d4=0x1;_0x313ac6[_0xc3c0a2(0x1a2)](_0x11a60c=>{const _0x1dcf1a=_0xc3c0a2;_0x822d0[_0x1dcf1a(0x189)][_0x1dcf1a(0x16f)]({'ParameterKey':_0x1dcf1a(0x1ce)+_0x19a631['wVYcI'](String,_0x57a4d4)['padStart'](0x2,'0'),'ParameterValue':_0x11a60c[_0x1dcf1a(0x1c1)]}),_0x57a4d4+=0x1;});}const _0x1457b0=await _0xf149d['createStack'](_0x822d0)[_0xc3c0a2(0x1b9)]();logger[_0xc3c0a2(0x1e1)](_0x19a631[_0xc3c0a2(0x214)]);const _0x439dda={};return _0x439dda[_0xc3c0a2(0x1ad)]=_0x1457b0['StackId'],_0xf149d[_0xc3c0a2(0x1b1)](_0x19a631['aBJlV'],_0x439dda)[_0xc3c0a2(0x1b9)]();};