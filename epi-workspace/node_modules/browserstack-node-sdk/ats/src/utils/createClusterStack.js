const a27_0x1d7e27=a27_0x473b;(function(_0x2f41cc,_0x1433c1){const _0x447783=a27_0x473b,_0xff7fc6=_0x2f41cc();while(!![]){try{const _0x30f087=-parseInt(_0x447783(0x1a8))/0x1*(-parseInt(_0x447783(0x170))/0x2)+-parseInt(_0x447783(0x15d))/0x3*(parseInt(_0x447783(0x199))/0x4)+parseInt(_0x447783(0x187))/0x5*(-parseInt(_0x447783(0x132))/0x6)+parseInt(_0x447783(0x192))/0x7*(-parseInt(_0x447783(0x1b1))/0x8)+-parseInt(_0x447783(0x18f))/0x9+-parseInt(_0x447783(0x144))/0xa*(parseInt(_0x447783(0x141))/0xb)+parseInt(_0x447783(0x11f))/0xc;if(_0x30f087===_0x1433c1)break;else _0xff7fc6['push'](_0xff7fc6['shift']());}catch(_0x39603b){_0xff7fc6['push'](_0xff7fc6['shift']());}}}(a27_0x123b,0xe347a));function a27_0x123b(){const _0x260911=['apiVersion','stringify','JYTep','GmYmC','StackId','zhKNY','gGWkP','../config/constants','NodeGroupName','spesg','wlxBr','CYhKF','iuSmr','68774424wQAeRy','NodeAutoScalingGroupMaxSize','lVdZO','bXaaV','join','browserstack:cluster','../config/logger','Subnets','aJutx','zPVHs','nzyYD','schema','azoty','path','PjJKK','createClusterStack','SfFty','NodeGroup','AHhmg','10584792iTrBsn','stackCreateComplete','OljoN','tlCTj','yoFSQ','value','DTMyZ','byntH','PvdBz','S3BucketName','push','mShhj','utf-8','CAPABILITY_NAMED_IAM','jhZjR','11jKDrTb','Properties','nsbtB','12470090MeQgtD','readFileAsync','ParameterGroups','instanceType','DPmNI','NodeAutoScalingGroupMinSizeWindows','CNrjm','hzhnk','AWS::CloudFormation::Interface','MvDlE','Key','wJWRj','GcXpi','forEach','kBVzE','js-yaml-cloudformation-schema','uluyW','rwcOR','vachv','VkzIK','QOONJ','Hipbq','ParameterKey','pgOQA','BkVoe','324555EefzJZ','Subnet02Block','HfWzh','cJJwl','Resources','rXERs','eyTgW','subnet-create.yaml','gjqxU','oCZcn','nnBxa','nGlxv','ResourcesVpcConfig','VPC','s3Bucket','ZuDGE','ZiDmb','iwPsH','Ref','2385554pqSVYs','VpcBlock','-NodeGroup','aPYkM','uCSRH','ClusterAutoUpgrade','CFTemplates','waitFor','subnet-import.yaml','eRVAi','load','ClusterName','nyPba','Subnet03','Value','EZCey','SubnetIds','lfrXR','vpc-create.yaml','ZOdBh','ZRqWv','Subnet01','DaORA','5rxOblv','HJjao','uWHZG','ZmzwN','NodeGroupWindows','toString','gMjjF','UPeZz','15742890gLJGLc','VHlIJ','xsrrr','7FFiepb','ParameterValue','cTrWw','TFgFE','pzalS','NodeImageId','TMisv','12uQhGZU','rMnBk','evlbZ','bluebird','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Tags','tjhmM','Metadata','EKSCluster','nvLaZ','LszcQ','true','split','padStart','Fn::Join','1EFzrws','Subnet','dufCM','createStack','NodeInstanceType','OxFqW','qCTEl','lcJes','Subnet01Block','7265080MmiUEu','Outputs','NodeAutoScalingGroupMinSize','keys','NodeGroupNameWindows','lTjJj','StackName','YpnLS','PtogD','gpDZc','OHSqx','NwRQj','js-yaml','WJdgt','zmhtr','rYykI','uwHPt','AuZWJ','FkPxB','pIHOy','ksMsK','Parameters','false','4|2|3|1|0|5','mBcsO','./AWSUtils'];a27_0x123b=function(){return _0x260911;};return a27_0x123b();}const fs=require('fs'),path=require(a27_0x1d7e27(0x12c)),Promise=require(a27_0x1d7e27(0x19c)),yaml=require(a27_0x1d7e27(0x104)),{CLOUDFORMATION_SCHEMA}=require(a27_0x1d7e27(0x153)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x1d7e27(0x119)),{logger}=require(a27_0x1d7e27(0x125)),{isBucketPresent}=require(a27_0x1d7e27(0x111));Promise['promisifyAll'](fs);const mergeTemplates=(_0x58c190,_0x3f83fd)=>{const _0x514ef8=a27_0x1d7e27,_0x3c590d={'PtogD':_0x514ef8(0x16a),'kBVzE':function(_0xb0c1ed,_0x28f219,_0x16a524){return _0xb0c1ed(_0x28f219,_0x16a524);},'evlbZ':function(_0x6bdf6e,_0x450036){return _0x6bdf6e===_0x450036;},'GcXpi':_0x514ef8(0x1aa),'wlxBr':'zimdV','HUTmC':_0x514ef8(0x1b6)};Object[_0x514ef8(0x1b4)](_0x3f83fd)[_0x514ef8(0x151)](_0x4058ff=>{const _0xdea886=_0x514ef8,_0x5143b2={'IqEGB':function(_0x15cb3a,_0x3ed137,_0x196cd8){const _0x588f7b=a27_0x473b;return _0x3c590d[_0x588f7b(0x152)](_0x15cb3a,_0x3ed137,_0x196cd8);},'cTrWw':function(_0x3d250f,_0x2ee21b){return _0x3c590d['evlbZ'](_0x3d250f,_0x2ee21b);},'LszcQ':_0x3c590d[_0xdea886(0x150)]};if(_0x3c590d[_0xdea886(0x19b)](_0x3c590d[_0xdea886(0x11c)],_0x3c590d['HUTmC'])){const _0x4a9a99={};_0x4a9a99[_0xdea886(0x15a)]=_0x3c590d[_0xdea886(0x100)],_0x4a9a99['ParameterValue']=_0x52fdae,_0x1280f1['Parameters'][_0xdea886(0x13c)](_0x4a9a99);}else{var _0xd4f26e=_0x3f83fd[_0x4058ff];Object[_0xdea886(0x1b4)](_0xd4f26e)[_0xdea886(0x151)](_0x14c7c4=>{const _0xcd4a02=_0xdea886,_0x38c38c={'iuSmr':function(_0x33abea,_0x1e4200,_0x3159e0){return _0x5143b2['IqEGB'](_0x33abea,_0x1e4200,_0x3159e0);}};_0x5143b2[_0xcd4a02(0x194)](_0x5143b2[_0xcd4a02(0x1a3)],_0x5143b2[_0xcd4a02(0x1a3)])?_0x58c190[_0x4058ff][_0x14c7c4]=_0xd4f26e[_0x14c7c4]:_0x38c38c[_0xcd4a02(0x11e)](_0x1c37de,_0x4d3707,_0x7018f);});}});},addVPCData=async(_0x41f6c6,_0x19265f)=>{const _0x59c6d5=a27_0x1d7e27,_0x34d9cf={'QOONJ':'4|3|1|0|2|5','TFgFE':function(_0x1f180c,_0x29c9b1){return _0x1f180c(_0x29c9b1);},'Hipbq':function(_0x183d82,_0x2ceb63){return _0x183d82(_0x2ceb63);},'spesg':_0x59c6d5(0x1a7),'ksMsK':_0x59c6d5(0x14c),'OHSqx':function(_0x25ca36,_0x23379f){return _0x25ca36(_0x23379f);},'MRnbR':function(_0x2e420f,_0x47b2eb){return _0x2e420f!==_0x47b2eb;},'qjdru':_0x59c6d5(0x128),'OljoN':_0x59c6d5(0x176),'pVohD':'vpc-import.yaml','HJjao':_0x59c6d5(0x13e),'GmYmC':function(_0x3d6448,_0xd2637,_0x229a4c){return _0x3d6448(_0xd2637,_0x229a4c);},'vKQHB':_0x59c6d5(0x16a),'lfrXR':function(_0x452944,_0x11f8fa){return _0x452944===_0x11f8fa;},'WJdgt':_0x59c6d5(0x163),'DTMyZ':_0x59c6d5(0x182),'yoFSQ':_0x59c6d5(0x171)};if(_0x19265f){if(_0x34d9cf['MRnbR'](_0x34d9cf['qjdru'],_0x34d9cf['qjdru'])){const _0x179035=_0x34d9cf[_0x59c6d5(0x158)][_0x59c6d5(0x1a5)]('|');let _0x243b10=0x0;while(!![]){switch(_0x179035[_0x243b10++]){case'0':_0x22a4c8[_0x59c6d5(0x161)][_0x59c6d5(0x18b)][_0x59c6d5(0x142)][_0x59c6d5(0x126)][_0x59c6d5(0x13c)]({'Ref':_0x59c6d5(0x1a9)+_0x34d9cf['TFgFE'](_0x4d03e6,_0x3de8bc)[_0x59c6d5(0x1a6)](0x2,'0')});continue;case'1':_0xde8138[_0x59c6d5(0x161)][_0x59c6d5(0x130)][_0x59c6d5(0x142)][_0x59c6d5(0x126)][_0x59c6d5(0x13c)]({'Ref':_0x59c6d5(0x1a9)+_0x34d9cf[_0x59c6d5(0x159)](_0x5e116e,_0x1b2517)[_0x59c6d5(0x1a6)](0x2,'0')});continue;case'2':_0xec37cf[_0x59c6d5(0x1b2)][_0x59c6d5(0x180)][_0x59c6d5(0x17e)][_0x34d9cf[_0x59c6d5(0x11b)]][0x1][_0x59c6d5(0x13c)]({'Ref':_0x59c6d5(0x1a9)+_0x34d9cf[_0x59c6d5(0x159)](_0x39c66f,_0x58de53)['padStart'](0x2,'0')});continue;case'3':_0x4d90ff[_0x59c6d5(0x1a0)][_0x34d9cf[_0x59c6d5(0x10c)]][_0x59c6d5(0x146)][0x0][_0x59c6d5(0x10d)]['push'](_0x59c6d5(0x1a9)+_0x34d9cf[_0x59c6d5(0x195)](_0x7c1514,_0x55b834)[_0x59c6d5(0x1a6)](0x2,'0'));continue;case'4':_0xa0dea9[_0x59c6d5(0x161)][_0x59c6d5(0x1a1)][_0x59c6d5(0x142)][_0x59c6d5(0x169)][_0x59c6d5(0x180)][_0x59c6d5(0x13c)]({'Ref':_0x59c6d5(0x1a9)+_0x34d9cf[_0x59c6d5(0x102)](_0x5661e3,_0x5bce5b)[_0x59c6d5(0x1a6)](0x2,'0')});continue;case'5':_0x1c306a+=0x1;continue;}break;}}else{const _0x5f2049=await fs[_0x59c6d5(0x145)](path[_0x59c6d5(0x123)](__dirname,'..',_0x34d9cf[_0x59c6d5(0x134)],_0x34d9cf['pVohD']),_0x34d9cf[_0x59c6d5(0x188)]),_0x45eddb={};_0x45eddb['schema']=CLOUDFORMATION_SCHEMA;const _0x224f9c=yaml[_0x59c6d5(0x17a)](_0x5f2049,_0x45eddb);_0x34d9cf[_0x59c6d5(0x115)](mergeTemplates,_0x41f6c6,_0x224f9c),_0x41f6c6['Metadata'][_0x34d9cf[_0x59c6d5(0x10c)]]['ParameterGroups'][0x0][_0x59c6d5(0x10d)][_0x59c6d5(0x13c)](_0x34d9cf['vKQHB']);}}else{if(_0x34d9cf[_0x59c6d5(0x181)](_0x34d9cf[_0x59c6d5(0x105)],_0x34d9cf[_0x59c6d5(0x105)])){const _0x2f02ee=await fs['readFileAsync'](path[_0x59c6d5(0x123)](__dirname,'..',_0x34d9cf[_0x59c6d5(0x134)],_0x34d9cf[_0x59c6d5(0x138)]),_0x34d9cf['HJjao']),_0x52eea3={};_0x52eea3[_0x59c6d5(0x12a)]=CLOUDFORMATION_SCHEMA;const _0x5720d6=yaml[_0x59c6d5(0x17a)](_0x2f02ee,_0x52eea3);_0x34d9cf[_0x59c6d5(0x115)](mergeTemplates,_0x41f6c6,_0x5720d6),_0x41f6c6[_0x59c6d5(0x1a0)][_0x34d9cf[_0x59c6d5(0x10c)]]['ParameterGroups'][0x0]['Parameters']['push'](_0x34d9cf[_0x59c6d5(0x136)]);}else _0x18cb37[_0x2787b6][_0x2230e2]=_0x3fe677[_0x1e757a];}},addS3Data=async _0x528419=>{const _0x1f5598=a27_0x1d7e27,_0x5ee0af={'VkzIK':'CFTemplates','wJWRj':'s3-create.yaml','azoty':_0x1f5598(0x13e),'TlWzz':function(_0x5b9b5a,_0x5ee872){return _0x5b9b5a(_0x5ee872);},'NwRQj':function(_0x16b984,_0xd6c285){return _0x16b984===_0xd6c285;},'jhZjR':function(_0x54de24,_0x3e7d84){return _0x54de24!==_0x3e7d84;},'xewQS':'KQyam','ZOdBh':_0x1f5598(0x10a),'CYhKF':function(_0x3cc3d2,_0x436b53,_0x5412d0){return _0x3cc3d2(_0x436b53,_0x5412d0);}},_0x33f69d=await fs[_0x1f5598(0x145)](path[_0x1f5598(0x123)](__dirname,'..',_0x5ee0af[_0x1f5598(0x157)],_0x5ee0af[_0x1f5598(0x14f)]),_0x5ee0af[_0x1f5598(0x12b)]),_0x4fbd21={};_0x4fbd21['schema']=CLOUDFORMATION_SCHEMA;const _0x58d160=yaml[_0x1f5598(0x17a)](_0x33f69d,_0x4fbd21),_0x3b3a75=await _0x5ee0af['TlWzz'](isBucketPresent,global_registry[_0x1f5598(0x16b)]);if(_0x5ee0af[_0x1f5598(0x103)](_0x3b3a75,![])){if(_0x5ee0af[_0x1f5598(0x140)](_0x5ee0af['xewQS'],_0x5ee0af[_0x1f5598(0x183)]))_0x5ee0af[_0x1f5598(0x11d)](mergeTemplates,_0x528419,_0x58d160);else{var _0x4c773c=_0x342b4a[_0x9c24a5];_0xea3db2['keys'](_0x4c773c)[_0x1f5598(0x151)](_0x36f704=>{_0x26bcbe[_0x383721][_0x36f704]=_0x4c773c[_0x36f704];});}}},addSubnetData=async(_0x479c29,_0x474e8f)=>{const _0x3f3006=a27_0x1d7e27,_0x24af1e={'gpDZc':function(_0xac3e79,_0x3eef33){return _0xac3e79!==_0x3eef33;},'AuZWJ':_0x3f3006(0x1a2),'shyqV':_0x3f3006(0x127),'tjhmM':_0x3f3006(0x10f),'MvDlE':_0x3f3006(0x1a7),'YpnLS':function(_0xd687fb,_0x1cc7a8){return _0xd687fb(_0x1cc7a8);},'rwcOR':function(_0x4fe5da,_0xee2ac0){return _0x4fe5da(_0xee2ac0);},'LXPIX':'AWS::CloudFormation::Interface','bXaaV':function(_0x4969f8,_0x2cf3ed){return _0x4969f8(_0x2cf3ed);},'EZCey':function(_0x395fb6,_0x514310){return _0x395fb6(_0x514310);},'NhRSq':_0x3f3006(0x130),'byntH':_0x3f3006(0x18b),'HDCDf':function(_0x504a6e,_0x3f46bb){return _0x504a6e===_0x3f46bb;},'eRVAi':_0x3f3006(0x154),'ZmzwN':_0x3f3006(0x176),'pgOQA':_0x3f3006(0x178),'msQZP':'utf-8','wHXPA':function(_0x4e2ccb,_0xefcf86,_0x465fff){return _0x4e2ccb(_0xefcf86,_0x465fff);},'uWHZG':_0x3f3006(0x117),'xtPYP':_0x3f3006(0x164),'pIHOy':function(_0x92fee6,_0x3262cd,_0x41393a){return _0x92fee6(_0x3262cd,_0x41393a);},'rYykI':_0x3f3006(0x185),'OxFqW':'Subnet02','ZiDmb':_0x3f3006(0x17d),'PvdBz':_0x3f3006(0x1b0),'HfWzh':_0x3f3006(0x15e),'tlCTj':'Subnet03Block'};if(_0x474e8f){if(_0x24af1e['HDCDf'](_0x24af1e['eRVAi'],_0x24af1e[_0x3f3006(0x179)])){const _0x1034bc=await fs[_0x3f3006(0x145)](path[_0x3f3006(0x123)](__dirname,'..',_0x24af1e[_0x3f3006(0x18a)],_0x24af1e[_0x3f3006(0x15b)]),_0x24af1e['msQZP']),_0xdf78ad={};_0xdf78ad[_0x3f3006(0x12a)]=CLOUDFORMATION_SCHEMA;const _0x1f3827=yaml[_0x3f3006(0x17a)](_0x1034bc,_0xdf78ad);_0x24af1e['wHXPA'](mergeTemplates,_0x479c29,_0x1f3827);let _0x4f51d0=0x1;_0x474e8f['forEach'](_0x404d4e=>{const _0x1e391c=_0x3f3006;if(_0x24af1e[_0x1e391c(0x101)](_0x24af1e[_0x1e391c(0x109)],_0x24af1e['shyqV'])){const _0x53538c=_0x24af1e[_0x1e391c(0x19f)][_0x1e391c(0x1a5)]('|');let _0x15d7f5=0x0;while(!![]){switch(_0x53538c[_0x15d7f5++]){case'0':_0x479c29['Outputs'][_0x1e391c(0x180)][_0x1e391c(0x17e)][_0x24af1e[_0x1e391c(0x14d)]][0x1][_0x1e391c(0x13c)]({'Ref':_0x1e391c(0x1a9)+_0x24af1e[_0x1e391c(0x1b8)](String,_0x4f51d0)[_0x1e391c(0x1a6)](0x2,'0')});continue;case'1':_0x479c29[_0x1e391c(0x161)][_0x1e391c(0x18b)][_0x1e391c(0x142)][_0x1e391c(0x126)][_0x1e391c(0x13c)]({'Ref':'Subnet'+_0x24af1e['rwcOR'](String,_0x4f51d0)[_0x1e391c(0x1a6)](0x2,'0')});continue;case'2':_0x479c29[_0x1e391c(0x1a0)][_0x24af1e['LXPIX']][_0x1e391c(0x146)][0x0]['Parameters']['push'](_0x1e391c(0x1a9)+_0x24af1e['rwcOR'](String,_0x4f51d0)[_0x1e391c(0x1a6)](0x2,'0'));continue;case'3':_0x479c29['Resources'][_0x1e391c(0x130)][_0x1e391c(0x142)][_0x1e391c(0x126)][_0x1e391c(0x13c)]({'Ref':_0x1e391c(0x1a9)+_0x24af1e[_0x1e391c(0x155)](String,_0x4f51d0)[_0x1e391c(0x1a6)](0x2,'0')});continue;case'4':_0x479c29[_0x1e391c(0x161)][_0x1e391c(0x1a1)][_0x1e391c(0x142)][_0x1e391c(0x169)]['SubnetIds'][_0x1e391c(0x13c)]({'Ref':_0x1e391c(0x1a9)+_0x24af1e[_0x1e391c(0x122)](String,_0x4f51d0)[_0x1e391c(0x1a6)](0x2,'0')});continue;case'5':_0x4f51d0+=0x1;continue;}break;}}else _0x593858['keys'](_0x258cdf)[_0x1e391c(0x151)](_0x4bcf64=>{const _0x3977b4=_0x1e391c;var _0x5d4aa2=_0x344772[_0x4bcf64];_0x5ad785[_0x3977b4(0x1b4)](_0x5d4aa2)[_0x3977b4(0x151)](_0x3b70ca=>{_0x2cdae4[_0x4bcf64][_0x3b70ca]=_0x5d4aa2[_0x3b70ca];});});});}else{const _0x98c090={'xsrrr':function(_0x312445,_0x356120){const _0x3f7727=_0x3f3006;return _0x24af1e[_0x3f7727(0x17f)](_0x312445,_0x356120);}};let _0x428ddd=0x1;_0x325a4c[_0x3f3006(0x151)](_0x52104c=>{const _0x4f6da9=_0x3f3006;_0x1b16b9[_0x4f6da9(0x10d)]['push']({'ParameterKey':_0x4f6da9(0x1a9)+_0x98c090[_0x4f6da9(0x191)](_0x3d2a17,_0x428ddd)[_0x4f6da9(0x1a6)](0x2,'0'),'ParameterValue':_0x52104c['value']}),_0x428ddd+=0x1;});}}else{if(_0x24af1e[_0x3f3006(0x101)](_0x24af1e[_0x3f3006(0x189)],_0x24af1e[_0x3f3006(0x189)])){for(const _0xcf77d5 in _0x1bbac2[_0x3f3006(0x161)]){_0x3f2fb1[_0x3f3006(0x161)][_0xcf77d5][_0x3f3006(0x142)]&&_0x410c68[_0x3f3006(0x161)][_0xcf77d5][_0x3f3006(0x142)][_0x3f3006(0x19e)]&&_0x1a43ba[_0x3f3006(0x161)][_0xcf77d5]['Properties'][_0x3f3006(0x19e)]['push'](..._0x3ff684);}const _0x1570fc={};_0x24a585['forEach'](_0x10e0b2=>{const _0x58b963=_0x3f3006;_0x1570fc[_0x10e0b2['Key']]=_0x10e0b2[_0x58b963(0x17e)];}),_0x4377f2[_0x3f3006(0x161)][_0x24af1e['NhRSq']][_0x3f3006(0x142)][_0x3f3006(0x19e)]=_0x1570fc,_0x483683['Resources'][_0x24af1e[_0x3f3006(0x139)]][_0x3f3006(0x142)][_0x3f3006(0x19e)]=_0x1570fc;}else{const _0x175835=await fs['readFileAsync'](path[_0x3f3006(0x123)](__dirname,'..',_0x24af1e[_0x3f3006(0x18a)],_0x24af1e['xtPYP']),_0x24af1e['msQZP']),_0x58b913={};_0x58b913[_0x3f3006(0x12a)]=CLOUDFORMATION_SCHEMA;const _0xc6dee4=yaml[_0x3f3006(0x17a)](_0x175835,_0x58b913);_0x24af1e[_0x3f3006(0x10b)](mergeTemplates,_0x479c29,_0xc6dee4),_0x479c29[_0x3f3006(0x161)]['EKSCluster']['DependsOn'][_0x3f3006(0x13c)](_0x24af1e[_0x3f3006(0x107)],_0x24af1e[_0x3f3006(0x1ad)],_0x24af1e['ZiDmb']);const _0x53244c={};_0x53244c[_0x3f3006(0x16f)]=_0x24af1e[_0x3f3006(0x107)];const _0xc87e9e={};_0xc87e9e['Ref']=_0x24af1e[_0x3f3006(0x1ad)];const _0x3831cf={};_0x3831cf[_0x3f3006(0x16f)]=_0x24af1e[_0x3f3006(0x16d)],_0x479c29[_0x3f3006(0x161)][_0x3f3006(0x1a1)][_0x3f3006(0x142)]['ResourcesVpcConfig']['SubnetIds']=[_0x53244c,_0xc87e9e,_0x3831cf],_0x479c29[_0x3f3006(0x1a0)][_0x24af1e['LXPIX']][_0x3f3006(0x146)][0x0][_0x3f3006(0x10d)][_0x3f3006(0x13c)](_0x24af1e[_0x3f3006(0x13a)],_0x24af1e[_0x3f3006(0x15f)],_0x24af1e[_0x3f3006(0x135)]);const _0x352a15={};_0x352a15[_0x3f3006(0x16f)]=_0x24af1e['rYykI'];const _0x530580={};_0x530580[_0x3f3006(0x16f)]=_0x24af1e[_0x3f3006(0x1ad)];const _0x538079={};_0x538079['Ref']=_0x24af1e[_0x3f3006(0x16d)],_0x479c29[_0x3f3006(0x161)][_0x3f3006(0x130)][_0x3f3006(0x142)][_0x3f3006(0x126)]=[_0x352a15,_0x530580,_0x538079];const _0x5f598c={};_0x5f598c['Ref']=_0x24af1e[_0x3f3006(0x107)];const _0x878a9d={};_0x878a9d[_0x3f3006(0x16f)]=_0x24af1e['OxFqW'];const _0x4b91c9={};_0x4b91c9[_0x3f3006(0x16f)]=_0x24af1e['ZiDmb'],_0x479c29[_0x3f3006(0x161)]['NodeGroupWindows']['Properties']['Subnets']=[_0x5f598c,_0x878a9d,_0x4b91c9],_0x479c29[_0x3f3006(0x1b2)]['SubnetIds'][_0x3f3006(0x17e)][_0x24af1e[_0x3f3006(0x14d)]][0x1]=[{'Ref':_0x24af1e[_0x3f3006(0x107)]},{'Ref':_0x24af1e[_0x3f3006(0x1ad)]},{'Ref':_0x24af1e['ZiDmb']}];}}},addTags=async(_0x42efa2,_0x276f46,_0x22b326)=>{const _0x5a53ca=a27_0x1d7e27,_0x44530d={'GSTUv':function(_0x275fc2,_0xd5bfcd){return _0x275fc2(_0xd5bfcd);},'uwHPt':function(_0x5224ce,_0x191659){return _0x5224ce===_0x191659;},'vachv':_0x5a53ca(0x15c),'mTZDI':function(_0x465919,_0x2ab0ee){return _0x465919===_0x2ab0ee;},'cJJwl':_0x5a53ca(0x16e),'mBcsO':_0x5a53ca(0x114),'mShhj':_0x5a53ca(0x106),'DPmNI':_0x5a53ca(0x130),'mfaxA':_0x5a53ca(0x18b)};for(const _0x892df in _0x42efa2[_0x5a53ca(0x161)]){_0x44530d['mTZDI'](_0x44530d[_0x5a53ca(0x160)],_0x44530d[_0x5a53ca(0x110)])?_0x539b9a['Resources'][_0x4ddc2e][_0x5a53ca(0x142)]&&_0x2e3660[_0x5a53ca(0x161)][_0x37a8ff]['Properties'][_0x5a53ca(0x19e)]&&_0x277c5b[_0x5a53ca(0x161)][_0x1a2ffe][_0x5a53ca(0x142)][_0x5a53ca(0x19e)]['push'](..._0x363c75):_0x42efa2[_0x5a53ca(0x161)][_0x892df][_0x5a53ca(0x142)]&&_0x42efa2[_0x5a53ca(0x161)][_0x892df][_0x5a53ca(0x142)][_0x5a53ca(0x19e)]&&(_0x44530d[_0x5a53ca(0x108)](_0x44530d[_0x5a53ca(0x13d)],_0x44530d['mShhj'])?_0x42efa2[_0x5a53ca(0x161)][_0x892df]['Properties'][_0x5a53ca(0x19e)]['push'](..._0x22b326):_0x18a341['Resources'][_0x44afc2][_0x5a53ca(0x142)][_0x5a53ca(0x19e)][_0x5a53ca(0x13c)](..._0x24d6d6));}const _0x5e0629={};_0x22b326[_0x5a53ca(0x151)](_0x5e3e17=>{const _0x28be65=_0x5a53ca,_0x99b17f={'uCSRH':function(_0x46b7cc,_0x54547f){return _0x44530d['GSTUv'](_0x46b7cc,_0x54547f);}};_0x44530d['uwHPt'](_0x44530d[_0x28be65(0x156)],_0x44530d[_0x28be65(0x156)])?_0x5e0629[_0x5e3e17[_0x28be65(0x14e)]]=_0x5e3e17[_0x28be65(0x17e)]:(_0x4d77b5[_0x28be65(0x10d)][_0x28be65(0x13c)]({'ParameterKey':_0x28be65(0x1a9)+_0x99b17f[_0x28be65(0x174)](_0x369b56,_0x5ad34c)[_0x28be65(0x1a6)](0x2,'0'),'ParameterValue':_0x452149[_0x28be65(0x137)]}),_0x12cc49+=0x1);}),_0x42efa2[_0x5a53ca(0x161)][_0x44530d[_0x5a53ca(0x148)]]['Properties'][_0x5a53ca(0x19e)]=_0x5e0629,_0x42efa2['Resources'][_0x44530d['mfaxA']][_0x5a53ca(0x142)][_0x5a53ca(0x19e)]=_0x5e0629;};function a27_0x473b(_0xfbab09,_0x3e68e5){const _0x123b61=a27_0x123b();return a27_0x473b=function(_0x473bef,_0x18e143){_0x473bef=_0x473bef-0x100;let _0x61a6dd=_0x123b61[_0x473bef];return _0x61a6dd;},a27_0x473b(_0xfbab09,_0x3e68e5);}exports[a27_0x1d7e27(0x12e)]=async(_0x42d81b,_0x12817c,_0x3c7501,_0x43d9bb=null,_0x347373=null,_0x4f0424)=>{const _0x21f7e3=a27_0x1d7e27,_0x36fd54={'AHhmg':function(_0x4043ae,_0x290c72){return _0x4043ae(_0x290c72);},'UPeZz':_0x21f7e3(0x124),'ZuDGE':'browserstack:creationDate','aPYkM':'2010-05-15','lcJes':_0x21f7e3(0x176),'Viauw':'aws-eks-cluster-dep.yaml','uJPKc':_0x21f7e3(0x13e),'rMnBk':function(_0x30351a,_0x4e8466,_0x53e1d2){return _0x30351a(_0x4e8466,_0x53e1d2);},'gGWkP':function(_0x1d521c,_0x362ca4,_0x283201){return _0x1d521c(_0x362ca4,_0x283201);},'rXERs':function(_0x126b0c,_0x29a93a,_0x3ed550,_0x1d6f44){return _0x126b0c(_0x29a93a,_0x3ed550,_0x1d6f44);},'PjJKK':'DELETE','TMisv':_0x21f7e3(0x17b),'hzhnk':_0x21f7e3(0x11a),'VHlIJ':_0x21f7e3(0x1b3),'nnBxa':_0x21f7e3(0x149),'SfFty':'NodeAutoScalingGroupDesiredSizeWindows','nGlxv':_0x21f7e3(0x120),'nzyYD':_0x21f7e3(0x197),'pzalS':_0x21f7e3(0x1ac),'gjqxU':_0x21f7e3(0x13b),'oCZcn':_0x21f7e3(0x1b5),'zHqUb':_0x21f7e3(0x175),'nsbtB':_0x21f7e3(0x1a4),'YeSQK':_0x21f7e3(0x10e),'gMjjF':_0x21f7e3(0x13f),'lVdZO':function(_0x2fc12b,_0x3da75c){return _0x2fc12b!=_0x3da75c;},'nyPba':function(_0x1626b7,_0x39dc7a){return _0x1626b7!==_0x39dc7a;},'DaORA':_0x21f7e3(0x184),'aLWOa':_0x21f7e3(0x16a),'CNrjm':_0x21f7e3(0x19d),'qCTEl':_0x21f7e3(0x133)},_0x1f7242=COMMON_HST_TAGS,_0x4e3a5f={};_0x4e3a5f[_0x21f7e3(0x14e)]=_0x36fd54[_0x21f7e3(0x18e)],_0x4e3a5f['Value']=_0x42d81b,_0x1f7242[_0x21f7e3(0x13c)](_0x4e3a5f),_0x1f7242[_0x21f7e3(0x13c)]({'Key':_0x36fd54[_0x21f7e3(0x16c)],'Value':new Date()['valueOf']()[_0x21f7e3(0x18c)]()});const _0x4fe383={};_0x4fe383[_0x21f7e3(0x112)]=_0x36fd54[_0x21f7e3(0x173)];const _0x1fd17c=new AWS['CloudFormation'](_0x4fe383),_0x349b53=await fs[_0x21f7e3(0x145)](path[_0x21f7e3(0x123)](__dirname,'..',_0x36fd54[_0x21f7e3(0x1af)],_0x36fd54['Viauw']),_0x36fd54['uJPKc']),_0x1d4542={};_0x1d4542[_0x21f7e3(0x12a)]=CLOUDFORMATION_SCHEMA;const _0x3fc7ba=yaml[_0x21f7e3(0x17a)](_0x349b53,_0x1d4542);await _0x36fd54[_0x21f7e3(0x19a)](addVPCData,_0x3fc7ba,_0x43d9bb),await _0x36fd54[_0x21f7e3(0x131)](addS3Data,_0x3fc7ba),await _0x36fd54[_0x21f7e3(0x118)](addSubnetData,_0x3fc7ba,_0x347373),await _0x36fd54[_0x21f7e3(0x162)](addTags,_0x3fc7ba,_0x42d81b,_0x1f7242);const _0x3db6b4=JSON[_0x21f7e3(0x113)](_0x3fc7ba),_0x28db6c={};_0x28db6c[_0x21f7e3(0x1b7)]=CLUSTER_DEP_STACK_NAME+'-'+_0x42d81b,_0x28db6c['OnFailure']=_0x36fd54[_0x21f7e3(0x12d)],_0x28db6c['TemplateBody']=_0x3db6b4,_0x28db6c[_0x21f7e3(0x10d)]=[{'ParameterKey':_0x36fd54[_0x21f7e3(0x198)],'ParameterValue':_0x42d81b},{'ParameterKey':_0x36fd54[_0x21f7e3(0x14b)],'ParameterValue':_0x42d81b+_0x21f7e3(0x172)},{'ParameterKey':_0x36fd54[_0x21f7e3(0x190)],'ParameterValue':''+_0x12817c},{'ParameterKey':_0x36fd54[_0x21f7e3(0x167)],'ParameterValue':'0'},{'ParameterKey':_0x36fd54[_0x21f7e3(0x12f)],'ParameterValue':'1'},{'ParameterKey':_0x36fd54[_0x21f7e3(0x168)],'ParameterValue':''+_0x3c7501},{'ParameterKey':_0x36fd54[_0x21f7e3(0x129)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x36fd54[_0x21f7e3(0x196)],'ParameterValue':global_registry[_0x21f7e3(0x147)]},{'ParameterKey':_0x36fd54[_0x21f7e3(0x165)],'ParameterValue':global_registry[_0x21f7e3(0x16b)]},{'ParameterKey':_0x36fd54[_0x21f7e3(0x166)],'ParameterValue':_0x42d81b+'-Windows-NodeGroup'},{'ParameterKey':_0x36fd54['zHqUb'],'ParameterValue':_0x4f0424?_0x36fd54[_0x21f7e3(0x143)]:_0x36fd54['YeSQK']}],_0x28db6c['Capabilities']=[_0x36fd54[_0x21f7e3(0x18d)]],_0x28db6c[_0x21f7e3(0x19e)]=_0x1f7242;const _0x508483=_0x28db6c;if(_0x36fd54[_0x21f7e3(0x121)](_0x43d9bb,null)&&_0x36fd54['nyPba'](_0x43d9bb,undefined)){if(_0x36fd54[_0x21f7e3(0x17c)](_0x36fd54['DaORA'],_0x36fd54[_0x21f7e3(0x186)]))_0x1f750c[_0x1d20d6[_0x21f7e3(0x14e)]]=_0x104825[_0x21f7e3(0x17e)];else{const _0x164581={};_0x164581[_0x21f7e3(0x15a)]=_0x36fd54['aLWOa'],_0x164581[_0x21f7e3(0x193)]=_0x43d9bb,_0x508483[_0x21f7e3(0x10d)][_0x21f7e3(0x13c)](_0x164581);}}if(_0x36fd54[_0x21f7e3(0x121)](_0x347373,null)&&_0x36fd54[_0x21f7e3(0x17c)](_0x347373,undefined)){let _0xa38b31=0x1;_0x347373[_0x21f7e3(0x151)](_0x3f6820=>{const _0x1c4ecf=_0x21f7e3;_0x508483[_0x1c4ecf(0x10d)]['push']({'ParameterKey':_0x1c4ecf(0x1a9)+_0x36fd54[_0x1c4ecf(0x131)](String,_0xa38b31)[_0x1c4ecf(0x1a6)](0x2,'0'),'ParameterValue':_0x3f6820[_0x1c4ecf(0x137)]}),_0xa38b31+=0x1;});}const _0x523508=await _0x1fd17c[_0x21f7e3(0x1ab)](_0x508483)['promise']();logger['debug'](_0x36fd54[_0x21f7e3(0x14a)]);const _0x2fb3ec={};return _0x2fb3ec[_0x21f7e3(0x1b7)]=_0x523508[_0x21f7e3(0x116)],_0x1fd17c[_0x21f7e3(0x177)](_0x36fd54[_0x21f7e3(0x1ae)],_0x2fb3ec)['promise']();};