const a27_0x23f206=a27_0x4e34;(function(_0x3fa00f,_0x10cc3d){const _0x8650af=a27_0x4e34,_0x4c5441=_0x3fa00f();while(!![]){try{const _0x14332a=-parseInt(_0x8650af(0x1b4))/0x1+parseInt(_0x8650af(0x1ac))/0x2+-parseInt(_0x8650af(0x221))/0x3*(parseInt(_0x8650af(0x19d))/0x4)+parseInt(_0x8650af(0x20b))/0x5+-parseInt(_0x8650af(0x1db))/0x6+-parseInt(_0x8650af(0x250))/0x7+parseInt(_0x8650af(0x1ab))/0x8;if(_0x14332a===_0x10cc3d)break;else _0x4c5441['push'](_0x4c5441['shift']());}catch(_0x48b8e3){_0x4c5441['push'](_0x4c5441['shift']());}}}(a27_0x24dc,0x5b84d));const fs=require('fs'),path=require('path'),Promise=require(a27_0x23f206(0x1f8)),yaml=require(a27_0x23f206(0x1bd)),{CLOUDFORMATION_SCHEMA}=require(a27_0x23f206(0x209)),AWS=require(a27_0x23f206(0x1fb))[a27_0x23f206(0x1d4)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x23f206(0x1fb));Promise[a27_0x23f206(0x226)](fs);function a27_0x4e34(_0x4c2f63,_0x29dac5){const _0x24dc94=a27_0x24dc();return a27_0x4e34=function(_0x4e34a6,_0x1f099d){_0x4e34a6=_0x4e34a6-0x18e;let _0x273e2b=_0x24dc94[_0x4e34a6];return _0x273e2b;},a27_0x4e34(_0x4c2f63,_0x29dac5);}const mergeTemplates=(_0x450469,_0x3afd89)=>{const _0x3b7450=a27_0x23f206,_0x2efaa8={'oaaAT':function(_0x12fc26,_0x52e60d){return _0x12fc26(_0x52e60d);},'oGPoW':function(_0x298599,_0x2d4eb3){return _0x298599!==_0x2d4eb3;},'xMBHq':_0x3b7450(0x24f),'EghhD':_0x3b7450(0x1b7),'pVGYq':function(_0x33f2a6,_0x12e5e8,_0x373db5){return _0x33f2a6(_0x12e5e8,_0x373db5);},'JeCQG':function(_0x18a1c2,_0x10538c){return _0x18a1c2===_0x10538c;},'BKayx':_0x3b7450(0x247)};Object[_0x3b7450(0x1a8)](_0x3afd89)[_0x3b7450(0x1d7)](_0x294073=>{const _0x3b5497=_0x3b7450,_0x4f1f54={'dlZCZ':function(_0xa861a2,_0x449f3,_0x41af3e){const _0x4ad9bc=a27_0x4e34;return _0x2efaa8[_0x4ad9bc(0x211)](_0xa861a2,_0x449f3,_0x41af3e);}};if(_0x2efaa8[_0x3b5497(0x201)](_0x2efaa8[_0x3b5497(0x1d9)],_0x2efaa8[_0x3b5497(0x1d9)])){var _0x96fdfc=_0x3afd89[_0x294073];Object[_0x3b5497(0x1a8)](_0x96fdfc)[_0x3b5497(0x1d7)](_0x12787b=>{const _0x366b4a=_0x3b5497,_0x583967={'DepKi':function(_0x56ed2e,_0x491038){const _0x57417b=a27_0x4e34;return _0x2efaa8[_0x57417b(0x1cb)](_0x56ed2e,_0x491038);}};if(_0x2efaa8['oGPoW'](_0x2efaa8[_0x366b4a(0x1d0)],_0x2efaa8[_0x366b4a(0x18e)]))_0x450469[_0x294073][_0x12787b]=_0x96fdfc[_0x12787b];else{let _0x208bc2=0x1;_0x1e6726[_0x366b4a(0x1d7)](_0x2826ce=>{const _0x41128e=_0x366b4a;_0x214a25[_0x41128e(0x214)]['push']({'ParameterKey':'Subnet'+_0x583967[_0x41128e(0x22e)](_0xbf9afe,_0x208bc2)[_0x41128e(0x21c)](0x2,'0'),'ParameterValue':_0x2826ce['value']}),_0x208bc2+=0x1;});}});}else _0x4f1f54[_0x3b5497(0x192)](_0x424b2d,_0x31abac,_0x4e2ef1);});},addVPCData=async(_0x3ec74e,_0x5bb781)=>{const _0x1be979=a27_0x23f206,_0x52cbe2={'XBmTV':function(_0xf93067,_0x30e02d){return _0xf93067!==_0x30e02d;},'FhETc':_0x1be979(0x199),'HNLqd':_0x1be979(0x1c1),'IyFus':_0x1be979(0x1ee),'OyoZk':'utf-8','CRojR':function(_0x51ddf9,_0x40fa81,_0x3cc008){return _0x51ddf9(_0x40fa81,_0x3cc008);},'fCvel':'AWS::CloudFormation::Interface','hEDqD':_0x1be979(0x1aa),'sHUKT':function(_0x54aa03,_0x396b98){return _0x54aa03===_0x396b98;},'szvjm':'mCmHU','ilBgT':'vpc-create.yaml','vxSDV':function(_0x5a0dd5,_0x45c11b,_0x4d06ca){return _0x5a0dd5(_0x45c11b,_0x4d06ca);},'LWObz':_0x1be979(0x1b9)};if(_0x5bb781){if(_0x52cbe2[_0x1be979(0x1b3)](_0x52cbe2['FhETc'],_0x52cbe2[_0x1be979(0x1b6)])){var _0x36c143=_0x5efbd8[_0x4a014f];_0x121f14[_0x1be979(0x1a8)](_0x36c143)[_0x1be979(0x1d7)](_0x50551b=>{_0x3f489b[_0x229318][_0x50551b]=_0x36c143[_0x50551b];});}else{const _0x44c1b2=await fs['readFileAsync'](path[_0x1be979(0x1e2)](__dirname,'..',_0x52cbe2['HNLqd'],_0x52cbe2['IyFus']),_0x52cbe2[_0x1be979(0x21f)]),_0x4ec4f8={};_0x4ec4f8[_0x1be979(0x204)]=CLOUDFORMATION_SCHEMA;const _0x5b0eda=yaml[_0x1be979(0x23b)](_0x44c1b2,_0x4ec4f8);_0x52cbe2[_0x1be979(0x1f7)](mergeTemplates,_0x3ec74e,_0x5b0eda),_0x3ec74e['Metadata'][_0x52cbe2[_0x1be979(0x1bb)]][_0x1be979(0x203)][0x0]['Parameters'][_0x1be979(0x191)](_0x52cbe2[_0x1be979(0x24c)]);}}else{if(_0x52cbe2[_0x1be979(0x1cf)](_0x52cbe2[_0x1be979(0x1d6)],_0x52cbe2[_0x1be979(0x1d6)])){const _0x11dc85=await fs[_0x1be979(0x23d)](path['join'](__dirname,'..',_0x52cbe2['HNLqd'],_0x52cbe2[_0x1be979(0x21a)]),_0x52cbe2['OyoZk']),_0x313ea4={};_0x313ea4[_0x1be979(0x204)]=CLOUDFORMATION_SCHEMA;const _0x36fbb8=yaml['load'](_0x11dc85,_0x313ea4);_0x52cbe2['vxSDV'](mergeTemplates,_0x3ec74e,_0x36fbb8),_0x3ec74e[_0x1be979(0x1c7)][_0x52cbe2[_0x1be979(0x1bb)]][_0x1be979(0x203)][0x0][_0x1be979(0x214)][_0x1be979(0x191)](_0x52cbe2[_0x1be979(0x19b)]);}else _0x2ae846[_0x1be979(0x1ba)][_0x17b560][_0x1be979(0x1ef)]['Tags'][_0x1be979(0x191)](..._0x28a665);}},addS3Data=async _0x4005d3=>{const _0x36885f=a27_0x23f206,_0x388fc2={'jAfFx':_0x36885f(0x1aa),'NMvAv':_0x36885f(0x1c1),'gxSaI':_0x36885f(0x1c6),'sVZgm':_0x36885f(0x1a6),'EHeTt':function(_0x524edf,_0x3eaa84){return _0x524edf(_0x3eaa84);},'imwOC':function(_0x42829a,_0x5f53d0){return _0x42829a===_0x5f53d0;},'OSCUQ':function(_0x517262,_0x398edf){return _0x517262!==_0x398edf;},'zuleS':_0x36885f(0x216),'TFvmB':function(_0x521237,_0x5488fc,_0xa5071f){return _0x521237(_0x5488fc,_0xa5071f);}},_0x3d7ff3=await fs['readFileAsync'](path[_0x36885f(0x1e2)](__dirname,'..',_0x388fc2['NMvAv'],_0x388fc2[_0x36885f(0x230)]),_0x388fc2[_0x36885f(0x233)]),_0x34e46d={};_0x34e46d[_0x36885f(0x204)]=CLOUDFORMATION_SCHEMA;const _0x246c47=yaml[_0x36885f(0x23b)](_0x3d7ff3,_0x34e46d),_0x147385=await _0x388fc2[_0x36885f(0x1e3)](isBucketPresent,global_registry[_0x36885f(0x1eb)]);if(_0x388fc2[_0x36885f(0x1f3)](_0x147385,![])){if(_0x388fc2['OSCUQ'](_0x388fc2['zuleS'],_0x388fc2[_0x36885f(0x1ea)])){const _0x5b6755={};_0x5b6755[_0x36885f(0x190)]=_0x388fc2[_0x36885f(0x1d1)],_0x5b6755['ParameterValue']=_0x1aa057,_0x2c349b[_0x36885f(0x214)][_0x36885f(0x191)](_0x5b6755);}else _0x388fc2[_0x36885f(0x1ce)](mergeTemplates,_0x4005d3,_0x246c47);}},addSubnetData=async(_0x4fe6b9,_0x22401a)=>{const _0x27cfa8=a27_0x23f206,_0x2b87ab={'MwicO':_0x27cfa8(0x1ad),'FEpHo':function(_0x589fb8,_0x7dc249){return _0x589fb8(_0x7dc249);},'glLnc':_0x27cfa8(0x1a0),'vjTYw':'Fn::Join','Ajwpr':function(_0xef486c,_0x45eb93){return _0xef486c!==_0x45eb93;},'AYeyN':_0x27cfa8(0x1c0),'bryBr':_0x27cfa8(0x212),'JQqKq':_0x27cfa8(0x219),'sdFpF':function(_0x13dc54,_0x4e0b28){return _0x13dc54(_0x4e0b28);},'VVcsR':function(_0x241171,_0x300660){return _0x241171(_0x300660);},'PSVih':_0x27cfa8(0x244),'DBsLV':_0x27cfa8(0x1be),'BbKcx':function(_0x3cc1be,_0x547e97){return _0x3cc1be!==_0x547e97;},'RofmA':_0x27cfa8(0x227),'uCQJM':_0x27cfa8(0x1c1),'dSLLf':_0x27cfa8(0x24e),'zBxVp':_0x27cfa8(0x1a6),'YmTnx':function(_0x5b2a71,_0x9d887d,_0x33956e){return _0x5b2a71(_0x9d887d,_0x33956e);},'usLcM':_0x27cfa8(0x1cd),'zfaQU':_0x27cfa8(0x1ca),'xkLMR':_0x27cfa8(0x206),'aDqMn':_0x27cfa8(0x21b),'FbXaw':_0x27cfa8(0x197),'SSQli':_0x27cfa8(0x1bf),'YrSMY':_0x27cfa8(0x215),'OkDvs':_0x27cfa8(0x208)};if(_0x22401a){if(_0x2b87ab[_0x27cfa8(0x1c4)](_0x2b87ab[_0x27cfa8(0x245)],_0x2b87ab[_0x27cfa8(0x245)]))_0x1e50ca[_0xa2e01][_0x4db8df]=_0x58eda9[_0x5dfcec];else{const _0x434c27=await fs[_0x27cfa8(0x23d)](path[_0x27cfa8(0x1e2)](__dirname,'..',_0x2b87ab[_0x27cfa8(0x210)],_0x2b87ab[_0x27cfa8(0x23a)]),_0x2b87ab[_0x27cfa8(0x1c2)]),_0x4b715c={};_0x4b715c[_0x27cfa8(0x204)]=CLOUDFORMATION_SCHEMA;const _0x22a26f=yaml[_0x27cfa8(0x23b)](_0x434c27,_0x4b715c);_0x2b87ab[_0x27cfa8(0x1e8)](mergeTemplates,_0x4fe6b9,_0x22a26f);let _0xd63564=0x1;_0x22401a[_0x27cfa8(0x1d7)](_0x128d20=>{const _0x418865=_0x27cfa8,_0x14bf45={'sPLTS':_0x2b87ab[_0x418865(0x20c)],'vcnRH':function(_0x2e0c91,_0x3dadc6){const _0x5660f8=_0x418865;return _0x2b87ab[_0x5660f8(0x1b1)](_0x2e0c91,_0x3dadc6);},'bfDkV':_0x2b87ab[_0x418865(0x232)],'SsSCz':function(_0x12726f,_0x16f73e){const _0x3f2254=_0x418865;return _0x2b87ab[_0x3f2254(0x1b1)](_0x12726f,_0x16f73e);},'FzBXk':function(_0x5b3d9f,_0x7f4e19){const _0x27a010=_0x418865;return _0x2b87ab[_0x27a010(0x1b1)](_0x5b3d9f,_0x7f4e19);},'sAMFD':_0x2b87ab[_0x418865(0x1e1)],'xSuRn':function(_0x4f9659,_0x10cd18){const _0x28c68d=_0x418865;return _0x2b87ab[_0x28c68d(0x1b1)](_0x4f9659,_0x10cd18);},'oBGhF':function(_0x121327,_0x16a616){const _0x1111f4=_0x418865;return _0x2b87ab[_0x1111f4(0x1b1)](_0x121327,_0x16a616);}};if(_0x2b87ab[_0x418865(0x20e)](_0x2b87ab[_0x418865(0x239)],_0x2b87ab['bryBr'])){const _0x37c6b8=_0x2b87ab[_0x418865(0x1f1)][_0x418865(0x1f0)]('|');let _0x136e0a=0x0;while(!![]){switch(_0x37c6b8[_0x136e0a++]){case'0':_0x4fe6b9['Resources'][_0x418865(0x244)][_0x418865(0x1ef)][_0x418865(0x22c)][_0x418865(0x191)]({'Ref':'Subnet'+_0x2b87ab[_0x418865(0x1b1)](String,_0xd63564)[_0x418865(0x21c)](0x2,'0')});continue;case'1':_0x4fe6b9['Resources'][_0x418865(0x1a7)][_0x418865(0x1ef)][_0x418865(0x1de)][_0x418865(0x242)][_0x418865(0x191)]({'Ref':_0x418865(0x200)+_0x2b87ab[_0x418865(0x1b1)](String,_0xd63564)[_0x418865(0x21c)](0x2,'0')});continue;case'2':_0x4fe6b9[_0x418865(0x1ba)][_0x418865(0x1be)]['Properties']['Subnets'][_0x418865(0x191)]({'Ref':'Subnet'+_0x2b87ab[_0x418865(0x19f)](String,_0xd63564)['padStart'](0x2,'0')});continue;case'3':_0x4fe6b9[_0x418865(0x1c5)][_0x418865(0x242)]['Value'][_0x2b87ab['vjTYw']][0x1][_0x418865(0x191)]({'Ref':_0x418865(0x200)+_0x2b87ab[_0x418865(0x1c3)](String,_0xd63564)[_0x418865(0x21c)](0x2,'0')});continue;case'4':_0xd63564+=0x1;continue;case'5':_0x4fe6b9['Metadata'][_0x2b87ab[_0x418865(0x232)]][_0x418865(0x203)][0x0][_0x418865(0x214)][_0x418865(0x191)]('Subnet'+_0x2b87ab[_0x418865(0x1b1)](String,_0xd63564)[_0x418865(0x21c)](0x2,'0'));continue;}break;}}else{const _0x3cf9a3=_0x14bf45[_0x418865(0x23c)][_0x418865(0x1f0)]('|');let _0x5046a3=0x0;while(!![]){switch(_0x3cf9a3[_0x5046a3++]){case'0':_0x16efb5+=0x1;continue;case'1':_0x124921['Resources'][_0x418865(0x1be)][_0x418865(0x1ef)][_0x418865(0x22c)][_0x418865(0x191)]({'Ref':_0x418865(0x200)+_0x14bf45['vcnRH'](_0x37895a,_0x36e750)['padStart'](0x2,'0')});continue;case'2':_0x4d6953[_0x418865(0x1c7)][_0x14bf45[_0x418865(0x248)]]['ParameterGroups'][0x0][_0x418865(0x214)][_0x418865(0x191)](_0x418865(0x200)+_0x14bf45[_0x418865(0x229)](_0x5dd590,_0x494cce)['padStart'](0x2,'0'));continue;case'3':_0x3700ff[_0x418865(0x1ba)]['NodeGroup']['Properties'][_0x418865(0x22c)]['push']({'Ref':_0x418865(0x200)+_0x14bf45[_0x418865(0x1dc)](_0x4d138c,_0x5460be)['padStart'](0x2,'0')});continue;case'4':_0x4321ca[_0x418865(0x1c5)][_0x418865(0x242)][_0x418865(0x228)][_0x14bf45['sAMFD']][0x1][_0x418865(0x191)]({'Ref':_0x418865(0x200)+_0x14bf45[_0x418865(0x194)](_0x290a15,_0x1a3157)[_0x418865(0x21c)](0x2,'0')});continue;case'5':_0x2db652[_0x418865(0x1ba)][_0x418865(0x1a7)]['Properties'][_0x418865(0x1de)][_0x418865(0x242)][_0x418865(0x191)]({'Ref':_0x418865(0x200)+_0x14bf45[_0x418865(0x1da)](_0x2b78bf,_0x27f9d7)[_0x418865(0x21c)](0x2,'0')});continue;}break;}}});}}else{if(_0x2b87ab[_0x27cfa8(0x1c4)](_0x2b87ab[_0x27cfa8(0x20d)],_0x2b87ab[_0x27cfa8(0x20d)])){for(const _0x476d46 in _0x2d7dc0['Resources']){_0x1a37f7[_0x27cfa8(0x1ba)][_0x476d46][_0x27cfa8(0x1ef)]&&_0x3779ac['Resources'][_0x476d46][_0x27cfa8(0x1ef)][_0x27cfa8(0x1e6)]&&_0x414a3e[_0x27cfa8(0x1ba)][_0x476d46][_0x27cfa8(0x1ef)][_0x27cfa8(0x1e6)][_0x27cfa8(0x191)](..._0x1b3bee);}const _0x40be27={};_0x30188c[_0x27cfa8(0x1d7)](_0x22d0de=>{const _0x280f4b=_0x27cfa8;_0x40be27[_0x22d0de[_0x280f4b(0x1e7)]]=_0x22d0de[_0x280f4b(0x228)];}),_0x4c6c14[_0x27cfa8(0x1ba)][_0x2b87ab[_0x27cfa8(0x1e4)]]['Properties'][_0x27cfa8(0x1e6)]=_0x40be27,_0xfc94ce[_0x27cfa8(0x1ba)][_0x2b87ab[_0x27cfa8(0x1d2)]][_0x27cfa8(0x1ef)]['Tags']=_0x40be27;}else{const _0x7fc543=await fs['readFileAsync'](path['join'](__dirname,'..',_0x2b87ab[_0x27cfa8(0x210)],_0x2b87ab[_0x27cfa8(0x1ff)]),_0x2b87ab[_0x27cfa8(0x1c2)]),_0x36995b={};_0x36995b[_0x27cfa8(0x204)]=CLOUDFORMATION_SCHEMA;const _0x538df8=yaml[_0x27cfa8(0x23b)](_0x7fc543,_0x36995b);_0x2b87ab[_0x27cfa8(0x1e8)](mergeTemplates,_0x4fe6b9,_0x538df8),_0x4fe6b9['Resources']['EKSCluster'][_0x27cfa8(0x23e)][_0x27cfa8(0x191)](_0x2b87ab[_0x27cfa8(0x19e)],_0x2b87ab[_0x27cfa8(0x1b5)],_0x2b87ab[_0x27cfa8(0x193)]);const _0x34894f={};_0x34894f[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x19e)];const _0x36e09b={};_0x36e09b[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x1b5)];const _0x592006={};_0x592006[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x193)],_0x4fe6b9[_0x27cfa8(0x1ba)]['EKSCluster'][_0x27cfa8(0x1ef)]['ResourcesVpcConfig'][_0x27cfa8(0x242)]=[_0x34894f,_0x36e09b,_0x592006],_0x4fe6b9[_0x27cfa8(0x1c7)][_0x2b87ab[_0x27cfa8(0x232)]][_0x27cfa8(0x203)][0x0][_0x27cfa8(0x214)]['push'](_0x2b87ab[_0x27cfa8(0x1b0)],_0x2b87ab[_0x27cfa8(0x1a1)],_0x2b87ab[_0x27cfa8(0x1ed)]);const _0x53bab4={};_0x53bab4[_0x27cfa8(0x24a)]=_0x2b87ab['xkLMR'];const _0x3a8b08={};_0x3a8b08[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x1b5)];const _0x305fd9={};_0x305fd9[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x193)],_0x4fe6b9[_0x27cfa8(0x1ba)][_0x27cfa8(0x244)][_0x27cfa8(0x1ef)][_0x27cfa8(0x22c)]=[_0x53bab4,_0x3a8b08,_0x305fd9];const _0x5d6747={};_0x5d6747[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x19e)];const _0x3ad263={};_0x3ad263['Ref']=_0x2b87ab[_0x27cfa8(0x1b5)];const _0xfe8296={};_0xfe8296[_0x27cfa8(0x24a)]=_0x2b87ab[_0x27cfa8(0x193)],_0x4fe6b9[_0x27cfa8(0x1ba)]['NodeGroupWindows'][_0x27cfa8(0x1ef)][_0x27cfa8(0x22c)]=[_0x5d6747,_0x3ad263,_0xfe8296],_0x4fe6b9['Outputs'][_0x27cfa8(0x242)][_0x27cfa8(0x228)][_0x2b87ab[_0x27cfa8(0x1e1)]][0x1]=[{'Ref':_0x2b87ab[_0x27cfa8(0x19e)]},{'Ref':_0x2b87ab['aDqMn']},{'Ref':_0x2b87ab[_0x27cfa8(0x193)]}];}}},addTags=async(_0x2487a9,_0x2cc68b,_0x1e6d99)=>{const _0xaeae66=a27_0x23f206,_0x47c11d={'zqDjs':function(_0x51b1ff,_0x51bb06){return _0x51b1ff(_0x51bb06);},'OEdWE':function(_0x14a9bb,_0x11f7bb){return _0x14a9bb!==_0x11f7bb;},'HSMaW':_0xaeae66(0x222),'TbvRv':_0xaeae66(0x22d),'lHEhT':function(_0x227207,_0x1fd977){return _0x227207===_0x1fd977;},'EWfWM':_0xaeae66(0x1a5),'lhYRF':function(_0x333572,_0x55ce07){return _0x333572===_0x55ce07;},'JnAJh':'KGJQL','axmiu':_0xaeae66(0x244),'DqrvW':'NodeGroupWindows'};for(const _0xdfa0e9 in _0x2487a9[_0xaeae66(0x1ba)]){_0x47c11d[_0xaeae66(0x1fe)](_0x47c11d[_0xaeae66(0x24d)],_0x47c11d[_0xaeae66(0x24d)])?_0x2487a9[_0xaeae66(0x1ba)][_0xdfa0e9][_0xaeae66(0x1ef)]&&_0x2487a9[_0xaeae66(0x1ba)][_0xdfa0e9]['Properties']['Tags']&&(_0x47c11d[_0xaeae66(0x246)](_0x47c11d['JnAJh'],_0x47c11d[_0xaeae66(0x217)])?_0x2487a9[_0xaeae66(0x1ba)][_0xdfa0e9][_0xaeae66(0x1ef)]['Tags']['push'](..._0x1e6d99):(_0x2cb765['Parameters'][_0xaeae66(0x191)]({'ParameterKey':_0xaeae66(0x200)+_0x47c11d[_0xaeae66(0x1df)](_0x21f833,_0x34d056)[_0xaeae66(0x21c)](0x2,'0'),'ParameterValue':_0x409b0d[_0xaeae66(0x19a)]}),_0xa2a30d+=0x1)):_0x28b993[_0x77cbfc[_0xaeae66(0x1e7)]]=_0x48683c[_0xaeae66(0x228)];}const _0x2756e5={};_0x1e6d99[_0xaeae66(0x1d7)](_0x1a48d3=>{const _0x3568cc=_0xaeae66;_0x47c11d[_0x3568cc(0x234)](_0x47c11d[_0x3568cc(0x23f)],_0x47c11d[_0x3568cc(0x196)])?_0x2756e5[_0x1a48d3[_0x3568cc(0x1e7)]]=_0x1a48d3[_0x3568cc(0x228)]:_0x316a34['keys'](_0x123d5a)[_0x3568cc(0x1d7)](_0x54ba7a=>{const _0x36e271=_0x3568cc;var _0x3fd3c2=_0x5d02cf[_0x54ba7a];_0x53827e[_0x36e271(0x1a8)](_0x3fd3c2)[_0x36e271(0x1d7)](_0xca5f13=>{_0x468406[_0x54ba7a][_0xca5f13]=_0x3fd3c2[_0xca5f13];});});}),_0x2487a9[_0xaeae66(0x1ba)][_0x47c11d[_0xaeae66(0x1dd)]][_0xaeae66(0x1ef)][_0xaeae66(0x1e6)]=_0x2756e5,_0x2487a9[_0xaeae66(0x1ba)][_0x47c11d[_0xaeae66(0x225)]][_0xaeae66(0x1ef)][_0xaeae66(0x1e6)]=_0x2756e5;};exports[a27_0x23f206(0x1f2)]=async(_0x20fd11,_0x471dc1,_0x184d5f,_0x3ee5c6=null,_0x576a9a=null,_0x1a453e)=>{const _0x3bc287=a27_0x23f206,_0x3d4efb={'qmJNH':function(_0x322073,_0x5b8cf0){return _0x322073(_0x5b8cf0);},'lWnHt':_0x3bc287(0x218),'PmeSY':_0x3bc287(0x22a),'EtBjG':'2010-05-15','NrfEa':_0x3bc287(0x1c1),'zjqTy':'aws-eks-cluster-dep.yaml','JnZRn':_0x3bc287(0x1a6),'mXhGe':function(_0x31eee8,_0x46522a,_0x3eef77){return _0x31eee8(_0x46522a,_0x3eef77);},'Yilkw':function(_0x5f3c9f,_0x295b7f){return _0x5f3c9f(_0x295b7f);},'IvpQJ':function(_0x128231,_0x222de5,_0x26af12,_0xb60d18){return _0x128231(_0x222de5,_0x26af12,_0xb60d18);},'NcERD':_0x3bc287(0x21d),'EkazP':_0x3bc287(0x22b),'bSPti':_0x3bc287(0x207),'KUEoS':_0x3bc287(0x24b),'TByOr':_0x3bc287(0x224),'HdMQS':_0x3bc287(0x1cc),'GoPoI':'NodeAutoScalingGroupMaxSize','KJtWX':_0x3bc287(0x223),'XuBAQ':_0x3bc287(0x243),'jPKAI':_0x3bc287(0x238),'FQPWC':_0x3bc287(0x19c),'niSPa':_0x3bc287(0x202),'pNyjL':'true','JfVzR':'false','DEMWd':'CAPABILITY_NAMED_IAM','UJWzt':function(_0x4a67af,_0x19dc5b){return _0x4a67af!=_0x19dc5b;},'YJmIl':function(_0x4d9908,_0x488e5f){return _0x4d9908!==_0x488e5f;},'ZBbVw':function(_0x4027da,_0x9617ff){return _0x4027da===_0x9617ff;},'HzfPP':_0x3bc287(0x235),'vgxvj':'nNBnl','HsXsU':_0x3bc287(0x1aa),'TrcUR':function(_0x461887,_0x31c14d){return _0x461887!=_0x31c14d;},'iYfdL':function(_0x3564ff,_0xd8a981){return _0x3564ff!==_0xd8a981;},'yoieh':_0x3bc287(0x1e5),'XDaGC':_0x3bc287(0x1f6)},_0x22efbe=COMMON_HST_TAGS,_0x1befa3={};_0x1befa3[_0x3bc287(0x1e7)]=_0x3d4efb[_0x3bc287(0x1e0)],_0x1befa3[_0x3bc287(0x228)]=_0x20fd11,_0x22efbe['push'](_0x1befa3),_0x22efbe[_0x3bc287(0x191)]({'Key':_0x3d4efb['PmeSY'],'Value':new Date()[_0x3bc287(0x220)]()[_0x3bc287(0x1a9)]()});const _0x4d93b1={};_0x4d93b1[_0x3bc287(0x20a)]=_0x3d4efb['EtBjG'];const _0x2962ac=new AWS[(_0x3bc287(0x20f))](_0x4d93b1),_0x44862d=await fs['readFileAsync'](path[_0x3bc287(0x1e2)](__dirname,'..',_0x3d4efb[_0x3bc287(0x213)],_0x3d4efb[_0x3bc287(0x236)]),_0x3d4efb[_0x3bc287(0x1b8)]),_0x28c6f3={};_0x28c6f3['schema']=CLOUDFORMATION_SCHEMA;const _0x29de39=yaml[_0x3bc287(0x23b)](_0x44862d,_0x28c6f3);await _0x3d4efb['mXhGe'](addVPCData,_0x29de39,_0x3ee5c6),await _0x3d4efb[_0x3bc287(0x1af)](addS3Data,_0x29de39),await _0x3d4efb[_0x3bc287(0x198)](addSubnetData,_0x29de39,_0x576a9a),await _0x3d4efb[_0x3bc287(0x1fc)](addTags,_0x29de39,_0x20fd11,_0x22efbe);const _0x1f2fe5=JSON[_0x3bc287(0x237)](_0x29de39),_0x4dfa59={};_0x4dfa59[_0x3bc287(0x1a3)]=CLUSTER_DEP_STACK_NAME+'-'+_0x20fd11,_0x4dfa59['OnFailure']=_0x3d4efb[_0x3bc287(0x241)],_0x4dfa59['TemplateBody']=_0x1f2fe5,_0x4dfa59['Parameters']=[{'ParameterKey':_0x3d4efb['EkazP'],'ParameterValue':_0x20fd11},{'ParameterKey':_0x3d4efb['bSPti'],'ParameterValue':_0x20fd11+_0x3bc287(0x240)},{'ParameterKey':_0x3d4efb[_0x3bc287(0x205)],'ParameterValue':''+_0x471dc1},{'ParameterKey':_0x3d4efb[_0x3bc287(0x1f5)],'ParameterValue':'0'},{'ParameterKey':_0x3d4efb[_0x3bc287(0x231)],'ParameterValue':'1'},{'ParameterKey':_0x3d4efb[_0x3bc287(0x1d3)],'ParameterValue':''+_0x184d5f},{'ParameterKey':_0x3d4efb['KJtWX'],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x3d4efb[_0x3bc287(0x1c8)],'ParameterValue':global_registry[_0x3bc287(0x22f)]},{'ParameterKey':_0x3d4efb[_0x3bc287(0x21e)],'ParameterValue':global_registry[_0x3bc287(0x1eb)]},{'ParameterKey':_0x3d4efb[_0x3bc287(0x1ae)],'ParameterValue':_0x20fd11+'-Windows-NodeGroup'},{'ParameterKey':_0x3d4efb['niSPa'],'ParameterValue':_0x1a453e?_0x3d4efb['pNyjL']:_0x3d4efb[_0x3bc287(0x1f4)]}],_0x4dfa59[_0x3bc287(0x18f)]=[_0x3d4efb[_0x3bc287(0x1e9)]],_0x4dfa59[_0x3bc287(0x1e6)]=_0x22efbe;const _0x349b62=_0x4dfa59;if(_0x3d4efb[_0x3bc287(0x1d5)](_0x3ee5c6,null)&&_0x3d4efb[_0x3bc287(0x1b2)](_0x3ee5c6,undefined)){if(_0x3d4efb[_0x3bc287(0x1bc)](_0x3d4efb[_0x3bc287(0x1c9)],_0x3d4efb['vgxvj']))_0x37e14f[_0x3bc287(0x1ba)][_0x14c5a4][_0x3bc287(0x1ef)]&&_0x2bd29e['Resources'][_0x2134bb][_0x3bc287(0x1ef)][_0x3bc287(0x1e6)]&&_0x189c8c['Resources'][_0x19e5d6]['Properties']['Tags']['push'](..._0x58e4f3);else{const _0x7db19a={};_0x7db19a['ParameterKey']=_0x3d4efb['HsXsU'],_0x7db19a[_0x3bc287(0x1fa)]=_0x3ee5c6,_0x349b62['Parameters']['push'](_0x7db19a);}}if(_0x3d4efb['TrcUR'](_0x576a9a,null)&&_0x3d4efb[_0x3bc287(0x1d8)](_0x576a9a,undefined)){let _0x515ea0=0x1;_0x576a9a[_0x3bc287(0x1d7)](_0x5ef0c2=>{const _0x4a9cdc=_0x3bc287;_0x349b62[_0x4a9cdc(0x214)]['push']({'ParameterKey':_0x4a9cdc(0x200)+_0x3d4efb[_0x4a9cdc(0x249)](String,_0x515ea0)[_0x4a9cdc(0x21c)](0x2,'0'),'ParameterValue':_0x5ef0c2['value']}),_0x515ea0+=0x1;});}const _0x1f3204=await _0x2962ac['createStack'](_0x349b62)[_0x3bc287(0x1a2)]();logger[_0x3bc287(0x1a4)](_0x3d4efb[_0x3bc287(0x195)]);const _0x49d7e0={};return _0x49d7e0[_0x3bc287(0x1a3)]=_0x1f3204[_0x3bc287(0x1fd)],_0x2962ac[_0x3bc287(0x1f9)](_0x3d4efb[_0x3bc287(0x1ec)],_0x49d7e0)[_0x3bc287(0x1a2)]();};function a27_0x24dc(){const _0x421162=['XmAWl','3922779MzybLy','EghhD','Capabilities','ParameterKey','push','dlZCZ','FbXaw','xSuRn','yoieh','TbvRv','Subnet03','mXhGe','DbrFn','value','LWObz','NodeGroupNameWindows','4ICRCJl','xkLMR','sdFpF','AWS::CloudFormation::Interface','YrSMY','promise','StackName','debug','tTsTW','utf-8','EKSCluster','keys','toString','VPC','6658368uVHgMF','208808uJBLPT','5|2|3|1|4|0','FQPWC','Yilkw','SSQli','FEpHo','YJmIl','XBmTV','231387lRxiNG','aDqMn','FhETc','AdhYy','JnZRn','VpcBlock','Resources','fCvel','ZBbVw','js-yaml','NodeGroupWindows','Subnet01Block','RmRfc','CFTemplates','zBxVp','VVcsR','BbKcx','Outputs','s3-create.yaml','Metadata','XuBAQ','HzfPP','subnet-create.yaml','oaaAT','NodeAutoScalingGroupDesiredSizeWindows','MiTbQ','TFvmB','sHUKT','xMBHq','jAfFx','DBsLV','GoPoI','awsObj','UJWzt','szvjm','forEach','iYfdL','BKayx','oBGhF','285252GQZpML','FzBXk','axmiu','ResourcesVpcConfig','zqDjs','lWnHt','vjTYw','join','EHeTt','PSVih','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Tags','Key','YmTnx','DEMWd','zuleS','s3Bucket','XDaGC','OkDvs','vpc-import.yaml','Properties','split','JQqKq','createClusterStack','imwOC','JfVzR','TByOr','stackCreateComplete','CRojR','bluebird','waitFor','ParameterValue','./AWSUtils','IvpQJ','StackId','lHEhT','zfaQU','Subnet','JeCQG','ClusterAutoUpgrade','ParameterGroups','schema','KUEoS','Subnet01','NodeGroupName','Subnet03Block','js-yaml-cloudformation-schema','apiVersion','1620530VELCGC','MwicO','usLcM','Ajwpr','CloudFormation','uCQJM','pVGYq','ZlxCW','NrfEa','Parameters','Subnet02Block','YfDYQ','JnAJh','browserstack:cluster','1|5|0|2|3|4','ilBgT','Subnet02','padStart','DELETE','jPKAI','OyoZk','valueOf','139857oSPxoH','buoBs','NodeImageId','NodeAutoScalingGroupMinSizeWindows','DqrvW','promisifyAll','RTGqU','Value','SsSCz','browserstack:creationDate','ClusterName','Subnets','DWdLk','DepKi','instanceType','gxSaI','HdMQS','glLnc','sVZgm','OEdWE','qCBeE','zjqTy','stringify','S3BucketName','AYeyN','dSLLf','load','sPLTS','readFileAsync','DependsOn','HSMaW','-NodeGroup','NcERD','SubnetIds','NodeInstanceType','NodeGroup','RofmA','lhYRF','uzlHF','bfDkV','qmJNH','Ref','NodeAutoScalingGroupMinSize','hEDqD','EWfWM','subnet-import.yaml'];a27_0x24dc=function(){return _0x421162;};return a27_0x24dc();}