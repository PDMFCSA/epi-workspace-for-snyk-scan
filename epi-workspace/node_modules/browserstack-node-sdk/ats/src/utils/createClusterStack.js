const a27_0x20e2e0=a27_0x41d5;(function(_0x3c8a0e,_0x4190cc){const _0x4b91dc=a27_0x41d5,_0x4f3ef3=_0x3c8a0e();while(!![]){try{const _0x25cd87=parseInt(_0x4b91dc(0x80))/0x1+-parseInt(_0x4b91dc(0x81))/0x2*(-parseInt(_0x4b91dc(0xc8))/0x3)+-parseInt(_0x4b91dc(0xea))/0x4+-parseInt(_0x4b91dc(0xbe))/0x5*(-parseInt(_0x4b91dc(0xf4))/0x6)+parseInt(_0x4b91dc(0xa4))/0x7+parseInt(_0x4b91dc(0x7b))/0x8+parseInt(_0x4b91dc(0xcc))/0x9*(-parseInt(_0x4b91dc(0xb0))/0xa);if(_0x25cd87===_0x4190cc)break;else _0x4f3ef3['push'](_0x4f3ef3['shift']());}catch(_0x29767d){_0x4f3ef3['push'](_0x4f3ef3['shift']());}}}(a27_0x1188,0x8409e));function a27_0x1188(){const _0xb1b232=['wJtUH','TemplateBody','KXXkp','promise','427509VyHYpk','2QXzgfr','frDHr','apiVersion','gyOJT','3|0|5|4|2|1','subnet-create.yaml','true','rprxX','SAUWM','debug','CFTemplates','MDIPj','uXULv','TTIhU','ThkpU','wYSSq','Subnet','schema','SANKp','toString','StackId','TfGtB','BwOqN','revBg','kmlfP','-Windows-NodeGroup','s3-create.yaml','RbuqS','Subnet02','zeDWm','Subnet03','TuNGt','padStart','QWvLu','jLepH','5313434jdLXbK','EvkeJ','zYOfG','utf-8','hpPqf','bluebird','hVFaY','bWTOO','-NodeGroup','hQCFY','join','KADOI','5800Qvxwvh','JwplX','ClusterName','gudsw','yJIJO','gdOQZ','yBxgO','NzLCE','keys','vpc-create.yaml','nJROt','smoDb','FJOGf','ParameterGroups','537550CBhXMd','xJtrs','Subnet01Block','XVDXX','value','Properties','ResourcesVpcConfig','hBFDg','readFileAsync','NodeGroupNameWindows','2523657wcpWyu','Subnet02Block','ClusterAutoUpgrade','MHliF','29430jpvmvY','NVqeR','xGncD','pxNeh','lZLuv','rEhcg','NodeGroup','IpDoI','ICxHe','Odxtu','fxUGD','JDxdG','CSlMt','QerfP','Tags','S3BucketName','PSHer','RsYTS','sWGFz','qGmpP','XibKm','IgPmI','Metadata','kTDSy','path','uYUNH','EKSCluster','YBbtQ','WBTbA','qqAPV','2316768QKrnrs','../config/logger','CneVk','ParameterValue','khEaW','BauTK','Fn::Join','oGbWl','SxuOc','DependsOn','42ELFeRl','VpcBlock','NodeGroupWindows','nXByk','wUVuO','NodeAutoScalingGroupDesiredSizeWindows','qzdFw','vpc-import.yaml','Outputs','s3Bucket','XCZfs','ParameterKey','OAMeh','iCrSD','QSdcd','FCabw','createStack','VPC','stackCreateComplete','EgHhU','./AWSUtils','SubnetIds','CAPABILITY_NAMED_IAM','AWS::CloudFormation::Interface','Subnets','promisifyAll','Key','oyyaP','StackName','IGIZx','dkwtx','lSmJH','browserstack:creationDate','NodeGroupName','AAiPl','tQfRo','jjFKR','NEEbD','createClusterStack','cBzqZ','Value','Ref','push','GzhIm','Sbkjj','XdyQG','ami','false','waitFor','aypjK','wMSJF','DELETE','valueOf','browserstack:cluster','NodeAutoScalingGroupMinSizeWindows','Gsjry','load','jjFol','TDRAD','forEach','jOYaq','GnLnQ','AAJYE','yoyIR','split','Parameters','EkeBH','Resources','zxDEl','VVvPR','SGzcX','BRqqd','1890096IRSqoY'];a27_0x1188=function(){return _0xb1b232;};return a27_0x1188();}const fs=require('fs'),path=require(a27_0x20e2e0(0xe4)),Promise=require(a27_0x20e2e0(0xa9)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a27_0x20e2e0(0x108))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x20e2e0(0xeb)),{isBucketPresent}=require(a27_0x20e2e0(0x108));function a27_0x41d5(_0x501f8d,_0x5db624){const _0x118839=a27_0x1188();return a27_0x41d5=function(_0x41d55e,_0x24d8cf){_0x41d55e=_0x41d55e-0x69;let _0x338b57=_0x118839[_0x41d55e];return _0x338b57;},a27_0x41d5(_0x501f8d,_0x5db624);}Promise[a27_0x20e2e0(0x10d)](fs);const mergeTemplates=(_0x202c14,_0x569754)=>{const _0x3668d5=a27_0x20e2e0,_0x5413de={'BRqqd':function(_0x5f580c,_0x39f2ea,_0x1bcabf){return _0x5f580c(_0x39f2ea,_0x1bcabf);},'gPwub':function(_0x3afd95,_0x504d4a){return _0x3afd95(_0x504d4a);},'CSlMt':function(_0x24d248,_0x1d6824){return _0x24d248!==_0x1d6824;},'khEaW':_0x3668d5(0x126),'tIsrj':function(_0x4bdde1,_0x2775db){return _0x4bdde1!==_0x2775db;},'xJtrs':_0x3668d5(0x8c),'wYSSq':'kvIah'};Object[_0x3668d5(0xb8)](_0x569754)[_0x3668d5(0x6e)](_0x339378=>{const _0x56fb72=_0x3668d5,_0x1dfef9={'Odxtu':function(_0x3d1fdf,_0x337700){return _0x5413de['gPwub'](_0x3d1fdf,_0x337700);},'Gsjry':function(_0x2c8eac,_0x25a113){const _0x3e037c=a27_0x41d5;return _0x5413de[_0x3e037c(0xd8)](_0x2c8eac,_0x25a113);},'qqAPV':_0x5413de[_0x56fb72(0xee)]};if(_0x5413de['tIsrj'](_0x5413de[_0x56fb72(0xbf)],_0x5413de[_0x56fb72(0x90)])){var _0x2655ce=_0x569754[_0x339378];Object[_0x56fb72(0xb8)](_0x2655ce)[_0x56fb72(0x6e)](_0x489c5e=>{const _0x44002d=_0x56fb72,_0x4d8620={'KXXkp':function(_0x3fea71,_0x3cb849){const _0x35b608=a27_0x41d5;return _0x1dfef9[_0x35b608(0xd5)](_0x3fea71,_0x3cb849);}};if(_0x1dfef9[_0x44002d(0x6a)](_0x1dfef9[_0x44002d(0xe9)],_0x1dfef9[_0x44002d(0xe9)])){const _0x21d9c8={'JwplX':function(_0x248af2,_0x245832){const _0x471db6=_0x44002d;return _0x4d8620[_0x471db6(0x7e)](_0x248af2,_0x245832);}};let _0x39ada2=0x1;_0x5de68b['forEach'](_0x55e2f9=>{const _0x1df772=_0x44002d;_0x338191['Parameters'][_0x1df772(0x11e)]({'ParameterKey':_0x1df772(0x91)+_0x21d9c8[_0x1df772(0xb1)](_0x4dbbec,_0x39ada2)['padStart'](0x2,'0'),'ParameterValue':_0x55e2f9['value']}),_0x39ada2+=0x1;});}else _0x202c14[_0x339378][_0x489c5e]=_0x2655ce[_0x489c5e];});}else _0x5413de[_0x56fb72(0x7a)](_0x24c5dd,_0x3e03e0,_0x57ff1a);});},addVPCData=async(_0x1db805,_0x1207f7)=>{const _0x25653c=a27_0x20e2e0,_0x221a4b={'hpPqf':function(_0x9947b1,_0x59d80f){return _0x9947b1(_0x59d80f);},'OAMeh':function(_0xfd5c38,_0xd2dd18){return _0xfd5c38!==_0xd2dd18;},'EvkeJ':_0x25653c(0x93),'pcLhc':_0x25653c(0x117),'SxuOc':_0x25653c(0x8b),'qGmpP':_0x25653c(0xfb),'aypjK':'utf-8','iCrSD':function(_0x44f7c1,_0x2e00c9,_0x406722){return _0x44f7c1(_0x2e00c9,_0x406722);},'yJIJO':'AWS::CloudFormation::Interface','FcNLv':_0x25653c(0x105),'RbuqS':_0x25653c(0xe1),'frDHr':_0x25653c(0x72),'QerfP':_0x25653c(0xb9),'TuNGt':function(_0x36fb56,_0x152cbd,_0x264dc1){return _0x36fb56(_0x152cbd,_0x264dc1);},'NLfvG':_0x25653c(0xf5)};if(_0x1207f7){if(_0x221a4b[_0x25653c(0x100)](_0x221a4b[_0x25653c(0xa5)],_0x221a4b['pcLhc'])){const _0x10e1b0=await fs[_0x25653c(0xc6)](path[_0x25653c(0xae)](__dirname,'..',_0x221a4b[_0x25653c(0xf2)],_0x221a4b[_0x25653c(0xdf)]),_0x221a4b['aypjK']),_0x5d7a54={};_0x5d7a54[_0x25653c(0x92)]=CLOUDFORMATION_SCHEMA;const _0x291f66=yaml[_0x25653c(0x6b)](_0x10e1b0,_0x5d7a54);_0x221a4b[_0x25653c(0x101)](mergeTemplates,_0x1db805,_0x291f66),_0x1db805[_0x25653c(0xe2)][_0x221a4b[_0x25653c(0xb4)]][_0x25653c(0xbd)][0x0][_0x25653c(0x74)][_0x25653c(0x11e)](_0x221a4b['FcNLv']);}else{var _0x592b68=_0x1f34f4[_0x186f33];_0x5f14ca[_0x25653c(0xb8)](_0x592b68)[_0x25653c(0x6e)](_0x3f3347=>{_0x4a1a75[_0x41af2b][_0x3f3347]=_0x592b68[_0x3f3347];});}}else{if(_0x221a4b[_0x25653c(0x100)](_0x221a4b[_0x25653c(0x9c)],_0x221a4b[_0x25653c(0x82)])){const _0x54c88d=await fs[_0x25653c(0xc6)](path[_0x25653c(0xae)](__dirname,'..',_0x221a4b[_0x25653c(0xf2)],_0x221a4b[_0x25653c(0xd9)]),_0x221a4b[_0x25653c(0x125)]),_0x531bc9={};_0x531bc9[_0x25653c(0x92)]=CLOUDFORMATION_SCHEMA;const _0x159e82=yaml[_0x25653c(0x6b)](_0x54c88d,_0x531bc9);_0x221a4b[_0x25653c(0xa0)](mergeTemplates,_0x1db805,_0x159e82),_0x1db805[_0x25653c(0xe2)][_0x221a4b[_0x25653c(0xb4)]][_0x25653c(0xbd)][0x0][_0x25653c(0x74)][_0x25653c(0x11e)](_0x221a4b['NLfvG']);}else _0x486d0b[_0x25653c(0x74)][_0x25653c(0x11e)]({'ParameterKey':_0x25653c(0x91)+_0x221a4b[_0x25653c(0xa8)](_0x50413e,_0x553dc1)[_0x25653c(0xa1)](0x2,'0'),'ParameterValue':_0x50b4a4[_0x25653c(0xc2)]}),_0x42e567+=0x1;}},addS3Data=async _0x3e048e=>{const _0x1fc760=a27_0x20e2e0,_0x59fbfa={'vTcTa':_0x1fc760(0x8b),'DQBYt':_0x1fc760(0x9b),'Kzjma':_0x1fc760(0xa7),'rwSoF':function(_0x1bb851,_0x2f4f37){return _0x1bb851(_0x2f4f37);},'ThkpU':function(_0x5b6ae8,_0x115193){return _0x5b6ae8===_0x115193;},'QWvLu':function(_0x4b033c,_0x16eada){return _0x4b033c!==_0x16eada;},'uXULv':_0x1fc760(0x116),'uCsuo':_0x1fc760(0xd1),'XibKm':function(_0x471a97,_0x5369fc,_0x1f6b54){return _0x471a97(_0x5369fc,_0x1f6b54);}},_0x5c1137=await fs[_0x1fc760(0xc6)](path[_0x1fc760(0xae)](__dirname,'..',_0x59fbfa['vTcTa'],_0x59fbfa['DQBYt']),_0x59fbfa['Kzjma']),_0x2338d7={};_0x2338d7[_0x1fc760(0x92)]=CLOUDFORMATION_SCHEMA;const _0x3fa039=yaml[_0x1fc760(0x6b)](_0x5c1137,_0x2338d7),_0x53e286=await _0x59fbfa['rwSoF'](isBucketPresent,global_registry[_0x1fc760(0xfd)]);_0x59fbfa[_0x1fc760(0x8f)](_0x53e286,![])&&(_0x59fbfa[_0x1fc760(0xa2)](_0x59fbfa[_0x1fc760(0x8d)],_0x59fbfa['uCsuo'])?_0x59fbfa[_0x1fc760(0xe0)](mergeTemplates,_0x3e048e,_0x3fa039):_0x578bec[_0x1fc760(0x76)][_0x2532c2][_0x1fc760(0xc3)]&&_0x57e959[_0x1fc760(0x76)][_0x19e737][_0x1fc760(0xc3)][_0x1fc760(0xda)]&&_0x38cb9d['Resources'][_0x57ca98][_0x1fc760(0xc3)]['Tags'][_0x1fc760(0x11e)](..._0x10bd2d));},addSubnetData=async(_0x5ba44f,_0x3de0ac)=>{const _0x5f16eb=a27_0x20e2e0,_0xad3491={'ICxHe':function(_0x1e491e,_0x2fc183){return _0x1e491e!==_0x2fc183;},'RsYTS':'DCBKk','udrGt':_0x5f16eb(0xc5),'GzhIm':'4|1|3|2|0|5','XCZfs':_0x5f16eb(0xf0),'FJOGf':function(_0x4271f8,_0x1c7734){return _0x4271f8(_0x1c7734);},'JDxdG':'AWS::CloudFormation::Interface','BwOqN':function(_0x34db1a,_0x44a5d9){return _0x34db1a(_0x44a5d9);},'NWTNg':function(_0x583ac8,_0x45e699){return _0x583ac8(_0x45e699);},'CneVk':_0x5f16eb(0x105),'MHliF':function(_0x404b2b,_0x2c82ca){return _0x404b2b===_0x2c82ca;},'TDRAD':_0x5f16eb(0x7c),'fxUGD':_0x5f16eb(0x8b),'wUVuO':'subnet-import.yaml','VMCQW':_0x5f16eb(0xa7),'jOYaq':function(_0x1207f5,_0x2f3371,_0xe8e700){return _0x1207f5(_0x2f3371,_0xe8e700);},'KADOI':_0x5f16eb(0x11b),'XVDXX':_0x5f16eb(0x86),'jjFol':function(_0x52e3af,_0x1db9d6,_0x31ea4f){return _0x52e3af(_0x1db9d6,_0x31ea4f);},'yBxgO':'Subnet01','rprxX':_0x5f16eb(0x9d),'kmlfP':_0x5f16eb(0x9f),'ZeqAc':_0x5f16eb(0xc0),'IpDoI':_0x5f16eb(0xc9),'ETjlX':'Subnet03Block'};if(_0x3de0ac){if(_0xad3491[_0x5f16eb(0xcb)](_0xad3491[_0x5f16eb(0x6d)],_0xad3491[_0x5f16eb(0x6d)])){const _0x52500e=await fs[_0x5f16eb(0xc6)](path[_0x5f16eb(0xae)](__dirname,'..',_0xad3491[_0x5f16eb(0xd6)],_0xad3491[_0x5f16eb(0xf8)]),_0xad3491['VMCQW']),_0x477428={};_0x477428['schema']=CLOUDFORMATION_SCHEMA;const _0x364b29=yaml[_0x5f16eb(0x6b)](_0x52500e,_0x477428);_0xad3491[_0x5f16eb(0x6f)](mergeTemplates,_0x5ba44f,_0x364b29);let _0xd76ab=0x1;_0x3de0ac[_0x5f16eb(0x6e)](_0x2a2ed9=>{const _0x3cd5a2=_0x5f16eb;if(_0xad3491[_0x3cd5a2(0xd4)](_0xad3491[_0x3cd5a2(0xdd)],_0xad3491['udrGt'])){const _0x48e152=_0xad3491[_0x3cd5a2(0x11f)][_0x3cd5a2(0x73)]('|');let _0x1a3dd7=0x0;while(!![]){switch(_0x48e152[_0x1a3dd7++]){case'0':_0x5ba44f[_0x3cd5a2(0xfc)]['SubnetIds'][_0x3cd5a2(0x11c)][_0xad3491[_0x3cd5a2(0xfe)]][0x1]['push']({'Ref':_0x3cd5a2(0x91)+_0xad3491[_0x3cd5a2(0xbc)](String,_0xd76ab)[_0x3cd5a2(0xa1)](0x2,'0')});continue;case'1':_0x5ba44f['Metadata'][_0xad3491[_0x3cd5a2(0xd7)]]['ParameterGroups'][0x0]['Parameters'][_0x3cd5a2(0x11e)](_0x3cd5a2(0x91)+_0xad3491[_0x3cd5a2(0xbc)](String,_0xd76ab)[_0x3cd5a2(0xa1)](0x2,'0'));continue;case'2':_0x5ba44f['Resources']['NodeGroupWindows'][_0x3cd5a2(0xc3)][_0x3cd5a2(0x10c)][_0x3cd5a2(0x11e)]({'Ref':'Subnet'+_0xad3491[_0x3cd5a2(0x97)](String,_0xd76ab)[_0x3cd5a2(0xa1)](0x2,'0')});continue;case'3':_0x5ba44f['Resources'][_0x3cd5a2(0xd2)][_0x3cd5a2(0xc3)][_0x3cd5a2(0x10c)][_0x3cd5a2(0x11e)]({'Ref':_0x3cd5a2(0x91)+_0xad3491['NWTNg'](String,_0xd76ab)[_0x3cd5a2(0xa1)](0x2,'0')});continue;case'4':_0x5ba44f[_0x3cd5a2(0x76)]['EKSCluster']['Properties'][_0x3cd5a2(0xc4)]['SubnetIds']['push']({'Ref':_0x3cd5a2(0x91)+_0xad3491[_0x3cd5a2(0xbc)](String,_0xd76ab)[_0x3cd5a2(0xa1)](0x2,'0')});continue;case'5':_0xd76ab+=0x1;continue;}break;}}else _0x235168[_0x3cd5a2(0xb8)](_0xf24507)[_0x3cd5a2(0x6e)](_0x3144a1=>{const _0x45e612=_0x3cd5a2;var _0x4da28f=_0x40a7ba[_0x3144a1];_0x1146d4[_0x45e612(0xb8)](_0x4da28f)['forEach'](_0x1d57b9=>{_0xc5641e[_0x3144a1][_0x1d57b9]=_0x4da28f[_0x1d57b9];});});});}else _0x529871[_0x5f16eb(0x76)][_0x27f314]['Properties'][_0x5f16eb(0xda)][_0x5f16eb(0x11e)](..._0x3a9ada);}else{if(_0xad3491[_0x5f16eb(0xcb)](_0xad3491[_0x5f16eb(0xaf)],_0xad3491[_0x5f16eb(0xaf)])){const _0x3c53de=await fs['readFileAsync'](path[_0x5f16eb(0xae)](__dirname,'..',_0xad3491[_0x5f16eb(0xd6)],_0xad3491[_0x5f16eb(0xc1)]),_0xad3491['VMCQW']),_0x110227={};_0x110227[_0x5f16eb(0x92)]=CLOUDFORMATION_SCHEMA;const _0x8dbe99=yaml['load'](_0x3c53de,_0x110227);_0xad3491[_0x5f16eb(0x6c)](mergeTemplates,_0x5ba44f,_0x8dbe99),_0x5ba44f[_0x5f16eb(0x76)][_0x5f16eb(0xe6)][_0x5f16eb(0xf3)][_0x5f16eb(0x11e)](_0xad3491[_0x5f16eb(0xb6)],_0xad3491[_0x5f16eb(0x88)],_0xad3491[_0x5f16eb(0x99)]);const _0x226d09={};_0x226d09[_0x5f16eb(0x11d)]=_0xad3491[_0x5f16eb(0xb6)];const _0x2fe377={};_0x2fe377['Ref']=_0xad3491[_0x5f16eb(0x88)];const _0x428a4a={};_0x428a4a['Ref']=_0xad3491['kmlfP'],_0x5ba44f[_0x5f16eb(0x76)][_0x5f16eb(0xe6)][_0x5f16eb(0xc3)][_0x5f16eb(0xc4)][_0x5f16eb(0x109)]=[_0x226d09,_0x2fe377,_0x428a4a],_0x5ba44f[_0x5f16eb(0xe2)][_0xad3491['JDxdG']][_0x5f16eb(0xbd)][0x0][_0x5f16eb(0x74)][_0x5f16eb(0x11e)](_0xad3491['ZeqAc'],_0xad3491[_0x5f16eb(0xd3)],_0xad3491['ETjlX']);const _0x4372b1={};_0x4372b1[_0x5f16eb(0x11d)]=_0xad3491['yBxgO'];const _0x5ae5bc={};_0x5ae5bc[_0x5f16eb(0x11d)]=_0xad3491['rprxX'];const _0x58e3f0={};_0x58e3f0[_0x5f16eb(0x11d)]=_0xad3491[_0x5f16eb(0x99)],_0x5ba44f['Resources']['NodeGroup'][_0x5f16eb(0xc3)]['Subnets']=[_0x4372b1,_0x5ae5bc,_0x58e3f0];const _0x8349cf={};_0x8349cf[_0x5f16eb(0x11d)]=_0xad3491[_0x5f16eb(0xb6)];const _0x566a4c={};_0x566a4c[_0x5f16eb(0x11d)]=_0xad3491[_0x5f16eb(0x88)];const _0x18ea2a={};_0x18ea2a[_0x5f16eb(0x11d)]=_0xad3491['kmlfP'],_0x5ba44f['Resources'][_0x5f16eb(0xf6)][_0x5f16eb(0xc3)][_0x5f16eb(0x10c)]=[_0x8349cf,_0x566a4c,_0x18ea2a],_0x5ba44f['Outputs'][_0x5f16eb(0x109)][_0x5f16eb(0x11c)][_0xad3491['XCZfs']][0x1]=[{'Ref':_0xad3491['yBxgO']},{'Ref':_0xad3491[_0x5f16eb(0x88)]},{'Ref':_0xad3491[_0x5f16eb(0x99)]}];}else{const _0x203290={};_0x203290['ParameterKey']=_0xad3491[_0x5f16eb(0xec)],_0x203290[_0x5f16eb(0xed)]=_0x2a3008,_0x561694[_0x5f16eb(0x74)][_0x5f16eb(0x11e)](_0x203290);}}},addTags=async(_0x48a32a,_0x57547b,_0x39a369)=>{const _0x364618=a27_0x20e2e0,_0x46f7e2={};_0x46f7e2[_0x364618(0x120)]=_0x364618(0xd2),_0x46f7e2[_0x364618(0x89)]=_0x364618(0xf6),_0x46f7e2[_0x364618(0xe8)]=function(_0x57da07,_0x2cf73c){return _0x57da07!==_0x2cf73c;},_0x46f7e2[_0x364618(0x96)]='eSAcz',_0x46f7e2['lZLuv']=_0x364618(0xb3),_0x46f7e2[_0x364618(0x10f)]=function(_0x310174,_0x549a0d){return _0x310174===_0x549a0d;},_0x46f7e2[_0x364618(0x103)]='kHcuq',_0x46f7e2[_0x364618(0x8e)]='Hjmah',_0x46f7e2[_0x364618(0xcd)]='BVDdl',_0x46f7e2[_0x364618(0xa6)]=_0x364618(0xde);const _0x2136ec=_0x46f7e2;for(const _0x292fed in _0x48a32a[_0x364618(0x76)]){_0x2136ec['oyyaP'](_0x2136ec[_0x364618(0x103)],_0x2136ec[_0x364618(0x8e)])?_0x14703d[_0xf8f54b[_0x364618(0x10e)]]=_0x5188bf[_0x364618(0x11c)]:_0x48a32a[_0x364618(0x76)][_0x292fed][_0x364618(0xc3)]&&_0x48a32a[_0x364618(0x76)][_0x292fed][_0x364618(0xc3)]['Tags']&&(_0x2136ec[_0x364618(0x10f)](_0x2136ec[_0x364618(0xcd)],_0x2136ec[_0x364618(0xa6)])?_0x4be2f3[_0x47eab6][_0x1aeee0]=_0x359e14[_0x8dfe2d]:_0x48a32a[_0x364618(0x76)][_0x292fed][_0x364618(0xc3)][_0x364618(0xda)][_0x364618(0x11e)](..._0x39a369));}const _0x38dadd={};_0x39a369[_0x364618(0x6e)](_0x574825=>{const _0x54a2bf=_0x364618,_0x3d4fe7={};_0x3d4fe7[_0x54a2bf(0xfa)]=_0x2136ec[_0x54a2bf(0x120)],_0x3d4fe7[_0x54a2bf(0x118)]=_0x2136ec[_0x54a2bf(0x89)];const _0x3b1f8c=_0x3d4fe7;if(_0x2136ec[_0x54a2bf(0xe8)](_0x2136ec[_0x54a2bf(0x96)],_0x2136ec[_0x54a2bf(0xd0)]))_0x38dadd[_0x574825[_0x54a2bf(0x10e)]]=_0x574825[_0x54a2bf(0x11c)];else{for(const _0x2d02fb in _0x4b5531[_0x54a2bf(0x76)]){_0x1161ba['Resources'][_0x2d02fb]['Properties']&&_0x2c6f9c[_0x54a2bf(0x76)][_0x2d02fb][_0x54a2bf(0xc3)][_0x54a2bf(0xda)]&&_0x403bc5[_0x54a2bf(0x76)][_0x2d02fb][_0x54a2bf(0xc3)][_0x54a2bf(0xda)][_0x54a2bf(0x11e)](..._0x3f5b9b);}const _0x154af2={};_0x1ccfad[_0x54a2bf(0x6e)](_0x238803=>{const _0x5e5079=_0x54a2bf;_0x154af2[_0x238803[_0x5e5079(0x10e)]]=_0x238803[_0x5e5079(0x11c)];}),_0x1e0257[_0x54a2bf(0x76)][_0x3b1f8c[_0x54a2bf(0xfa)]][_0x54a2bf(0xc3)][_0x54a2bf(0xda)]=_0x154af2,_0x289b93[_0x54a2bf(0x76)][_0x3b1f8c[_0x54a2bf(0x118)]][_0x54a2bf(0xc3)][_0x54a2bf(0xda)]=_0x154af2;}}),_0x48a32a['Resources'][_0x2136ec[_0x364618(0x120)]]['Properties'][_0x364618(0xda)]=_0x38dadd,_0x48a32a[_0x364618(0x76)][_0x2136ec[_0x364618(0x89)]]['Properties'][_0x364618(0xda)]=_0x38dadd;};exports[a27_0x20e2e0(0x11a)]=async(_0x40c127,_0x162689,_0x5ebf11,_0x5472b4=null,_0x877e08=null,_0x5fa684)=>{const _0x1d5532=a27_0x20e2e0,_0xf54503={'hKGqE':_0x1d5532(0x85),'smoDb':_0x1d5532(0x10b),'oGbWl':function(_0x2042c6,_0x2cc960){return _0x2042c6(_0x2cc960);},'SGzcX':_0x1d5532(0xf0),'GnLnQ':function(_0x16feac,_0x4977e6){return _0x16feac(_0x4977e6);},'hjDYE':function(_0x9a4704,_0x5b7786){return _0x9a4704(_0x5b7786);},'nJROt':function(_0x4940bf,_0x5b7c61){return _0x4940bf(_0x5b7c61);},'uYUNH':function(_0x1fc7ec,_0x24d13f){return _0x1fc7ec(_0x24d13f);},'hQCFY':_0x1d5532(0x129),'revBg':_0x1d5532(0x114),'LAhyL':'2010-05-15','QSdcd':_0x1d5532(0x8b),'lhpdW':'aws-eks-cluster-dep.yaml','iuAxe':'utf-8','XdyQG':function(_0xa2bfbc,_0x3ff5df,_0x148d1a){return _0xa2bfbc(_0x3ff5df,_0x148d1a);},'PSHer':function(_0x4679ab,_0x2ad760,_0x5e0209){return _0x4679ab(_0x2ad760,_0x5e0209);},'AAJYE':function(_0x3ea121,_0x47ad72,_0x4a810a,_0x5686cb){return _0x3ea121(_0x47ad72,_0x4a810a,_0x5686cb);},'hVFaY':_0x1d5532(0x127),'gyOJT':_0x1d5532(0xb2),'EkeBH':_0x1d5532(0x115),'VVvPR':'NodeAutoScalingGroupMinSize','pxNeh':_0x1d5532(0x69),'IGIZx':_0x1d5532(0xf9),'EgHhU':'NodeAutoScalingGroupMaxSize','xaDrh':'NodeImageId','kTDSy':'NodeInstanceType','dkwtx':_0x1d5532(0xdb),'jLepH':_0x1d5532(0xc7),'XrUAu':_0x1d5532(0xca),'nXByk':_0x1d5532(0x87),'zxDEl':_0x1d5532(0x123),'rJEvE':_0x1d5532(0x10a),'xGncD':function(_0x491f92,_0xdbf9ea){return _0x491f92!=_0xdbf9ea;},'zeDWm':function(_0x461f32,_0x6446bd){return _0x461f32!==_0x6446bd;},'NzLCE':function(_0x4b7544,_0x44c1bb){return _0x4b7544!==_0x44c1bb;},'YBbtQ':_0x1d5532(0xab),'lSmJH':_0x1d5532(0x105),'gdOQZ':function(_0x48dd57,_0x49457b){return _0x48dd57!==_0x49457b;},'BauTK':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','NEEbD':_0x1d5532(0x106)},_0x373e9a=COMMON_HST_TAGS,_0x24498a={};_0x24498a[_0x1d5532(0x10e)]=_0xf54503[_0x1d5532(0xad)],_0x24498a[_0x1d5532(0x11c)]=_0x40c127,_0x373e9a[_0x1d5532(0x11e)](_0x24498a),_0x373e9a['push']({'Key':_0xf54503[_0x1d5532(0x98)],'Value':new Date()[_0x1d5532(0x128)]()[_0x1d5532(0x94)]()});const _0x143432={};_0x143432[_0x1d5532(0x83)]=_0xf54503['LAhyL'];const _0x28dd81=new AWS['CloudFormation'](_0x143432),_0x3f4dc9=await fs[_0x1d5532(0xc6)](path[_0x1d5532(0xae)](__dirname,'..',_0xf54503[_0x1d5532(0x102)],_0xf54503['lhpdW']),_0xf54503['iuAxe']),_0x48a897={};_0x48a897[_0x1d5532(0x92)]=CLOUDFORMATION_SCHEMA;const _0x2deef2=yaml['load'](_0x3f4dc9,_0x48a897);await _0xf54503[_0x1d5532(0x121)](addVPCData,_0x2deef2,_0x5472b4),await _0xf54503['uYUNH'](addS3Data,_0x2deef2),await _0xf54503[_0x1d5532(0xdc)](addSubnetData,_0x2deef2,_0x877e08),await _0xf54503[_0x1d5532(0x71)](addTags,_0x2deef2,_0x40c127,_0x373e9a);const _0x414264=JSON['stringify'](_0x2deef2),_0x30fcfb={};_0x30fcfb[_0x1d5532(0x110)]=CLUSTER_DEP_STACK_NAME+'-'+_0x40c127,_0x30fcfb['OnFailure']=_0xf54503[_0x1d5532(0xaa)],_0x30fcfb[_0x1d5532(0x7d)]=_0x414264,_0x30fcfb['Parameters']=[{'ParameterKey':_0xf54503[_0x1d5532(0x84)],'ParameterValue':_0x40c127},{'ParameterKey':_0xf54503[_0x1d5532(0x75)],'ParameterValue':_0x40c127+_0x1d5532(0xac)},{'ParameterKey':_0xf54503[_0x1d5532(0x78)],'ParameterValue':''+_0x162689},{'ParameterKey':_0xf54503[_0x1d5532(0xcf)],'ParameterValue':'0'},{'ParameterKey':_0xf54503[_0x1d5532(0x111)],'ParameterValue':'1'},{'ParameterKey':_0xf54503[_0x1d5532(0x107)],'ParameterValue':''+_0x5ebf11},{'ParameterKey':_0xf54503['xaDrh'],'ParameterValue':global_registry[_0x1d5532(0x122)]},{'ParameterKey':_0xf54503[_0x1d5532(0xe3)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0xf54503[_0x1d5532(0x112)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0xf54503[_0x1d5532(0xa3)],'ParameterValue':_0x40c127+_0x1d5532(0x9a)},{'ParameterKey':_0xf54503['XrUAu'],'ParameterValue':_0x5fa684?_0xf54503[_0x1d5532(0xf7)]:_0xf54503[_0x1d5532(0x77)]}],_0x30fcfb['Capabilities']=[_0xf54503['rJEvE']],_0x30fcfb[_0x1d5532(0xda)]=_0x373e9a;const _0x59b1d5=_0x30fcfb;if(_0xf54503[_0x1d5532(0xce)](_0x5472b4,null)&&_0xf54503[_0x1d5532(0x9e)](_0x5472b4,undefined)){if(_0xf54503[_0x1d5532(0xb7)](_0xf54503[_0x1d5532(0xe7)],_0xf54503[_0x1d5532(0xe7)])){const _0x3b9d19=_0xf54503['hKGqE'][_0x1d5532(0x73)]('|');let _0x35e793=0x0;while(!![]){switch(_0x3b9d19[_0x35e793++]){case'0':_0x3d43c0[_0x1d5532(0xe2)][_0xf54503[_0x1d5532(0xbb)]]['ParameterGroups'][0x0][_0x1d5532(0x74)][_0x1d5532(0x11e)](_0x1d5532(0x91)+_0xf54503[_0x1d5532(0xf1)](_0x432638,_0x5768c4)[_0x1d5532(0xa1)](0x2,'0'));continue;case'1':_0x22fa6f+=0x1;continue;case'2':_0xfc05f2['Outputs'][_0x1d5532(0x109)][_0x1d5532(0x11c)][_0xf54503[_0x1d5532(0x79)]][0x1][_0x1d5532(0x11e)]({'Ref':_0x1d5532(0x91)+_0xf54503['GnLnQ'](_0x1427eb,_0x189e0b)[_0x1d5532(0xa1)](0x2,'0')});continue;case'3':_0x2b38d9[_0x1d5532(0x76)][_0x1d5532(0xe6)]['Properties']['ResourcesVpcConfig'][_0x1d5532(0x109)][_0x1d5532(0x11e)]({'Ref':_0x1d5532(0x91)+_0xf54503[_0x1d5532(0x70)](_0x2faac6,_0x3401d1)[_0x1d5532(0xa1)](0x2,'0')});continue;case'4':_0x57a02c['Resources'][_0x1d5532(0xf6)][_0x1d5532(0xc3)][_0x1d5532(0x10c)][_0x1d5532(0x11e)]({'Ref':_0x1d5532(0x91)+_0xf54503['hjDYE'](_0x4b109d,_0x1cb451)[_0x1d5532(0xa1)](0x2,'0')});continue;case'5':_0x4c130e[_0x1d5532(0x76)][_0x1d5532(0xd2)][_0x1d5532(0xc3)][_0x1d5532(0x10c)][_0x1d5532(0x11e)]({'Ref':_0x1d5532(0x91)+_0xf54503[_0x1d5532(0xba)](_0x1fc03e,_0x27012b)[_0x1d5532(0xa1)](0x2,'0')});continue;}break;}}else{const _0x32d43e={};_0x32d43e[_0x1d5532(0xff)]=_0xf54503[_0x1d5532(0x113)],_0x32d43e[_0x1d5532(0xed)]=_0x5472b4,_0x59b1d5[_0x1d5532(0x74)][_0x1d5532(0x11e)](_0x32d43e);}}if(_0xf54503['xGncD'](_0x877e08,null)&&_0xf54503[_0x1d5532(0xb5)](_0x877e08,undefined)){let _0xa7e383=0x1;_0x877e08[_0x1d5532(0x6e)](_0x52cf5e=>{const _0x8294f8=_0x1d5532;_0x59b1d5[_0x8294f8(0x74)][_0x8294f8(0x11e)]({'ParameterKey':_0x8294f8(0x91)+_0xf54503[_0x8294f8(0xe5)](String,_0xa7e383)[_0x8294f8(0xa1)](0x2,'0'),'ParameterValue':_0x52cf5e[_0x8294f8(0xc2)]}),_0xa7e383+=0x1;});}const _0x4fb460=await _0x28dd81[_0x1d5532(0x104)](_0x59b1d5)[_0x1d5532(0x7f)]();logger[_0x1d5532(0x8a)](_0xf54503[_0x1d5532(0xef)]);const _0x441e9e={};return _0x441e9e['StackName']=_0x4fb460[_0x1d5532(0x95)],_0x28dd81[_0x1d5532(0x124)](_0xf54503[_0x1d5532(0x119)],_0x441e9e)[_0x1d5532(0x7f)]();};