const a27_0x150793=a27_0x39d3;(function(_0x56c4bf,_0x32946f){const _0x277473=a27_0x39d3,_0x377882=_0x56c4bf();while(!![]){try{const _0xeb926a=parseInt(_0x277473(0x1c0))/0x1*(-parseInt(_0x277473(0x1c6))/0x2)+parseInt(_0x277473(0x1a3))/0x3*(parseInt(_0x277473(0x213))/0x4)+parseInt(_0x277473(0x1bf))/0x5+parseInt(_0x277473(0x230))/0x6*(-parseInt(_0x277473(0x1f8))/0x7)+-parseInt(_0x277473(0x18a))/0x8+parseInt(_0x277473(0x22e))/0x9*(-parseInt(_0x277473(0x187))/0xa)+-parseInt(_0x277473(0x22d))/0xb*(-parseInt(_0x277473(0x1cb))/0xc);if(_0xeb926a===_0x32946f)break;else _0x377882['push'](_0x377882['shift']());}catch(_0x450967){_0x377882['push'](_0x377882['shift']());}}}(a27_0x2ae1,0xb63aa));function a27_0x39d3(_0x4d4477,_0x4750c7){const _0x2ae1f9=a27_0x2ae1();return a27_0x39d3=function(_0x39d3cb,_0x449344){_0x39d3cb=_0x39d3cb-0x183;let _0x50cfab=_0x2ae1f9[_0x39d3cb];return _0x50cfab;},a27_0x39d3(_0x4d4477,_0x4750c7);}const fs=require('fs'),path=require(a27_0x150793(0x1bc)),Promise=require('bluebird'),yaml=require(a27_0x150793(0x218)),{CLOUDFORMATION_SCHEMA}=require(a27_0x150793(0x216)),AWS=require(a27_0x150793(0x233))[a27_0x150793(0x1cf)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x150793(0x1b6)),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x150793(0x233));Promise[a27_0x150793(0x19d)](fs);function a27_0x2ae1(){const _0x47beb1=['JNfOA','4|5|3|0|2|1','FnZue','NodeInstanceType','ibXeO','xVQbm','DPUUt','KFCiN','rdjSS','259mNqHtb','createClusterStack','lYoKD','KESUh','kiTYQ','StackName','jnNAB','mCpMy','-NodeGroup','split','mKOlC','JHwZo','ZItMA','hGkvD','fwxLd','Subnet01Block','Subnet02Block','Outputs','browserstack:cluster','utf-8','JpEDe','Subnet01','ADqej','Resources','aNZcT','ResourcesVpcConfig','UZriw','148DhRrPR','Metadata','oLEuR','js-yaml-cloudformation-schema','push','js-yaml','NodeAutoScalingGroupMinSize','iRzWo','NKRpU','value','unLyp','DJsGp','phLZR','iqnVL','rFOlE','NodeAutoScalingGroupMinSizeWindows','fsuEj','npLEf','vnUiS','SubnetIds','NodeAutoScalingGroupMaxSize','bCIGx','NodeGroup','buvwl','OgEwq','CFTemplates','143AnEBXM','261xTMvpy','ParameterKey','184782vxYyum','2010-05-15','TemplateBody','./AWSUtils','iXOWh','vpc-create.yaml','ParameterGroups','NodeGroupWindows','YDKFz','DWyDe','rkOkT','promise','DependsOn','wKQHH','MXkUI','oTkQV','jtktt','s3-create.yaml','schema','BwXPh','Tags','uwQIq','Capabilities','VpcBlock','452860ZFzjZM','load','subnet-import.yaml','4118552ZwgfEm','ltGDF','viQkn','createStack','LKEgp','Fn::Join','mdkNR','cxCWZ','LMsbU','ZiczI','PpqlX','S3BucketName','ItIWg','s3Bucket','IAjsm','VPC','SQyVv','StackId','Subnet02','promisifyAll','mCATm','KSrzc','RvOeF','CAPABILITY_NAMED_IAM','zXjCw','14829niovbU','OjHTI','LwkzF','OnFailure','sVSRg','kDMzZ','HkusE','tLjiN','CloudFormation','ECCwz','InLNd','dmpVe','rUbkM','ParameterValue','Subnet03','QxRdI','NodeImageId','readFileAsync','aFAgR','../config/constants','DCNDO','Ref','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','hhEVH','xAzJp','path','Subnets','QdEIs','4611875FDollL','1vVjwzO','Value','HZXvj','fMiBe','QzYKy','CsDWX','1655270hatWQZ','cYnKj','AWS::CloudFormation::Interface','NodeGroupName','lpXfb','3172044YdAPAA','forEach','ami','Properties','awsObj','rRggl','join','Subnet03Block','Key','pOHiA','NodeGroupNameWindows','YXOeB','pXCHo','kjdra','padStart','vpc-import.yaml','PnJQK','yDNoM','zrPSv','ClusterName','subnet-create.yaml','keys','Subnet','STnvu','NodeAutoScalingGroupDesiredSizeWindows','voRRr','sMJnx','tqphF','ezUWX','DELETE','vUjnI','wYxom','Parameters','aws-eks-cluster-dep.yaml','wbCOP','-Windows-NodeGroup'];a27_0x2ae1=function(){return _0x47beb1;};return a27_0x2ae1();}const mergeTemplates=(_0x1898ac,_0x32fb1a)=>{const _0xf6f81a=a27_0x150793,_0x27ea3e={};_0x27ea3e[_0xf6f81a(0x1e4)]=function(_0x389eab,_0x5c8daf){return _0x389eab===_0x5c8daf;},_0x27ea3e[_0xf6f81a(0x1e9)]=_0xf6f81a(0x191),_0x27ea3e['iqnVL']=function(_0xe035bc,_0x2e8c50){return _0xe035bc!==_0x2e8c50;},_0x27ea3e[_0xf6f81a(0x1e6)]='KTnZt',_0x27ea3e[_0xf6f81a(0x221)]='ayYko';const _0x4e9304=_0x27ea3e;Object[_0xf6f81a(0x1e0)](_0x32fb1a)['forEach'](_0x44111b=>{const _0x3cc6b6=_0xf6f81a,_0x3600c3={'ibXeO':function(_0x11a0b8,_0x5319d3){const _0x3971b8=a27_0x39d3;return _0x4e9304[_0x3971b8(0x1e4)](_0x11a0b8,_0x5319d3);},'dmpVe':_0x4e9304[_0x3cc6b6(0x1e9)]};if(_0x4e9304[_0x3cc6b6(0x220)](_0x4e9304['tqphF'],_0x4e9304[_0x3cc6b6(0x221)])){var _0x13d59c=_0x32fb1a[_0x44111b];Object[_0x3cc6b6(0x1e0)](_0x13d59c)['forEach'](_0x1199af=>{const _0x3bcbb3=_0x3cc6b6;_0x3600c3[_0x3bcbb3(0x1f3)](_0x3600c3[_0x3bcbb3(0x1ae)],_0x3600c3[_0x3bcbb3(0x1ae)])?_0x1898ac[_0x44111b][_0x1199af]=_0x13d59c[_0x1199af]:_0x32a941[_0x2b81c1][_0x4e9694]=_0x5dc960[_0x2e91ed];});}else _0x3d002d['Resources'][_0x191ead]['Properties'][_0x3cc6b6(0x183)]['push'](..._0x3d37f2);});},addVPCData=async(_0x3be346,_0x1c4b0a)=>{const _0x5539c7=a27_0x150793,_0x3f2054={'zLWjU':function(_0x4c9b14,_0x27f970){return _0x4c9b14(_0x27f970);},'DCNDO':_0x5539c7(0x229),'ZItMA':_0x5539c7(0x237),'XwSTd':function(_0x4e10d0,_0x13b963){return _0x4e10d0!==_0x13b963;},'pXCHo':_0x5539c7(0x21a),'ltGDF':_0x5539c7(0x22c),'lpXfb':_0x5539c7(0x1da),'npLEf':'utf-8','SQyVv':function(_0x35c6bc,_0x4038c8,_0x3055d2){return _0x35c6bc(_0x4038c8,_0x3055d2);},'rUbkM':'AWS::CloudFormation::Interface','aINAY':'VPC','oLEuR':function(_0x30ad43,_0x27ec0d){return _0x30ad43!==_0x27ec0d;},'QzYKy':_0x5539c7(0x22a),'LwkzF':_0x5539c7(0x235),'QQxtD':_0x5539c7(0x186)};if(_0x1c4b0a){if(_0x3f2054['XwSTd'](_0x3f2054['pXCHo'],_0x3f2054[_0x5539c7(0x1d7)]))_0x7b9a77['Parameters'][_0x5539c7(0x217)]({'ParameterKey':'Subnet'+_0x3f2054['zLWjU'](_0x4d48a7,_0x56a0aa)[_0x5539c7(0x1d9)](0x2,'0'),'ParameterValue':_0x49ccbd[_0x5539c7(0x21c)]}),_0x378dcb+=0x1;else{const _0x27867e=await fs['readFileAsync'](path[_0x5539c7(0x1d1)](__dirname,'..',_0x3f2054['ltGDF'],_0x3f2054[_0x5539c7(0x1ca)]),_0x3f2054[_0x5539c7(0x224)]),_0x1fb5df={};_0x1fb5df[_0x5539c7(0x242)]=CLOUDFORMATION_SCHEMA;const _0x82b9c7=yaml[_0x5539c7(0x188)](_0x27867e,_0x1fb5df);_0x3f2054[_0x5539c7(0x19a)](mergeTemplates,_0x3be346,_0x82b9c7),_0x3be346[_0x5539c7(0x214)][_0x3f2054[_0x5539c7(0x1af)]][_0x5539c7(0x236)][0x0]['Parameters'][_0x5539c7(0x217)](_0x3f2054['aINAY']);}}else{if(_0x3f2054[_0x5539c7(0x215)](_0x3f2054[_0x5539c7(0x1c4)],_0x3f2054[_0x5539c7(0x1c4)])){for(const _0x398409 in _0x3317f7[_0x5539c7(0x20f)]){_0x34331b['Resources'][_0x398409][_0x5539c7(0x1ce)]&&_0x4c4784[_0x5539c7(0x20f)][_0x398409][_0x5539c7(0x1ce)]['Tags']&&_0x286595[_0x5539c7(0x20f)][_0x398409][_0x5539c7(0x1ce)][_0x5539c7(0x183)]['push'](..._0xe4cec4);}const _0x4cee49={};_0x591e72[_0x5539c7(0x1cc)](_0x5f556d=>{const _0x13e880=_0x5539c7;_0x4cee49[_0x5f556d['Key']]=_0x5f556d[_0x13e880(0x1c1)];}),_0x952ab3['Resources'][_0x3f2054[_0x5539c7(0x1b7)]][_0x5539c7(0x1ce)][_0x5539c7(0x183)]=_0x4cee49,_0x416d15[_0x5539c7(0x20f)][_0x3f2054[_0x5539c7(0x204)]][_0x5539c7(0x1ce)]['Tags']=_0x4cee49;}else{const _0x22e066=await fs[_0x5539c7(0x1b4)](path[_0x5539c7(0x1d1)](__dirname,'..',_0x3f2054[_0x5539c7(0x18b)],_0x3f2054[_0x5539c7(0x1a5)]),_0x3f2054[_0x5539c7(0x224)]),_0x25e03f={};_0x25e03f[_0x5539c7(0x242)]=CLOUDFORMATION_SCHEMA;const _0x16631f=yaml[_0x5539c7(0x188)](_0x22e066,_0x25e03f);_0x3f2054[_0x5539c7(0x19a)](mergeTemplates,_0x3be346,_0x16631f),_0x3be346[_0x5539c7(0x214)][_0x3f2054[_0x5539c7(0x1af)]][_0x5539c7(0x236)][0x0]['Parameters'][_0x5539c7(0x217)](_0x3f2054['QQxtD']);}}},addS3Data=async _0xc37244=>{const _0x598151=a27_0x150793,_0xaf0830={'phLZR':_0x598151(0x199),'ItIWg':_0x598151(0x22c),'BwXPh':_0x598151(0x241),'kiTYQ':_0x598151(0x20b),'OgEwq':function(_0x1b0f84,_0x1cbc4d){return _0x1b0f84(_0x1cbc4d);},'DWyDe':function(_0x44725e,_0x4470d9){return _0x44725e===_0x4470d9;},'mCpMy':_0x598151(0x1a9),'viQkn':_0x598151(0x19f),'zXjCw':function(_0x2ad30d,_0x340785,_0x34cdf9){return _0x2ad30d(_0x340785,_0x34cdf9);}},_0x18d7bc=await fs['readFileAsync'](path[_0x598151(0x1d1)](__dirname,'..',_0xaf0830[_0x598151(0x196)],_0xaf0830[_0x598151(0x243)]),_0xaf0830[_0x598151(0x1fc)]),_0x4dc48c={};_0x4dc48c[_0x598151(0x242)]=CLOUDFORMATION_SCHEMA;const _0x4b116f=yaml['load'](_0x18d7bc,_0x4dc48c),_0x5ac361=await _0xaf0830[_0x598151(0x22b)](isBucketPresent,global_registry[_0x598151(0x197)]);if(_0xaf0830[_0x598151(0x239)](_0x5ac361,![])){if(_0xaf0830['DWyDe'](_0xaf0830[_0x598151(0x1ff)],_0xaf0830[_0x598151(0x18c)])){const _0x26916d={};_0x26916d[_0x598151(0x22f)]=_0xaf0830[_0x598151(0x21f)],_0x26916d['ParameterValue']=_0x3c180c,_0x57a132[_0x598151(0x1eb)][_0x598151(0x217)](_0x26916d);}else _0xaf0830[_0x598151(0x1a2)](mergeTemplates,_0xc37244,_0x4b116f);}},addSubnetData=async(_0xa386cd,_0x1ce434)=>{const _0x501ba8=a27_0x150793,_0x56b9cd={'bGWPt':function(_0x12fb63,_0x286a9c){return _0x12fb63!==_0x286a9c;},'InLNd':_0x501ba8(0x1dd),'IAjsm':_0x501ba8(0x1f0),'fwxLd':function(_0x1a93fa,_0x55c91d){return _0x1a93fa(_0x55c91d);},'mdkNR':_0x501ba8(0x18f),'RvOeF':function(_0x156da7,_0x148cc5){return _0x156da7(_0x148cc5);},'unLyp':function(_0xc9de9b,_0x97ebf4){return _0xc9de9b(_0x97ebf4);},'AhFNS':function(_0x4ff4d3,_0x17e240){return _0x4ff4d3(_0x17e240);},'HZXvj':_0x501ba8(0x1c8),'jnNAB':function(_0x248788,_0x33c766){return _0x248788(_0x33c766);},'STnvu':function(_0x5b15da,_0x289611){return _0x5b15da===_0x289611;},'pOHiA':_0x501ba8(0x1f7),'aFAgR':_0x501ba8(0x22c),'LKEgp':_0x501ba8(0x189),'ezUWX':_0x501ba8(0x20b),'LMsbU':function(_0x653f2b,_0x32def6,_0x478eef){return _0x653f2b(_0x32def6,_0x478eef);},'hhEVH':function(_0x47a375,_0x31b01f){return _0x47a375===_0x31b01f;},'vVafC':_0x501ba8(0x1d6),'TUrun':_0x501ba8(0x21b),'oTkQV':_0x501ba8(0x1df),'xOvoy':function(_0x5d2dad,_0x303348,_0x1ea232){return _0x5d2dad(_0x303348,_0x1ea232);},'sVSRg':_0x501ba8(0x20d),'kDMzZ':_0x501ba8(0x19c),'xAzJp':_0x501ba8(0x1b1),'bwzbF':_0x501ba8(0x207),'mKOlC':_0x501ba8(0x208),'iuvuJ':_0x501ba8(0x1d2)};if(_0x1ce434){if(_0x56b9cd[_0x501ba8(0x1e2)](_0x56b9cd['pOHiA'],_0x56b9cd[_0x501ba8(0x1d4)])){const _0x44f8a=await fs[_0x501ba8(0x1b4)](path[_0x501ba8(0x1d1)](__dirname,'..',_0x56b9cd['aFAgR'],_0x56b9cd[_0x501ba8(0x18e)]),_0x56b9cd[_0x501ba8(0x1e7)]),_0x1f57d2={};_0x1f57d2[_0x501ba8(0x242)]=CLOUDFORMATION_SCHEMA;const _0x6fd4f4=yaml[_0x501ba8(0x188)](_0x44f8a,_0x1f57d2);_0x56b9cd[_0x501ba8(0x192)](mergeTemplates,_0xa386cd,_0x6fd4f4);let _0x2d106d=0x1;_0x1ce434[_0x501ba8(0x1cc)](_0x5972a2=>{const _0x44e132=_0x501ba8;if(_0x56b9cd['bGWPt'](_0x56b9cd[_0x44e132(0x1ad)],_0x56b9cd[_0x44e132(0x1ad)]))_0x5d2be8[_0x44e132(0x20f)][_0xaeb327][_0x44e132(0x1ce)]&&_0x4ea0a5[_0x44e132(0x20f)][_0x46c275][_0x44e132(0x1ce)][_0x44e132(0x183)]&&_0x35d633[_0x44e132(0x20f)][_0x2eb8ac][_0x44e132(0x1ce)][_0x44e132(0x183)][_0x44e132(0x217)](..._0x283329);else{const _0x16ac5f=_0x56b9cd[_0x44e132(0x198)][_0x44e132(0x201)]('|');let _0x3000f5=0x0;while(!![]){switch(_0x16ac5f[_0x3000f5++]){case'0':_0xa386cd[_0x44e132(0x20f)][_0x44e132(0x237)]['Properties'][_0x44e132(0x1bd)][_0x44e132(0x217)]({'Ref':'Subnet'+_0x56b9cd[_0x44e132(0x206)](String,_0x2d106d)[_0x44e132(0x1d9)](0x2,'0')});continue;case'1':_0x2d106d+=0x1;continue;case'2':_0xa386cd[_0x44e132(0x209)]['SubnetIds'][_0x44e132(0x1c1)][_0x56b9cd[_0x44e132(0x190)]][0x1][_0x44e132(0x217)]({'Ref':_0x44e132(0x1e1)+_0x56b9cd[_0x44e132(0x1a0)](String,_0x2d106d)['padStart'](0x2,'0')});continue;case'3':_0xa386cd[_0x44e132(0x20f)][_0x44e132(0x229)][_0x44e132(0x1ce)][_0x44e132(0x1bd)][_0x44e132(0x217)]({'Ref':_0x44e132(0x1e1)+_0x56b9cd[_0x44e132(0x21d)](String,_0x2d106d)[_0x44e132(0x1d9)](0x2,'0')});continue;case'4':_0xa386cd[_0x44e132(0x20f)]['EKSCluster']['Properties'][_0x44e132(0x211)]['SubnetIds'][_0x44e132(0x217)]({'Ref':_0x44e132(0x1e1)+_0x56b9cd['AhFNS'](String,_0x2d106d)[_0x44e132(0x1d9)](0x2,'0')});continue;case'5':_0xa386cd[_0x44e132(0x214)][_0x56b9cd[_0x44e132(0x1c2)]][_0x44e132(0x236)][0x0]['Parameters'][_0x44e132(0x217)]('Subnet'+_0x56b9cd[_0x44e132(0x1fe)](String,_0x2d106d)['padStart'](0x2,'0'));continue;}break;}}});}else{const _0x3c22e5={'DJsGp':function(_0x2c5d41,_0x4fd6c0){const _0x8fc544=_0x501ba8;return _0x56b9cd[_0x8fc544(0x1fe)](_0x2c5d41,_0x4fd6c0);}};let _0x3dc139=0x1;_0x43c831[_0x501ba8(0x1cc)](_0x3d6b17=>{const _0x3ca193=_0x501ba8;_0x66ce30['Parameters'][_0x3ca193(0x217)]({'ParameterKey':_0x3ca193(0x1e1)+_0x3c22e5[_0x3ca193(0x21e)](_0xe6f61d,_0x3dc139)[_0x3ca193(0x1d9)](0x2,'0'),'ParameterValue':_0x3d6b17[_0x3ca193(0x21c)]}),_0x3dc139+=0x1;});}}else{if(_0x56b9cd[_0x501ba8(0x1ba)](_0x56b9cd['vVafC'],_0x56b9cd['TUrun'])){var _0x24b2e7=_0x44405f[_0x4f3995];_0x3f3464[_0x501ba8(0x1e0)](_0x24b2e7)['forEach'](_0x9d6b73=>{_0x57eadb[_0x342591][_0x9d6b73]=_0x24b2e7[_0x9d6b73];});}else{const _0x404ee4=await fs['readFileAsync'](path[_0x501ba8(0x1d1)](__dirname,'..',_0x56b9cd[_0x501ba8(0x1b5)],_0x56b9cd[_0x501ba8(0x23f)]),_0x56b9cd[_0x501ba8(0x1e7)]),_0x26b3f8={};_0x26b3f8[_0x501ba8(0x242)]=CLOUDFORMATION_SCHEMA;const _0xbb710e=yaml[_0x501ba8(0x188)](_0x404ee4,_0x26b3f8);_0x56b9cd['xOvoy'](mergeTemplates,_0xa386cd,_0xbb710e),_0xa386cd[_0x501ba8(0x20f)]['EKSCluster'][_0x501ba8(0x23c)][_0x501ba8(0x217)](_0x56b9cd[_0x501ba8(0x1a7)],_0x56b9cd[_0x501ba8(0x1a8)],_0x56b9cd[_0x501ba8(0x1bb)]);const _0x1c65ff={};_0x1c65ff[_0x501ba8(0x1b8)]=_0x56b9cd[_0x501ba8(0x1a7)];const _0xc86261={};_0xc86261[_0x501ba8(0x1b8)]=_0x56b9cd['kDMzZ'];const _0x266ef4={};_0x266ef4[_0x501ba8(0x1b8)]=_0x56b9cd[_0x501ba8(0x1bb)],_0xa386cd['Resources']['EKSCluster'][_0x501ba8(0x1ce)][_0x501ba8(0x211)][_0x501ba8(0x226)]=[_0x1c65ff,_0xc86261,_0x266ef4],_0xa386cd[_0x501ba8(0x214)][_0x56b9cd[_0x501ba8(0x1c2)]]['ParameterGroups'][0x0][_0x501ba8(0x1eb)]['push'](_0x56b9cd['bwzbF'],_0x56b9cd[_0x501ba8(0x202)],_0x56b9cd['iuvuJ']);const _0x23955e={};_0x23955e[_0x501ba8(0x1b8)]=_0x56b9cd[_0x501ba8(0x1a7)];const _0x1e34bc={};_0x1e34bc[_0x501ba8(0x1b8)]=_0x56b9cd[_0x501ba8(0x1a8)];const _0x1ba801={};_0x1ba801[_0x501ba8(0x1b8)]=_0x56b9cd[_0x501ba8(0x1bb)],_0xa386cd[_0x501ba8(0x20f)][_0x501ba8(0x229)]['Properties'][_0x501ba8(0x1bd)]=[_0x23955e,_0x1e34bc,_0x1ba801];const _0x3d2dbd={};_0x3d2dbd['Ref']=_0x56b9cd[_0x501ba8(0x1a7)];const _0x13e2c3={};_0x13e2c3[_0x501ba8(0x1b8)]=_0x56b9cd['kDMzZ'];const _0x574968={};_0x574968[_0x501ba8(0x1b8)]=_0x56b9cd['xAzJp'],_0xa386cd['Resources'][_0x501ba8(0x237)][_0x501ba8(0x1ce)][_0x501ba8(0x1bd)]=[_0x3d2dbd,_0x13e2c3,_0x574968],_0xa386cd['Outputs']['SubnetIds'][_0x501ba8(0x1c1)][_0x56b9cd[_0x501ba8(0x190)]][0x1]=[{'Ref':_0x56b9cd['sVSRg']},{'Ref':_0x56b9cd[_0x501ba8(0x1a8)]},{'Ref':_0x56b9cd['xAzJp']}];}}},addTags=async(_0x2a2a40,_0x1ebc5b,_0x1ecb0e)=>{const _0x325b47=a27_0x150793,_0x218dbd={'hrpHk':function(_0x64de55,_0x281894,_0x33814e){return _0x64de55(_0x281894,_0x33814e);},'aUYmz':function(_0x256e5d,_0x5e9fd0){return _0x256e5d===_0x5e9fd0;},'UZriw':'pzjUQ','wbCOP':_0x325b47(0x23e),'nPMtF':function(_0x4efbc8,_0x5a9caa){return _0x4efbc8!==_0x5a9caa;},'wKQHH':_0x325b47(0x210),'PzmmS':_0x325b47(0x1fa),'sMJnx':function(_0x925a77,_0x5eeadf){return _0x925a77!==_0x5eeadf;},'PpqlX':_0x325b47(0x1fb),'tLjiN':'knpuS','iXOWh':_0x325b47(0x229),'uwQIq':_0x325b47(0x237)};for(const _0xdc242 in _0x2a2a40[_0x325b47(0x20f)]){_0x218dbd['nPMtF'](_0x218dbd[_0x325b47(0x23d)],_0x218dbd['PzmmS'])?_0x2a2a40[_0x325b47(0x20f)][_0xdc242]['Properties']&&_0x2a2a40[_0x325b47(0x20f)][_0xdc242]['Properties'][_0x325b47(0x183)]&&(_0x218dbd[_0x325b47(0x1e5)](_0x218dbd[_0x325b47(0x194)],_0x218dbd[_0x325b47(0x1aa)])?_0x2a2a40['Resources'][_0xdc242][_0x325b47(0x1ce)][_0x325b47(0x183)][_0x325b47(0x217)](..._0x1ecb0e):_0x218dbd['hrpHk'](_0xa8514f,_0x3de792,_0x41cae0)):_0x4b9f49[_0x325b47(0x1e0)](_0x2022e5)[_0x325b47(0x1cc)](_0x9e66c2=>{const _0x101159=_0x325b47;var _0x17cacd=_0x320761[_0x9e66c2];_0x715057['keys'](_0x17cacd)[_0x101159(0x1cc)](_0x181c88=>{_0x3044bf[_0x9e66c2][_0x181c88]=_0x17cacd[_0x181c88];});});}const _0x1de594={};_0x1ecb0e[_0x325b47(0x1cc)](_0x158dba=>{const _0x1081da=_0x325b47;_0x218dbd['aUYmz'](_0x218dbd[_0x1081da(0x212)],_0x218dbd[_0x1081da(0x1ed)])?_0x5b8307[_0x42e0e9[_0x1081da(0x1d3)]]=_0x219b42[_0x1081da(0x1c1)]:_0x1de594[_0x158dba[_0x1081da(0x1d3)]]=_0x158dba[_0x1081da(0x1c1)];}),_0x2a2a40[_0x325b47(0x20f)][_0x218dbd[_0x325b47(0x234)]][_0x325b47(0x1ce)][_0x325b47(0x183)]=_0x1de594,_0x2a2a40['Resources'][_0x218dbd[_0x325b47(0x184)]][_0x325b47(0x1ce)][_0x325b47(0x183)]=_0x1de594;};exports[a27_0x150793(0x1f9)]=async(_0x305200,_0x15d44e,_0x4c86f4,_0x3dd791=null,_0x5b5f37=null)=>{const _0x176c5e=a27_0x150793,_0x3544a7={'CsDWX':'5|3|2|4|1|0','GxDzY':_0x176c5e(0x18f),'fsuEj':function(_0x202a98,_0xd1d06){return _0x202a98(_0xd1d06);},'pDeEX':_0x176c5e(0x1c8),'JpEDe':function(_0x1638f6,_0x903170){return _0x1638f6(_0x903170);},'OjHTI':_0x176c5e(0x20a),'PnJQK':'browserstack:creationDate','ECCwz':_0x176c5e(0x231),'rRggl':'CFTemplates','fMiBe':_0x176c5e(0x1ec),'JNfOA':'utf-8','jtktt':function(_0x30ecd7,_0x59e0b8,_0x3eed0d){return _0x30ecd7(_0x59e0b8,_0x3eed0d);},'mCATm':function(_0x1153d7,_0x1af4e7,_0xba7ccb,_0x65dd4f){return _0x1153d7(_0x1af4e7,_0xba7ccb,_0x65dd4f);},'ATjYP':_0x176c5e(0x1e8),'QxRdI':_0x176c5e(0x1de),'kjdra':_0x176c5e(0x1c9),'ZiczI':_0x176c5e(0x219),'JjaAZ':_0x176c5e(0x222),'GLYTT':_0x176c5e(0x1e3),'kbJzo':_0x176c5e(0x227),'vnUiS':_0x176c5e(0x1b3),'pLgrH':_0x176c5e(0x1f2),'yDNoM':_0x176c5e(0x195),'ADqej':_0x176c5e(0x1d5),'cYnKj':_0x176c5e(0x1a1),'QdEIs':function(_0x32d93f,_0x21635f){return _0x32d93f!=_0x21635f;},'JHwZo':function(_0x344456,_0x5b600a){return _0x344456!==_0x5b600a;},'FnZue':function(_0x37c987,_0x88d7d7){return _0x37c987!==_0x88d7d7;},'DPUUt':_0x176c5e(0x238),'xVQbm':_0x176c5e(0x1f6),'bCIGx':'VPC','rkOkT':function(_0xae1268,_0x3a0bc1){return _0xae1268!=_0x3a0bc1;},'mdldL':function(_0x19cbbf,_0x37ec0){return _0x19cbbf!==_0x37ec0;},'hGkvD':_0x176c5e(0x1b9),'wYxom':'stackCreateComplete'},_0x393049=COMMON_HST_TAGS,_0x16420c={};_0x16420c[_0x176c5e(0x1d3)]=_0x3544a7[_0x176c5e(0x1a4)],_0x16420c[_0x176c5e(0x1c1)]=_0x305200,_0x393049['push'](_0x16420c),_0x393049[_0x176c5e(0x217)]({'Key':_0x3544a7[_0x176c5e(0x1db)],'Value':new Date()['valueOf']()['toString']()});const _0x2d886c={};_0x2d886c['apiVersion']=_0x3544a7[_0x176c5e(0x1ac)];const _0xa0bc9f=new AWS[(_0x176c5e(0x1ab))](_0x2d886c),_0x285ebb=await fs[_0x176c5e(0x1b4)](path[_0x176c5e(0x1d1)](__dirname,'..',_0x3544a7[_0x176c5e(0x1d0)],_0x3544a7[_0x176c5e(0x1c3)]),_0x3544a7[_0x176c5e(0x1ef)]),_0x375265={};_0x375265[_0x176c5e(0x242)]=CLOUDFORMATION_SCHEMA;const _0x4e4fc9=yaml['load'](_0x285ebb,_0x375265);await _0x3544a7['jtktt'](addVPCData,_0x4e4fc9,_0x3dd791),await _0x3544a7[_0x176c5e(0x20c)](addS3Data,_0x4e4fc9),await _0x3544a7[_0x176c5e(0x240)](addSubnetData,_0x4e4fc9,_0x5b5f37),await _0x3544a7[_0x176c5e(0x19e)](addTags,_0x4e4fc9,_0x305200,_0x393049);const _0x56b1ea=JSON['stringify'](_0x4e4fc9),_0x8ed633={};_0x8ed633[_0x176c5e(0x1fd)]=CLUSTER_DEP_STACK_NAME+'-'+_0x305200,_0x8ed633[_0x176c5e(0x1a6)]=_0x3544a7['ATjYP'],_0x8ed633[_0x176c5e(0x232)]=_0x56b1ea,_0x8ed633['Parameters']=[{'ParameterKey':_0x3544a7[_0x176c5e(0x1b2)],'ParameterValue':_0x305200},{'ParameterKey':_0x3544a7[_0x176c5e(0x1d8)],'ParameterValue':_0x305200+_0x176c5e(0x200)},{'ParameterKey':_0x3544a7[_0x176c5e(0x193)],'ParameterValue':''+_0x15d44e},{'ParameterKey':_0x3544a7['JjaAZ'],'ParameterValue':'0'},{'ParameterKey':_0x3544a7['GLYTT'],'ParameterValue':'1'},{'ParameterKey':_0x3544a7['kbJzo'],'ParameterValue':''+_0x4c86f4},{'ParameterKey':_0x3544a7[_0x176c5e(0x225)],'ParameterValue':global_registry[_0x176c5e(0x1cd)]},{'ParameterKey':_0x3544a7['pLgrH'],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x3544a7[_0x176c5e(0x1dc)],'ParameterValue':global_registry[_0x176c5e(0x197)]},{'ParameterKey':_0x3544a7[_0x176c5e(0x20e)],'ParameterValue':_0x305200+_0x176c5e(0x1ee)}],_0x8ed633[_0x176c5e(0x185)]=[_0x3544a7[_0x176c5e(0x1c7)]],_0x8ed633['Tags']=_0x393049;const _0x2d65d2=_0x8ed633;if(_0x3544a7[_0x176c5e(0x1be)](_0x3dd791,null)&&_0x3544a7[_0x176c5e(0x203)](_0x3dd791,undefined)){if(_0x3544a7[_0x176c5e(0x1f1)](_0x3544a7[_0x176c5e(0x1f5)],_0x3544a7[_0x176c5e(0x1f4)])){const _0x35a0cc={};_0x35a0cc['ParameterKey']=_0x3544a7[_0x176c5e(0x228)],_0x35a0cc[_0x176c5e(0x1b0)]=_0x3dd791,_0x2d65d2[_0x176c5e(0x1eb)][_0x176c5e(0x217)](_0x35a0cc);}else{const _0x58e43b=_0x3544a7[_0x176c5e(0x1c5)][_0x176c5e(0x201)]('|');let _0x37bc9b=0x0;while(!![]){switch(_0x58e43b[_0x37bc9b++]){case'0':_0x532c33+=0x1;continue;case'1':_0x19868e[_0x176c5e(0x209)][_0x176c5e(0x226)]['Value'][_0x3544a7['GxDzY']][0x1][_0x176c5e(0x217)]({'Ref':_0x176c5e(0x1e1)+_0x3544a7[_0x176c5e(0x223)](_0x4c8568,_0x37e65e)[_0x176c5e(0x1d9)](0x2,'0')});continue;case'2':_0x21df6d[_0x176c5e(0x20f)][_0x176c5e(0x229)][_0x176c5e(0x1ce)][_0x176c5e(0x1bd)][_0x176c5e(0x217)]({'Ref':_0x176c5e(0x1e1)+_0x3544a7[_0x176c5e(0x223)](_0x3c471c,_0x1f3a8a)[_0x176c5e(0x1d9)](0x2,'0')});continue;case'3':_0x4893de[_0x176c5e(0x214)][_0x3544a7['pDeEX']]['ParameterGroups'][0x0][_0x176c5e(0x1eb)][_0x176c5e(0x217)](_0x176c5e(0x1e1)+_0x3544a7['fsuEj'](_0x43c83,_0x5548d4)[_0x176c5e(0x1d9)](0x2,'0'));continue;case'4':_0x39c9a3[_0x176c5e(0x20f)]['NodeGroupWindows']['Properties'][_0x176c5e(0x1bd)][_0x176c5e(0x217)]({'Ref':'Subnet'+_0x3544a7[_0x176c5e(0x20c)](_0x5f3bfc,_0x164a01)[_0x176c5e(0x1d9)](0x2,'0')});continue;case'5':_0x22cd1f[_0x176c5e(0x20f)]['EKSCluster'][_0x176c5e(0x1ce)]['ResourcesVpcConfig'][_0x176c5e(0x226)][_0x176c5e(0x217)]({'Ref':_0x176c5e(0x1e1)+_0x3544a7[_0x176c5e(0x20c)](_0x26533b,_0x73eca5)[_0x176c5e(0x1d9)](0x2,'0')});continue;}break;}}}if(_0x3544a7[_0x176c5e(0x23a)](_0x5b5f37,null)&&_0x3544a7['mdldL'](_0x5b5f37,undefined)){let _0x255cda=0x1;_0x5b5f37[_0x176c5e(0x1cc)](_0x55b4d6=>{const _0x3952db=_0x176c5e;_0x2d65d2[_0x3952db(0x1eb)][_0x3952db(0x217)]({'ParameterKey':'Subnet'+_0x3544a7[_0x3952db(0x223)](String,_0x255cda)[_0x3952db(0x1d9)](0x2,'0'),'ParameterValue':_0x55b4d6['value']}),_0x255cda+=0x1;});}const _0x1b6d8d=await _0xa0bc9f[_0x176c5e(0x18d)](_0x2d65d2)['promise']();logger['debug'](_0x3544a7[_0x176c5e(0x205)]);const _0x4d3b83={};return _0x4d3b83[_0x176c5e(0x1fd)]=_0x1b6d8d[_0x176c5e(0x19b)],_0xa0bc9f['waitFor'](_0x3544a7[_0x176c5e(0x1ea)],_0x4d3b83)[_0x176c5e(0x23b)]();};