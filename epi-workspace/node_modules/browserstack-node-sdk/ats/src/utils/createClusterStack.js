function a27_0x3eda(_0x3181ca,_0x37afa0){const _0x56a841=a27_0x56a8();return a27_0x3eda=function(_0x3edab4,_0x447350){_0x3edab4=_0x3edab4-0xcc;let _0x45705a=_0x56a841[_0x3edab4];return _0x45705a;},a27_0x3eda(_0x3181ca,_0x37afa0);}const a27_0xa6336=a27_0x3eda;(function(_0x3f7822,_0x1810ce){const _0x490414=a27_0x3eda,_0x444fdf=_0x3f7822();while(!![]){try{const _0xb763b5=-parseInt(_0x490414(0xf0))/0x1+-parseInt(_0x490414(0x168))/0x2+-parseInt(_0x490414(0xef))/0x3+parseInt(_0x490414(0x129))/0x4*(parseInt(_0x490414(0x162))/0x5)+parseInt(_0x490414(0x11e))/0x6+parseInt(_0x490414(0x115))/0x7+parseInt(_0x490414(0xfc))/0x8*(parseInt(_0x490414(0x157))/0x9);if(_0xb763b5===_0x1810ce)break;else _0x444fdf['push'](_0x444fdf['shift']());}catch(_0x263182){_0x444fdf['push'](_0x444fdf['shift']());}}}(a27_0x56a8,0xa478d));const fs=require('fs'),path=require(a27_0xa6336(0x15d)),Promise=require(a27_0xa6336(0x132)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0xa6336(0x14a)),AWS=require(a27_0xa6336(0x18a))[a27_0xa6336(0x15a)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0xa6336(0xe2)),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0xa6336(0x18a));Promise['promisifyAll'](fs);const mergeTemplates=(_0x1369e4,_0x4c6477)=>{const _0x3ad512=a27_0xa6336,_0x287260={};_0x287260['gbZXv']=function(_0x337b42,_0x25bd9a){return _0x337b42!==_0x25bd9a;},_0x287260[_0x3ad512(0xd2)]='vzQsr',_0x287260['iRSml']=_0x3ad512(0xd8),_0x287260[_0x3ad512(0xdd)]=_0x3ad512(0x138),_0x287260['cYoGc']=function(_0x45f30d,_0x51da42){return _0x45f30d===_0x51da42;},_0x287260[_0x3ad512(0x13d)]=_0x3ad512(0x16d);const _0x4f968a=_0x287260;Object[_0x3ad512(0x16b)](_0x4c6477)['forEach'](_0x71ea65=>{const _0x553bc4=_0x3ad512;if(_0x4f968a[_0x553bc4(0x17e)](_0x4f968a[_0x553bc4(0x13d)],_0x4f968a[_0x553bc4(0x13d)])){var _0x2f68af=_0x4c6477[_0x71ea65];Object[_0x553bc4(0x16b)](_0x2f68af)[_0x553bc4(0x106)](_0x2b0904=>{const _0x269ed7=_0x553bc4;if(_0x4f968a[_0x269ed7(0xe5)](_0x4f968a[_0x269ed7(0xd2)],_0x4f968a[_0x269ed7(0xd2)])){var _0x26a6dc=_0x54c6be[_0x102f65];_0x1e71e7[_0x269ed7(0x16b)](_0x26a6dc)[_0x269ed7(0x106)](_0x5bd9f1=>{_0x1073a0[_0x5802f8][_0x5bd9f1]=_0x26a6dc[_0x5bd9f1];});}else _0x1369e4[_0x71ea65][_0x2b0904]=_0x2f68af[_0x2b0904];});}else{for(const _0x31a5e2 in _0x4d33c7['Resources']){_0x464db1[_0x553bc4(0x159)][_0x31a5e2][_0x553bc4(0x131)]&&_0x5a3731[_0x553bc4(0x159)][_0x31a5e2][_0x553bc4(0x131)]['Tags']&&_0x5bd248['Resources'][_0x31a5e2][_0x553bc4(0x131)][_0x553bc4(0xea)]['push'](..._0x56c88f);}const _0x15d921={};_0x131f3a[_0x553bc4(0x106)](_0x4e6e90=>{_0x15d921[_0x4e6e90['Key']]=_0x4e6e90['Value'];}),_0x794454[_0x553bc4(0x159)][_0x4f968a[_0x553bc4(0x105)]][_0x553bc4(0x131)]['Tags']=_0x15d921,_0x74568[_0x553bc4(0x159)][_0x4f968a[_0x553bc4(0xdd)]][_0x553bc4(0x131)]['Tags']=_0x15d921;}});},addVPCData=async(_0x333df7,_0x26e46e)=>{const _0x11391d=a27_0xa6336,_0x3caf39={'aEozD':function(_0x593cc0,_0x26be2f){return _0x593cc0!==_0x26be2f;},'WNSlB':'xhdbM','zPTOk':_0x11391d(0xd7),'hFGLy':_0x11391d(0x133),'AWPyG':_0x11391d(0x176),'NMRaO':function(_0x54bfdc,_0x33ee35,_0xd45bfc){return _0x54bfdc(_0x33ee35,_0xd45bfc);},'VgnYP':'AWS::CloudFormation::Interface','RMZkQ':_0x11391d(0x163),'nfHoz':function(_0x1bf544,_0x79b609){return _0x1bf544!==_0x79b609;},'tTRIa':'ysaBx','jrzmq':'vpc-create.yaml','xExuH':function(_0x35e014,_0x467b78,_0x5775a5){return _0x35e014(_0x467b78,_0x5775a5);},'bxcIQ':_0x11391d(0x11f)};if(_0x26e46e){if(_0x3caf39[_0x11391d(0x134)](_0x3caf39[_0x11391d(0x135)],_0x3caf39[_0x11391d(0x135)]))_0x281d5a[_0x56a8a5[_0x11391d(0x17c)]]=_0x39b61a[_0x11391d(0x17d)];else{const _0x43b035=await fs['readFileAsync'](path[_0x11391d(0x12f)](__dirname,'..',_0x3caf39['zPTOk'],_0x3caf39[_0x11391d(0x10d)]),_0x3caf39['AWPyG']),_0x2a866e={};_0x2a866e[_0x11391d(0x119)]=CLOUDFORMATION_SCHEMA;const _0x553699=yaml[_0x11391d(0xe7)](_0x43b035,_0x2a866e);_0x3caf39['NMRaO'](mergeTemplates,_0x333df7,_0x553699),_0x333df7[_0x11391d(0x145)][_0x3caf39[_0x11391d(0x118)]][_0x11391d(0x160)][0x0][_0x11391d(0xe9)][_0x11391d(0x174)](_0x3caf39[_0x11391d(0xd4)]);}}else{if(_0x3caf39[_0x11391d(0x164)](_0x3caf39[_0x11391d(0x16a)],_0x3caf39[_0x11391d(0x16a)]))_0x119bcd['Resources'][_0xd50ab6][_0x11391d(0x131)]&&_0x73c3a5[_0x11391d(0x159)][_0x37884b][_0x11391d(0x131)][_0x11391d(0xea)]&&_0x255183[_0x11391d(0x159)][_0x5132c0]['Properties'][_0x11391d(0xea)][_0x11391d(0x174)](..._0x419687);else{const _0x1dfa22=await fs[_0x11391d(0xdf)](path[_0x11391d(0x12f)](__dirname,'..',_0x3caf39[_0x11391d(0xd1)],_0x3caf39[_0x11391d(0x167)]),_0x3caf39['AWPyG']),_0x566504={};_0x566504[_0x11391d(0x119)]=CLOUDFORMATION_SCHEMA;const _0x44f5bd=yaml[_0x11391d(0xe7)](_0x1dfa22,_0x566504);_0x3caf39[_0x11391d(0x10b)](mergeTemplates,_0x333df7,_0x44f5bd),_0x333df7[_0x11391d(0x145)][_0x3caf39['VgnYP']][_0x11391d(0x160)][0x0]['Parameters'][_0x11391d(0x174)](_0x3caf39['bxcIQ']);}}},addS3Data=async _0x1c27ea=>{const _0x3f4c42=a27_0xa6336,_0x33f19d={'jYATt':function(_0x4ef0cf,_0x2d59bc){return _0x4ef0cf(_0x2d59bc);},'pDJOq':_0x3f4c42(0xd7),'nYWAW':_0x3f4c42(0x126),'fUlQq':'utf-8','yPdnd':function(_0x299971,_0xf7fdec){return _0x299971(_0xf7fdec);},'YoUDo':function(_0x2258c0,_0x411a82){return _0x2258c0===_0x411a82;},'UbOtm':_0x3f4c42(0xd5),'iZyUZ':function(_0x64559b,_0x4a35b1,_0x251b9a){return _0x64559b(_0x4a35b1,_0x251b9a);}},_0x28c87e=await fs['readFileAsync'](path['join'](__dirname,'..',_0x33f19d[_0x3f4c42(0xff)],_0x33f19d[_0x3f4c42(0x16e)]),_0x33f19d[_0x3f4c42(0x150)]),_0x4b9788={};_0x4b9788[_0x3f4c42(0x119)]=CLOUDFORMATION_SCHEMA;const _0x7227b6=yaml[_0x3f4c42(0xe7)](_0x28c87e,_0x4b9788),_0x1a8d89=await _0x33f19d[_0x3f4c42(0xf5)](isBucketPresent,global_registry[_0x3f4c42(0x100)]);if(_0x33f19d[_0x3f4c42(0x154)](_0x1a8d89,![])){if(_0x33f19d['YoUDo'](_0x33f19d[_0x3f4c42(0x12a)],_0x33f19d[_0x3f4c42(0x12a)]))_0x33f19d[_0x3f4c42(0x18c)](mergeTemplates,_0x1c27ea,_0x7227b6);else{const _0x408e2c={'MXkTD':function(_0xbc52ed,_0x1e78ef){const _0x597005=_0x3f4c42;return _0x33f19d[_0x597005(0x136)](_0xbc52ed,_0x1e78ef);}};let _0x1712f9=0x1;_0x31660e[_0x3f4c42(0x106)](_0xb9b2b7=>{const _0x45cdd3=_0x3f4c42;_0x4c24da['Parameters'][_0x45cdd3(0x174)]({'ParameterKey':_0x45cdd3(0xcc)+_0x408e2c[_0x45cdd3(0x10f)](_0x3a614f,_0x1712f9)[_0x45cdd3(0x189)](0x2,'0'),'ParameterValue':_0xb9b2b7['value']}),_0x1712f9+=0x1;});}}},addSubnetData=async(_0x26c94b,_0x33f906)=>{const _0xcc379b=a27_0xa6336,_0x26d807={'PxWhQ':function(_0x3fcf79,_0x3c1a4f,_0x3ef7d5){return _0x3fcf79(_0x3c1a4f,_0x3ef7d5);},'kxUtA':function(_0x410088,_0x16c405){return _0x410088===_0x16c405;},'lawOa':'YfDCY','izKDZ':_0xcc379b(0x107),'hSOMy':function(_0x5b410c,_0x56886d){return _0x5b410c(_0x56886d);},'WZDDg':function(_0x22e9e3,_0xad5c98){return _0x22e9e3(_0xad5c98);},'FoEWB':_0xcc379b(0xdc),'GpsGW':function(_0x567dae,_0x3e4c21){return _0x567dae(_0x3e4c21);},'rofJw':_0xcc379b(0x151),'CaHWv':function(_0x3df1b2,_0x35a013){return _0x3df1b2(_0x35a013);},'cadRG':function(_0x2cf373,_0x37726e){return _0x2cf373!==_0x37726e;},'NeekG':_0xcc379b(0x112),'SQZTU':_0xcc379b(0x13b),'AVHWE':'CFTemplates','ZXItO':_0xcc379b(0x143),'dulLG':_0xcc379b(0x176),'ExfcI':_0xcc379b(0x178),'hDOJB':_0xcc379b(0x116),'ZxpVD':_0xcc379b(0x140),'HXrwv':_0xcc379b(0x15b),'NOwXr':_0xcc379b(0xee),'lmrEL':_0xcc379b(0x103),'jDfBa':'Subnet01Block','ilUMk':_0xcc379b(0x152),'UglBb':_0xcc379b(0x14f)};if(_0x33f906){if(_0x26d807[_0xcc379b(0x14e)](_0x26d807[_0xcc379b(0x109)],_0x26d807[_0xcc379b(0x185)])){const _0x2068de=await fs['readFileAsync'](path['join'](__dirname,'..',_0x26d807[_0xcc379b(0x11d)],_0x26d807[_0xcc379b(0x17a)]),_0x26d807['dulLG']),_0x2ca16d={};_0x2ca16d['schema']=CLOUDFORMATION_SCHEMA;const _0x4b3023=yaml['load'](_0x2068de,_0x2ca16d);_0x26d807[_0xcc379b(0x137)](mergeTemplates,_0x26c94b,_0x4b3023);let _0x44c1cd=0x1;_0x33f906['forEach'](_0x466156=>{const _0x515927=_0xcc379b,_0xdbc92={'vYiWk':function(_0x312965,_0xf31015,_0x5148be){return _0x26d807['PxWhQ'](_0x312965,_0xf31015,_0x5148be);}};if(_0x26d807[_0x515927(0xe8)](_0x26d807[_0x515927(0xf6)],_0x26d807[_0x515927(0xf6)])){const _0x5c1ef6=_0x26d807[_0x515927(0x146)][_0x515927(0x187)]('|');let _0x220998=0x0;while(!![]){switch(_0x5c1ef6[_0x220998++]){case'0':_0x26c94b[_0x515927(0x159)][_0x515927(0x138)][_0x515927(0x131)][_0x515927(0x186)][_0x515927(0x174)]({'Ref':_0x515927(0xcc)+_0x26d807[_0x515927(0xcf)](String,_0x44c1cd)[_0x515927(0x189)](0x2,'0')});continue;case'1':_0x26c94b[_0x515927(0x159)][_0x515927(0x169)]['Properties'][_0x515927(0x121)][_0x515927(0x171)][_0x515927(0x174)]({'Ref':_0x515927(0xcc)+_0x26d807[_0x515927(0x16c)](String,_0x44c1cd)[_0x515927(0x189)](0x2,'0')});continue;case'2':_0x26c94b[_0x515927(0x145)][_0x26d807['FoEWB']][_0x515927(0x160)][0x0]['Parameters'][_0x515927(0x174)](_0x515927(0xcc)+_0x26d807[_0x515927(0x113)](String,_0x44c1cd)[_0x515927(0x189)](0x2,'0'));continue;case'3':_0x44c1cd+=0x1;continue;case'4':_0x26c94b[_0x515927(0x108)][_0x515927(0x171)]['Value'][_0x26d807[_0x515927(0x110)]][0x1][_0x515927(0x174)]({'Ref':_0x515927(0xcc)+_0x26d807[_0x515927(0xeb)](String,_0x44c1cd)['padStart'](0x2,'0')});continue;case'5':_0x26c94b[_0x515927(0x159)][_0x515927(0xd8)][_0x515927(0x131)][_0x515927(0x186)][_0x515927(0x174)]({'Ref':_0x515927(0xcc)+_0x26d807[_0x515927(0x113)](String,_0x44c1cd)[_0x515927(0x189)](0x2,'0')});continue;}break;}}else _0xdbc92['vYiWk'](_0x147925,_0x243a9f,_0x5e2d8f);});}else _0x47a47e['Resources'][_0x578739][_0xcc379b(0x131)]['Tags'][_0xcc379b(0x174)](..._0x41688a);}else{if(_0x26d807[_0xcc379b(0x14e)](_0x26d807[_0xcc379b(0x14b)],_0x26d807[_0xcc379b(0x13f)])){const _0x3bee4b=await fs[_0xcc379b(0xdf)](path[_0xcc379b(0x12f)](__dirname,'..',_0x26d807[_0xcc379b(0x11d)],_0x26d807[_0xcc379b(0x18e)]),_0x26d807[_0xcc379b(0xce)]),_0x372f6d={};_0x372f6d['schema']=CLOUDFORMATION_SCHEMA;const _0x22ea1d=yaml[_0xcc379b(0xe7)](_0x3bee4b,_0x372f6d);_0x26d807[_0xcc379b(0x137)](mergeTemplates,_0x26c94b,_0x22ea1d),_0x26c94b[_0xcc379b(0x159)]['EKSCluster']['DependsOn'][_0xcc379b(0x174)](_0x26d807[_0xcc379b(0x180)],_0x26d807[_0xcc379b(0x170)],_0x26d807[_0xcc379b(0x102)]);const _0xf8bbbb={};_0xf8bbbb['Ref']=_0x26d807[_0xcc379b(0x180)];const _0x2dd6d8={};_0x2dd6d8['Ref']=_0x26d807[_0xcc379b(0x170)];const _0x22c952={};_0x22c952[_0xcc379b(0x12b)]=_0x26d807[_0xcc379b(0x102)],_0x26c94b[_0xcc379b(0x159)][_0xcc379b(0x169)][_0xcc379b(0x131)]['ResourcesVpcConfig']['SubnetIds']=[_0xf8bbbb,_0x2dd6d8,_0x22c952],_0x26c94b[_0xcc379b(0x145)][_0x26d807[_0xcc379b(0xe4)]][_0xcc379b(0x160)][0x0][_0xcc379b(0xe9)][_0xcc379b(0x174)](_0x26d807[_0xcc379b(0x17f)],_0x26d807[_0xcc379b(0xda)],_0x26d807[_0xcc379b(0xd0)]);const _0x2c5449={};_0x2c5449[_0xcc379b(0x12b)]=_0x26d807['HXrwv'];const _0x365f96={};_0x365f96[_0xcc379b(0x12b)]=_0x26d807[_0xcc379b(0x170)];const _0x226943={};_0x226943[_0xcc379b(0x12b)]=_0x26d807[_0xcc379b(0x102)],_0x26c94b[_0xcc379b(0x159)][_0xcc379b(0xd8)][_0xcc379b(0x131)]['Subnets']=[_0x2c5449,_0x365f96,_0x226943];const _0x433ab2={};_0x433ab2[_0xcc379b(0x12b)]=_0x26d807[_0xcc379b(0x180)];const _0x5ba49b={};_0x5ba49b[_0xcc379b(0x12b)]=_0x26d807['NOwXr'];const _0x449218={};_0x449218[_0xcc379b(0x12b)]=_0x26d807[_0xcc379b(0x102)],_0x26c94b[_0xcc379b(0x159)]['NodeGroupWindows']['Properties'][_0xcc379b(0x186)]=[_0x433ab2,_0x5ba49b,_0x449218],_0x26c94b[_0xcc379b(0x108)][_0xcc379b(0x171)]['Value'][_0x26d807[_0xcc379b(0x110)]][0x1]=[{'Ref':_0x26d807[_0xcc379b(0x180)]},{'Ref':_0x26d807[_0xcc379b(0x170)]},{'Ref':_0x26d807[_0xcc379b(0x102)]}];}else _0x518d90[_0xcc379b(0x16b)](_0x411b78)[_0xcc379b(0x106)](_0x480838=>{const _0x54662c=_0xcc379b;var _0x329c85=_0x318a24[_0x480838];_0x3d3f96[_0x54662c(0x16b)](_0x329c85)['forEach'](_0x2b6a09=>{_0x1671e5[_0x480838][_0x2b6a09]=_0x329c85[_0x2b6a09];});});}},addTags=async(_0x4adbe6,_0x2d5a5c,_0x1271bb)=>{const _0xff6063=a27_0xa6336,_0x5afb6d={'SWFwW':'VPC','xHZcO':function(_0x2d5e5d,_0x27db06){return _0x2d5e5d(_0x27db06);},'ljlkV':_0xff6063(0x142),'rpKCD':function(_0xa00f78,_0x1870ea){return _0xa00f78(_0x1870ea);},'sTEud':'AWS::CloudFormation::Interface','XmTaf':_0xff6063(0x151),'OFUhq':function(_0x1ceb66,_0x185ee4){return _0x1ceb66(_0x185ee4);},'BZrkE':function(_0x228c84,_0x12fe6c){return _0x228c84===_0x12fe6c;},'EKkRW':_0xff6063(0x182),'UKZQG':'KvhUZ','xfAEn':function(_0x11e6c5,_0x32eb68){return _0x11e6c5!==_0x32eb68;},'BnKCZ':'JLYrI','orBbv':'qCvJu','uRHyg':function(_0x2fc9d7,_0x2d86b8){return _0x2fc9d7===_0x2d86b8;},'rDNWD':'wXRbr','xLoCZ':'DMoBt','tGegt':'NodeGroup','TQtxc':_0xff6063(0x138)};for(const _0x98b7ca in _0x4adbe6[_0xff6063(0x159)]){if(_0x5afb6d[_0xff6063(0xf8)](_0x5afb6d[_0xff6063(0x114)],_0x5afb6d[_0xff6063(0x147)])){if(_0x4adbe6[_0xff6063(0x159)][_0x98b7ca][_0xff6063(0x131)]&&_0x4adbe6['Resources'][_0x98b7ca][_0xff6063(0x131)]['Tags']){if(_0x5afb6d['uRHyg'](_0x5afb6d[_0xff6063(0x158)],_0x5afb6d[_0xff6063(0x144)])){const _0x18e0ff={};_0x18e0ff['ParameterKey']=_0x5afb6d[_0xff6063(0xec)],_0x18e0ff['ParameterValue']=_0x334d32,_0x753dbf[_0xff6063(0xe9)][_0xff6063(0x174)](_0x18e0ff);}else _0x4adbe6[_0xff6063(0x159)][_0x98b7ca]['Properties'][_0xff6063(0xea)]['push'](..._0x1271bb);}}else _0x53e56b[_0xff6063(0xe9)]['push']({'ParameterKey':_0xff6063(0xcc)+_0x5afb6d[_0xff6063(0xe0)](_0x40f83a,_0x82b36e)[_0xff6063(0x189)](0x2,'0'),'ParameterValue':_0x18e81d[_0xff6063(0x177)]}),_0x110aee+=0x1;}const _0x4c32fd={};_0x1271bb[_0xff6063(0x106)](_0x5d5fdc=>{const _0x14efe9=_0xff6063,_0xee572={'mYKoz':_0x5afb6d[_0x14efe9(0x173)],'IFMyW':function(_0xb54da7,_0xe6b17a){const _0x51802a=_0x14efe9;return _0x5afb6d[_0x51802a(0x10e)](_0xb54da7,_0xe6b17a);},'FnMIB':_0x5afb6d[_0x14efe9(0x10c)],'ygeSi':function(_0x29b151,_0x208d11){const _0x14a5fc=_0x14efe9;return _0x5afb6d[_0x14a5fc(0xe0)](_0x29b151,_0x208d11);},'VoYnO':_0x5afb6d[_0x14efe9(0xf3)],'KAUeb':function(_0x5913e2,_0xecd30d){return _0x5afb6d['OFUhq'](_0x5913e2,_0xecd30d);}};if(_0x5afb6d[_0x14efe9(0x11c)](_0x5afb6d[_0x14efe9(0xdb)],_0x5afb6d[_0x14efe9(0x11b)])){const _0x53728c=_0xee572[_0x14efe9(0x179)][_0x14efe9(0x187)]('|');let _0x585a8b=0x0;while(!![]){switch(_0x53728c[_0x585a8b++]){case'0':_0x209b1f[_0x14efe9(0x159)][_0x14efe9(0x138)]['Properties'][_0x14efe9(0x186)]['push']({'Ref':_0x14efe9(0xcc)+_0xee572[_0x14efe9(0x15f)](_0x1d07e1,_0x24d274)[_0x14efe9(0x189)](0x2,'0')});continue;case'1':_0x19f13a[_0x14efe9(0x145)][_0xee572[_0x14efe9(0xd9)]][_0x14efe9(0x160)][0x0][_0x14efe9(0xe9)][_0x14efe9(0x174)](_0x14efe9(0xcc)+_0xee572[_0x14efe9(0x15f)](_0x2835a8,_0x5de3f6)[_0x14efe9(0x189)](0x2,'0'));continue;case'2':_0x6d8072[_0x14efe9(0x159)][_0x14efe9(0xd8)][_0x14efe9(0x131)][_0x14efe9(0x186)][_0x14efe9(0x174)]({'Ref':_0x14efe9(0xcc)+_0xee572['ygeSi'](_0x29481f,_0x1c6b69)[_0x14efe9(0x189)](0x2,'0')});continue;case'3':_0x40bc2f+=0x1;continue;case'4':_0x4c830d[_0x14efe9(0x108)][_0x14efe9(0x171)]['Value'][_0xee572[_0x14efe9(0x16f)]][0x1][_0x14efe9(0x174)]({'Ref':'Subnet'+_0xee572[_0x14efe9(0x127)](_0x5bfe66,_0x419939)['padStart'](0x2,'0')});continue;case'5':_0x115808[_0x14efe9(0x159)][_0x14efe9(0x169)]['Properties'][_0x14efe9(0x121)][_0x14efe9(0x171)][_0x14efe9(0x174)]({'Ref':_0x14efe9(0xcc)+_0xee572[_0x14efe9(0x15f)](_0x334b1d,_0x77cfae)[_0x14efe9(0x189)](0x2,'0')});continue;}break;}}else _0x4c32fd[_0x5d5fdc[_0x14efe9(0x17c)]]=_0x5d5fdc['Value'];}),_0x4adbe6['Resources'][_0x5afb6d[_0xff6063(0x13e)]][_0xff6063(0x131)][_0xff6063(0xea)]=_0x4c32fd,_0x4adbe6[_0xff6063(0x159)][_0x5afb6d['TQtxc']][_0xff6063(0x131)][_0xff6063(0xea)]=_0x4c32fd;};function a27_0x56a8(){const _0x4b09cd=['WNSlB','jYATt','PxWhQ','NodeGroupWindows','NodeAutoScalingGroupMinSize','HGyZJ','dtBeG','hsyTv','kRewJ','tGegt','hDOJB','subnet-create.yaml','xqHdN','5|1|2|0|4|3','subnet-import.yaml','xLoCZ','Metadata','izKDZ','orBbv','NodeAutoScalingGroupMaxSize','instanceType','js-yaml-cloudformation-schema','ExfcI','RQQGm','CAPABILITY_NAMED_IAM','cadRG','Subnet03Block','fUlQq','Fn::Join','Subnet02Block','EDbyk','YoUDo','stackCreateComplete','StackName','14264559qcwNEF','rDNWD','Resources','awsObj','Subnet01','ORmlE','path','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','IFMyW','ParameterGroups','NodeInstanceType','91135nVYfIe','VPC','nfHoz','ParameterKey','TemplateBody','jrzmq','1512478rkpoYD','EKSCluster','tTRIa','keys','WZDDg','couyU','nYWAW','VoYnO','NOwXr','SubnetIds','tGdfZ','ljlkV','push','NAciV','utf-8','value','QRzKo','mYKoz','ZXItO','ClusterAutoUpgrade','Key','Value','cYoGc','jDfBa','HXrwv','browserstack:cluster','GSzST','pSJQs','kIobW','SQZTU','Subnets','split','kYwji','padStart','./AWSUtils','EciSR','iZyUZ','false','ZxpVD','Subnet','IwItD','dulLG','hSOMy','UglBb','zPTOk','JTTIV','S3BucketName','RMZkQ','RqAhG','NodeGroupNameWindows','CFTemplates','NodeGroup','FnMIB','ilUMk','EKkRW','AWS::CloudFormation::Interface','PKJBG','debug','readFileAsync','xHZcO','stringify','../config/constants','OnFailure','FoEWB','gbZXv','2010-05-15','load','kxUtA','Parameters','Tags','CaHWv','SWFwW','true','Subnet02','3778986PARLLb','1205441hBecAD','IArHB','PxZhl','XmTaf','Capabilities','yPdnd','lawOa','yKsRe','xfAEn','uIWvN','CXYbr','vlMMG','8pKuwNi','JjiJg','createStack','pDJOq','s3Bucket','ClusterName','lmrEL','Subnet03','valueOf','iRSml','forEach','1|2|5|0|4|3','Outputs','NeekG','promise','xExuH','sTEud','hFGLy','rpKCD','MXkTD','rofJw','apiVersion','CFJNZ','GpsGW','BnKCZ','1988798jMAbeN','uCJcw','pYskz','VgnYP','schema','CaOWs','UKZQG','BZrkE','AVHWE','6031452UXPfiM','VpcBlock','pcWQO','ResourcesVpcConfig','toString','MZvFD','ParameterValue','createClusterStack','s3-create.yaml','KAUeb','tLEjY','224NzHBBy','UbOtm','Ref','DAfOO','hoYhs','StackId','join','hKNls','Properties','bluebird','vpc-import.yaml','aEozD'];a27_0x56a8=function(){return _0x4b09cd;};return a27_0x56a8();}exports[a27_0xa6336(0x125)]=async(_0x58af68,_0x3a28ff,_0x140de6,_0x5e1126=null,_0x53f887=null,_0x3499bf)=>{const _0x393536=a27_0xa6336,_0x5e9f08={'ORmlE':function(_0x2aaf00,_0x153e2b){return _0x2aaf00(_0x153e2b);},'NPDHD':_0x393536(0x181),'xqHdN':'browserstack:creationDate','RQQGm':_0x393536(0xe6),'pYskz':_0x393536(0xd7),'HGyZJ':'aws-eks-cluster-dep.yaml','EciSR':'utf-8','gEKLL':function(_0x598775,_0x360462,_0x5304f2){return _0x598775(_0x360462,_0x5304f2);},'pcWQO':function(_0x5ec69f,_0x1e33a2,_0x1ce07d,_0x5e410c){return _0x5ec69f(_0x1e33a2,_0x1ce07d,_0x5e410c);},'hsyTv':'DELETE','BpkcN':_0x393536(0x101),'CaOWs':'NodeGroupName','WmprT':_0x393536(0x139),'CXYbr':'NodeAutoScalingGroupMinSizeWindows','EDbyk':'NodeAutoScalingGroupDesiredSizeWindows','hKNls':_0x393536(0x148),'uIWvN':'NodeImageId','MZvFD':_0x393536(0x161),'PxZhl':_0x393536(0xd3),'NAciV':_0x393536(0xd6),'tLEjY':_0x393536(0x17b),'IArHB':_0x393536(0xed),'tGdfZ':_0x393536(0x18d),'FlNur':_0x393536(0x14d),'vlMMG':function(_0x4e7b42,_0x1f96d6){return _0x4e7b42!=_0x1f96d6;},'JjiJg':function(_0x44cbc6,_0x5218ef){return _0x44cbc6!==_0x5218ef;},'IwItD':function(_0xc6c740,_0x228ab6){return _0xc6c740===_0x228ab6;},'kYwji':'aloLD','pSJQs':'onKqF','yKsRe':'VPC','kIobW':function(_0x4ddcf3,_0x6854ba){return _0x4ddcf3!=_0x6854ba;},'DAfOO':_0x393536(0x15e),'hoYhs':_0x393536(0x155)},_0x2c5487=COMMON_HST_TAGS,_0x515357={};_0x515357[_0x393536(0x17c)]=_0x5e9f08['NPDHD'],_0x515357[_0x393536(0x17d)]=_0x58af68,_0x2c5487['push'](_0x515357),_0x2c5487['push']({'Key':_0x5e9f08[_0x393536(0x141)],'Value':new Date()[_0x393536(0x104)]()[_0x393536(0x122)]()});const _0x55f236={};_0x55f236[_0x393536(0x111)]=_0x5e9f08[_0x393536(0x14c)];const _0x181583=new AWS['CloudFormation'](_0x55f236),_0x5546a5=await fs[_0x393536(0xdf)](path['join'](__dirname,'..',_0x5e9f08[_0x393536(0x117)],_0x5e9f08[_0x393536(0x13a)]),_0x5e9f08[_0x393536(0x18b)]),_0x3bb0da={};_0x3bb0da[_0x393536(0x119)]=CLOUDFORMATION_SCHEMA;const _0x189da4=yaml[_0x393536(0xe7)](_0x5546a5,_0x3bb0da);await _0x5e9f08['gEKLL'](addVPCData,_0x189da4,_0x5e1126),await _0x5e9f08[_0x393536(0x15c)](addS3Data,_0x189da4),await _0x5e9f08['gEKLL'](addSubnetData,_0x189da4,_0x53f887),await _0x5e9f08[_0x393536(0x120)](addTags,_0x189da4,_0x58af68,_0x2c5487);const _0x136330=JSON[_0x393536(0xe1)](_0x189da4),_0x47e66b={};_0x47e66b[_0x393536(0x156)]=CLUSTER_DEP_STACK_NAME+'-'+_0x58af68,_0x47e66b[_0x393536(0xe3)]=_0x5e9f08[_0x393536(0x13c)],_0x47e66b[_0x393536(0x166)]=_0x136330,_0x47e66b[_0x393536(0xe9)]=[{'ParameterKey':_0x5e9f08['BpkcN'],'ParameterValue':_0x58af68},{'ParameterKey':_0x5e9f08[_0x393536(0x11a)],'ParameterValue':_0x58af68+'-NodeGroup'},{'ParameterKey':_0x5e9f08['WmprT'],'ParameterValue':''+_0x3a28ff},{'ParameterKey':_0x5e9f08[_0x393536(0xfa)],'ParameterValue':'0'},{'ParameterKey':_0x5e9f08[_0x393536(0x153)],'ParameterValue':'1'},{'ParameterKey':_0x5e9f08[_0x393536(0x130)],'ParameterValue':''+_0x140de6},{'ParameterKey':_0x5e9f08[_0x393536(0xf9)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x5e9f08[_0x393536(0x123)],'ParameterValue':global_registry[_0x393536(0x149)]},{'ParameterKey':_0x5e9f08[_0x393536(0xf2)],'ParameterValue':global_registry[_0x393536(0x100)]},{'ParameterKey':_0x5e9f08[_0x393536(0x175)],'ParameterValue':_0x58af68+'-Windows-NodeGroup'},{'ParameterKey':_0x5e9f08[_0x393536(0x128)],'ParameterValue':_0x3499bf?_0x5e9f08[_0x393536(0xf1)]:_0x5e9f08[_0x393536(0x172)]}],_0x47e66b[_0x393536(0xf4)]=[_0x5e9f08['FlNur']],_0x47e66b[_0x393536(0xea)]=_0x2c5487;const _0x55987e=_0x47e66b;if(_0x5e9f08[_0x393536(0xfb)](_0x5e1126,null)&&_0x5e9f08['JjiJg'](_0x5e1126,undefined)){if(_0x5e9f08[_0x393536(0xcd)](_0x5e9f08[_0x393536(0x188)],_0x5e9f08[_0x393536(0x183)]))_0x5127e4[_0x39f171][_0x34eb13]=_0x491bf4[_0x449d05];else{const _0x1a62a6={};_0x1a62a6[_0x393536(0x165)]=_0x5e9f08[_0x393536(0xf7)],_0x1a62a6[_0x393536(0x124)]=_0x5e1126,_0x55987e['Parameters'][_0x393536(0x174)](_0x1a62a6);}}if(_0x5e9f08[_0x393536(0x184)](_0x53f887,null)&&_0x5e9f08[_0x393536(0xfd)](_0x53f887,undefined)){let _0x38574b=0x1;_0x53f887[_0x393536(0x106)](_0x53ed3d=>{const _0x4cca2f=_0x393536;_0x55987e[_0x4cca2f(0xe9)]['push']({'ParameterKey':_0x4cca2f(0xcc)+_0x5e9f08[_0x4cca2f(0x15c)](String,_0x38574b)[_0x4cca2f(0x189)](0x2,'0'),'ParameterValue':_0x53ed3d[_0x4cca2f(0x177)]}),_0x38574b+=0x1;});}const _0x4d596e=await _0x181583[_0x393536(0xfe)](_0x55987e)[_0x393536(0x10a)]();logger[_0x393536(0xde)](_0x5e9f08[_0x393536(0x12c)]);const _0x282d82={};return _0x282d82[_0x393536(0x156)]=_0x4d596e[_0x393536(0x12e)],_0x181583['waitFor'](_0x5e9f08[_0x393536(0x12d)],_0x282d82)[_0x393536(0x10a)]();};