const a27_0xfad9c9=a27_0x90f2;function a27_0x90f2(_0x1f6cba,_0x12af1d){const _0x40fed2=a27_0x40fe();return a27_0x90f2=function(_0x90f2b9,_0xa1f8c){_0x90f2b9=_0x90f2b9-0x17d;let _0x35a635=_0x40fed2[_0x90f2b9];return _0x35a635;},a27_0x90f2(_0x1f6cba,_0x12af1d);}(function(_0x2fb2c7,_0xd147a7){const _0x4fc0b0=a27_0x90f2,_0x207a3f=_0x2fb2c7();while(!![]){try{const _0x2fc23c=parseInt(_0x4fc0b0(0x1c2))/0x1*(-parseInt(_0x4fc0b0(0x18b))/0x2)+parseInt(_0x4fc0b0(0x227))/0x3*(-parseInt(_0x4fc0b0(0x1d2))/0x4)+parseInt(_0x4fc0b0(0x18f))/0x5+-parseInt(_0x4fc0b0(0x1b2))/0x6*(parseInt(_0x4fc0b0(0x1d5))/0x7)+parseInt(_0x4fc0b0(0x238))/0x8+parseInt(_0x4fc0b0(0x19f))/0x9+-parseInt(_0x4fc0b0(0x1a9))/0xa;if(_0x2fc23c===_0xd147a7)break;else _0x207a3f['push'](_0x207a3f['shift']());}catch(_0x16d89d){_0x207a3f['push'](_0x207a3f['shift']());}}}(a27_0x40fe,0xa162b));function a27_0x40fe(){const _0x298135=['2767830cojCxK','Fn::Join','UJiYj','FTqCI','Resources','StackId','mNZwZ','VpcBlock','true','schema','-NodeGroup','NodeAutoScalingGroupMinSizeWindows','split','BJEPs','RFHFM','iZwPe','1oUslhp','pwyWy','oNKJw','REwiB','VPC','ckEIe','cmqPr','padStart','GYlvu','NodeInstanceType','WSmSg','zJajB','NodeImageId','s3-create.yaml','bOrDS','NNrHn','20DOlUGE','dQHCw','FcAsL','7JuGsvF','Metadata','UFhlM','S3BucketName','yuObb','browserstack:creationDate','createStack','ASKoL','Subnets','js-yaml-cloudformation-schema','OnFailure','cYHJT','path','EKSCluster','NodeGroup','2010-05-15','Properties','Key','false','stackCreateComplete','iAVfd','../config/constants','ylYEv','wytJl','NodeGroupWindows','teIZj','jEzvr','TcsuH','qKbnR','Bmsaw','uXJKJ','NWhdH','Ref','qiduU','ynVbv','toString','KnMEq','oidRI','Tags','aKEDR','vpc-create.yaml','Subnet02','GHRVJ','ausse','zAgFV','DxUOQ','NodeAutoScalingGroupMaxSize','Subnet02Block','mudZp','Subnet03','bKirt','JtEVH','yqbnB','LfFuE','IkxXc','Value','NodeGroupNameWindows','awsObj','DTQTz','jOvsB','forEach','tkaJV','acLIe','AUWVa','SubnetIds','yZHpG','Subnet','XFpiZ','promise','zzYHC','QJIhg','EQEaN','instanceType','ParameterKey','debug','HOuCX','wKFqJ','readFileAsync','NQtEb','gOWuk','ParameterGroups','FMMzE','29349Ntcebe','QInGg','XXbKL','FKhhW','zitWH','OgVVA','XSoXI','stringify','js-yaml','PTTjA','ZeTzs','AWS::CloudFormation::Interface','Kyzzu','CNqMo','brOuF','CGxYb','value','8744184SmRpUw','qpnsE','join','subnet-create.yaml','fdAjd','DELETE','ResourcesVpcConfig','bKbmQ','DIOVl','NodeGroupName','CuisJ','mSzhd','RGSHh','ClusterAutoUpgrade','dQDVf','TemplateBody','531282QmUWmg','keys','createClusterStack','CFTemplates','3999440qeXnCC','LxeOh','Outputs','NUsva','-Windows-NodeGroup','SLIKL','ClusterName','CAPABILITY_NAMED_IAM','Capabilities','eCeLT','load','LBbkN','promisifyAll','IZSeL','conWD','subnet-import.yaml','10891089qhexyO','waitFor','utf-8','aws-eks-cluster-dep.yaml','UDEOl','1|4|0|2|3|5','xrKPE','BibmO','tZCnK','kSfjN','16661360ILdbIE','DependsOn','push','Parameters','wXFQu','FDFGU','ATGcz','jCsil','../config/logger'];a27_0x40fe=function(){return _0x298135;};return a27_0x40fe();}const fs=require('fs'),path=require(a27_0xfad9c9(0x1e1)),Promise=require('bluebird'),yaml=require(a27_0xfad9c9(0x22f)),{CLOUDFORMATION_SCHEMA}=require(a27_0xfad9c9(0x1de)),AWS=require('./AWSUtils')[a27_0xfad9c9(0x20e)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0xfad9c9(0x1ea)),{logger}=require(a27_0xfad9c9(0x1b1)),{isBucketPresent}=require('./AWSUtils');Promise[a27_0xfad9c9(0x19b)](fs);const mergeTemplates=(_0x19ac54,_0x581179)=>{const _0x23aee1=a27_0xfad9c9,_0x426d52={'Bmsaw':function(_0x3119ab,_0x310d5){return _0x3119ab(_0x310d5);},'tazhY':'1|2|3|0|4|5','aGlvM':function(_0xf89965,_0x27ce23){return _0xf89965(_0x27ce23);},'FcAsL':_0x23aee1(0x232),'iZwPe':'Fn::Join','KnMEq':function(_0x72794b,_0x273c94){return _0x72794b!==_0x273c94;},'vcRhi':_0x23aee1(0x202),'QOzTY':_0x23aee1(0x1bf),'VSWUI':function(_0x2f05e5,_0x2f52ae){return _0x2f05e5===_0x2f52ae;},'teIZj':_0x23aee1(0x200),'oNKJw':_0x23aee1(0x1c5)};Object[_0x23aee1(0x18c)](_0x581179)['forEach'](_0x54b8dd=>{const _0x550367=_0x23aee1,_0x3dbbae={'YLYah':function(_0x2174c7,_0x5c921a){const _0x37d7be=a27_0x90f2;return _0x426d52[_0x37d7be(0x1f2)](_0x2174c7,_0x5c921a);},'WSmSg':_0x426d52['tazhY'],'CGxYb':function(_0x26ff86,_0x2488b5){return _0x426d52['aGlvM'](_0x26ff86,_0x2488b5);},'sJaWs':_0x426d52[_0x550367(0x1d4)],'IkxXc':function(_0xb7dfce,_0x505a76){return _0x426d52['aGlvM'](_0xb7dfce,_0x505a76);},'XSoXI':_0x426d52[_0x550367(0x1c1)],'eCeLT':function(_0x27aa31,_0x3faadb){const _0xc16542=_0x550367;return _0x426d52[_0xc16542(0x1f9)](_0x27aa31,_0x3faadb);},'HOuCX':_0x426d52['vcRhi'],'nhcEX':_0x426d52['QOzTY']};if(_0x426d52['VSWUI'](_0x426d52[_0x550367(0x1ee)],_0x426d52[_0x550367(0x1c4)]))_0x45504e['Parameters'][_0x550367(0x1ab)]({'ParameterKey':'Subnet'+_0x3dbbae['YLYah'](_0x185e72,_0x214407)[_0x550367(0x1c9)](0x2,'0'),'ParameterValue':_0x417f7b[_0x550367(0x237)]}),_0x3cfedd+=0x1;else{var _0x3bed30=_0x581179[_0x54b8dd];Object[_0x550367(0x18c)](_0x3bed30)[_0x550367(0x211)](_0x8a1dc6=>{const _0xdea42d=_0x550367;if(_0x3dbbae[_0xdea42d(0x198)](_0x3dbbae[_0xdea42d(0x220)],_0x3dbbae['nhcEX']))_0x19ac54[_0x54b8dd][_0x8a1dc6]=_0x3bed30[_0x8a1dc6];else{const _0x5b3c66=_0x3dbbae[_0xdea42d(0x1cc)][_0xdea42d(0x1be)]('|');let _0x3d4398=0x0;while(!![]){switch(_0x5b3c66[_0x3d4398++]){case'0':_0x2cfc2f['Resources'][_0xdea42d(0x1ed)]['Properties']['Subnets'][_0xdea42d(0x1ab)]({'Ref':'Subnet'+_0x3dbbae['YLYah'](_0x33b8fd,_0x5e3756)['padStart'](0x2,'0')});continue;case'1':_0x2ac817[_0xdea42d(0x1b6)]['EKSCluster'][_0xdea42d(0x1e5)][_0xdea42d(0x181)][_0xdea42d(0x215)][_0xdea42d(0x1ab)]({'Ref':_0xdea42d(0x217)+_0x3dbbae[_0xdea42d(0x236)](_0x1e8194,_0xf6db10)[_0xdea42d(0x1c9)](0x2,'0')});continue;case'2':_0x3d3e59[_0xdea42d(0x1d6)][_0x3dbbae['sJaWs']]['ParameterGroups'][0x0][_0xdea42d(0x1ac)][_0xdea42d(0x1ab)](_0xdea42d(0x217)+_0x3dbbae[_0xdea42d(0x20b)](_0x262a85,_0x21930d)[_0xdea42d(0x1c9)](0x2,'0'));continue;case'3':_0x17c289[_0xdea42d(0x1b6)]['NodeGroup'][_0xdea42d(0x1e5)][_0xdea42d(0x1dd)][_0xdea42d(0x1ab)]({'Ref':_0xdea42d(0x217)+_0x3dbbae[_0xdea42d(0x236)](_0x49ae23,_0x515dab)[_0xdea42d(0x1c9)](0x2,'0')});continue;case'4':_0x546043[_0xdea42d(0x191)][_0xdea42d(0x215)]['Value'][_0x3dbbae[_0xdea42d(0x22d)]][0x1]['push']({'Ref':_0xdea42d(0x217)+_0x3dbbae[_0xdea42d(0x20b)](_0x1960b8,_0x34d934)['padStart'](0x2,'0')});continue;case'5':_0x6ef0be+=0x1;continue;}break;}}});}});},addVPCData=async(_0x631bfa,_0x50a7e2)=>{const _0xa24f7=a27_0xfad9c9,_0x414940={'XhdMc':function(_0x27737c,_0x4be25f){return _0x27737c(_0x4be25f);},'bKirt':function(_0x307293,_0x1fe4af){return _0x307293===_0x1fe4af;},'PTTjA':_0xa24f7(0x228),'afhdr':'CFTemplates','kmSAV':'vpc-import.yaml','yuObb':_0xa24f7(0x1a1),'OgVVA':function(_0x504592,_0x54120c,_0x32b211){return _0x504592(_0x54120c,_0x32b211);},'RFHFM':_0xa24f7(0x232),'FTqCI':'VPC','vJZgD':'fElna','wXFQu':_0xa24f7(0x201),'ZeTzs':_0xa24f7(0x1fd),'FPjrc':function(_0x313935,_0x3e0470,_0x14f426){return _0x313935(_0x3e0470,_0x14f426);},'DTQTz':_0xa24f7(0x1b9)};if(_0x50a7e2){if(_0x414940[_0xa24f7(0x207)](_0x414940['PTTjA'],_0x414940[_0xa24f7(0x230)])){const _0x30f506=await fs['readFileAsync'](path['join'](__dirname,'..',_0x414940['afhdr'],_0x414940['kmSAV']),_0x414940[_0xa24f7(0x1d9)]),_0x60b638={};_0x60b638[_0xa24f7(0x1bb)]=CLOUDFORMATION_SCHEMA;const _0x14a4f2=yaml[_0xa24f7(0x199)](_0x30f506,_0x60b638);_0x414940[_0xa24f7(0x22c)](mergeTemplates,_0x631bfa,_0x14a4f2),_0x631bfa['Metadata'][_0x414940[_0xa24f7(0x1c0)]]['ParameterGroups'][0x0][_0xa24f7(0x1ac)][_0xa24f7(0x1ab)](_0x414940[_0xa24f7(0x1b5)]);}else{const _0x17481d={'conWD':function(_0x5f3555,_0x1f6671){return _0x414940['XhdMc'](_0x5f3555,_0x1f6671);}};let _0x442a86=0x1;_0x447c85[_0xa24f7(0x211)](_0x2c4324=>{const _0x7377ff=_0xa24f7;_0x3fe362[_0x7377ff(0x1ac)]['push']({'ParameterKey':_0x7377ff(0x217)+_0x17481d[_0x7377ff(0x19d)](_0x21e5d1,_0x442a86)[_0x7377ff(0x1c9)](0x2,'0'),'ParameterValue':_0x2c4324[_0x7377ff(0x237)]}),_0x442a86+=0x1;});}}else{if(_0x414940['bKirt'](_0x414940['vJZgD'],_0x414940[_0xa24f7(0x1ad)]))_0x5769e1[_0xa24f7(0x1b6)][_0x238b5e][_0xa24f7(0x1e5)][_0xa24f7(0x1fb)]['push'](..._0x2d11d8);else{const _0x1b38c2=await fs[_0xa24f7(0x222)](path[_0xa24f7(0x17d)](__dirname,'..',_0x414940['afhdr'],_0x414940[_0xa24f7(0x231)]),_0x414940['yuObb']),_0x4446c4={};_0x4446c4[_0xa24f7(0x1bb)]=CLOUDFORMATION_SCHEMA;const _0x315727=yaml[_0xa24f7(0x199)](_0x1b38c2,_0x4446c4);_0x414940['FPjrc'](mergeTemplates,_0x631bfa,_0x315727),_0x631bfa[_0xa24f7(0x1d6)][_0x414940[_0xa24f7(0x1c0)]]['ParameterGroups'][0x0][_0xa24f7(0x1ac)]['push'](_0x414940[_0xa24f7(0x20f)]);}}},addS3Data=async _0x2d7d28=>{const _0x274053=a27_0xfad9c9,_0x4907fe={'LxeOh':_0x274053(0x1e3),'FDFGU':'NodeGroupWindows','vvbKe':_0x274053(0x18e),'RZERo':_0x274053(0x1cf),'pwyWy':_0x274053(0x1a1),'wKFqJ':function(_0x9757c3,_0x203ad8){return _0x9757c3(_0x203ad8);},'NQtEb':function(_0x7af2c4,_0x4b6eb1){return _0x7af2c4===_0x4b6eb1;},'bOrDS':function(_0xd24369,_0x2a9dd8){return _0xd24369!==_0x2a9dd8;},'NNrHn':'QuYGQ','qyEMo':_0x274053(0x214),'imXeE':function(_0x1fae8b,_0x54bbbf,_0x14ba31){return _0x1fae8b(_0x54bbbf,_0x14ba31);}},_0x39c8ae=await fs['readFileAsync'](path[_0x274053(0x17d)](__dirname,'..',_0x4907fe['vvbKe'],_0x4907fe['RZERo']),_0x4907fe[_0x274053(0x1c3)]),_0x1384c0={};_0x1384c0['schema']=CLOUDFORMATION_SCHEMA;const _0x4ccb59=yaml[_0x274053(0x199)](_0x39c8ae,_0x1384c0),_0x4bb114=await _0x4907fe[_0x274053(0x221)](isBucketPresent,global_registry['s3Bucket']);if(_0x4907fe[_0x274053(0x223)](_0x4bb114,![])){if(_0x4907fe[_0x274053(0x1d0)](_0x4907fe[_0x274053(0x1d1)],_0x4907fe['qyEMo']))_0x4907fe['imXeE'](mergeTemplates,_0x2d7d28,_0x4ccb59);else{for(const _0x38ec85 in _0x4af50e[_0x274053(0x1b6)]){_0x5ea88d[_0x274053(0x1b6)][_0x38ec85][_0x274053(0x1e5)]&&_0x20e952[_0x274053(0x1b6)][_0x38ec85]['Properties'][_0x274053(0x1fb)]&&_0x168884['Resources'][_0x38ec85][_0x274053(0x1e5)]['Tags'][_0x274053(0x1ab)](..._0x2518ab);}const _0x11b7dd={};_0x140925['forEach'](_0x4a8ea1=>{const _0x175486=_0x274053;_0x11b7dd[_0x4a8ea1[_0x175486(0x1e6)]]=_0x4a8ea1['Value'];}),_0x19c95b[_0x274053(0x1b6)][_0x4907fe[_0x274053(0x190)]]['Properties'][_0x274053(0x1fb)]=_0x11b7dd,_0x2ca193['Resources'][_0x4907fe[_0x274053(0x1ae)]][_0x274053(0x1e5)]['Tags']=_0x11b7dd;}}},addSubnetData=async(_0xb5c194,_0xd4d49)=>{const _0x3a1ef7=a27_0xfad9c9,_0x378fc1={'XXbKL':function(_0x3d7435,_0x326372,_0x5ac8c1){return _0x3d7435(_0x326372,_0x5ac8c1);},'GHRVJ':function(_0x5650b3,_0x22a34a){return _0x5650b3===_0x22a34a;},'gOWuk':_0x3a1ef7(0x1f1),'NWhdH':'sLjpQ','gBLnk':_0x3a1ef7(0x1a4),'jCsil':function(_0x17b464,_0x7f06e3){return _0x17b464(_0x7f06e3);},'jOvsB':function(_0x241cd6,_0x23eefc){return _0x241cd6(_0x23eefc);},'UJiYj':_0x3a1ef7(0x1b3),'hGgLi':function(_0x412b0c,_0x3a6453){return _0x412b0c(_0x3a6453);},'uLrmK':_0x3a1ef7(0x232),'cmqPr':function(_0x4d0646,_0x3d2725){return _0x4d0646!==_0x3d2725;},'yqbnB':'xZawq','acLIe':_0x3a1ef7(0x233),'EQEaN':_0x3a1ef7(0x18e),'czBfp':_0x3a1ef7(0x19e),'LfFuE':_0x3a1ef7(0x1a1),'UDEOl':function(_0x4b9052,_0x2cce53,_0x4cb86c){return _0x4b9052(_0x2cce53,_0x4cb86c);},'zJajB':function(_0x94d28b,_0x2d42eb){return _0x94d28b!==_0x2d42eb;},'dQDVf':_0x3a1ef7(0x1e9),'xrKPE':_0x3a1ef7(0x186),'SLIKL':_0x3a1ef7(0x17e),'ynVbv':'Subnet01','XFpiZ':_0x3a1ef7(0x1fe),'bKbmQ':_0x3a1ef7(0x206),'ATGcz':'Subnet01Block','yZHpG':_0x3a1ef7(0x204),'NUsva':'Subnet03Block'};if(_0xd4d49){if(_0x378fc1[_0x3a1ef7(0x1c8)](_0x378fc1[_0x3a1ef7(0x209)],_0x378fc1[_0x3a1ef7(0x213)])){const _0xfe7ebc=await fs[_0x3a1ef7(0x222)](path[_0x3a1ef7(0x17d)](__dirname,'..',_0x378fc1['EQEaN'],_0x378fc1['czBfp']),_0x378fc1[_0x3a1ef7(0x20a)]),_0x59d095={};_0x59d095[_0x3a1ef7(0x1bb)]=CLOUDFORMATION_SCHEMA;const _0x45fc44=yaml[_0x3a1ef7(0x199)](_0xfe7ebc,_0x59d095);_0x378fc1[_0x3a1ef7(0x1a3)](mergeTemplates,_0xb5c194,_0x45fc44);let _0x4077c1=0x1;_0xd4d49[_0x3a1ef7(0x211)](_0x5ceaa4=>{const _0x1676d4=_0x3a1ef7,_0xe9464a={'QJIhg':function(_0x103068,_0x4910c2,_0x354727){const _0x5c0b22=a27_0x90f2;return _0x378fc1[_0x5c0b22(0x229)](_0x103068,_0x4910c2,_0x354727);}};if(_0x378fc1[_0x1676d4(0x1ff)](_0x378fc1[_0x1676d4(0x224)],_0x378fc1[_0x1676d4(0x1f4)]))_0xe9464a[_0x1676d4(0x21b)](_0x5d8169,_0x9b60c7,_0x170939);else{const _0x1a4e95=_0x378fc1['gBLnk'][_0x1676d4(0x1be)]('|');let _0x2fab13=0x0;while(!![]){switch(_0x1a4e95[_0x2fab13++]){case'0':_0xb5c194['Resources'][_0x1676d4(0x1e3)]['Properties'][_0x1676d4(0x1dd)]['push']({'Ref':_0x1676d4(0x217)+_0x378fc1[_0x1676d4(0x1b0)](String,_0x4077c1)['padStart'](0x2,'0')});continue;case'1':_0xb5c194[_0x1676d4(0x1b6)][_0x1676d4(0x1e2)]['Properties']['ResourcesVpcConfig'][_0x1676d4(0x215)]['push']({'Ref':'Subnet'+_0x378fc1[_0x1676d4(0x210)](String,_0x4077c1)[_0x1676d4(0x1c9)](0x2,'0')});continue;case'2':_0xb5c194[_0x1676d4(0x1b6)]['NodeGroupWindows'][_0x1676d4(0x1e5)]['Subnets'][_0x1676d4(0x1ab)]({'Ref':_0x1676d4(0x217)+_0x378fc1['jCsil'](String,_0x4077c1)['padStart'](0x2,'0')});continue;case'3':_0xb5c194[_0x1676d4(0x191)][_0x1676d4(0x215)]['Value'][_0x378fc1[_0x1676d4(0x1b4)]][0x1][_0x1676d4(0x1ab)]({'Ref':_0x1676d4(0x217)+_0x378fc1['hGgLi'](String,_0x4077c1)[_0x1676d4(0x1c9)](0x2,'0')});continue;case'4':_0xb5c194[_0x1676d4(0x1d6)][_0x378fc1['uLrmK']][_0x1676d4(0x225)][0x0][_0x1676d4(0x1ac)][_0x1676d4(0x1ab)](_0x1676d4(0x217)+_0x378fc1['jOvsB'](String,_0x4077c1)[_0x1676d4(0x1c9)](0x2,'0'));continue;case'5':_0x4077c1+=0x1;continue;}break;}}});}else _0x5636d8[_0x3a1ef7(0x18c)](_0x2d8cb6)[_0x3a1ef7(0x211)](_0x41587e=>{var _0x2ce944=_0x549dc9[_0x41587e];_0x2fbf13['keys'](_0x2ce944)['forEach'](_0xa96b54=>{_0x34238e[_0x41587e][_0xa96b54]=_0x2ce944[_0xa96b54];});});}else{if(_0x378fc1[_0x3a1ef7(0x1cd)](_0x378fc1[_0x3a1ef7(0x189)],_0x378fc1[_0x3a1ef7(0x1a5)])){const _0x1362e0=await fs[_0x3a1ef7(0x222)](path['join'](__dirname,'..',_0x378fc1[_0x3a1ef7(0x21c)],_0x378fc1[_0x3a1ef7(0x194)]),_0x378fc1['LfFuE']),_0x350d76={};_0x350d76['schema']=CLOUDFORMATION_SCHEMA;const _0xbc459c=yaml[_0x3a1ef7(0x199)](_0x1362e0,_0x350d76);_0x378fc1[_0x3a1ef7(0x1a3)](mergeTemplates,_0xb5c194,_0xbc459c),_0xb5c194[_0x3a1ef7(0x1b6)][_0x3a1ef7(0x1e2)][_0x3a1ef7(0x1aa)][_0x3a1ef7(0x1ab)](_0x378fc1[_0x3a1ef7(0x1f7)],_0x378fc1[_0x3a1ef7(0x218)],_0x378fc1[_0x3a1ef7(0x182)]);const _0x28a7e7={};_0x28a7e7[_0x3a1ef7(0x1f5)]=_0x378fc1[_0x3a1ef7(0x1f7)];const _0x2f2bc2={};_0x2f2bc2[_0x3a1ef7(0x1f5)]=_0x378fc1[_0x3a1ef7(0x218)];const _0x2815c8={};_0x2815c8['Ref']=_0x378fc1[_0x3a1ef7(0x182)],_0xb5c194['Resources'][_0x3a1ef7(0x1e2)][_0x3a1ef7(0x1e5)][_0x3a1ef7(0x181)][_0x3a1ef7(0x215)]=[_0x28a7e7,_0x2f2bc2,_0x2815c8],_0xb5c194[_0x3a1ef7(0x1d6)][_0x378fc1['uLrmK']]['ParameterGroups'][0x0]['Parameters']['push'](_0x378fc1[_0x3a1ef7(0x1af)],_0x378fc1[_0x3a1ef7(0x216)],_0x378fc1[_0x3a1ef7(0x192)]);const _0x3e8e24={};_0x3e8e24[_0x3a1ef7(0x1f5)]=_0x378fc1['ynVbv'];const _0xf449d5={};_0xf449d5[_0x3a1ef7(0x1f5)]=_0x378fc1[_0x3a1ef7(0x218)];const _0x56af33={};_0x56af33['Ref']=_0x378fc1['bKbmQ'],_0xb5c194['Resources'][_0x3a1ef7(0x1e3)][_0x3a1ef7(0x1e5)][_0x3a1ef7(0x1dd)]=[_0x3e8e24,_0xf449d5,_0x56af33];const _0x104147={};_0x104147[_0x3a1ef7(0x1f5)]=_0x378fc1[_0x3a1ef7(0x1f7)];const _0x58bcba={};_0x58bcba[_0x3a1ef7(0x1f5)]=_0x378fc1['XFpiZ'];const _0x23333b={};_0x23333b[_0x3a1ef7(0x1f5)]=_0x378fc1[_0x3a1ef7(0x182)],_0xb5c194['Resources'][_0x3a1ef7(0x1ed)][_0x3a1ef7(0x1e5)]['Subnets']=[_0x104147,_0x58bcba,_0x23333b],_0xb5c194[_0x3a1ef7(0x191)][_0x3a1ef7(0x215)][_0x3a1ef7(0x20c)][_0x378fc1[_0x3a1ef7(0x1b4)]][0x1]=[{'Ref':_0x378fc1[_0x3a1ef7(0x1f7)]},{'Ref':_0x378fc1[_0x3a1ef7(0x218)]},{'Ref':_0x378fc1[_0x3a1ef7(0x182)]}];}else{var _0x26407b=_0x1326e8[_0x4674d8];_0x2efb7d[_0x3a1ef7(0x18c)](_0x26407b)['forEach'](_0x18efde=>{_0x3fa689[_0x2fac10][_0x18efde]=_0x26407b[_0x18efde];});}}},addTags=async(_0x4918e1,_0x4eba07,_0x482b16)=>{const _0x33d875=a27_0xfad9c9,_0x51b484={};_0x51b484[_0x33d875(0x185)]=_0x33d875(0x1c6),_0x51b484[_0x33d875(0x1a8)]=function(_0x460006,_0x5d5bb9){return _0x460006!==_0x5d5bb9;},_0x51b484['dQHCw']='PnqmM',_0x51b484[_0x33d875(0x205)]=function(_0x11b407,_0xe29961){return _0x11b407!==_0xe29961;},_0x51b484[_0x33d875(0x1ca)]=_0x33d875(0x19a),_0x51b484[_0x33d875(0x19c)]=function(_0x432dad,_0x2ce352){return _0x432dad!==_0x2ce352;},_0x51b484[_0x33d875(0x17f)]=_0x33d875(0x22a),_0x51b484['qiduU']=_0x33d875(0x1e3),_0x51b484[_0x33d875(0x1e0)]=_0x33d875(0x1ed);const _0x2d9b71=_0x51b484;for(const _0x5a622d in _0x4918e1['Resources']){if(_0x2d9b71[_0x33d875(0x205)](_0x2d9b71[_0x33d875(0x1ca)],_0x2d9b71[_0x33d875(0x1ca)])){const _0x2deb7e={};_0x2deb7e[_0x33d875(0x21e)]=_0x2d9b71[_0x33d875(0x185)],_0x2deb7e['ParameterValue']=_0x3ec12a,_0x1725ae[_0x33d875(0x1ac)][_0x33d875(0x1ab)](_0x2deb7e);}else _0x4918e1[_0x33d875(0x1b6)][_0x5a622d][_0x33d875(0x1e5)]&&_0x4918e1[_0x33d875(0x1b6)][_0x5a622d][_0x33d875(0x1e5)][_0x33d875(0x1fb)]&&(_0x2d9b71[_0x33d875(0x19c)](_0x2d9b71['fdAjd'],_0x2d9b71[_0x33d875(0x17f)])?_0x3dea1a[_0x33d875(0x1b6)][_0x1d05b3][_0x33d875(0x1e5)]&&_0x42744a[_0x33d875(0x1b6)][_0x4a075b][_0x33d875(0x1e5)]['Tags']&&_0x5cd15c[_0x33d875(0x1b6)][_0x1bb25c]['Properties']['Tags'][_0x33d875(0x1ab)](..._0x5d5574):_0x4918e1[_0x33d875(0x1b6)][_0x5a622d]['Properties']['Tags'][_0x33d875(0x1ab)](..._0x482b16));}const _0x1d4cfb={};_0x482b16[_0x33d875(0x211)](_0x1927d8=>{const _0x2411c6=_0x33d875;_0x2d9b71['kSfjN'](_0x2d9b71[_0x2411c6(0x1d3)],_0x2d9b71[_0x2411c6(0x1d3)])?_0x368112[_0x54b19b][_0x18f2a9]=_0xa111bb[_0x1d2f95]:_0x1d4cfb[_0x1927d8[_0x2411c6(0x1e6)]]=_0x1927d8['Value'];}),_0x4918e1[_0x33d875(0x1b6)][_0x2d9b71[_0x33d875(0x1f6)]]['Properties'][_0x33d875(0x1fb)]=_0x1d4cfb,_0x4918e1[_0x33d875(0x1b6)][_0x2d9b71['cYHJT']][_0x33d875(0x1e5)][_0x33d875(0x1fb)]=_0x1d4cfb;};exports[a27_0xfad9c9(0x18d)]=async(_0x2af4a7,_0x5cd2f1,_0x5994e0,_0xe48961=null,_0xea5629=null,_0x1d980e)=>{const _0x161555=a27_0xfad9c9,_0x5c0628={'ckEIe':function(_0x1ba00f,_0x384fb5){return _0x1ba00f(_0x384fb5);},'mNZwZ':'browserstack:cluster','wytJl':_0x161555(0x1da),'qTOxx':_0x161555(0x1e4),'UFhlM':_0x161555(0x18e),'vWrUv':_0x161555(0x1a2),'TZNCr':'utf-8','FMMzE':function(_0xd44a20,_0x52cb83,_0x168c71){return _0xd44a20(_0x52cb83,_0x168c71);},'gJbfT':function(_0x3bf15a,_0x5298c4,_0x44cebe){return _0x3bf15a(_0x5298c4,_0x44cebe);},'TcsuH':function(_0x13ccb1,_0xea1590,_0x132c19,_0x42e1a1){return _0x13ccb1(_0xea1590,_0x132c19,_0x42e1a1);},'OvBTs':_0x161555(0x180),'RGSHh':_0x161555(0x195),'DIOVl':_0x161555(0x184),'CNqMo':'NodeAutoScalingGroupMinSize','aKEDR':_0x161555(0x1bd),'ylYEv':'NodeAutoScalingGroupDesiredSizeWindows','FtOxv':_0x161555(0x203),'tkaJV':_0x161555(0x1ce),'PIurd':_0x161555(0x1cb),'oidRI':_0x161555(0x1d8),'brOuF':_0x161555(0x20d),'tdXPO':_0x161555(0x188),'JtEVH':_0x161555(0x1ba),'qpnsE':_0x161555(0x1e7),'tZCnK':_0x161555(0x196),'ASKoL':function(_0x33a788,_0x4e8579){return _0x33a788!=_0x4e8579;},'uXJKJ':function(_0x2628ac,_0x336ad0){return _0x2628ac!==_0x336ad0;},'jEzvr':_0x161555(0x21a),'zitWH':_0x161555(0x1c6),'RYKHT':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','BibmO':_0x161555(0x1e8)},_0x2818bf=COMMON_HST_TAGS,_0x4bba46={};_0x4bba46['Key']=_0x5c0628[_0x161555(0x1b8)],_0x4bba46[_0x161555(0x20c)]=_0x2af4a7,_0x2818bf[_0x161555(0x1ab)](_0x4bba46),_0x2818bf['push']({'Key':_0x5c0628[_0x161555(0x1ec)],'Value':new Date()['valueOf']()[_0x161555(0x1f8)]()});const _0x3b928f={};_0x3b928f['apiVersion']=_0x5c0628['qTOxx'];const _0x55a865=new AWS['CloudFormation'](_0x3b928f),_0x5da126=await fs[_0x161555(0x222)](path[_0x161555(0x17d)](__dirname,'..',_0x5c0628[_0x161555(0x1d7)],_0x5c0628['vWrUv']),_0x5c0628['TZNCr']),_0x3e87c8={};_0x3e87c8[_0x161555(0x1bb)]=CLOUDFORMATION_SCHEMA;const _0x420a56=yaml[_0x161555(0x199)](_0x5da126,_0x3e87c8);await _0x5c0628[_0x161555(0x226)](addVPCData,_0x420a56,_0xe48961),await _0x5c0628[_0x161555(0x1c7)](addS3Data,_0x420a56),await _0x5c0628['gJbfT'](addSubnetData,_0x420a56,_0xea5629),await _0x5c0628[_0x161555(0x1f0)](addTags,_0x420a56,_0x2af4a7,_0x2818bf);const _0x3ac23e=JSON[_0x161555(0x22e)](_0x420a56),_0x248f3d={};_0x248f3d['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0x2af4a7,_0x248f3d[_0x161555(0x1df)]=_0x5c0628['OvBTs'],_0x248f3d[_0x161555(0x18a)]=_0x3ac23e,_0x248f3d[_0x161555(0x1ac)]=[{'ParameterKey':_0x5c0628[_0x161555(0x187)],'ParameterValue':_0x2af4a7},{'ParameterKey':_0x5c0628[_0x161555(0x183)],'ParameterValue':_0x2af4a7+_0x161555(0x1bc)},{'ParameterKey':_0x5c0628[_0x161555(0x234)],'ParameterValue':''+_0x5cd2f1},{'ParameterKey':_0x5c0628[_0x161555(0x1fc)],'ParameterValue':'0'},{'ParameterKey':_0x5c0628[_0x161555(0x1eb)],'ParameterValue':'1'},{'ParameterKey':_0x5c0628['FtOxv'],'ParameterValue':''+_0x5994e0},{'ParameterKey':_0x5c0628[_0x161555(0x212)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x5c0628['PIurd'],'ParameterValue':global_registry[_0x161555(0x21d)]},{'ParameterKey':_0x5c0628[_0x161555(0x1fa)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x5c0628[_0x161555(0x235)],'ParameterValue':_0x2af4a7+_0x161555(0x193)},{'ParameterKey':_0x5c0628['tdXPO'],'ParameterValue':_0x1d980e?_0x5c0628[_0x161555(0x208)]:_0x5c0628[_0x161555(0x239)]}],_0x248f3d[_0x161555(0x197)]=[_0x5c0628[_0x161555(0x1a7)]],_0x248f3d[_0x161555(0x1fb)]=_0x2818bf;const _0x4db24d=_0x248f3d;if(_0x5c0628[_0x161555(0x1dc)](_0xe48961,null)&&_0x5c0628['uXJKJ'](_0xe48961,undefined)){if(_0x5c0628[_0x161555(0x1f3)](_0x5c0628['jEzvr'],_0x5c0628[_0x161555(0x1ef)]))_0x453585[_0x567064[_0x161555(0x1e6)]]=_0x52f484[_0x161555(0x20c)];else{const _0x544f6b={};_0x544f6b['ParameterKey']=_0x5c0628[_0x161555(0x22b)],_0x544f6b['ParameterValue']=_0xe48961,_0x4db24d[_0x161555(0x1ac)][_0x161555(0x1ab)](_0x544f6b);}}if(_0x5c0628[_0x161555(0x1dc)](_0xea5629,null)&&_0x5c0628[_0x161555(0x1f3)](_0xea5629,undefined)){let _0xc51072=0x1;_0xea5629[_0x161555(0x211)](_0x26f146=>{const _0x1bed3f=_0x161555;_0x4db24d[_0x1bed3f(0x1ac)]['push']({'ParameterKey':_0x1bed3f(0x217)+_0x5c0628[_0x1bed3f(0x1c7)](String,_0xc51072)[_0x1bed3f(0x1c9)](0x2,'0'),'ParameterValue':_0x26f146[_0x1bed3f(0x237)]}),_0xc51072+=0x1;});}const _0x31fbb9=await _0x55a865[_0x161555(0x1db)](_0x4db24d)['promise']();logger[_0x161555(0x21f)](_0x5c0628['RYKHT']);const _0x3f7690={};return _0x3f7690['StackName']=_0x31fbb9[_0x161555(0x1b7)],_0x55a865[_0x161555(0x1a0)](_0x5c0628[_0x161555(0x1a6)],_0x3f7690)[_0x161555(0x219)]();};