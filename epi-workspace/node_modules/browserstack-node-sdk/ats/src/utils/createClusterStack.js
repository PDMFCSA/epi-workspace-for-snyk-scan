const a27_0x450fa4=a27_0x29f2;(function(_0x23f549,_0x67fe4a){const _0x576e81=a27_0x29f2,_0x255875=_0x23f549();while(!![]){try{const _0x56f5d3=parseInt(_0x576e81(0xd8))/0x1+parseInt(_0x576e81(0x152))/0x2*(parseInt(_0x576e81(0x126))/0x3)+parseInt(_0x576e81(0x13d))/0x4+parseInt(_0x576e81(0x119))/0x5+-parseInt(_0x576e81(0x127))/0x6+-parseInt(_0x576e81(0x105))/0x7+parseInt(_0x576e81(0x145))/0x8;if(_0x56f5d3===_0x67fe4a)break;else _0x255875['push'](_0x255875['shift']());}catch(_0x37e394){_0x255875['push'](_0x255875['shift']());}}}(a27_0x5c98,0xad985));const fs=require('fs'),path=require('path'),Promise=require(a27_0x450fa4(0x150)),yaml=require(a27_0x450fa4(0xe1)),{CLOUDFORMATION_SCHEMA}=require(a27_0x450fa4(0x117)),AWS=require(a27_0x450fa4(0xc7))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x450fa4(0x163)),{logger}=require(a27_0x450fa4(0x115)),{isBucketPresent}=require(a27_0x450fa4(0xc7));Promise[a27_0x450fa4(0x11a)](fs);const mergeTemplates=(_0x535edc,_0x3c1daf)=>{const _0x35a98e=a27_0x450fa4,_0x750fd8={'oLkkZ':function(_0x440072,_0x525480){return _0x440072===_0x525480;},'IzQWY':_0x35a98e(0x104),'XzQFo':'2|4|0|1|3|5','VbdjM':function(_0x74d803,_0x84f0e){return _0x74d803(_0x84f0e);},'GGAmu':_0x35a98e(0x176),'mDHFi':'AWS::CloudFormation::Interface','vnvgG':function(_0x423dd6,_0xd6ab6b){return _0x423dd6!==_0xd6ab6b;},'WDrfU':_0x35a98e(0x10f),'yzghv':'QToVh'};Object['keys'](_0x3c1daf)[_0x35a98e(0x172)](_0x231291=>{const _0x1b6e97=_0x35a98e,_0x5d9b64={'FSaaf':_0x750fd8[_0x1b6e97(0xde)],'tDPjL':function(_0x2a4906,_0x33af46){const _0x5cfaa5=_0x1b6e97;return _0x750fd8[_0x5cfaa5(0xc5)](_0x2a4906,_0x33af46);},'RwcjA':function(_0x30b1e6,_0xeb7e00){const _0xa4077c=_0x1b6e97;return _0x750fd8[_0xa4077c(0xc5)](_0x30b1e6,_0xeb7e00);},'ZuhIC':_0x750fd8[_0x1b6e97(0x159)],'MGTMW':function(_0xb1c03,_0xa33712){return _0x750fd8['VbdjM'](_0xb1c03,_0xa33712);},'abRKY':_0x750fd8[_0x1b6e97(0x142)]};if(_0x750fd8[_0x1b6e97(0xc1)](_0x750fd8[_0x1b6e97(0x148)],_0x750fd8[_0x1b6e97(0x154)])){var _0x28e487=_0x3c1daf[_0x231291];Object[_0x1b6e97(0x124)](_0x28e487)[_0x1b6e97(0x172)](_0x39e935=>{const _0x39a27b=_0x1b6e97;if(_0x750fd8[_0x39a27b(0xf6)](_0x750fd8['IzQWY'],_0x750fd8[_0x39a27b(0xfb)]))_0x535edc[_0x231291][_0x39e935]=_0x28e487[_0x39e935];else{const _0x1d7119=_0x5d9b64['FSaaf'][_0x39a27b(0x16e)]('|');let _0x2a0ddd=0x0;while(!![]){switch(_0x1d7119[_0x2a0ddd++]){case'0':_0x55c2be[_0x39a27b(0x15d)][_0x39a27b(0xfe)][_0x39a27b(0x169)][_0x39a27b(0x112)]['push']({'Ref':_0x39a27b(0xcb)+_0x5d9b64[_0x39a27b(0x128)](_0x3f67e2,_0x4b318d)[_0x39a27b(0xcd)](0x2,'0')});continue;case'1':_0x2cc138['Resources'][_0x39a27b(0xed)][_0x39a27b(0x169)]['Subnets'][_0x39a27b(0xcc)]({'Ref':_0x39a27b(0xcb)+_0x5d9b64[_0x39a27b(0x128)](_0x3b9bbf,_0x2b95fb)[_0x39a27b(0xcd)](0x2,'0')});continue;case'2':_0x4cf406[_0x39a27b(0x15d)][_0x39a27b(0xf9)]['Properties'][_0x39a27b(0xdc)]['SubnetIds']['push']({'Ref':_0x39a27b(0xcb)+_0x5d9b64[_0x39a27b(0x151)](_0xe8a49d,_0x6cb39e)['padStart'](0x2,'0')});continue;case'3':_0x4204c3['Outputs'][_0x39a27b(0x160)][_0x39a27b(0xe7)][_0x5d9b64[_0x39a27b(0x132)]][0x1][_0x39a27b(0xcc)]({'Ref':_0x39a27b(0xcb)+_0x5d9b64['MGTMW'](_0x196229,_0x5463cd)[_0x39a27b(0xcd)](0x2,'0')});continue;case'4':_0x5a3962[_0x39a27b(0xfc)][_0x5d9b64[_0x39a27b(0x106)]][_0x39a27b(0x146)][0x0]['Parameters']['push'](_0x39a27b(0xcb)+_0x5d9b64[_0x39a27b(0x128)](_0x248db7,_0x6c5e2d)[_0x39a27b(0xcd)](0x2,'0'));continue;case'5':_0x407e55+=0x1;continue;}break;}}});}else _0x2992f2[_0x1b6e97(0x15d)][_0x4aa87e][_0x1b6e97(0x169)][_0x1b6e97(0xe4)][_0x1b6e97(0xcc)](..._0x4fb968);});},addVPCData=async(_0x163d35,_0x533c4f)=>{const _0xc8f43c=a27_0x450fa4,_0x437035={'Nmpju':function(_0x509789,_0x52e341,_0x31f27f){return _0x509789(_0x52e341,_0x31f27f);},'sySOZ':function(_0x5ba2a5,_0xb9fc5a){return _0x5ba2a5===_0xb9fc5a;},'nPwCL':_0xc8f43c(0x143),'kwOeC':_0xc8f43c(0xe8),'pAPAv':_0xc8f43c(0xc8),'MVzcG':_0xc8f43c(0x136),'Priyo':_0xc8f43c(0x165),'LQDxp':_0xc8f43c(0x171),'qVlar':_0xc8f43c(0x116),'wyjvM':function(_0x1a289e,_0x56be89){return _0x1a289e!==_0x56be89;},'lbuvp':_0xc8f43c(0xea),'NLisL':_0xc8f43c(0xe3),'SfEiU':'vpc-create.yaml','UDzMo':_0xc8f43c(0xe2)};if(_0x533c4f){if(_0x437035['sySOZ'](_0x437035[_0xc8f43c(0x139)],_0x437035[_0xc8f43c(0xeb)]))_0x3ea428[_0x447084][_0x56b69a]=_0x2c7fea[_0xa7b4cb];else{const _0x1738cc=await fs['readFileAsync'](path[_0xc8f43c(0xf8)](__dirname,'..',_0x437035[_0xc8f43c(0xce)],_0x437035[_0xc8f43c(0x114)]),_0x437035[_0xc8f43c(0xfa)]),_0xd6b436={};_0xd6b436[_0xc8f43c(0x11b)]=CLOUDFORMATION_SCHEMA;const _0x2efcfe=yaml[_0xc8f43c(0x102)](_0x1738cc,_0xd6b436);_0x437035[_0xc8f43c(0x113)](mergeTemplates,_0x163d35,_0x2efcfe),_0x163d35[_0xc8f43c(0xfc)][_0x437035[_0xc8f43c(0x17a)]][_0xc8f43c(0x146)][0x0][_0xc8f43c(0x13a)][_0xc8f43c(0xcc)](_0x437035['qVlar']);}}else{if(_0x437035['wyjvM'](_0x437035['lbuvp'],_0x437035[_0xc8f43c(0x137)])){const _0x554733=await fs[_0xc8f43c(0x166)](path[_0xc8f43c(0xf8)](__dirname,'..',_0x437035[_0xc8f43c(0xce)],_0x437035[_0xc8f43c(0xc9)]),_0x437035[_0xc8f43c(0xfa)]),_0x48784d={};_0x48784d['schema']=CLOUDFORMATION_SCHEMA;const _0x2dc93e=yaml[_0xc8f43c(0x102)](_0x554733,_0x48784d);_0x437035[_0xc8f43c(0x113)](mergeTemplates,_0x163d35,_0x2dc93e),_0x163d35['Metadata'][_0x437035[_0xc8f43c(0x17a)]][_0xc8f43c(0x146)][0x0][_0xc8f43c(0x13a)][_0xc8f43c(0xcc)](_0x437035[_0xc8f43c(0xc0)]);}else _0x437035['Nmpju'](_0x5849a1,_0x2d3bdf,_0x5b6f5e);}},addS3Data=async _0x2c6c79=>{const _0x1837bd=a27_0x450fa4,_0x30a747={'aWoxr':function(_0x60014c,_0x5ac679){return _0x60014c(_0x5ac679);},'OLiym':'CFTemplates','lCdid':_0x1837bd(0x14a),'couow':_0x1837bd(0x165),'PciVm':function(_0x5d119d,_0x4b80f5){return _0x5d119d===_0x4b80f5;},'AuRjx':function(_0x5010f8,_0x190073){return _0x5010f8!==_0x190073;},'rYNCA':_0x1837bd(0xc6),'eCWId':function(_0x3ec354,_0x45cdc7,_0x2fe94d){return _0x3ec354(_0x45cdc7,_0x2fe94d);}},_0x1066fa=await fs[_0x1837bd(0x166)](path[_0x1837bd(0xf8)](__dirname,'..',_0x30a747['OLiym'],_0x30a747[_0x1837bd(0x147)]),_0x30a747[_0x1837bd(0x121)]),_0x29a407={};_0x29a407[_0x1837bd(0x11b)]=CLOUDFORMATION_SCHEMA;const _0x4aaf30=yaml[_0x1837bd(0x102)](_0x1066fa,_0x29a407),_0x39dd24=await _0x30a747[_0x1837bd(0x133)](isBucketPresent,global_registry[_0x1837bd(0xd7)]);_0x30a747[_0x1837bd(0x144)](_0x39dd24,![])&&(_0x30a747['AuRjx'](_0x30a747[_0x1837bd(0x100)],_0x30a747[_0x1837bd(0x100)])?(_0x115aeb[_0x1837bd(0x13a)][_0x1837bd(0xcc)]({'ParameterKey':_0x1837bd(0xcb)+_0x30a747[_0x1837bd(0x133)](_0xeacb1f,_0xa16651)['padStart'](0x2,'0'),'ParameterValue':_0x113531[_0x1837bd(0xe0)]}),_0x31bb0b+=0x1):_0x30a747['eCWId'](mergeTemplates,_0x2c6c79,_0x4aaf30));},addSubnetData=async(_0x283685,_0x258e91)=>{const _0x7b0697=a27_0x450fa4,_0x2794b1={'UbWDl':function(_0x566e15,_0x1ba75f){return _0x566e15(_0x1ba75f);},'BTpnB':function(_0x361d2e,_0x13fe65){return _0x361d2e===_0x13fe65;},'OsIOK':_0x7b0697(0x130),'XjBMW':_0x7b0697(0x157),'eBoBw':'Fn::Join','zEqIz':function(_0x36fc9f,_0x7af3b2){return _0x36fc9f(_0x7af3b2);},'zWHhL':_0x7b0697(0x171),'aHIdM':function(_0x1bc424,_0x152cec){return _0x1bc424(_0x152cec);},'auOhF':_0x7b0697(0x116),'vTUwX':_0x7b0697(0xfe),'DGunA':_0x7b0697(0xed),'ugQgW':function(_0x19e709,_0x2346e1){return _0x19e709!==_0x2346e1;},'SInoC':_0x7b0697(0x161),'XcrWG':_0x7b0697(0x179),'HTHml':_0x7b0697(0xc8),'tlVxd':_0x7b0697(0x14c),'NXeqo':'utf-8','Stuym':function(_0xfa48df,_0x90bf63,_0xdcc4eb){return _0xfa48df(_0x90bf63,_0xdcc4eb);},'UhxxX':function(_0x832503,_0x25467f){return _0x832503!==_0x25467f;},'OzGlh':_0x7b0697(0x12b),'gNoOT':_0x7b0697(0xd2),'VPBkH':function(_0x4e1de8,_0x438aaa,_0x2eca6a){return _0x4e1de8(_0x438aaa,_0x2eca6a);},'AQBUg':_0x7b0697(0x123),'QcUKu':_0x7b0697(0xc2),'VWYfI':_0x7b0697(0x111),'RxJtC':_0x7b0697(0x164),'HorGR':_0x7b0697(0x16c),'thslL':_0x7b0697(0x11f)};if(_0x258e91){if(_0x2794b1[_0x7b0697(0x118)](_0x2794b1['SInoC'],_0x2794b1['XcrWG'])){const _0x4921b0=await fs['readFileAsync'](path[_0x7b0697(0xf8)](__dirname,'..',_0x2794b1[_0x7b0697(0xc3)],_0x2794b1['tlVxd']),_0x2794b1[_0x7b0697(0xca)]),_0x15408a={};_0x15408a[_0x7b0697(0x11b)]=CLOUDFORMATION_SCHEMA;const _0x7f35fa=yaml[_0x7b0697(0x102)](_0x4921b0,_0x15408a);_0x2794b1['Stuym'](mergeTemplates,_0x283685,_0x7f35fa);let _0xb9fb12=0x1;_0x258e91[_0x7b0697(0x172)](_0x69f80a=>{const _0x56b8d3=_0x7b0697,_0x28eb88={'vOjbq':function(_0x3e1b3f,_0x37f45a){const _0x164d62=a27_0x29f2;return _0x2794b1[_0x164d62(0x10d)](_0x3e1b3f,_0x37f45a);}};if(_0x2794b1[_0x56b8d3(0x107)](_0x2794b1['OsIOK'],_0x2794b1[_0x56b8d3(0x13b)])){const _0x23c76b=_0x2794b1['XjBMW']['split']('|');let _0x42e9c6=0x0;while(!![]){switch(_0x23c76b[_0x42e9c6++]){case'0':_0x283685[_0x56b8d3(0x15d)][_0x56b8d3(0xf9)][_0x56b8d3(0x169)]['ResourcesVpcConfig']['SubnetIds'][_0x56b8d3(0xcc)]({'Ref':'Subnet'+_0x2794b1[_0x56b8d3(0x10d)](String,_0xb9fb12)[_0x56b8d3(0xcd)](0x2,'0')});continue;case'1':_0x283685[_0x56b8d3(0xf1)][_0x56b8d3(0x160)][_0x56b8d3(0xe7)][_0x2794b1['eBoBw']][0x1][_0x56b8d3(0xcc)]({'Ref':'Subnet'+_0x2794b1[_0x56b8d3(0x10b)](String,_0xb9fb12)[_0x56b8d3(0xcd)](0x2,'0')});continue;case'2':_0x283685[_0x56b8d3(0x15d)][_0x56b8d3(0xfe)][_0x56b8d3(0x169)]['Subnets'][_0x56b8d3(0xcc)]({'Ref':_0x56b8d3(0xcb)+_0x2794b1[_0x56b8d3(0x10b)](String,_0xb9fb12)['padStart'](0x2,'0')});continue;case'3':_0xb9fb12+=0x1;continue;case'4':_0x283685[_0x56b8d3(0x15d)][_0x56b8d3(0xed)][_0x56b8d3(0x169)][_0x56b8d3(0x112)]['push']({'Ref':_0x56b8d3(0xcb)+_0x2794b1[_0x56b8d3(0x10b)](String,_0xb9fb12)[_0x56b8d3(0xcd)](0x2,'0')});continue;case'5':_0x283685[_0x56b8d3(0xfc)][_0x2794b1[_0x56b8d3(0x15e)]][_0x56b8d3(0x146)][0x0]['Parameters'][_0x56b8d3(0xcc)](_0x56b8d3(0xcb)+_0x2794b1[_0x56b8d3(0x178)](String,_0xb9fb12)['padStart'](0x2,'0'));continue;}break;}}else{let _0x43af05=0x1;_0x3af824[_0x56b8d3(0x172)](_0x478265=>{const _0x3d2995=_0x56b8d3;_0x47126b[_0x3d2995(0x13a)]['push']({'ParameterKey':_0x3d2995(0xcb)+_0x28eb88['vOjbq'](_0x1dcfcc,_0x43af05)['padStart'](0x2,'0'),'ParameterValue':_0x478265[_0x3d2995(0xe0)]}),_0x43af05+=0x1;});}});}else{const _0x463f88={};_0x463f88[_0x7b0697(0xf2)]=_0x2794b1['auOhF'],_0x463f88['ParameterValue']=_0x4b1fb6,_0x538ab4[_0x7b0697(0x13a)][_0x7b0697(0xcc)](_0x463f88);}}else{if(_0x2794b1[_0x7b0697(0xef)](_0x2794b1[_0x7b0697(0x180)],_0x2794b1[_0x7b0697(0x180)])){for(const _0x292119 in _0x33ad58[_0x7b0697(0x15d)]){_0x57edd3[_0x7b0697(0x15d)][_0x292119][_0x7b0697(0x169)]&&_0x42478d[_0x7b0697(0x15d)][_0x292119][_0x7b0697(0x169)]['Tags']&&_0x1f6e0e['Resources'][_0x292119]['Properties'][_0x7b0697(0xe4)]['push'](..._0x54fd8a);}const _0x3c585c={};_0x4e2534[_0x7b0697(0x172)](_0x3aad72=>{const _0x35faa0=_0x7b0697;_0x3c585c[_0x3aad72['Key']]=_0x3aad72[_0x35faa0(0xe7)];}),_0x5cf82d[_0x7b0697(0x15d)][_0x2794b1[_0x7b0697(0x122)]][_0x7b0697(0x169)][_0x7b0697(0xe4)]=_0x3c585c,_0x561046[_0x7b0697(0x15d)][_0x2794b1[_0x7b0697(0x14d)]][_0x7b0697(0x169)]['Tags']=_0x3c585c;}else{const _0x550b98=await fs[_0x7b0697(0x166)](path[_0x7b0697(0xf8)](__dirname,'..',_0x2794b1[_0x7b0697(0xc3)],_0x2794b1[_0x7b0697(0x170)]),_0x2794b1[_0x7b0697(0xca)]),_0x364c2d={};_0x364c2d['schema']=CLOUDFORMATION_SCHEMA;const _0x23f4d9=yaml[_0x7b0697(0x102)](_0x550b98,_0x364c2d);_0x2794b1[_0x7b0697(0x12c)](mergeTemplates,_0x283685,_0x23f4d9),_0x283685['Resources'][_0x7b0697(0xf9)][_0x7b0697(0xd0)]['push'](_0x2794b1['AQBUg'],_0x2794b1[_0x7b0697(0x14b)],_0x2794b1['VWYfI']);const _0x2f7d40={};_0x2f7d40[_0x7b0697(0x156)]=_0x2794b1[_0x7b0697(0xe9)];const _0x406ebf={};_0x406ebf[_0x7b0697(0x156)]=_0x2794b1[_0x7b0697(0x14b)];const _0x39b2c9={};_0x39b2c9[_0x7b0697(0x156)]=_0x2794b1[_0x7b0697(0x12d)],_0x283685[_0x7b0697(0x15d)]['EKSCluster'][_0x7b0697(0x169)][_0x7b0697(0xdc)][_0x7b0697(0x160)]=[_0x2f7d40,_0x406ebf,_0x39b2c9],_0x283685[_0x7b0697(0xfc)][_0x2794b1[_0x7b0697(0x15e)]]['ParameterGroups'][0x0][_0x7b0697(0x13a)]['push'](_0x2794b1['RxJtC'],_0x2794b1[_0x7b0697(0x11d)],_0x2794b1[_0x7b0697(0x168)]);const _0x12528f={};_0x12528f[_0x7b0697(0x156)]=_0x2794b1['AQBUg'];const _0x6d42c1={};_0x6d42c1[_0x7b0697(0x156)]=_0x2794b1[_0x7b0697(0x14b)];const _0x476f30={};_0x476f30[_0x7b0697(0x156)]=_0x2794b1[_0x7b0697(0x12d)],_0x283685['Resources'][_0x7b0697(0xfe)][_0x7b0697(0x169)][_0x7b0697(0x112)]=[_0x12528f,_0x6d42c1,_0x476f30];const _0xd6b9e1={};_0xd6b9e1[_0x7b0697(0x156)]=_0x2794b1[_0x7b0697(0xe9)];const _0x538508={};_0x538508[_0x7b0697(0x156)]=_0x2794b1['QcUKu'];const _0x15109c={};_0x15109c['Ref']=_0x2794b1[_0x7b0697(0x12d)],_0x283685[_0x7b0697(0x15d)]['NodeGroupWindows'][_0x7b0697(0x169)]['Subnets']=[_0xd6b9e1,_0x538508,_0x15109c],_0x283685[_0x7b0697(0xf1)][_0x7b0697(0x160)][_0x7b0697(0xe7)][_0x2794b1[_0x7b0697(0x177)]][0x1]=[{'Ref':_0x2794b1[_0x7b0697(0xe9)]},{'Ref':_0x2794b1[_0x7b0697(0x14b)]},{'Ref':_0x2794b1[_0x7b0697(0x12d)]}];}}},addTags=async(_0x44f04b,_0x465ce6,_0x1d8236)=>{const _0x35b184=a27_0x450fa4,_0xcc98ac={};_0xcc98ac[_0x35b184(0x103)]=function(_0xd71672,_0x3136b8){return _0xd71672!==_0x3136b8;},_0xcc98ac['RjDUJ']=_0x35b184(0x16f),_0xcc98ac[_0x35b184(0x138)]=function(_0x22a1a0,_0x3255d9){return _0x22a1a0===_0x3255d9;},_0xcc98ac['EyEWZ']=_0x35b184(0xf4),_0xcc98ac['Yzyhd']=function(_0x2b181c,_0x492d14){return _0x2b181c===_0x492d14;},_0xcc98ac[_0x35b184(0xec)]=_0x35b184(0xf3),_0xcc98ac[_0x35b184(0xee)]='mzuRU',_0xcc98ac[_0x35b184(0x15a)]=_0x35b184(0xfe),_0xcc98ac[_0x35b184(0x17d)]='NodeGroupWindows';const _0x161e46=_0xcc98ac;for(const _0x2a21e2 in _0x44f04b['Resources']){_0x161e46[_0x35b184(0x138)](_0x161e46[_0x35b184(0xff)],_0x161e46[_0x35b184(0xff)])?_0x44f04b[_0x35b184(0x15d)][_0x2a21e2][_0x35b184(0x169)]&&_0x44f04b['Resources'][_0x2a21e2][_0x35b184(0x169)][_0x35b184(0xe4)]&&(_0x161e46[_0x35b184(0x17c)](_0x161e46[_0x35b184(0xec)],_0x161e46[_0x35b184(0xee)])?_0x14f9ce['keys'](_0x3c0a83)[_0x35b184(0x172)](_0x5ab88a=>{const _0x4c18df=_0x35b184;var _0x135aea=_0x3f3fcf[_0x5ab88a];_0x1fa9e[_0x4c18df(0x124)](_0x135aea)[_0x4c18df(0x172)](_0x218be8=>{_0x243397[_0x5ab88a][_0x218be8]=_0x135aea[_0x218be8];});}):_0x44f04b['Resources'][_0x2a21e2]['Properties']['Tags'][_0x35b184(0xcc)](..._0x1d8236)):_0x370314['Resources'][_0x1e2c7f][_0x35b184(0x169)]&&_0x2b0648[_0x35b184(0x15d)][_0x32bf51][_0x35b184(0x169)][_0x35b184(0xe4)]&&_0x43f8ce['Resources'][_0x1b0576][_0x35b184(0x169)]['Tags'][_0x35b184(0xcc)](..._0xa6dbdc);}const _0x169e3e={};_0x1d8236[_0x35b184(0x172)](_0x201432=>{const _0x19ec92=_0x35b184;_0x161e46[_0x19ec92(0x103)](_0x161e46[_0x19ec92(0xdd)],_0x161e46['RjDUJ'])?_0x1d4a48[_0x4f9a55[_0x19ec92(0x141)]]=_0x339c92['Value']:_0x169e3e[_0x201432[_0x19ec92(0x141)]]=_0x201432['Value'];}),_0x44f04b[_0x35b184(0x15d)][_0x161e46[_0x35b184(0x15a)]]['Properties'][_0x35b184(0xe4)]=_0x169e3e,_0x44f04b['Resources'][_0x161e46[_0x35b184(0x17d)]][_0x35b184(0x169)][_0x35b184(0xe4)]=_0x169e3e;};function a27_0x29f2(_0x4e82cc,_0x5374c1){const _0x5c9836=a27_0x5c98();return a27_0x29f2=function(_0x29f287,_0x570d35){_0x29f287=_0x29f287-0xc0;let _0x1fd366=_0x5c9836[_0x29f287];return _0x1fd366;},a27_0x29f2(_0x4e82cc,_0x5374c1);}function a27_0x5c98(){const _0x100d1b=['split','WFQxq','gNoOT','AWS::CloudFormation::Interface','forEach','S3BucketName','pYsAt','lAQij','Fn::Join','eBoBw','aHIdM','lWbWr','LQDxp','stringify','Yzyhd','joZGw','browserstack:creationDate','ami','OzGlh','UDzMo','vnvgG','Subnet02','HTHml','ParameterValue','VbdjM','zTwfg','./AWSUtils','CFTemplates','SfEiU','NXeqo','Subnet','push','padStart','pAPAv','mEoWs','DependsOn','FJReH','subnet-create.yaml','StackName','aIYzB','-Windows-NodeGroup','SzyHg','s3Bucket','1312771HSZbBY','debug','Capabilities','NodeGroupNameWindows','ResourcesVpcConfig','RjDUJ','XzQFo','ymYhx','value','js-yaml','VpcBlock','rnuCd','Tags','DELETE','OnFailure','Value','peBCS','AQBUg','PbDbR','kwOeC','yZRfr','NodeGroupWindows','YAdQr','UhxxX','VMvBD','Outputs','ParameterKey','izewL','iKBbv','aws-eks-cluster-dep.yaml','oLkkZ','false','join','EKSCluster','Priyo','IzQWY','Metadata','createStack','NodeGroup','EyEWZ','rYNCA','NodeImageId','load','gVAzV','GRKtP','6533597cCVJOs','abRKY','BTpnB','NodeInstanceType','createClusterStack','apiVersion','zEqIz','2010-05-15','UbWDl','KLUhR','LlTAj','true','Subnet03','Subnets','Nmpju','MVzcG','../config/logger','VPC','js-yaml-cloudformation-schema','ugQgW','2507175UXVRii','promisifyAll','schema','CloudFormation','HorGR','NodeAutoScalingGroupDesiredSizeWindows','Subnet03Block','DVVRU','couow','vTUwX','Subnet01','keys','tkmwj','45129drWGVV','8287110ojIWSY','tDPjL','oWXkH','NzeRY','yXASD','VPBkH','VWYfI','nBLEQ','-NodeGroup','RPJXh','GUKTs','ZuhIC','aWoxr','byXPZ','HPHfd','vpc-import.yaml','NLisL','zuLYg','nPwCL','Parameters','OsIOK','NodeGroupName','2836928ifvKmr','TEagH','TemplateBody','CAPABILITY_NAMED_IAM','Key','mDHFi','wfMNv','PciVm','2573176kZblaF','ParameterGroups','lCdid','WDrfU','promise','s3-create.yaml','QcUKu','subnet-import.yaml','DGunA','ClusterName','sAfbl','bluebird','RwcjA','24FNlxLH','vEhxz','yzghv','valueOf','Ref','0|5|2|4|1|3','StackId','GGAmu','TEPIe','jNeWg','toString','Resources','zWHhL','WBRIy','SubnetIds','cgsaF','oYjsf','../config/constants','Subnet01Block','utf-8','readFileAsync','FdhHr','thslL','Properties','NodeAutoScalingGroupMaxSize','ClxGr','Subnet02Block','ClusterAutoUpgrade'];a27_0x5c98=function(){return _0x100d1b;};return a27_0x5c98();}exports[a27_0x450fa4(0x109)]=async(_0x4c7ea2,_0x30c11a,_0x3c72df,_0x3f6b3c=null,_0x574c7f=null,_0x240297)=>{const _0x5d8f52=a27_0x450fa4,_0x45e4dd={'GUKTs':function(_0x22d9ed,_0x239c07){return _0x22d9ed(_0x239c07);},'TEagH':'browserstack:cluster','ymYhx':_0x5d8f52(0x17e),'cYhLp':_0x5d8f52(0x10c),'HmNKT':_0x5d8f52(0xc8),'HPHfd':_0x5d8f52(0xf5),'WBRIy':_0x5d8f52(0x165),'aIYzB':function(_0x1b268b,_0x386dbc,_0x3becc0){return _0x1b268b(_0x386dbc,_0x3becc0);},'SzyHg':function(_0x407a75,_0x272793){return _0x407a75(_0x272793);},'FdhHr':function(_0x1d2359,_0x2c41f2,_0x431204,_0x4e7b7e){return _0x1d2359(_0x2c41f2,_0x431204,_0x4e7b7e);},'vEhxz':_0x5d8f52(0xe5),'oWXkH':_0x5d8f52(0x14e),'mEoWs':_0x5d8f52(0x13c),'PnngB':'NodeAutoScalingGroupMinSize','sAfbl':'NodeAutoScalingGroupMinSizeWindows','VMvBD':_0x5d8f52(0x11e),'qUXsM':_0x5d8f52(0x16a),'lAQij':_0x5d8f52(0x101),'KLUhR':_0x5d8f52(0x108),'pYsAt':_0x5d8f52(0x173),'iZjXM':_0x5d8f52(0xdb),'byXPZ':_0x5d8f52(0x16d),'WtUnG':_0x5d8f52(0x110),'MYQMg':_0x5d8f52(0xf7),'nBLEQ':_0x5d8f52(0x140),'mqeBG':function(_0x1762d3,_0x2429c8){return _0x1762d3!=_0x2429c8;},'FJReH':function(_0x76c4c4,_0x44582d){return _0x76c4c4!==_0x44582d;},'jNeWg':function(_0x47a4e7,_0xbfa1a3){return _0x47a4e7===_0xbfa1a3;},'oYjsf':_0x5d8f52(0x12a),'DVVRU':_0x5d8f52(0x116),'tkmwj':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','ClxGr':'stackCreateComplete'},_0xaa9966=COMMON_HST_TAGS,_0x2e6bb7={};_0x2e6bb7[_0x5d8f52(0x141)]=_0x45e4dd[_0x5d8f52(0x13e)],_0x2e6bb7[_0x5d8f52(0xe7)]=_0x4c7ea2,_0xaa9966[_0x5d8f52(0xcc)](_0x2e6bb7),_0xaa9966[_0x5d8f52(0xcc)]({'Key':_0x45e4dd[_0x5d8f52(0xdf)],'Value':new Date()[_0x5d8f52(0x155)]()[_0x5d8f52(0x15c)]()});const _0x55f783={};_0x55f783[_0x5d8f52(0x10a)]=_0x45e4dd['cYhLp'];const _0x24b82e=new AWS[(_0x5d8f52(0x11c))](_0x55f783),_0x308e98=await fs[_0x5d8f52(0x166)](path['join'](__dirname,'..',_0x45e4dd['HmNKT'],_0x45e4dd[_0x5d8f52(0x135)]),_0x45e4dd[_0x5d8f52(0x15f)]),_0x1f5b04={};_0x1f5b04[_0x5d8f52(0x11b)]=CLOUDFORMATION_SCHEMA;const _0x13c4fc=yaml[_0x5d8f52(0x102)](_0x308e98,_0x1f5b04);await _0x45e4dd[_0x5d8f52(0xd4)](addVPCData,_0x13c4fc,_0x3f6b3c),await _0x45e4dd[_0x5d8f52(0xd6)](addS3Data,_0x13c4fc),await _0x45e4dd[_0x5d8f52(0xd4)](addSubnetData,_0x13c4fc,_0x574c7f),await _0x45e4dd[_0x5d8f52(0x167)](addTags,_0x13c4fc,_0x4c7ea2,_0xaa9966);const _0x2ed788=JSON[_0x5d8f52(0x17b)](_0x13c4fc),_0xade798={};_0xade798[_0x5d8f52(0xd3)]=CLUSTER_DEP_STACK_NAME+'-'+_0x4c7ea2,_0xade798[_0x5d8f52(0xe6)]=_0x45e4dd[_0x5d8f52(0x153)],_0xade798[_0x5d8f52(0x13f)]=_0x2ed788,_0xade798[_0x5d8f52(0x13a)]=[{'ParameterKey':_0x45e4dd[_0x5d8f52(0x129)],'ParameterValue':_0x4c7ea2},{'ParameterKey':_0x45e4dd[_0x5d8f52(0xcf)],'ParameterValue':_0x4c7ea2+_0x5d8f52(0x12f)},{'ParameterKey':_0x45e4dd['PnngB'],'ParameterValue':''+_0x30c11a},{'ParameterKey':_0x45e4dd[_0x5d8f52(0x14f)],'ParameterValue':'0'},{'ParameterKey':_0x45e4dd[_0x5d8f52(0xf0)],'ParameterValue':'1'},{'ParameterKey':_0x45e4dd['qUXsM'],'ParameterValue':''+_0x3c72df},{'ParameterKey':_0x45e4dd[_0x5d8f52(0x175)],'ParameterValue':global_registry[_0x5d8f52(0x17f)]},{'ParameterKey':_0x45e4dd[_0x5d8f52(0x10e)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x45e4dd[_0x5d8f52(0x174)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x45e4dd['iZjXM'],'ParameterValue':_0x4c7ea2+_0x5d8f52(0xd5)},{'ParameterKey':_0x45e4dd[_0x5d8f52(0x134)],'ParameterValue':_0x240297?_0x45e4dd['WtUnG']:_0x45e4dd['MYQMg']}],_0xade798[_0x5d8f52(0xda)]=[_0x45e4dd[_0x5d8f52(0x12e)]],_0xade798[_0x5d8f52(0xe4)]=_0xaa9966;const _0x4514a4=_0xade798;if(_0x45e4dd['mqeBG'](_0x3f6b3c,null)&&_0x45e4dd[_0x5d8f52(0xd1)](_0x3f6b3c,undefined)){if(_0x45e4dd[_0x5d8f52(0x15b)](_0x45e4dd[_0x5d8f52(0x162)],_0x45e4dd['oYjsf'])){const _0x1ebedb={};_0x1ebedb[_0x5d8f52(0xf2)]=_0x45e4dd[_0x5d8f52(0x120)],_0x1ebedb[_0x5d8f52(0xc4)]=_0x3f6b3c,_0x4514a4[_0x5d8f52(0x13a)][_0x5d8f52(0xcc)](_0x1ebedb);}else{var _0x47c05d=_0x1109f3[_0x171f37];_0x3add83[_0x5d8f52(0x124)](_0x47c05d)[_0x5d8f52(0x172)](_0x1ae56a=>{_0x2a9f83[_0x49a42e][_0x1ae56a]=_0x47c05d[_0x1ae56a];});}}if(_0x45e4dd['mqeBG'](_0x574c7f,null)&&_0x45e4dd[_0x5d8f52(0xd1)](_0x574c7f,undefined)){let _0x25677e=0x1;_0x574c7f[_0x5d8f52(0x172)](_0x132368=>{const _0x350ea3=_0x5d8f52;_0x4514a4['Parameters'][_0x350ea3(0xcc)]({'ParameterKey':'Subnet'+_0x45e4dd[_0x350ea3(0x131)](String,_0x25677e)['padStart'](0x2,'0'),'ParameterValue':_0x132368[_0x350ea3(0xe0)]}),_0x25677e+=0x1;});}const _0x237a01=await _0x24b82e[_0x5d8f52(0xfd)](_0x4514a4)[_0x5d8f52(0x149)]();logger[_0x5d8f52(0xd9)](_0x45e4dd[_0x5d8f52(0x125)]);const _0x4260ff={};return _0x4260ff[_0x5d8f52(0xd3)]=_0x237a01[_0x5d8f52(0x158)],_0x24b82e['waitFor'](_0x45e4dd[_0x5d8f52(0x16b)],_0x4260ff)[_0x5d8f52(0x149)]();};