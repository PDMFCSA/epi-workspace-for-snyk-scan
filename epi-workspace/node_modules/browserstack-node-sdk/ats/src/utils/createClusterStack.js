const a27_0x3d3bac=a27_0x3b85;(function(_0x2dbde3,_0x224456){const _0x180a15=a27_0x3b85,_0x5bb366=_0x2dbde3();while(!![]){try{const _0x1a21f7=-parseInt(_0x180a15(0x1bf))/0x1*(parseInt(_0x180a15(0x209))/0x2)+-parseInt(_0x180a15(0x1ff))/0x3*(parseInt(_0x180a15(0x1d1))/0x4)+-parseInt(_0x180a15(0x1d5))/0x5*(-parseInt(_0x180a15(0x1bb))/0x6)+-parseInt(_0x180a15(0x23c))/0x7*(parseInt(_0x180a15(0x1da))/0x8)+parseInt(_0x180a15(0x22a))/0x9+-parseInt(_0x180a15(0x1a5))/0xa+parseInt(_0x180a15(0x20a))/0xb;if(_0x1a21f7===_0x224456)break;else _0x5bb366['push'](_0x5bb366['shift']());}catch(_0x41d708){_0x5bb366['push'](_0x5bb366['shift']());}}}(a27_0x20dc,0x87e17));const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a27_0x3d3bac(0x1f8))[a27_0x3d3bac(0x1e9)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x3d3bac(0x1dd)),{isBucketPresent}=require('./AWSUtils');Promise[a27_0x3d3bac(0x216)](fs);const mergeTemplates=(_0x598380,_0x54e8d5)=>{const _0x5263bc=a27_0x3d3bac,_0x1fd6b2={};_0x1fd6b2[_0x5263bc(0x1b0)]=function(_0x445fc9,_0xdd8640){return _0x445fc9===_0xdd8640;},_0x1fd6b2[_0x5263bc(0x1b8)]=_0x5263bc(0x21e),_0x1fd6b2[_0x5263bc(0x1ed)]=_0x5263bc(0x1c2),_0x1fd6b2[_0x5263bc(0x223)]=function(_0x50aa3a,_0x2e1300){return _0x50aa3a!==_0x2e1300;},_0x1fd6b2[_0x5263bc(0x231)]=_0x5263bc(0x1ae);const _0x41c247=_0x1fd6b2;Object[_0x5263bc(0x1a9)](_0x54e8d5)[_0x5263bc(0x1ca)](_0x1ce183=>{const _0x4a2a66=_0x5263bc,_0xf08d40={'koUaA':function(_0x5246d4,_0xf34900){const _0x2ef5b0=a27_0x3b85;return _0x41c247[_0x2ef5b0(0x1b0)](_0x5246d4,_0xf34900);},'ibZAe':_0x41c247[_0x4a2a66(0x1b8)],'sCWMS':_0x41c247['NgUqS']};if(_0x41c247['trOoQ'](_0x41c247[_0x4a2a66(0x231)],_0x41c247[_0x4a2a66(0x231)]))_0x15f993[_0x5699f7][_0xc2fe90]=_0x5b1683[_0x383ab0];else{var _0x227559=_0x54e8d5[_0x1ce183];Object['keys'](_0x227559)['forEach'](_0x2e0f15=>{const _0x460862=_0x4a2a66;_0xf08d40['koUaA'](_0xf08d40['ibZAe'],_0xf08d40['sCWMS'])?_0x40aa91[_0x460862(0x20b)][_0x253e51]['Properties']&&_0x1ef0be['Resources'][_0x37796c][_0x460862(0x238)][_0x460862(0x20e)]&&_0x3b16f5[_0x460862(0x20b)][_0x24f2a2][_0x460862(0x238)][_0x460862(0x20e)][_0x460862(0x24c)](..._0x23ee59):_0x598380[_0x1ce183][_0x2e0f15]=_0x227559[_0x2e0f15];});}});},addVPCData=async(_0x40c115,_0x43b93a)=>{const _0x2fbaa5=a27_0x3d3bac,_0x56dbad={'RFQwp':function(_0x46cee2,_0x1432db){return _0x46cee2===_0x1432db;},'BQQNO':_0x2fbaa5(0x240),'idCed':'HXApy','hBoUj':_0x2fbaa5(0x1be),'JVfGa':_0x2fbaa5(0x1f1),'chWOG':_0x2fbaa5(0x228),'ARfJl':function(_0x997138,_0x54607e,_0x4da188){return _0x997138(_0x54607e,_0x4da188);},'zFnSv':_0x2fbaa5(0x19a),'hXUSV':'VPC','shWSL':'Ngocv','qnCQJ':'vpc-create.yaml','KHwrB':'VpcBlock'};if(_0x43b93a){if(_0x56dbad[_0x2fbaa5(0x1de)](_0x56dbad['BQQNO'],_0x56dbad[_0x2fbaa5(0x23b)]))_0x2b11f0[_0x3f632a[_0x2fbaa5(0x21d)]]=_0x342ec3[_0x2fbaa5(0x1af)];else{const _0x7b0157=await fs['readFileAsync'](path[_0x2fbaa5(0x218)](__dirname,'..',_0x56dbad['hBoUj'],_0x56dbad['JVfGa']),_0x56dbad[_0x2fbaa5(0x1e1)]),_0x31f08b={};_0x31f08b['schema']=CLOUDFORMATION_SCHEMA;const _0x2ec4be=yaml[_0x2fbaa5(0x236)](_0x7b0157,_0x31f08b);_0x56dbad[_0x2fbaa5(0x219)](mergeTemplates,_0x40c115,_0x2ec4be),_0x40c115[_0x2fbaa5(0x1cf)][_0x56dbad[_0x2fbaa5(0x1d4)]]['ParameterGroups'][0x0][_0x2fbaa5(0x241)][_0x2fbaa5(0x24c)](_0x56dbad[_0x2fbaa5(0x233)]);}}else{if(_0x56dbad[_0x2fbaa5(0x1de)](_0x56dbad[_0x2fbaa5(0x1e7)],_0x56dbad[_0x2fbaa5(0x1e7)])){const _0x45f651=await fs[_0x2fbaa5(0x1f3)](path[_0x2fbaa5(0x218)](__dirname,'..',_0x56dbad[_0x2fbaa5(0x229)],_0x56dbad[_0x2fbaa5(0x21a)]),_0x56dbad[_0x2fbaa5(0x1e1)]),_0x2a3089={};_0x2a3089[_0x2fbaa5(0x212)]=CLOUDFORMATION_SCHEMA;const _0x3276ad=yaml[_0x2fbaa5(0x236)](_0x45f651,_0x2a3089);_0x56dbad[_0x2fbaa5(0x219)](mergeTemplates,_0x40c115,_0x3276ad),_0x40c115[_0x2fbaa5(0x1cf)][_0x56dbad[_0x2fbaa5(0x1d4)]][_0x2fbaa5(0x224)][0x0][_0x2fbaa5(0x241)][_0x2fbaa5(0x24c)](_0x56dbad['KHwrB']);}else _0xbcca15[_0x2fbaa5(0x1a9)](_0x2a1695)[_0x2fbaa5(0x1ca)](_0xcda095=>{const _0x3a41ed=_0x2fbaa5;var _0x22c739=_0x2e5c83[_0xcda095];_0x11edd6[_0x3a41ed(0x1a9)](_0x22c739)[_0x3a41ed(0x1ca)](_0x4e4d42=>{_0xa9a77f[_0xcda095][_0x4e4d42]=_0x22c739[_0x4e4d42];});});}},addS3Data=async _0x1622df=>{const _0x38ee4d=a27_0x3d3bac,_0x38aab={'QxeRH':_0x38ee4d(0x1cb),'ICiOG':function(_0x564352,_0x50bbc1){return _0x564352(_0x50bbc1);},'KbTGN':_0x38ee4d(0x230),'LwFDK':function(_0x3aa54e,_0x3d8071){return _0x3aa54e(_0x3d8071);},'VKpva':_0x38ee4d(0x19a),'UiUgb':function(_0x5daa12,_0x5de7b2){return _0x5daa12(_0x5de7b2);},'jXsdB':function(_0x506703,_0x3780d4){return _0x506703(_0x3780d4);},'YzcsX':_0x38ee4d(0x1be),'bjuyb':_0x38ee4d(0x211),'wusxG':_0x38ee4d(0x228),'BoTNS':function(_0x312808,_0x298dd5){return _0x312808===_0x298dd5;},'uwKwd':_0x38ee4d(0x210),'yYgGk':function(_0x38e0c7,_0x40105a,_0x3ad36a){return _0x38e0c7(_0x40105a,_0x3ad36a);}},_0x13e238=await fs[_0x38ee4d(0x1f3)](path[_0x38ee4d(0x218)](__dirname,'..',_0x38aab[_0x38ee4d(0x213)],_0x38aab['bjuyb']),_0x38aab[_0x38ee4d(0x1b3)]),_0x1195ab={};_0x1195ab[_0x38ee4d(0x212)]=CLOUDFORMATION_SCHEMA;const _0x1947ce=yaml[_0x38ee4d(0x236)](_0x13e238,_0x1195ab),_0x4d9b20=await _0x38aab[_0x38ee4d(0x1b5)](isBucketPresent,global_registry[_0x38ee4d(0x1c3)]);if(_0x38aab[_0x38ee4d(0x1f0)](_0x4d9b20,![])){if(_0x38aab[_0x38ee4d(0x1f0)](_0x38aab['uwKwd'],_0x38aab['uwKwd']))_0x38aab['yYgGk'](mergeTemplates,_0x1622df,_0x1947ce);else{const _0x368c27=_0x38aab[_0x38ee4d(0x1c4)][_0x38ee4d(0x1e2)]('|');let _0x157366=0x0;while(!![]){switch(_0x368c27[_0x157366++]){case'0':_0x1c25a3[_0x38ee4d(0x20b)][_0x38ee4d(0x220)]['Properties']['ResourcesVpcConfig'][_0x38ee4d(0x1df)][_0x38ee4d(0x24c)]({'Ref':_0x38ee4d(0x248)+_0x38aab[_0x38ee4d(0x204)](_0x1e5801,_0x96ad1e)['padStart'](0x2,'0')});continue;case'1':_0x3ce2b4+=0x1;continue;case'2':_0x184dd6[_0x38ee4d(0x19e)][_0x38ee4d(0x1df)][_0x38ee4d(0x1af)][_0x38aab[_0x38ee4d(0x202)]][0x1][_0x38ee4d(0x24c)]({'Ref':'Subnet'+_0x38aab[_0x38ee4d(0x214)](_0x1dbc32,_0x540611)[_0x38ee4d(0x22c)](0x2,'0')});continue;case'3':_0x4da8d7[_0x38ee4d(0x20b)][_0x38ee4d(0x1c5)][_0x38ee4d(0x238)][_0x38ee4d(0x19d)][_0x38ee4d(0x24c)]({'Ref':_0x38ee4d(0x248)+_0x38aab[_0x38ee4d(0x204)](_0x40b550,_0x439ce5)[_0x38ee4d(0x22c)](0x2,'0')});continue;case'4':_0x2d655b['Metadata'][_0x38aab[_0x38ee4d(0x1a4)]][_0x38ee4d(0x224)][0x0][_0x38ee4d(0x241)][_0x38ee4d(0x24c)]('Subnet'+_0x38aab[_0x38ee4d(0x19b)](_0x2cfcef,_0x48a9ae)[_0x38ee4d(0x22c)](0x2,'0'));continue;case'5':_0x332d5e[_0x38ee4d(0x20b)]['NodeGroup'][_0x38ee4d(0x238)][_0x38ee4d(0x19d)][_0x38ee4d(0x24c)]({'Ref':_0x38ee4d(0x248)+_0x38aab['jXsdB'](_0x1e6ea5,_0x317b37)[_0x38ee4d(0x22c)](0x2,'0')});continue;}break;}}}},addSubnetData=async(_0x3ca305,_0x4b4c8d)=>{const _0xf50ff0=a27_0x3d3bac,_0x529c6d={'LWVrn':function(_0x50c843,_0x17f808,_0x4a547d){return _0x50c843(_0x17f808,_0x4a547d);},'tTdnJ':function(_0x1508d5,_0x389d88){return _0x1508d5!==_0x389d88;},'wOAIJ':'vkBjL','sVwaW':_0xf50ff0(0x1b2),'zWjqy':function(_0x5af3b7,_0x294a9e){return _0x5af3b7(_0x294a9e);},'ZdWCl':_0xf50ff0(0x230),'dIZrv':function(_0x2a4658,_0x1f2404){return _0x2a4658(_0x1f2404);},'JphrJ':_0xf50ff0(0x19a),'VFEUP':function(_0x3925a5,_0x3f457a){return _0x3925a5(_0x3f457a);},'KdUnS':function(_0x5741bf,_0x3eb151){return _0x5741bf(_0x3eb151);},'oNIkZ':_0xf50ff0(0x20f),'bBRvM':'KotJx','svlWp':'CFTemplates','pqlSU':_0xf50ff0(0x217),'hFtNG':_0xf50ff0(0x228),'AsmPM':_0xf50ff0(0x1a3),'shWme':_0xf50ff0(0x247),'iuNkB':_0xf50ff0(0x1b1),'rLsql':_0xf50ff0(0x1a0),'ASNxq':_0xf50ff0(0x22f),'MHRLP':'Subnet03','lWiXu':_0xf50ff0(0x1d0),'dxthf':_0xf50ff0(0x1e5),'NHggx':_0xf50ff0(0x243)};if(_0x4b4c8d){if(_0x529c6d['tTdnJ'](_0x529c6d[_0xf50ff0(0x1b9)],_0x529c6d[_0xf50ff0(0x1e4)])){const _0x1b8ee9=await fs[_0xf50ff0(0x1f3)](path[_0xf50ff0(0x218)](__dirname,'..',_0x529c6d[_0xf50ff0(0x199)],_0x529c6d[_0xf50ff0(0x1d8)]),_0x529c6d[_0xf50ff0(0x1c8)]),_0x11d57a={};_0x11d57a[_0xf50ff0(0x212)]=CLOUDFORMATION_SCHEMA;const _0x1f6be1=yaml[_0xf50ff0(0x236)](_0x1b8ee9,_0x11d57a);_0x529c6d[_0xf50ff0(0x225)](mergeTemplates,_0x3ca305,_0x1f6be1);let _0x22f06d=0x1;_0x4b4c8d[_0xf50ff0(0x1ca)](_0x583ce6=>{const _0x591be5=_0xf50ff0;if(_0x529c6d[_0x591be5(0x227)](_0x529c6d[_0x591be5(0x1fe)],_0x529c6d[_0x591be5(0x1fe)]))_0x529c6d[_0x591be5(0x225)](_0x3c4332,_0x5d53dd,_0x5eab5e);else{const _0xf32592=_0x529c6d[_0x591be5(0x1dc)]['split']('|');let _0x17b8df=0x0;while(!![]){switch(_0xf32592[_0x17b8df++]){case'0':_0x3ca305[_0x591be5(0x20b)][_0x591be5(0x1f7)]['Properties']['Subnets']['push']({'Ref':_0x591be5(0x248)+_0x529c6d[_0x591be5(0x24b)](String,_0x22f06d)['padStart'](0x2,'0')});continue;case'1':_0x3ca305['Outputs'][_0x591be5(0x1df)][_0x591be5(0x1af)][_0x529c6d[_0x591be5(0x1b4)]][0x1][_0x591be5(0x24c)]({'Ref':_0x591be5(0x248)+_0x529c6d[_0x591be5(0x24b)](String,_0x22f06d)[_0x591be5(0x22c)](0x2,'0')});continue;case'2':_0x3ca305[_0x591be5(0x20b)][_0x591be5(0x220)][_0x591be5(0x238)][_0x591be5(0x1c0)]['SubnetIds']['push']({'Ref':_0x591be5(0x248)+_0x529c6d['zWjqy'](String,_0x22f06d)[_0x591be5(0x22c)](0x2,'0')});continue;case'3':_0x3ca305[_0x591be5(0x20b)][_0x591be5(0x1c5)]['Properties'][_0x591be5(0x19d)][_0x591be5(0x24c)]({'Ref':_0x591be5(0x248)+_0x529c6d['dIZrv'](String,_0x22f06d)['padStart'](0x2,'0')});continue;case'4':_0x22f06d+=0x1;continue;case'5':_0x3ca305[_0x591be5(0x1cf)][_0x529c6d[_0x591be5(0x1ba)]][_0x591be5(0x224)][0x0][_0x591be5(0x241)][_0x591be5(0x24c)](_0x591be5(0x248)+_0x529c6d[_0x591be5(0x1c7)](String,_0x22f06d)[_0x591be5(0x22c)](0x2,'0'));continue;}break;}}});}else _0x4bbe4a[_0xf50ff0(0x241)]['push']({'ParameterKey':_0xf50ff0(0x248)+_0x529c6d[_0xf50ff0(0x1b6)](_0x3fe2e9,_0x1289d0)[_0xf50ff0(0x22c)](0x2,'0'),'ParameterValue':_0x8ece81[_0xf50ff0(0x21b)]}),_0x197f6e+=0x1;}else{if(_0x529c6d['tTdnJ'](_0x529c6d['AsmPM'],_0x529c6d[_0xf50ff0(0x226)])){const _0x5912ab=await fs[_0xf50ff0(0x1f3)](path[_0xf50ff0(0x218)](__dirname,'..',_0x529c6d['svlWp'],_0x529c6d[_0xf50ff0(0x1e0)]),_0x529c6d[_0xf50ff0(0x1c8)]),_0x3d87a2={};_0x3d87a2[_0xf50ff0(0x212)]=CLOUDFORMATION_SCHEMA;const _0x4ad090=yaml[_0xf50ff0(0x236)](_0x5912ab,_0x3d87a2);_0x529c6d[_0xf50ff0(0x225)](mergeTemplates,_0x3ca305,_0x4ad090),_0x3ca305['Resources'][_0xf50ff0(0x220)]['DependsOn'][_0xf50ff0(0x24c)](_0x529c6d[_0xf50ff0(0x1b7)],_0x529c6d[_0xf50ff0(0x23e)],_0x529c6d[_0xf50ff0(0x232)]);const _0x25f745={};_0x25f745[_0xf50ff0(0x1d3)]=_0x529c6d[_0xf50ff0(0x1b7)];const _0x575a96={};_0x575a96['Ref']=_0x529c6d[_0xf50ff0(0x23e)];const _0x3a3d5b={};_0x3a3d5b[_0xf50ff0(0x1d3)]=_0x529c6d[_0xf50ff0(0x232)],_0x3ca305[_0xf50ff0(0x20b)][_0xf50ff0(0x220)][_0xf50ff0(0x238)][_0xf50ff0(0x1c0)][_0xf50ff0(0x1df)]=[_0x25f745,_0x575a96,_0x3a3d5b],_0x3ca305[_0xf50ff0(0x1cf)][_0x529c6d['JphrJ']][_0xf50ff0(0x224)][0x0][_0xf50ff0(0x241)][_0xf50ff0(0x24c)](_0x529c6d[_0xf50ff0(0x23d)],_0x529c6d[_0xf50ff0(0x222)],_0x529c6d[_0xf50ff0(0x21c)]);const _0x22a9ee={};_0x22a9ee['Ref']=_0x529c6d[_0xf50ff0(0x1b7)];const _0x288edf={};_0x288edf[_0xf50ff0(0x1d3)]=_0x529c6d[_0xf50ff0(0x23e)];const _0x42a180={};_0x42a180[_0xf50ff0(0x1d3)]=_0x529c6d[_0xf50ff0(0x232)],_0x3ca305[_0xf50ff0(0x20b)][_0xf50ff0(0x1f7)]['Properties'][_0xf50ff0(0x19d)]=[_0x22a9ee,_0x288edf,_0x42a180];const _0x5d02b8={};_0x5d02b8[_0xf50ff0(0x1d3)]=_0x529c6d[_0xf50ff0(0x1b7)];const _0x4c802e={};_0x4c802e[_0xf50ff0(0x1d3)]=_0x529c6d['ASNxq'];const _0x4c607a={};_0x4c607a[_0xf50ff0(0x1d3)]=_0x529c6d[_0xf50ff0(0x232)],_0x3ca305[_0xf50ff0(0x20b)]['NodeGroupWindows'][_0xf50ff0(0x238)][_0xf50ff0(0x19d)]=[_0x5d02b8,_0x4c802e,_0x4c607a],_0x3ca305[_0xf50ff0(0x19e)][_0xf50ff0(0x1df)][_0xf50ff0(0x1af)][_0x529c6d['ZdWCl']][0x1]=[{'Ref':_0x529c6d[_0xf50ff0(0x1b7)]},{'Ref':_0x529c6d[_0xf50ff0(0x23e)]},{'Ref':_0x529c6d[_0xf50ff0(0x232)]}];}else _0x3c4c03[_0xf50ff0(0x20b)][_0x373c48][_0xf50ff0(0x238)][_0xf50ff0(0x20e)]['push'](..._0x4aabed);}},addTags=async(_0x5161a7,_0x2dbd66,_0x487c09)=>{const _0x203c85=a27_0x3d3bac,_0x27e4c7={};_0x27e4c7[_0x203c85(0x245)]=_0x203c85(0x1f7),_0x27e4c7[_0x203c85(0x1ef)]=_0x203c85(0x1c5),_0x27e4c7['bxXxf']='VPC',_0x27e4c7['StAkm']=function(_0xb3d861,_0x264a56){return _0xb3d861!==_0x264a56;},_0x27e4c7[_0x203c85(0x1ce)]='zRXOD',_0x27e4c7[_0x203c85(0x1d6)]=function(_0x4fba09,_0x2a6379){return _0x4fba09===_0x2a6379;},_0x27e4c7[_0x203c85(0x221)]=_0x203c85(0x1f4),_0x27e4c7[_0x203c85(0x237)]=function(_0x3fcc94,_0x499844){return _0x3fcc94===_0x499844;},_0x27e4c7['RmoxF']='xywkg',_0x27e4c7[_0x203c85(0x1cd)]=_0x203c85(0x1a6);const _0x3e32b6=_0x27e4c7;for(const _0x4efbda in _0x5161a7['Resources']){if(_0x3e32b6['nyXXl'](_0x3e32b6[_0x203c85(0x221)],_0x3e32b6[_0x203c85(0x221)])){if(_0x5161a7[_0x203c85(0x20b)][_0x4efbda][_0x203c85(0x238)]&&_0x5161a7['Resources'][_0x4efbda][_0x203c85(0x238)][_0x203c85(0x20e)]){if(_0x3e32b6[_0x203c85(0x237)](_0x3e32b6[_0x203c85(0x242)],_0x3e32b6[_0x203c85(0x1cd)])){for(const _0x146748 in _0x2d410d[_0x203c85(0x20b)]){_0x262aca[_0x203c85(0x20b)][_0x146748][_0x203c85(0x238)]&&_0x18bb4e[_0x203c85(0x20b)][_0x146748][_0x203c85(0x238)][_0x203c85(0x20e)]&&_0x223d01[_0x203c85(0x20b)][_0x146748][_0x203c85(0x238)][_0x203c85(0x20e)][_0x203c85(0x24c)](..._0x44e339);}const _0x5c828a={};_0x4ab6e6[_0x203c85(0x1ca)](_0x24bfa1=>{const _0x25670a=_0x203c85;_0x5c828a[_0x24bfa1[_0x25670a(0x21d)]]=_0x24bfa1[_0x25670a(0x1af)];}),_0x19c820[_0x203c85(0x20b)][_0x3e32b6['ooxJv']][_0x203c85(0x238)][_0x203c85(0x20e)]=_0x5c828a,_0x56f47e[_0x203c85(0x20b)][_0x3e32b6[_0x203c85(0x1ef)]][_0x203c85(0x238)][_0x203c85(0x20e)]=_0x5c828a;}else _0x5161a7[_0x203c85(0x20b)][_0x4efbda][_0x203c85(0x238)][_0x203c85(0x20e)][_0x203c85(0x24c)](..._0x487c09);}}else{var _0x47c61b=_0x553bd0[_0x4fa4e8];_0x196a6c['keys'](_0x47c61b)[_0x203c85(0x1ca)](_0x651c10=>{_0x25af22[_0x69b07d][_0x651c10]=_0x47c61b[_0x651c10];});}}const _0x40e81c={};_0x487c09['forEach'](_0x3f8dd1=>{const _0x314384=_0x203c85;if(_0x3e32b6[_0x314384(0x1fa)](_0x3e32b6['TmrOv'],_0x3e32b6['TmrOv'])){const _0x252883={};_0x252883[_0x314384(0x205)]=_0x3e32b6[_0x314384(0x1ac)],_0x252883[_0x314384(0x24d)]=_0x726c9a,_0x41ad6d[_0x314384(0x241)]['push'](_0x252883);}else _0x40e81c[_0x3f8dd1['Key']]=_0x3f8dd1[_0x314384(0x1af)];}),_0x5161a7[_0x203c85(0x20b)][_0x3e32b6[_0x203c85(0x245)]][_0x203c85(0x238)][_0x203c85(0x20e)]=_0x40e81c,_0x5161a7['Resources'][_0x3e32b6[_0x203c85(0x1ef)]][_0x203c85(0x238)][_0x203c85(0x20e)]=_0x40e81c;};exports[a27_0x3d3bac(0x1ec)]=async(_0x4ed944,_0x58015b,_0x3465a7,_0x3b1dcf=null,_0x168322=null,_0x1a4670)=>{const _0x574299=a27_0x3d3bac,_0x52a5f3={'RXzWi':function(_0x140c17,_0x2e272b){return _0x140c17(_0x2e272b);},'IdjCx':'browserstack:cluster','KJvbm':'browserstack:creationDate','XeFrr':_0x574299(0x21f),'qkUYH':'CFTemplates','MCvbr':_0x574299(0x23a),'SARje':_0x574299(0x228),'vIKPo':function(_0x492c69,_0x417234,_0xe29401){return _0x492c69(_0x417234,_0xe29401);},'gNErP':function(_0x22475f,_0x1a88d6){return _0x22475f(_0x1a88d6);},'IIJEx':function(_0x3ee271,_0x1dca35,_0x3419ce){return _0x3ee271(_0x1dca35,_0x3419ce);},'RwEMk':function(_0x460a2d,_0x5981b8,_0x155595,_0x278470){return _0x460a2d(_0x5981b8,_0x155595,_0x278470);},'Yosas':_0x574299(0x207),'xGfWn':_0x574299(0x1e6),'iGXmx':_0x574299(0x1d2),'SFTCH':'NodeAutoScalingGroupMinSize','FamPR':_0x574299(0x235),'VYQSQ':_0x574299(0x20c),'WlVKw':_0x574299(0x1d7),'MLrmh':'NodeImageId','JIHEQ':_0x574299(0x1a8),'LYMVq':_0x574299(0x203),'ggqGr':'NodeGroupNameWindows','mLqzB':_0x574299(0x1ab),'XNcxP':_0x574299(0x20d),'cVCJb':_0x574299(0x19f),'jIGXr':'CAPABILITY_NAMED_IAM','RKGQK':function(_0xab1251,_0x46c09e){return _0xab1251!=_0x46c09e;},'YWraT':function(_0xae25d1,_0x435c17){return _0xae25d1!==_0x435c17;},'QJEhy':function(_0xfd6f30,_0x36e8ab){return _0xfd6f30===_0x36e8ab;},'ahqTV':_0x574299(0x22e),'fLRdT':_0x574299(0x1bd),'Kpipe':function(_0x414fca,_0x5a540a){return _0x414fca!==_0x5a540a;},'HkDVV':_0x574299(0x1f6),'mEuOx':_0x574299(0x1eb)},_0x54016d=COMMON_HST_TAGS,_0x7c4f67={};_0x7c4f67[_0x574299(0x21d)]=_0x52a5f3[_0x574299(0x1f5)],_0x7c4f67[_0x574299(0x1af)]=_0x4ed944,_0x54016d['push'](_0x7c4f67),_0x54016d[_0x574299(0x24c)]({'Key':_0x52a5f3[_0x574299(0x1f2)],'Value':new Date()[_0x574299(0x1c6)]()[_0x574299(0x1bc)]()});const _0x418ee5={};_0x418ee5[_0x574299(0x1fb)]=_0x52a5f3['XeFrr'];const _0x4ff09b=new AWS[(_0x574299(0x208))](_0x418ee5),_0x32163f=await fs[_0x574299(0x1f3)](path[_0x574299(0x218)](__dirname,'..',_0x52a5f3['qkUYH'],_0x52a5f3[_0x574299(0x249)]),_0x52a5f3[_0x574299(0x1f9)]),_0x495543={};_0x495543[_0x574299(0x212)]=CLOUDFORMATION_SCHEMA;const _0x5a4368=yaml[_0x574299(0x236)](_0x32163f,_0x495543);await _0x52a5f3['vIKPo'](addVPCData,_0x5a4368,_0x3b1dcf),await _0x52a5f3['gNErP'](addS3Data,_0x5a4368),await _0x52a5f3[_0x574299(0x1c9)](addSubnetData,_0x5a4368,_0x168322),await _0x52a5f3[_0x574299(0x1d9)](addTags,_0x5a4368,_0x4ed944,_0x54016d);const _0x1c86d0=JSON['stringify'](_0x5a4368),_0x3898c3={};_0x3898c3[_0x574299(0x246)]=CLUSTER_DEP_STACK_NAME+'-'+_0x4ed944,_0x3898c3[_0x574299(0x1e3)]=_0x52a5f3[_0x574299(0x19c)],_0x3898c3[_0x574299(0x239)]=_0x1c86d0,_0x3898c3[_0x574299(0x241)]=[{'ParameterKey':_0x52a5f3['xGfWn'],'ParameterValue':_0x4ed944},{'ParameterKey':_0x52a5f3[_0x574299(0x1a1)],'ParameterValue':_0x4ed944+_0x574299(0x1a7)},{'ParameterKey':_0x52a5f3[_0x574299(0x1db)],'ParameterValue':''+_0x58015b},{'ParameterKey':_0x52a5f3[_0x574299(0x23f)],'ParameterValue':'0'},{'ParameterKey':_0x52a5f3[_0x574299(0x22d)],'ParameterValue':'1'},{'ParameterKey':_0x52a5f3[_0x574299(0x215)],'ParameterValue':''+_0x3465a7},{'ParameterKey':_0x52a5f3[_0x574299(0x244)],'ParameterValue':global_registry[_0x574299(0x1cc)]},{'ParameterKey':_0x52a5f3['JIHEQ'],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x52a5f3['LYMVq'],'ParameterValue':global_registry[_0x574299(0x1c3)]},{'ParameterKey':_0x52a5f3[_0x574299(0x1ad)],'ParameterValue':_0x4ed944+_0x574299(0x1fc)},{'ParameterKey':_0x52a5f3[_0x574299(0x234)],'ParameterValue':_0x1a4670?_0x52a5f3['XNcxP']:_0x52a5f3['cVCJb']}],_0x3898c3[_0x574299(0x1a2)]=[_0x52a5f3[_0x574299(0x22b)]],_0x3898c3[_0x574299(0x20e)]=_0x54016d;const _0x53761f=_0x3898c3;if(_0x52a5f3['RKGQK'](_0x3b1dcf,null)&&_0x52a5f3[_0x574299(0x1e8)](_0x3b1dcf,undefined)){if(_0x52a5f3[_0x574299(0x1fd)](_0x52a5f3[_0x574299(0x201)],_0x52a5f3['ahqTV'])){const _0x345e61={};_0x345e61['ParameterKey']=_0x52a5f3['fLRdT'],_0x345e61[_0x574299(0x24d)]=_0x3b1dcf,_0x53761f[_0x574299(0x241)][_0x574299(0x24c)](_0x345e61);}else{let _0x3aa468=0x1;_0x28a1bb[_0x574299(0x1ca)](_0x169d86=>{const _0x8f5a2c=_0x574299;_0x349cf3[_0x8f5a2c(0x241)][_0x8f5a2c(0x24c)]({'ParameterKey':'Subnet'+_0x52a5f3[_0x8f5a2c(0x1c1)](_0x4c7e58,_0x3aa468)[_0x8f5a2c(0x22c)](0x2,'0'),'ParameterValue':_0x169d86[_0x8f5a2c(0x21b)]}),_0x3aa468+=0x1;});}}if(_0x52a5f3['RKGQK'](_0x168322,null)&&_0x52a5f3[_0x574299(0x1aa)](_0x168322,undefined)){let _0x47eb42=0x1;_0x168322[_0x574299(0x1ca)](_0x59a06e=>{const _0x4f7b88=_0x574299;_0x53761f[_0x4f7b88(0x241)][_0x4f7b88(0x24c)]({'ParameterKey':_0x4f7b88(0x248)+_0x52a5f3[_0x4f7b88(0x1c1)](String,_0x47eb42)['padStart'](0x2,'0'),'ParameterValue':_0x59a06e['value']}),_0x47eb42+=0x1;});}const _0x3bbe48=await _0x4ff09b['createStack'](_0x53761f)[_0x574299(0x1ee)]();logger[_0x574299(0x206)](_0x52a5f3[_0x574299(0x200)]);const _0x287d66={};return _0x287d66[_0x574299(0x246)]=_0x3bbe48['StackId'],_0x4ff09b[_0x574299(0x24a)](_0x52a5f3[_0x574299(0x1ea)],_0x287d66)['promise']();};function a27_0x3b85(_0x56e4bb,_0x454f1f){const _0x20dc08=a27_0x20dc();return a27_0x3b85=function(_0x3b8565,_0x44abaa){_0x3b8565=_0x3b8565-0x199;let _0x4c17ef=_0x20dc08[_0x3b8565];return _0x4c17ef;},a27_0x3b85(_0x56e4bb,_0x454f1f);}function a27_0x20dc(){const _0x463f6a=['113585tRlhKV','nyXXl','NodeAutoScalingGroupMaxSize','pqlSU','RwEMk','232ZRrGkl','SFTCH','sVwaW','../config/logger','RFQwp','SubnetIds','iuNkB','chWOG','split','OnFailure','bBRvM','Subnet02Block','ClusterName','shWSL','YWraT','awsObj','mEuOx','stackCreateComplete','createClusterStack','NgUqS','promise','XpQkN','BoTNS','vpc-import.yaml','KJvbm','readFileAsync','iQkUL','IdjCx','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','NodeGroup','./AWSUtils','SARje','StAkm','apiVersion','-Windows-NodeGroup','QJEhy','wOAIJ','354VBReXV','HkDVV','ahqTV','KbTGN','S3BucketName','ICiOG','ParameterKey','debug','DELETE','CloudFormation','52szMezC','15018542UWJPvH','Resources','NodeAutoScalingGroupDesiredSizeWindows','true','Tags','pIZDE','xzrqN','s3-create.yaml','schema','YzcsX','LwFDK','WlVKw','promisifyAll','subnet-import.yaml','join','ARfJl','qnCQJ','value','NHggx','Key','HWNki','2010-05-15','EKSCluster','lmIhp','dxthf','trOoQ','ParameterGroups','LWVrn','shWme','tTdnJ','utf-8','hBoUj','7553556DOTJvX','jIGXr','padStart','VYQSQ','pulsk','Subnet02','Fn::Join','RTdGK','MHRLP','hXUSV','mLqzB','NodeAutoScalingGroupMinSizeWindows','load','YyXVD','Properties','TemplateBody','aws-eks-cluster-dep.yaml','idCed','221284KcJLJq','lWiXu','ASNxq','FamPR','khHIX','Parameters','RmoxF','Subnet03Block','MLrmh','ooxJv','StackName','XghHQ','Subnet','MCvbr','waitFor','zWjqy','push','ParameterValue','svlWp','AWS::CloudFormation::Interface','UiUgb','Yosas','Subnets','Outputs','false','Subnet01','iGXmx','Capabilities','lSIpn','VKpva','3236280KUlhCh','nFlcR','-NodeGroup','NodeInstanceType','keys','Kpipe','ClusterAutoUpgrade','bxXxf','ggqGr','RoDum','Value','uzfjC','subnet-create.yaml','2|5|0|3|1|4','wusxG','ZdWCl','jXsdB','KdUnS','rLsql','MxgVQ','oNIkZ','JphrJ','66MHSOlq','toString','VPC','CFTemplates','20761hrmIbZ','ResourcesVpcConfig','RXzWi','ExoYy','s3Bucket','QxeRH','NodeGroupWindows','valueOf','VFEUP','hFtNG','IIJEx','forEach','0|4|5|3|2|1','ami','HLJob','TmrOv','Metadata','Subnet01Block','3992iotIcT','NodeGroupName','Ref','zFnSv'];a27_0x20dc=function(){return _0x463f6a;};return a27_0x20dc();}