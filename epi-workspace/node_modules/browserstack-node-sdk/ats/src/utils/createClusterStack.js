const a27_0x545e9a=a27_0x4ad2;function a27_0x4ad2(_0x2f1307,_0x2579c4){const _0x2574b0=a27_0x2574();return a27_0x4ad2=function(_0x4ad26a,_0x396dfa){_0x4ad26a=_0x4ad26a-0xba;let _0xc8edce=_0x2574b0[_0x4ad26a];return _0xc8edce;},a27_0x4ad2(_0x2f1307,_0x2579c4);}(function(_0x2ed189,_0x3be8fb){const _0x5e9439=a27_0x4ad2,_0xe4ac=_0x2ed189();while(!![]){try{const _0x3a99b9=parseInt(_0x5e9439(0xe3))/0x1*(parseInt(_0x5e9439(0xd4))/0x2)+parseInt(_0x5e9439(0x16f))/0x3*(-parseInt(_0x5e9439(0x11d))/0x4)+-parseInt(_0x5e9439(0x149))/0x5*(-parseInt(_0x5e9439(0xd5))/0x6)+-parseInt(_0x5e9439(0xcd))/0x7*(parseInt(_0x5e9439(0xff))/0x8)+-parseInt(_0x5e9439(0xe7))/0x9*(-parseInt(_0x5e9439(0x14a))/0xa)+-parseInt(_0x5e9439(0x108))/0xb*(-parseInt(_0x5e9439(0x12d))/0xc)+parseInt(_0x5e9439(0x142))/0xd*(-parseInt(_0x5e9439(0xd7))/0xe);if(_0x3a99b9===_0x3be8fb)break;else _0xe4ac['push'](_0xe4ac['shift']());}catch(_0x199e30){_0xe4ac['push'](_0xe4ac['shift']());}}}(a27_0x2574,0xe2f35));const fs=require('fs'),path=require(a27_0x545e9a(0x166)),Promise=require(a27_0x545e9a(0xc1)),yaml=require(a27_0x545e9a(0xe4)),{CLOUDFORMATION_SCHEMA}=require(a27_0x545e9a(0x132)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x545e9a(0xeb)),{logger}=require(a27_0x545e9a(0x121)),{isBucketPresent}=require(a27_0x545e9a(0xf4));Promise['promisifyAll'](fs);const mergeTemplates=(_0x310fbf,_0x1bada5)=>{const _0x57560f=a27_0x545e9a,_0x56bcd2={};_0x56bcd2[_0x57560f(0xd9)]=function(_0x5f04ce,_0x21bba6){return _0x5f04ce===_0x21bba6;},_0x56bcd2[_0x57560f(0x11f)]=_0x57560f(0x10c),_0x56bcd2[_0x57560f(0xf2)]=_0x57560f(0xe1),_0x56bcd2[_0x57560f(0x10b)]=function(_0x1b5eb2,_0x258622){return _0x1b5eb2===_0x258622;},_0x56bcd2['JEyUy']=_0x57560f(0xbe);const _0x2ef3ef=_0x56bcd2;Object[_0x57560f(0xea)](_0x1bada5)[_0x57560f(0x140)](_0x4c811d=>{const _0xd23596=_0x57560f,_0x29b736={'wrmHJ':function(_0x4b7c8b,_0x920aea){const _0x48c7e=a27_0x4ad2;return _0x2ef3ef[_0x48c7e(0xd9)](_0x4b7c8b,_0x920aea);},'qAAWj':_0x2ef3ef[_0xd23596(0x11f)],'VdLnm':_0x2ef3ef[_0xd23596(0xf2)]};if(_0x2ef3ef[_0xd23596(0x10b)](_0x2ef3ef[_0xd23596(0x129)],_0x2ef3ef[_0xd23596(0x129)])){var _0x369093=_0x1bada5[_0x4c811d];Object['keys'](_0x369093)[_0xd23596(0x140)](_0x23e69c=>{const _0x3f424e=_0xd23596;_0x29b736[_0x3f424e(0x181)](_0x29b736[_0x3f424e(0xf1)],_0x29b736[_0x3f424e(0x14e)])?_0x521f34[_0x3f424e(0x172)][_0x4752ad][_0x3f424e(0xe8)][_0x3f424e(0xf8)][_0x3f424e(0x117)](..._0x5b0d63):_0x310fbf[_0x4c811d][_0x23e69c]=_0x369093[_0x23e69c];});}else{var _0x1fcfe7=_0xb37dc1[_0x1a940a];_0x10874b[_0xd23596(0xea)](_0x1fcfe7)[_0xd23596(0x140)](_0x59b43a=>{_0x5936bd[_0x5b08f9][_0x59b43a]=_0x1fcfe7[_0x59b43a];});}});},addVPCData=async(_0x5c118d,_0x1697f0)=>{const _0x3b6440=a27_0x545e9a,_0x4c823c={'aLnIV':function(_0x2fd3b4,_0x32f623,_0x44cdf3){return _0x2fd3b4(_0x32f623,_0x44cdf3);},'ipJrJ':function(_0x3c4bb0,_0x524eaf){return _0x3c4bb0(_0x524eaf);},'MXNzn':function(_0x47d7ba,_0x5a970e){return _0x47d7ba!==_0x5a970e;},'poRuM':'jWxfC','pfDZX':_0x3b6440(0x16b),'rvSty':_0x3b6440(0x119),'aWufo':_0x3b6440(0x134),'qKvGD':_0x3b6440(0xf0),'PYdnO':_0x3b6440(0x13b),'jRDsR':_0x3b6440(0xfd),'xYUjo':function(_0x4608ce,_0x203e1d){return _0x4608ce!==_0x203e1d;},'gUABZ':'rUIMQ','tLjOw':_0x3b6440(0x147),'pTAno':_0x3b6440(0x102),'xLSGE':_0x3b6440(0xbf)};if(_0x1697f0){if(_0x4c823c[_0x3b6440(0xdc)](_0x4c823c[_0x3b6440(0x183)],_0x4c823c[_0x3b6440(0x163)])){const _0x44c498=await fs[_0x3b6440(0x115)](path[_0x3b6440(0x12b)](__dirname,'..',_0x4c823c[_0x3b6440(0x106)],_0x4c823c[_0x3b6440(0x164)]),_0x4c823c[_0x3b6440(0xcf)]),_0x55ebb8={};_0x55ebb8[_0x3b6440(0x153)]=CLOUDFORMATION_SCHEMA;const _0x3da462=yaml[_0x3b6440(0x126)](_0x44c498,_0x55ebb8);_0x4c823c[_0x3b6440(0xfe)](mergeTemplates,_0x5c118d,_0x3da462),_0x5c118d[_0x3b6440(0x176)][_0x4c823c['PYdnO']][_0x3b6440(0xdb)][0x0][_0x3b6440(0xdd)][_0x3b6440(0x117)](_0x4c823c[_0x3b6440(0xbd)]);}else _0x4c823c[_0x3b6440(0xfe)](_0xd73962,_0x24ddc8,_0x2bb6f5);}else{if(_0x4c823c[_0x3b6440(0x11e)](_0x4c823c[_0x3b6440(0xfa)],_0x4c823c[_0x3b6440(0xed)])){const _0x2a6ad3=await fs[_0x3b6440(0x115)](path[_0x3b6440(0x12b)](__dirname,'..',_0x4c823c[_0x3b6440(0x106)],_0x4c823c[_0x3b6440(0xf3)]),_0x4c823c[_0x3b6440(0xcf)]),_0x356ee1={};_0x356ee1['schema']=CLOUDFORMATION_SCHEMA;const _0x16c3b2=yaml[_0x3b6440(0x126)](_0x2a6ad3,_0x356ee1);_0x4c823c[_0x3b6440(0xfe)](mergeTemplates,_0x5c118d,_0x16c3b2),_0x5c118d[_0x3b6440(0x176)][_0x4c823c[_0x3b6440(0xc6)]][_0x3b6440(0xdb)][0x0][_0x3b6440(0xdd)][_0x3b6440(0x117)](_0x4c823c['xLSGE']);}else _0x35c0fc[_0x3b6440(0xdd)][_0x3b6440(0x117)]({'ParameterKey':_0x3b6440(0xc5)+_0x4c823c[_0x3b6440(0xce)](_0x2c4ded,_0x57c14d)[_0x3b6440(0x118)](0x2,'0'),'ParameterValue':_0xce93ee['value']}),_0x5e7b3b+=0x1;}},addS3Data=async _0x41fa9b=>{const _0x2c71fa=a27_0x545e9a,_0x17a86e={'twkbB':'CFTemplates','phobz':_0x2c71fa(0x148),'pLvDY':_0x2c71fa(0xf0),'iwDxs':function(_0x3bab20,_0x23565f){return _0x3bab20(_0x23565f);},'KChou':function(_0x399669,_0x2a7839){return _0x399669===_0x2a7839;},'qacrd':function(_0x6469bb,_0x9d4f3f){return _0x6469bb!==_0x9d4f3f;},'ALOtB':'QkFFo','GpyAe':_0x2c71fa(0x13a),'JouKC':function(_0x52b8bc,_0x21b592,_0x39845a){return _0x52b8bc(_0x21b592,_0x39845a);}},_0x2a8993=await fs['readFileAsync'](path[_0x2c71fa(0x12b)](__dirname,'..',_0x17a86e[_0x2c71fa(0x154)],_0x17a86e[_0x2c71fa(0x17e)]),_0x17a86e[_0x2c71fa(0x127)]),_0x13955c={};_0x13955c[_0x2c71fa(0x153)]=CLOUDFORMATION_SCHEMA;const _0x513b64=yaml[_0x2c71fa(0x126)](_0x2a8993,_0x13955c),_0x311b87=await _0x17a86e[_0x2c71fa(0x13e)](isBucketPresent,global_registry[_0x2c71fa(0x17a)]);_0x17a86e['KChou'](_0x311b87,![])&&(_0x17a86e['qacrd'](_0x17a86e['ALOtB'],_0x17a86e[_0x2c71fa(0x141)])?_0x17a86e[_0x2c71fa(0x14b)](mergeTemplates,_0x41fa9b,_0x513b64):_0x358535[_0x2c71fa(0x172)][_0x392f7f][_0x2c71fa(0xe8)]&&_0x15aa3a[_0x2c71fa(0x172)][_0x470c28][_0x2c71fa(0xe8)]['Tags']&&_0x569c4f[_0x2c71fa(0x172)][_0x14e07f][_0x2c71fa(0xe8)][_0x2c71fa(0xf8)]['push'](..._0xff64fc));},addSubnetData=async(_0x2a32bb,_0x12c03d)=>{const _0x2bbe95=a27_0x545e9a,_0x4a1748={'EJtTl':function(_0x84e818,_0x45bd3d){return _0x84e818(_0x45bd3d);},'QvcWU':_0x2bbe95(0xd2),'khCkK':_0x2bbe95(0x13b),'uGVNq':function(_0x5ed80e,_0x44c80c){return _0x5ed80e(_0x44c80c);},'QbdOu':_0x2bbe95(0xc0),'fNqAB':function(_0x54a304,_0x18412f){return _0x54a304!==_0x18412f;},'NaURo':_0x2bbe95(0x152),'tTKnG':_0x2bbe95(0x145),'WjjFd':_0x2bbe95(0x15e),'vUwcu':function(_0x581cf7,_0x3146d2){return _0x581cf7(_0x3146d2);},'xczdR':function(_0x373d33,_0x494860){return _0x373d33(_0x494860);},'dxwLJ':function(_0x4fd0dc,_0x396488){return _0x4fd0dc===_0x396488;},'HgASz':_0x2bbe95(0x160),'PZKDW':'uApIR','lsknd':'CFTemplates','HAIku':_0x2bbe95(0x14f),'GidgN':'utf-8','FXusq':function(_0x206fd9,_0x49e045,_0x4eaf14){return _0x206fd9(_0x49e045,_0x4eaf14);},'ORqFP':function(_0x54b957,_0x19d1bc){return _0x54b957===_0x19d1bc;},'SIrsa':_0x2bbe95(0x146),'FtLyU':_0x2bbe95(0x17c),'wdPpt':function(_0x14f6ec,_0x50f467,_0x527e20){return _0x14f6ec(_0x50f467,_0x527e20);},'JwWoK':_0x2bbe95(0x128),'htsjh':'Subnet02','oSdcQ':'Subnet03','PhNuy':_0x2bbe95(0x16d),'EVaCb':_0x2bbe95(0x167),'sUaLq':'Subnet03Block'};if(_0x12c03d){if(_0x4a1748['dxwLJ'](_0x4a1748[_0x2bbe95(0xf6)],_0x4a1748[_0x2bbe95(0xee)])){let _0x110e5f=0x1;_0x28baeb[_0x2bbe95(0x140)](_0x36eb30=>{const _0x360abb=_0x2bbe95;_0x48b77e[_0x360abb(0xdd)][_0x360abb(0x117)]({'ParameterKey':'Subnet'+_0x4a1748[_0x360abb(0x100)](_0x40428f,_0x110e5f)[_0x360abb(0x118)](0x2,'0'),'ParameterValue':_0x36eb30[_0x360abb(0x101)]}),_0x110e5f+=0x1;});}else{const _0x4d582c=await fs[_0x2bbe95(0x115)](path[_0x2bbe95(0x12b)](__dirname,'..',_0x4a1748[_0x2bbe95(0x10a)],_0x4a1748[_0x2bbe95(0x10e)]),_0x4a1748[_0x2bbe95(0xbb)]),_0x47758d={};_0x47758d[_0x2bbe95(0x153)]=CLOUDFORMATION_SCHEMA;const _0x39de4b=yaml[_0x2bbe95(0x126)](_0x4d582c,_0x47758d);_0x4a1748[_0x2bbe95(0x136)](mergeTemplates,_0x2a32bb,_0x39de4b);let _0x13e765=0x1;_0x12c03d['forEach'](_0x3d13e2=>{const _0x56aef6=_0x2bbe95,_0x51c269={'MzLJa':_0x4a1748[_0x56aef6(0xc3)],'tHLmZ':_0x4a1748[_0x56aef6(0x174)],'mIzzx':function(_0x5b39f7,_0x54543d){return _0x4a1748['uGVNq'](_0x5b39f7,_0x54543d);},'nKnuR':_0x4a1748[_0x56aef6(0x11c)],'gHuhX':function(_0x426b22,_0x4d0b7a){const _0x509a53=_0x56aef6;return _0x4a1748[_0x509a53(0x161)](_0x426b22,_0x4d0b7a);}};if(_0x4a1748[_0x56aef6(0xde)](_0x4a1748[_0x56aef6(0xfb)],_0x4a1748[_0x56aef6(0xba)])){const _0x42fceb=_0x4a1748[_0x56aef6(0xca)][_0x56aef6(0x16e)]('|');let _0x28bbe0=0x0;while(!![]){switch(_0x42fceb[_0x28bbe0++]){case'0':_0x13e765+=0x1;continue;case'1':_0x2a32bb['Resources']['NodeGroupWindows'][_0x56aef6(0xe8)]['Subnets'][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x4a1748[_0x56aef6(0x161)](String,_0x13e765)['padStart'](0x2,'0')});continue;case'2':_0x2a32bb[_0x56aef6(0x172)][_0x56aef6(0xc4)][_0x56aef6(0xe8)]['Subnets'][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x4a1748[_0x56aef6(0xe0)](String,_0x13e765)[_0x56aef6(0x118)](0x2,'0')});continue;case'3':_0x2a32bb[_0x56aef6(0x176)][_0x4a1748[_0x56aef6(0x174)]][_0x56aef6(0xdb)][0x0][_0x56aef6(0xdd)][_0x56aef6(0x117)]('Subnet'+_0x4a1748[_0x56aef6(0x161)](String,_0x13e765)[_0x56aef6(0x118)](0x2,'0'));continue;case'4':_0x2a32bb[_0x56aef6(0x172)]['EKSCluster'][_0x56aef6(0xe8)][_0x56aef6(0x124)][_0x56aef6(0x123)][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x4a1748[_0x56aef6(0x12f)](String,_0x13e765)[_0x56aef6(0x118)](0x2,'0')});continue;case'5':_0x2a32bb[_0x56aef6(0x13d)]['SubnetIds'][_0x56aef6(0x17b)][_0x4a1748[_0x56aef6(0x11c)]][0x1][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x4a1748[_0x56aef6(0xe0)](String,_0x13e765)[_0x56aef6(0x118)](0x2,'0')});continue;}break;}}else{const _0x4dec49=_0x51c269['MzLJa'][_0x56aef6(0x16e)]('|');let _0x32e8f6=0x0;while(!![]){switch(_0x4dec49[_0x32e8f6++]){case'0':_0x5d8ccb[_0x56aef6(0x176)][_0x51c269[_0x56aef6(0x137)]][_0x56aef6(0xdb)][0x0][_0x56aef6(0xdd)][_0x56aef6(0x117)](_0x56aef6(0xc5)+_0x51c269[_0x56aef6(0x11a)](_0x762cd7,_0x19264b)['padStart'](0x2,'0'));continue;case'1':_0x2e87ad[_0x56aef6(0x13d)][_0x56aef6(0x123)][_0x56aef6(0x17b)][_0x51c269[_0x56aef6(0x168)]][0x1][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x51c269['mIzzx'](_0x6a38fc,_0x4c4c9c)[_0x56aef6(0x118)](0x2,'0')});continue;case'2':_0x3ceec5+=0x1;continue;case'3':_0x344cc5[_0x56aef6(0x172)][_0x56aef6(0x15c)]['Properties']['ResourcesVpcConfig'][_0x56aef6(0x123)][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x51c269[_0x56aef6(0x11a)](_0x31e48d,_0x3ac0b1)[_0x56aef6(0x118)](0x2,'0')});continue;case'4':_0x52b2d4[_0x56aef6(0x172)][_0x56aef6(0x15f)][_0x56aef6(0xe8)]['Subnets'][_0x56aef6(0x117)]({'Ref':_0x56aef6(0xc5)+_0x51c269['gHuhX'](_0x12456b,_0x25fd72)[_0x56aef6(0x118)](0x2,'0')});continue;case'5':_0x466342[_0x56aef6(0x172)][_0x56aef6(0xc4)]['Properties'][_0x56aef6(0x130)][_0x56aef6(0x117)]({'Ref':'Subnet'+_0x51c269['gHuhX'](_0x1f95ba,_0x828d68)[_0x56aef6(0x118)](0x2,'0')});continue;}break;}}});}}else{if(_0x4a1748['ORqFP'](_0x4a1748[_0x2bbe95(0xe9)],_0x4a1748[_0x2bbe95(0xe9)])){const _0x1fd7ed=await fs['readFileAsync'](path[_0x2bbe95(0x12b)](__dirname,'..',_0x4a1748[_0x2bbe95(0x10a)],_0x4a1748[_0x2bbe95(0xc9)]),_0x4a1748['GidgN']),_0x28a363={};_0x28a363['schema']=CLOUDFORMATION_SCHEMA;const _0x45a362=yaml[_0x2bbe95(0x126)](_0x1fd7ed,_0x28a363);_0x4a1748[_0x2bbe95(0x14c)](mergeTemplates,_0x2a32bb,_0x45a362),_0x2a32bb[_0x2bbe95(0x172)][_0x2bbe95(0x15c)][_0x2bbe95(0x104)][_0x2bbe95(0x117)](_0x4a1748[_0x2bbe95(0xd8)],_0x4a1748[_0x2bbe95(0x138)],_0x4a1748[_0x2bbe95(0xfc)]);const _0x3c6b90={};_0x3c6b90[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0xd8)];const _0x33b1e9={};_0x33b1e9[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0x138)];const _0x58098c={};_0x58098c['Ref']=_0x4a1748['oSdcQ'],_0x2a32bb[_0x2bbe95(0x172)]['EKSCluster']['Properties'][_0x2bbe95(0x124)][_0x2bbe95(0x123)]=[_0x3c6b90,_0x33b1e9,_0x58098c],_0x2a32bb[_0x2bbe95(0x176)][_0x4a1748[_0x2bbe95(0x174)]][_0x2bbe95(0xdb)][0x0][_0x2bbe95(0xdd)][_0x2bbe95(0x117)](_0x4a1748[_0x2bbe95(0x14d)],_0x4a1748[_0x2bbe95(0xcc)],_0x4a1748[_0x2bbe95(0x155)]);const _0x5ca0ca={};_0x5ca0ca[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0xd8)];const _0x56d5ec={};_0x56d5ec[_0x2bbe95(0x170)]=_0x4a1748['htsjh'];const _0x21e04b={};_0x21e04b[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0xfc)],_0x2a32bb['Resources'][_0x2bbe95(0xc4)][_0x2bbe95(0xe8)]['Subnets']=[_0x5ca0ca,_0x56d5ec,_0x21e04b];const _0x3d2f9c={};_0x3d2f9c[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0xd8)];const _0x2b3d7c={};_0x2b3d7c[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0x138)];const _0x3497c4={};_0x3497c4[_0x2bbe95(0x170)]=_0x4a1748[_0x2bbe95(0xfc)],_0x2a32bb[_0x2bbe95(0x172)][_0x2bbe95(0x15f)][_0x2bbe95(0xe8)]['Subnets']=[_0x3d2f9c,_0x2b3d7c,_0x3497c4],_0x2a32bb[_0x2bbe95(0x13d)][_0x2bbe95(0x123)][_0x2bbe95(0x17b)][_0x4a1748[_0x2bbe95(0x11c)]][0x1]=[{'Ref':_0x4a1748[_0x2bbe95(0xd8)]},{'Ref':_0x4a1748[_0x2bbe95(0x138)]},{'Ref':_0x4a1748['oSdcQ']}];}else _0x314a12[_0x23c944][_0x3e6792]=_0x3b99c5[_0xbe5e1];}},addTags=async(_0x557eb8,_0x41be94,_0x11df1a)=>{const _0x3ca764=a27_0x545e9a,_0x2451d6={};_0x2451d6['KYGMF']='NodeGroup',_0x2451d6[_0x3ca764(0xe5)]=_0x3ca764(0x15f),_0x2451d6[_0x3ca764(0x17d)]=function(_0x51b2d5,_0x142148){return _0x51b2d5!==_0x142148;},_0x2451d6[_0x3ca764(0x112)]=_0x3ca764(0x16c),_0x2451d6[_0x3ca764(0x173)]=_0x3ca764(0x175),_0x2451d6['znNog']=_0x3ca764(0xbc),_0x2451d6['wcFpf']=_0x3ca764(0x12e),_0x2451d6[_0x3ca764(0xc2)]=function(_0x1658a3,_0x214f6c){return _0x1658a3===_0x214f6c;},_0x2451d6[_0x3ca764(0x122)]=_0x3ca764(0x114);const _0xd8e44d=_0x2451d6;for(const _0x4ca37b in _0x557eb8[_0x3ca764(0x172)]){if(_0xd8e44d[_0x3ca764(0x17d)](_0xd8e44d[_0x3ca764(0x150)],_0xd8e44d['wcFpf']))_0x557eb8['Resources'][_0x4ca37b][_0x3ca764(0xe8)]&&_0x557eb8[_0x3ca764(0x172)][_0x4ca37b][_0x3ca764(0xe8)]['Tags']&&(_0xd8e44d[_0x3ca764(0xc2)](_0xd8e44d[_0x3ca764(0x122)],_0xd8e44d[_0x3ca764(0x122)])?_0x557eb8[_0x3ca764(0x172)][_0x4ca37b][_0x3ca764(0xe8)][_0x3ca764(0xf8)]['push'](..._0x11df1a):_0x54ec13[_0x3ca764(0xea)](_0x43a149)[_0x3ca764(0x140)](_0x26b751=>{const _0x576b87=_0x3ca764;var _0x22bb56=_0x1cd93f[_0x26b751];_0x2b37cc[_0x576b87(0xea)](_0x22bb56)[_0x576b87(0x140)](_0x1625a2=>{_0x2a0426[_0x26b751][_0x1625a2]=_0x22bb56[_0x1625a2];});}));else{for(const _0xef6a19 in _0x50eaa9[_0x3ca764(0x172)]){_0x298485[_0x3ca764(0x172)][_0xef6a19]['Properties']&&_0x1ab30e[_0x3ca764(0x172)][_0xef6a19][_0x3ca764(0xe8)][_0x3ca764(0xf8)]&&_0x5be86b[_0x3ca764(0x172)][_0xef6a19][_0x3ca764(0xe8)][_0x3ca764(0xf8)][_0x3ca764(0x117)](..._0x4e32ed);}const _0x408347={};_0x4fe0b7[_0x3ca764(0x140)](_0x271ecf=>{const _0x13c31f=_0x3ca764;_0x408347[_0x271ecf[_0x13c31f(0x169)]]=_0x271ecf['Value'];}),_0x8e7f22[_0x3ca764(0x172)][_0xd8e44d[_0x3ca764(0x131)]][_0x3ca764(0xe8)]['Tags']=_0x408347,_0x4fbf09['Resources'][_0xd8e44d[_0x3ca764(0xe5)]][_0x3ca764(0xe8)][_0x3ca764(0xf8)]=_0x408347;}}const _0x49b557={};_0x11df1a['forEach'](_0x38267d=>{const _0x1281a4=_0x3ca764;_0xd8e44d[_0x1281a4(0x17d)](_0xd8e44d['RudNN'],_0xd8e44d[_0x1281a4(0x173)])?_0x49b557[_0x38267d[_0x1281a4(0x169)]]=_0x38267d[_0x1281a4(0x17b)]:_0xe0339[_0x4ed078[_0x1281a4(0x169)]]=_0x2307a4[_0x1281a4(0x17b)];}),_0x557eb8['Resources'][_0xd8e44d[_0x3ca764(0x131)]][_0x3ca764(0xe8)][_0x3ca764(0xf8)]=_0x49b557,_0x557eb8['Resources'][_0xd8e44d[_0x3ca764(0xe5)]][_0x3ca764(0xe8)][_0x3ca764(0xf8)]=_0x49b557;};exports['createClusterStack']=async(_0xdfe856,_0x215405,_0x3da1ff,_0x1e9079=null,_0x23ffb7=null,_0x2b5e81)=>{const _0x541317=a27_0x545e9a,_0x2589de={'MZGSY':_0x541317(0xfd),'bBAfk':function(_0x476647,_0x1256a7){return _0x476647(_0x1256a7);},'LqkyW':_0x541317(0x165),'mSNwS':_0x541317(0x15a),'wlTxb':'2010-05-15','OOjzT':_0x541317(0x119),'jrKwi':_0x541317(0x111),'CDCDg':_0x541317(0xf0),'HrPRa':function(_0x18c7eb,_0xccf70b,_0x4bab2c){return _0x18c7eb(_0xccf70b,_0x4bab2c);},'IZPFq':function(_0x4b6700,_0x1efc4d,_0x26d0cd){return _0x4b6700(_0x1efc4d,_0x26d0cd);},'gutCp':function(_0x5659d1,_0x21239d,_0x5c7b3d,_0x52d226){return _0x5659d1(_0x21239d,_0x5c7b3d,_0x52d226);},'UrcwQ':_0x541317(0xdf),'ISPAz':_0x541317(0x109),'cVxwg':_0x541317(0x179),'rNgwA':_0x541317(0x143),'QqQIm':_0x541317(0x113),'owZyo':_0x541317(0x125),'PMJbK':'NodeAutoScalingGroupMaxSize','AqAYM':_0x541317(0x12c),'ipuPZ':_0x541317(0x151),'USQNf':_0x541317(0x159),'RVmao':_0x541317(0xe6),'eboHn':_0x541317(0xf5),'LNqgI':_0x541317(0x12a),'bjBSV':'false','YWvqT':_0x541317(0x105),'wPhMK':function(_0x3c983a,_0x1915a5){return _0x3c983a!=_0x1915a5;},'JDKdN':function(_0x5eda67,_0x2586e3){return _0x5eda67!==_0x2586e3;},'fhKmz':function(_0x262aae,_0x4d3c6c){return _0x262aae===_0x4d3c6c;},'pinhj':_0x541317(0x171),'OdegC':function(_0x3a2b42,_0xf6d7d6){return _0x3a2b42!=_0xf6d7d6;},'oSqhG':_0x541317(0x13f),'QryrV':'stackCreateComplete'},_0x5efba8=COMMON_HST_TAGS,_0x346363={};_0x346363[_0x541317(0x169)]=_0x2589de[_0x541317(0xd1)],_0x346363[_0x541317(0x17b)]=_0xdfe856,_0x5efba8[_0x541317(0x117)](_0x346363),_0x5efba8[_0x541317(0x117)]({'Key':_0x2589de[_0x541317(0x182)],'Value':new Date()[_0x541317(0x103)]()[_0x541317(0x15d)]()});const _0x5136aa={};_0x5136aa[_0x541317(0x133)]=_0x2589de['wlTxb'];const _0x2f2701=new AWS[(_0x541317(0x157))](_0x5136aa),_0x2bb12b=await fs[_0x541317(0x115)](path[_0x541317(0x12b)](__dirname,'..',_0x2589de[_0x541317(0xc7)],_0x2589de[_0x541317(0x116)]),_0x2589de[_0x541317(0x11b)]),_0x2b06c6={};_0x2b06c6[_0x541317(0x153)]=CLOUDFORMATION_SCHEMA;const _0x8db456=yaml['load'](_0x2bb12b,_0x2b06c6);await _0x2589de[_0x541317(0xd3)](addVPCData,_0x8db456,_0x1e9079),await _0x2589de[_0x541317(0x144)](addS3Data,_0x8db456),await _0x2589de[_0x541317(0x16a)](addSubnetData,_0x8db456,_0x23ffb7),await _0x2589de[_0x541317(0x110)](addTags,_0x8db456,_0xdfe856,_0x5efba8);const _0x4aade7=JSON[_0x541317(0x10d)](_0x8db456),_0x182140={};_0x182140[_0x541317(0x15b)]=CLUSTER_DEP_STACK_NAME+'-'+_0xdfe856,_0x182140[_0x541317(0x178)]=_0x2589de[_0x541317(0xc8)],_0x182140[_0x541317(0x120)]=_0x4aade7,_0x182140['Parameters']=[{'ParameterKey':_0x2589de['ISPAz'],'ParameterValue':_0xdfe856},{'ParameterKey':_0x2589de['cVxwg'],'ParameterValue':_0xdfe856+'-NodeGroup'},{'ParameterKey':_0x2589de[_0x541317(0x13c)],'ParameterValue':''+_0x215405},{'ParameterKey':_0x2589de[_0x541317(0xd0)],'ParameterValue':'0'},{'ParameterKey':_0x2589de[_0x541317(0x139)],'ParameterValue':'1'},{'ParameterKey':_0x2589de['PMJbK'],'ParameterValue':''+_0x3da1ff},{'ParameterKey':_0x2589de['AqAYM'],'ParameterValue':global_registry[_0x541317(0xd6)]},{'ParameterKey':_0x2589de[_0x541317(0xec)],'ParameterValue':global_registry[_0x541317(0x158)]},{'ParameterKey':_0x2589de['USQNf'],'ParameterValue':global_registry[_0x541317(0x17a)]},{'ParameterKey':_0x2589de[_0x541317(0x156)],'ParameterValue':_0xdfe856+_0x541317(0x177)},{'ParameterKey':_0x2589de['eboHn'],'ParameterValue':_0x2b5e81?_0x2589de[_0x541317(0x135)]:_0x2589de['bjBSV']}],_0x182140['Capabilities']=[_0x2589de['YWvqT']],_0x182140[_0x541317(0xf8)]=_0x5efba8;const _0x21eb38=_0x182140;if(_0x2589de[_0x541317(0xe2)](_0x1e9079,null)&&_0x2589de[_0x541317(0x107)](_0x1e9079,undefined)){if(_0x2589de[_0x541317(0x17f)](_0x2589de['pinhj'],_0x2589de[_0x541317(0x180)])){const _0x2cb904={};_0x2cb904['ParameterKey']=_0x2589de[_0x541317(0x162)],_0x2cb904[_0x541317(0x10f)]=_0x1e9079,_0x21eb38[_0x541317(0xdd)][_0x541317(0x117)](_0x2cb904);}else{const _0x369bb3={};_0x369bb3[_0x541317(0xef)]=_0x2589de['MZGSY'],_0x369bb3[_0x541317(0x10f)]=_0x4e19db,_0x3ca7a6['Parameters']['push'](_0x369bb3);}}if(_0x2589de[_0x541317(0xf9)](_0x23ffb7,null)&&_0x2589de[_0x541317(0x107)](_0x23ffb7,undefined)){let _0x356379=0x1;_0x23ffb7[_0x541317(0x140)](_0x3e6d0d=>{const _0x4a0840=_0x541317;_0x21eb38[_0x4a0840(0xdd)]['push']({'ParameterKey':_0x4a0840(0xc5)+_0x2589de[_0x4a0840(0x144)](String,_0x356379)[_0x4a0840(0x118)](0x2,'0'),'ParameterValue':_0x3e6d0d[_0x4a0840(0x101)]}),_0x356379+=0x1;});}const _0xcbdf4c=await _0x2f2701['createStack'](_0x21eb38)[_0x541317(0xcb)]();logger[_0x541317(0xf7)](_0x2589de[_0x541317(0xda)]);const _0x21d8ad={};return _0x21d8ad[_0x541317(0x15b)]=_0xcbdf4c['StackId'],_0x2f2701['waitFor'](_0x2589de['QryrV'],_0x21d8ad)[_0x541317(0xcb)]();};function a27_0x2574(){const _0xf2c276=['ParameterValue','gutCp','aws-eks-cluster-dep.yaml','RudNN','NodeAutoScalingGroupMinSizeWindows','UTqvB','readFileAsync','jrKwi','push','padStart','CFTemplates','mIzzx','CDCDg','QbdOu','5420708emasNx','xYUjo','nGwIM','TemplateBody','../config/logger','Kblcc','SubnetIds','ResourcesVpcConfig','NodeAutoScalingGroupDesiredSizeWindows','load','pLvDY','Subnet01','JEyUy','true','join','NodeImageId','1368rPfLWA','wBqkF','xczdR','Subnets','KYGMF','js-yaml-cloudformation-schema','apiVersion','vpc-import.yaml','LNqgI','FXusq','tHLmZ','htsjh','owZyo','ZoKJy','AWS::CloudFormation::Interface','rNgwA','Outputs','iwDxs','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','forEach','GpyAe','145769TQbZbi','NodeAutoScalingGroupMinSize','bBAfk','mfzDE','nDPku','OZbSV','s3-create.yaml','65MpRumb','1075460XllVvN','JouKC','wdPpt','PhNuy','VdLnm','subnet-import.yaml','znNog','NodeInstanceType','rOaeh','schema','twkbB','sUaLq','RVmao','CloudFormation','instanceType','S3BucketName','browserstack:creationDate','StackName','EKSCluster','toString','4|3|2|1|5|0','NodeGroupWindows','jJRPd','uGVNq','MZGSY','pfDZX','aWufo','browserstack:cluster','path','Subnet02Block','nKnuR','Key','IZPFq','rfRnO','dOhVO','Subnet01Block','split','3IkVNJK','Ref','LHsBW','Resources','kTrLD','khCkK','qWjgG','Metadata','-Windows-NodeGroup','OnFailure','NodeGroupName','s3Bucket','Value','subnet-create.yaml','OSMdd','phobz','fhKmz','pinhj','wrmHJ','mSNwS','poRuM','tTKnG','GidgN','FYghI','jRDsR','Yctyl','VpcBlock','Fn::Join','bluebird','GnNWR','QvcWU','NodeGroup','Subnet','PYdnO','OOjzT','UrcwQ','FtLyU','WjjFd','promise','EVaCb','441KmmMiU','ipJrJ','qKvGD','QqQIm','LqkyW','3|0|5|4|1|2','HrPRa','1981674pJZZLc','823710ftWMGN','ami','322ZEUbmy','JwWoK','pPqpN','oSqhG','ParameterGroups','MXNzn','Parameters','fNqAB','DELETE','vUwcu','uILXd','wPhMK','1Cblogw','js-yaml','daHJD','NodeGroupNameWindows','72NmyYdN','Properties','SIrsa','keys','../config/constants','ipuPZ','tLjOw','PZKDW','ParameterKey','utf-8','qAAWj','eHOlH','pTAno','./AWSUtils','ClusterAutoUpgrade','HgASz','debug','Tags','OdegC','gUABZ','NaURo','oSdcQ','VPC','aLnIV','192184pevSRf','EJtTl','value','vpc-create.yaml','valueOf','DependsOn','CAPABILITY_NAMED_IAM','rvSty','JDKdN','40546FcgcvK','ClusterName','lsknd','vIXbw','ECxva','stringify','HAIku'];a27_0x2574=function(){return _0xf2c276;};return a27_0x2574();}