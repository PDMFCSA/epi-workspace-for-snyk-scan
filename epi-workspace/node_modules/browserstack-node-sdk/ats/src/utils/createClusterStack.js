const a27_0x496438=a27_0x58e0;(function(_0x48f2ea,_0x1261a8){const _0x49066d=a27_0x58e0,_0x592b54=_0x48f2ea();while(!![]){try{const _0x4a4686=parseInt(_0x49066d(0xd1))/0x1+parseInt(_0x49066d(0x10e))/0x2*(parseInt(_0x49066d(0x14c))/0x3)+-parseInt(_0x49066d(0xe1))/0x4+parseInt(_0x49066d(0x131))/0x5+parseInt(_0x49066d(0x16e))/0x6*(parseInt(_0x49066d(0xda))/0x7)+parseInt(_0x49066d(0xe7))/0x8+-parseInt(_0x49066d(0x101))/0x9;if(_0x4a4686===_0x1261a8)break;else _0x592b54['push'](_0x592b54['shift']());}catch(_0x2578dd){_0x592b54['push'](_0x592b54['shift']());}}}(a27_0x9ee7,0x47150));const fs=require('fs'),path=require('path'),Promise=require(a27_0x496438(0xca)),yaml=require(a27_0x496438(0xf3)),{CLOUDFORMATION_SCHEMA}=require(a27_0x496438(0x147)),AWS=require(a27_0x496438(0x12b))[a27_0x496438(0x112)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require('./AWSUtils');Promise['promisifyAll'](fs);const mergeTemplates=(_0x478ec7,_0x967363)=>{const _0x12265c=a27_0x496438,_0x33d0b0={};_0x33d0b0[_0x12265c(0xc9)]=_0x12265c(0x134),_0x33d0b0[_0x12265c(0xd8)]=_0x12265c(0x125),_0x33d0b0[_0x12265c(0xf8)]=function(_0x210c89,_0x3942b7){return _0x210c89!==_0x3942b7;},_0x33d0b0[_0x12265c(0x11a)]='Epxcc',_0x33d0b0['NSOIh']=function(_0x9ddac3,_0x19b318){return _0x9ddac3===_0x19b318;},_0x33d0b0[_0x12265c(0x140)]='xAkWS';const _0x133f2c=_0x33d0b0;Object[_0x12265c(0x142)](_0x967363)[_0x12265c(0x108)](_0x54ae1f=>{const _0x21e2a3=_0x12265c,_0x4e37d5={'mePiQ':_0x133f2c[_0x21e2a3(0xc9)],'pcpDY':_0x133f2c[_0x21e2a3(0xd8)],'WGYbo':function(_0x1b437a,_0x71ad73){const _0x50719c=_0x21e2a3;return _0x133f2c[_0x50719c(0xf8)](_0x1b437a,_0x71ad73);},'aFrmF':_0x133f2c[_0x21e2a3(0x11a)]};if(_0x133f2c[_0x21e2a3(0xfc)](_0x133f2c['BclEm'],_0x133f2c['BclEm'])){var _0x3abfc4=_0x967363[_0x54ae1f];Object[_0x21e2a3(0x142)](_0x3abfc4)[_0x21e2a3(0x108)](_0x4e99d3=>{const _0xb2172c=_0x21e2a3;if(_0x4e37d5['WGYbo'](_0x4e37d5[_0xb2172c(0x145)],_0x4e37d5[_0xb2172c(0x145)])){for(const _0x1b1fbd in _0xd2e621[_0xb2172c(0x110)]){_0x6f1411['Resources'][_0x1b1fbd][_0xb2172c(0xf5)]&&_0x2f8511[_0xb2172c(0x110)][_0x1b1fbd]['Properties']['Tags']&&_0xd16574[_0xb2172c(0x110)][_0x1b1fbd][_0xb2172c(0xf5)]['Tags'][_0xb2172c(0x12e)](..._0x2008eb);}const _0x4d8e9d={};_0x287e07[_0xb2172c(0x108)](_0x5050dd=>{const _0x3b64aa=_0xb2172c;_0x4d8e9d[_0x5050dd[_0x3b64aa(0xea)]]=_0x5050dd['Value'];}),_0x7cff7a[_0xb2172c(0x110)][_0x4e37d5['mePiQ']][_0xb2172c(0xf5)]['Tags']=_0x4d8e9d,_0x401a4a[_0xb2172c(0x110)][_0x4e37d5[_0xb2172c(0x13e)]][_0xb2172c(0xf5)][_0xb2172c(0x10c)]=_0x4d8e9d;}else _0x478ec7[_0x54ae1f][_0x4e99d3]=_0x3abfc4[_0x4e99d3];});}else _0x53ffe2['Resources'][_0xb251bd][_0x21e2a3(0xf5)]&&_0xe1cf06[_0x21e2a3(0x110)][_0x2bb986][_0x21e2a3(0xf5)][_0x21e2a3(0x10c)]&&_0x589133[_0x21e2a3(0x110)][_0x1ecae4][_0x21e2a3(0xf5)][_0x21e2a3(0x10c)]['push'](..._0x125755);});},addVPCData=async(_0x2769cd,_0x4727d3)=>{const _0x41c5c1=a27_0x496438,_0xb00c41={'VRKzt':function(_0x505b89,_0x16d299){return _0x505b89===_0x16d299;},'syFKQ':_0x41c5c1(0xdd),'BSsxO':_0x41c5c1(0xe9),'WsXUd':'CFTemplates','IbVqz':'vpc-import.yaml','YnLpA':_0x41c5c1(0x121),'XFwgY':function(_0x2c003e,_0x3c0578,_0x4b42ba){return _0x2c003e(_0x3c0578,_0x4b42ba);},'Tlpkl':_0x41c5c1(0x11e),'Bndxa':_0x41c5c1(0x171),'LMqVE':function(_0x36fa13,_0x468d6b){return _0x36fa13===_0x468d6b;},'jYPQt':_0x41c5c1(0xfe),'BvWod':_0x41c5c1(0xe0),'Xwuyg':function(_0x40f106,_0x37b702,_0x1197bf){return _0x40f106(_0x37b702,_0x1197bf);},'DkKLn':_0x41c5c1(0x174)};if(_0x4727d3){if(_0xb00c41[_0x41c5c1(0xf0)](_0xb00c41[_0x41c5c1(0x13b)],_0xb00c41[_0x41c5c1(0x11c)]))_0x2ee603[_0x41c5c1(0x142)](_0x500db3)[_0x41c5c1(0x108)](_0x358a2c=>{const _0x2532d4=_0x41c5c1;var _0x2eee96=_0x5892b[_0x358a2c];_0x538dd5[_0x2532d4(0x142)](_0x2eee96)['forEach'](_0x3dc3c1=>{_0x2cbf39[_0x358a2c][_0x3dc3c1]=_0x2eee96[_0x3dc3c1];});});else{const _0x1563ab=await fs[_0x41c5c1(0xd2)](path[_0x41c5c1(0xfa)](__dirname,'..',_0xb00c41[_0x41c5c1(0xc3)],_0xb00c41[_0x41c5c1(0xf9)]),_0xb00c41[_0x41c5c1(0x14f)]),_0x4a5c39={};_0x4a5c39[_0x41c5c1(0x10d)]=CLOUDFORMATION_SCHEMA;const _0x4ba9fb=yaml[_0x41c5c1(0x12a)](_0x1563ab,_0x4a5c39);_0xb00c41[_0x41c5c1(0x158)](mergeTemplates,_0x2769cd,_0x4ba9fb),_0x2769cd['Metadata'][_0xb00c41[_0x41c5c1(0x176)]]['ParameterGroups'][0x0][_0x41c5c1(0x149)]['push'](_0xb00c41['Bndxa']);}}else{if(_0xb00c41['LMqVE'](_0xb00c41['jYPQt'],_0xb00c41['jYPQt'])){const _0x30b5e0=await fs[_0x41c5c1(0xd2)](path[_0x41c5c1(0xfa)](__dirname,'..',_0xb00c41[_0x41c5c1(0xc3)],_0xb00c41['BvWod']),_0xb00c41['YnLpA']),_0x34fa87={};_0x34fa87[_0x41c5c1(0x10d)]=CLOUDFORMATION_SCHEMA;const _0x43b369=yaml[_0x41c5c1(0x12a)](_0x30b5e0,_0x34fa87);_0xb00c41[_0x41c5c1(0xd5)](mergeTemplates,_0x2769cd,_0x43b369),_0x2769cd[_0x41c5c1(0x156)][_0xb00c41[_0x41c5c1(0x176)]][_0x41c5c1(0x179)][0x0]['Parameters']['push'](_0xb00c41[_0x41c5c1(0x136)]);}else _0x45b569[_0x2d5586['Key']]=_0xce5185[_0x41c5c1(0x133)];}},addS3Data=async _0x56dec8=>{const _0x54073c=a27_0x496438,_0x13c325={'jXFFN':function(_0x5f22ee,_0x505bf2){return _0x5f22ee(_0x505bf2);},'QwZyF':_0x54073c(0x106),'GGnNj':_0x54073c(0x14a),'wGaMo':_0x54073c(0x121),'gRtZs':function(_0xb5fec8,_0x3aec25){return _0xb5fec8===_0x3aec25;},'Oucsd':_0x54073c(0x15a),'DzSih':_0x54073c(0x114),'PKxgX':function(_0x1f56f0,_0x811d0a,_0x230340){return _0x1f56f0(_0x811d0a,_0x230340);}},_0x511312=await fs[_0x54073c(0xd2)](path['join'](__dirname,'..',_0x13c325['QwZyF'],_0x13c325[_0x54073c(0x14e)]),_0x13c325[_0x54073c(0xf6)]),_0x5059fa={};_0x5059fa[_0x54073c(0x10d)]=CLOUDFORMATION_SCHEMA;const _0x3d656a=yaml[_0x54073c(0x12a)](_0x511312,_0x5059fa),_0x5f0737=await _0x13c325[_0x54073c(0x144)](isBucketPresent,global_registry['s3Bucket']);_0x13c325['gRtZs'](_0x5f0737,![])&&(_0x13c325['gRtZs'](_0x13c325['Oucsd'],_0x13c325['DzSih'])?(_0xa1e411[_0x54073c(0x149)][_0x54073c(0x12e)]({'ParameterKey':_0x54073c(0xc6)+_0x13c325[_0x54073c(0x144)](_0x4ed466,_0x31db6e)[_0x54073c(0x130)](0x2,'0'),'ParameterValue':_0x39f29c['value']}),_0xafa22+=0x1):_0x13c325[_0x54073c(0x15e)](mergeTemplates,_0x56dec8,_0x3d656a));},addSubnetData=async(_0x43a034,_0x2b16a7)=>{const _0xda91c8=a27_0x496438,_0x362351={'VmZKV':function(_0x3ed17c,_0x434a09){return _0x3ed17c===_0x434a09;},'HUCjo':_0xda91c8(0x148),'UmjjX':_0xda91c8(0x116),'KKKCq':function(_0x3537ce,_0x13bd3b){return _0x3537ce(_0x13bd3b);},'VUOop':_0xda91c8(0xd3),'XKljC':function(_0x4cf9b9,_0x57a91d){return _0x4cf9b9(_0x57a91d);},'tlgyD':_0xda91c8(0x11e),'tCPfD':function(_0x5eba13,_0x1a87b2){return _0x5eba13(_0x1a87b2);},'MlqgT':function(_0x500ff9,_0x421384){return _0x500ff9===_0x421384;},'wKrZC':_0xda91c8(0x141),'UovBp':_0xda91c8(0x106),'kZPko':_0xda91c8(0x16f),'vTSQl':_0xda91c8(0x121),'KMnwy':function(_0xf2e7aa,_0x55e774,_0x5c148c){return _0xf2e7aa(_0x55e774,_0x5c148c);},'nPLxJ':function(_0x193531,_0x3408b7){return _0x193531===_0x3408b7;},'fkdDJ':_0xda91c8(0x12c),'dMwAZ':_0xda91c8(0x178),'cuTdh':_0xda91c8(0xdb),'SaDhL':'Subnet01','vPtkz':_0xda91c8(0x137),'sAMbQ':_0xda91c8(0xd9),'GMaTv':_0xda91c8(0x17d),'MFMVl':_0xda91c8(0xf2),'nZZFR':_0xda91c8(0x173)};if(_0x2b16a7){if(_0x362351[_0xda91c8(0x13d)](_0x362351[_0xda91c8(0xef)],_0x362351[_0xda91c8(0xef)])){const _0x42af88=await fs[_0xda91c8(0xd2)](path['join'](__dirname,'..',_0x362351[_0xda91c8(0x146)],_0x362351[_0xda91c8(0x14b)]),_0x362351['vTSQl']),_0x38885b={};_0x38885b['schema']=CLOUDFORMATION_SCHEMA;const _0x3d4564=yaml[_0xda91c8(0x12a)](_0x42af88,_0x38885b);_0x362351['KMnwy'](mergeTemplates,_0x43a034,_0x3d4564);let _0x1d87c3=0x1;_0x2b16a7['forEach'](_0x2a25b2=>{const _0x3130f8=_0xda91c8;if(_0x362351[_0x3130f8(0xfd)](_0x362351['HUCjo'],_0x362351['HUCjo'])){const _0x28bcfc=_0x362351[_0x3130f8(0xee)][_0x3130f8(0xcc)]('|');let _0x843f0=0x0;while(!![]){switch(_0x28bcfc[_0x843f0++]){case'0':_0x43a034[_0x3130f8(0x110)][_0x3130f8(0x104)][_0x3130f8(0xf5)][_0x3130f8(0xcd)][_0x3130f8(0x177)][_0x3130f8(0x12e)]({'Ref':_0x3130f8(0xc6)+_0x362351[_0x3130f8(0x161)](String,_0x1d87c3)[_0x3130f8(0x130)](0x2,'0')});continue;case'1':_0x43a034['Resources'][_0x3130f8(0x125)]['Properties']['Subnets'][_0x3130f8(0x12e)]({'Ref':_0x3130f8(0xc6)+_0x362351[_0x3130f8(0x161)](String,_0x1d87c3)[_0x3130f8(0x130)](0x2,'0')});continue;case'2':_0x1d87c3+=0x1;continue;case'3':_0x43a034[_0x3130f8(0x109)]['SubnetIds'][_0x3130f8(0x133)][_0x362351['VUOop']][0x1]['push']({'Ref':_0x3130f8(0xc6)+_0x362351[_0x3130f8(0x161)](String,_0x1d87c3)[_0x3130f8(0x130)](0x2,'0')});continue;case'4':_0x43a034['Resources'][_0x3130f8(0x134)]['Properties'][_0x3130f8(0x15d)][_0x3130f8(0x12e)]({'Ref':_0x3130f8(0xc6)+_0x362351[_0x3130f8(0xdf)](String,_0x1d87c3)['padStart'](0x2,'0')});continue;case'5':_0x43a034[_0x3130f8(0x156)][_0x362351['tlgyD']][_0x3130f8(0x179)][0x0][_0x3130f8(0x149)][_0x3130f8(0x12e)](_0x3130f8(0xc6)+_0x362351[_0x3130f8(0xdf)](String,_0x1d87c3)['padStart'](0x2,'0'));continue;}break;}}else _0x72f478[_0x47bd05][_0x1ea647]=_0x3cbbaf[_0x2aed24];});}else _0x133049[_0xda91c8(0x110)][_0x571a8e][_0xda91c8(0xf5)][_0xda91c8(0x10c)][_0xda91c8(0x12e)](..._0x79baa4);}else{if(_0x362351[_0xda91c8(0x129)](_0x362351[_0xda91c8(0xff)],_0x362351[_0xda91c8(0xd0)])){let _0x574450=0x1;_0x37c153[_0xda91c8(0x108)](_0x372e26=>{const _0x2315c6=_0xda91c8;_0x54f26e['Parameters']['push']({'ParameterKey':_0x2315c6(0xc6)+_0x362351['tCPfD'](_0x30a34b,_0x574450)[_0x2315c6(0x130)](0x2,'0'),'ParameterValue':_0x372e26[_0x2315c6(0x10a)]}),_0x574450+=0x1;});}else{const _0x480fac=await fs['readFileAsync'](path['join'](__dirname,'..',_0x362351['UovBp'],_0x362351['cuTdh']),_0x362351[_0xda91c8(0x16b)]),_0x39c1f2={};_0x39c1f2[_0xda91c8(0x10d)]=CLOUDFORMATION_SCHEMA;const _0x377a51=yaml[_0xda91c8(0x12a)](_0x480fac,_0x39c1f2);_0x362351[_0xda91c8(0x169)](mergeTemplates,_0x43a034,_0x377a51),_0x43a034[_0xda91c8(0x110)][_0xda91c8(0x104)][_0xda91c8(0x119)][_0xda91c8(0x12e)](_0x362351[_0xda91c8(0xd6)],_0x362351['vPtkz'],_0x362351[_0xda91c8(0xd4)]);const _0x5ade34={};_0x5ade34[_0xda91c8(0x153)]=_0x362351[_0xda91c8(0xd6)];const _0xdde206={};_0xdde206[_0xda91c8(0x153)]=_0x362351[_0xda91c8(0x159)];const _0x3e7d24={};_0x3e7d24['Ref']=_0x362351['sAMbQ'],_0x43a034[_0xda91c8(0x110)][_0xda91c8(0x104)][_0xda91c8(0xf5)][_0xda91c8(0xcd)]['SubnetIds']=[_0x5ade34,_0xdde206,_0x3e7d24],_0x43a034['Metadata'][_0x362351[_0xda91c8(0x10b)]][_0xda91c8(0x179)][0x0][_0xda91c8(0x149)][_0xda91c8(0x12e)](_0x362351[_0xda91c8(0x150)],_0x362351[_0xda91c8(0x10f)],_0x362351[_0xda91c8(0x100)]);const _0x2851ae={};_0x2851ae[_0xda91c8(0x153)]=_0x362351[_0xda91c8(0xd6)];const _0x4891ca={};_0x4891ca[_0xda91c8(0x153)]=_0x362351[_0xda91c8(0x159)];const _0x436286={};_0x436286[_0xda91c8(0x153)]=_0x362351[_0xda91c8(0xd4)],_0x43a034[_0xda91c8(0x110)][_0xda91c8(0x134)]['Properties'][_0xda91c8(0x15d)]=[_0x2851ae,_0x4891ca,_0x436286];const _0x400b33={};_0x400b33[_0xda91c8(0x153)]=_0x362351['SaDhL'];const _0x23dfae={};_0x23dfae[_0xda91c8(0x153)]=_0x362351['vPtkz'];const _0x55d2ac={};_0x55d2ac['Ref']=_0x362351[_0xda91c8(0xd4)],_0x43a034[_0xda91c8(0x110)][_0xda91c8(0x125)][_0xda91c8(0xf5)][_0xda91c8(0x15d)]=[_0x400b33,_0x23dfae,_0x55d2ac],_0x43a034[_0xda91c8(0x109)][_0xda91c8(0x177)][_0xda91c8(0x133)][_0x362351['VUOop']][0x1]=[{'Ref':_0x362351[_0xda91c8(0xd6)]},{'Ref':_0x362351[_0xda91c8(0x159)]},{'Ref':_0x362351[_0xda91c8(0xd4)]}];}}},addTags=async(_0xcdbdb9,_0x18f6bf,_0x2bafa9)=>{const _0x486a2b=a27_0x496438,_0x27aa72={'JSUSw':function(_0x3eaa5e,_0x11e1d7,_0x27b37d){return _0x3eaa5e(_0x11e1d7,_0x27b37d);},'BXnjC':_0x486a2b(0x171),'LBucN':function(_0x53fcc4,_0x4102c8){return _0x53fcc4!==_0x4102c8;},'MdtqX':_0x486a2b(0x128),'chest':'tqZMz','MZNaR':function(_0x26927a,_0x39d95d){return _0x26927a===_0x39d95d;},'zvaRj':'VlDsu','FzdYg':_0x486a2b(0x15f),'KagdC':function(_0x2de59b,_0x298f02){return _0x2de59b===_0x298f02;},'TNoHs':_0x486a2b(0xe3),'noalo':_0x486a2b(0x134),'oqpdK':_0x486a2b(0x125)};for(const _0x126048 in _0xcdbdb9[_0x486a2b(0x110)]){if(_0x27aa72[_0x486a2b(0x12f)](_0x27aa72[_0x486a2b(0x170)],_0x27aa72[_0x486a2b(0xce)]))_0x27aa72[_0x486a2b(0x15b)](_0x39e69e,_0x1dfd7e,_0x5508bf);else{if(_0xcdbdb9[_0x486a2b(0x110)][_0x126048][_0x486a2b(0xf5)]&&_0xcdbdb9[_0x486a2b(0x110)][_0x126048][_0x486a2b(0xf5)][_0x486a2b(0x10c)]){if(_0x27aa72[_0x486a2b(0x164)](_0x27aa72['TNoHs'],_0x27aa72[_0x486a2b(0x13f)]))_0xcdbdb9[_0x486a2b(0x110)][_0x126048]['Properties']['Tags'][_0x486a2b(0x12e)](..._0x2bafa9);else{const _0x287de3={};_0x287de3['ParameterKey']=_0x27aa72[_0x486a2b(0x113)],_0x287de3[_0x486a2b(0xf4)]=_0x272004,_0x5f5313[_0x486a2b(0x149)][_0x486a2b(0x12e)](_0x287de3);}}}}const _0x1abb1b={};_0x2bafa9['forEach'](_0x1e9a44=>{const _0x4e5c55=_0x486a2b;if(_0x27aa72[_0x4e5c55(0xe8)](_0x27aa72['MdtqX'],_0x27aa72[_0x4e5c55(0xc7)]))_0x1abb1b[_0x1e9a44[_0x4e5c55(0xea)]]=_0x1e9a44[_0x4e5c55(0x133)];else{var _0x3b3f94=_0x2eac7a[_0x1d2d65];_0x3662b2[_0x4e5c55(0x142)](_0x3b3f94)['forEach'](_0x30a51f=>{_0x1f4b88[_0x1a059c][_0x30a51f]=_0x3b3f94[_0x30a51f];});}}),_0xcdbdb9[_0x486a2b(0x110)][_0x27aa72['noalo']][_0x486a2b(0xf5)][_0x486a2b(0x10c)]=_0x1abb1b,_0xcdbdb9[_0x486a2b(0x110)][_0x27aa72[_0x486a2b(0xe2)]][_0x486a2b(0xf5)][_0x486a2b(0x10c)]=_0x1abb1b;};exports[a27_0x496438(0x111)]=async(_0x280a94,_0x35dbd6,_0x376dc3,_0x2dc111=null,_0x4e2528=null)=>{const _0x19cd74=a27_0x496438,_0x4015a7={'cbUhT':_0x19cd74(0x105),'NpQwB':function(_0x1698ca,_0x28b4ef){return _0x1698ca(_0x28b4ef);},'qTMJS':_0x19cd74(0xd3),'nWWKE':function(_0xb3d14e,_0x257db9){return _0xb3d14e(_0x257db9);},'WdWUf':function(_0x5d2d97,_0x537c46){return _0x5d2d97(_0x537c46);},'THwmK':function(_0x7d593f,_0x653119){return _0x7d593f(_0x653119);},'jjitI':_0x19cd74(0x11e),'vDazL':function(_0x293df2,_0x508b1e){return _0x293df2(_0x508b1e);},'IOHqB':function(_0x1cdf16,_0x3af04c){return _0x1cdf16(_0x3af04c);},'xLjDZ':_0x19cd74(0x118),'ZYhpH':'browserstack:creationDate','xsBQM':_0x19cd74(0xc8),'eOAQt':'CFTemplates','AzBOx':_0x19cd74(0xeb),'STGaO':_0x19cd74(0x121),'bTYFx':function(_0x50488a,_0x1337d4,_0x4071b0){return _0x50488a(_0x1337d4,_0x4071b0);},'uVgxC':function(_0x213599,_0x5388ff,_0x361ec3,_0x2b6214){return _0x213599(_0x5388ff,_0x361ec3,_0x2b6214);},'WewqB':_0x19cd74(0x11f),'naMbF':_0x19cd74(0xe5),'ePGwU':_0x19cd74(0xc5),'nalaq':_0x19cd74(0xe4),'Ibxsg':_0x19cd74(0x124),'rjygH':'NodeAutoScalingGroupDesiredSizeWindows','iTIHo':_0x19cd74(0x122),'NuKIA':_0x19cd74(0x16c),'UToUR':'NodeInstanceType','tbkCD':_0x19cd74(0xcf),'wJAqg':_0x19cd74(0xed),'cxlhU':_0x19cd74(0x17e),'RmJAY':function(_0x3774cb,_0x5bcca5){return _0x3774cb!=_0x5bcca5;},'PTgoV':function(_0x506bb9,_0x589844){return _0x506bb9!==_0x589844;},'FLksc':_0x19cd74(0x143),'OhDQh':_0x19cd74(0x171),'hrJla':_0x19cd74(0x132),'FsJEz':_0x19cd74(0x120)},_0x488380=COMMON_HST_TAGS,_0x3e7d92={};_0x3e7d92['Key']=_0x4015a7['xLjDZ'],_0x3e7d92[_0x19cd74(0x133)]=_0x280a94,_0x488380['push'](_0x3e7d92),_0x488380['push']({'Key':_0x4015a7[_0x19cd74(0xc4)],'Value':new Date()[_0x19cd74(0x165)]()[_0x19cd74(0x107)]()});const _0x548979={};_0x548979[_0x19cd74(0x117)]=_0x4015a7[_0x19cd74(0x160)];const _0x5b121f=new AWS[(_0x19cd74(0x175))](_0x548979),_0x91156a=await fs[_0x19cd74(0xd2)](path[_0x19cd74(0xfa)](__dirname,'..',_0x4015a7[_0x19cd74(0xec)],_0x4015a7[_0x19cd74(0xf1)]),_0x4015a7[_0x19cd74(0x123)]),_0x5221cc={};_0x5221cc[_0x19cd74(0x10d)]=CLOUDFORMATION_SCHEMA;const _0x3363b5=yaml['load'](_0x91156a,_0x5221cc);await _0x4015a7[_0x19cd74(0x151)](addVPCData,_0x3363b5,_0x2dc111),await _0x4015a7[_0x19cd74(0x17a)](addS3Data,_0x3363b5),await _0x4015a7[_0x19cd74(0x151)](addSubnetData,_0x3363b5,_0x4e2528),await _0x4015a7[_0x19cd74(0x12d)](addTags,_0x3363b5,_0x280a94,_0x488380);const _0x442054=JSON[_0x19cd74(0x14d)](_0x3363b5),_0x10e4ac={};_0x10e4ac[_0x19cd74(0x17b)]=CLUSTER_DEP_STACK_NAME+'-'+_0x280a94,_0x10e4ac[_0x19cd74(0x162)]=_0x4015a7[_0x19cd74(0x139)],_0x10e4ac['TemplateBody']=_0x442054,_0x10e4ac[_0x19cd74(0x149)]=[{'ParameterKey':_0x4015a7[_0x19cd74(0x16d)],'ParameterValue':_0x280a94},{'ParameterKey':_0x4015a7[_0x19cd74(0x167)],'ParameterValue':_0x280a94+_0x19cd74(0x155)},{'ParameterKey':_0x4015a7['nalaq'],'ParameterValue':''+_0x35dbd6},{'ParameterKey':_0x4015a7['Ibxsg'],'ParameterValue':'0'},{'ParameterKey':_0x4015a7[_0x19cd74(0x15c)],'ParameterValue':'1'},{'ParameterKey':_0x4015a7['iTIHo'],'ParameterValue':''+_0x376dc3},{'ParameterKey':_0x4015a7[_0x19cd74(0x16a)],'ParameterValue':global_registry[_0x19cd74(0x17c)]},{'ParameterKey':_0x4015a7[_0x19cd74(0x103)],'ParameterValue':global_registry[_0x19cd74(0x102)]},{'ParameterKey':_0x4015a7[_0x19cd74(0xd7)],'ParameterValue':global_registry[_0x19cd74(0x168)]},{'ParameterKey':_0x4015a7[_0x19cd74(0x172)],'ParameterValue':_0x280a94+_0x19cd74(0x166)}],_0x10e4ac['Capabilities']=[_0x4015a7[_0x19cd74(0xe6)]],_0x10e4ac[_0x19cd74(0x10c)]=_0x488380;const _0x483d1f=_0x10e4ac;if(_0x4015a7['RmJAY'](_0x2dc111,null)&&_0x4015a7['PTgoV'](_0x2dc111,undefined)){if(_0x4015a7[_0x19cd74(0x157)](_0x4015a7[_0x19cd74(0x115)],_0x4015a7['FLksc'])){const _0x2aa416=_0x4015a7[_0x19cd74(0x138)]['split']('|');let _0x427584=0x0;while(!![]){switch(_0x2aa416[_0x427584++]){case'0':_0xabf13e['Resources']['NodeGroupWindows'][_0x19cd74(0xf5)][_0x19cd74(0x15d)][_0x19cd74(0x12e)]({'Ref':_0x19cd74(0xc6)+_0x4015a7[_0x19cd74(0x126)](_0x4a3e4a,_0x10b5c0)[_0x19cd74(0x130)](0x2,'0')});continue;case'1':_0x4e394e+=0x1;continue;case'2':_0x405f72[_0x19cd74(0x109)][_0x19cd74(0x177)][_0x19cd74(0x133)][_0x4015a7[_0x19cd74(0x163)]][0x1][_0x19cd74(0x12e)]({'Ref':_0x19cd74(0xc6)+_0x4015a7[_0x19cd74(0xdc)](_0x331511,_0x299d66)[_0x19cd74(0x130)](0x2,'0')});continue;case'3':_0x14d663[_0x19cd74(0x110)][_0x19cd74(0x134)][_0x19cd74(0xf5)][_0x19cd74(0x15d)][_0x19cd74(0x12e)]({'Ref':_0x19cd74(0xc6)+_0x4015a7[_0x19cd74(0x11b)](_0x5ab7ac,_0x327532)[_0x19cd74(0x130)](0x2,'0')});continue;case'4':_0x33f1a5[_0x19cd74(0x110)][_0x19cd74(0x104)][_0x19cd74(0xf5)][_0x19cd74(0xcd)][_0x19cd74(0x177)][_0x19cd74(0x12e)]({'Ref':_0x19cd74(0xc6)+_0x4015a7[_0x19cd74(0x17a)](_0x58f632,_0x49a9bb)[_0x19cd74(0x130)](0x2,'0')});continue;case'5':_0x29692d[_0x19cd74(0x156)][_0x4015a7['jjitI']]['ParameterGroups'][0x0]['Parameters'][_0x19cd74(0x12e)](_0x19cd74(0xc6)+_0x4015a7['vDazL'](_0x1a8cbe,_0x5cbbc1)[_0x19cd74(0x130)](0x2,'0'));continue;}break;}}else{const _0x524696={};_0x524696[_0x19cd74(0xfb)]=_0x4015a7[_0x19cd74(0xcb)],_0x524696[_0x19cd74(0xf4)]=_0x2dc111,_0x483d1f['Parameters'][_0x19cd74(0x12e)](_0x524696);}}if(_0x4015a7[_0x19cd74(0x13a)](_0x4e2528,null)&&_0x4015a7[_0x19cd74(0x157)](_0x4e2528,undefined)){let _0x329bd5=0x1;_0x4e2528['forEach'](_0x4a528d=>{const _0x1082c4=_0x19cd74;_0x483d1f[_0x1082c4(0x149)][_0x1082c4(0x12e)]({'ParameterKey':_0x1082c4(0xc6)+_0x4015a7[_0x1082c4(0x13c)](String,_0x329bd5)[_0x1082c4(0x130)](0x2,'0'),'ParameterValue':_0x4a528d[_0x1082c4(0x10a)]}),_0x329bd5+=0x1;});}const _0x35be0f=await _0x5b121f[_0x19cd74(0x11d)](_0x483d1f)[_0x19cd74(0x152)]();logger[_0x19cd74(0x127)](_0x4015a7[_0x19cd74(0xf7)]);const _0x450942={};return _0x450942[_0x19cd74(0x17b)]=_0x35be0f[_0x19cd74(0x135)],_0x5b121f[_0x19cd74(0xde)](_0x4015a7[_0x19cd74(0x154)],_0x450942)[_0x19cd74(0x152)]();};function a27_0x58e0(_0x1127e0,_0x1c1004){const _0x9ee7d8=a27_0x9ee7();return a27_0x58e0=function(_0x58e08d,_0x59044a){_0x58e08d=_0x58e08d-0xc3;let _0x14c7d2=_0x9ee7d8[_0x58e08d];return _0x14c7d2;},a27_0x58e0(_0x1127e0,_0x1c1004);}function a27_0x9ee7(){const _0x5dc95e=['Ref','FsJEz','-NodeGroup','Metadata','PTgoV','XFwgY','vPtkz','cVMiV','JSUSw','rjygH','Subnets','PKxgX','JrHlN','xsBQM','KKKCq','OnFailure','qTMJS','KagdC','valueOf','-Windows-NodeGroup','ePGwU','s3Bucket','KMnwy','NuKIA','vTSQl','NodeImageId','naMbF','6LqIjEC','subnet-import.yaml','zvaRj','VPC','wJAqg','Subnet03Block','VpcBlock','CloudFormation','Tlpkl','SubnetIds','YpuSl','ParameterGroups','THwmK','StackName','ami','Subnet01Block','CAPABILITY_NAMED_IAM','WsXUd','ZYhpH','NodeGroupName','Subnet','chest','2010-05-15','GYkGY','bluebird','OhDQh','split','ResourcesVpcConfig','FzdYg','S3BucketName','dMwAZ','216350tbQRTS','readFileAsync','Fn::Join','sAMbQ','Xwuyg','SaDhL','tbkCD','rROzN','Subnet03','2007159FfBIix','subnet-create.yaml','nWWKE','LJJlH','waitFor','XKljC','vpc-create.yaml','391092NMdXFm','oqpdK','IIIZl','NodeAutoScalingGroupMinSize','ClusterName','cxlhU','967120EZHIwm','LBucN','YvdGq','Key','aws-eks-cluster-dep.yaml','eOAQt','NodeGroupNameWindows','UmjjX','wKrZC','VRKzt','AzBOx','Subnet02Block','js-yaml','ParameterValue','Properties','wGaMo','hrJla','ndsqT','IbVqz','join','ParameterKey','NSOIh','VmZKV','exatt','fkdDJ','nZZFR','6314274NWRsxA','instanceType','UToUR','EKSCluster','4|5|3|0|2|1','CFTemplates','toString','forEach','Outputs','value','tlgyD','Tags','schema','1336TByTrD','MFMVl','Resources','createClusterStack','awsObj','BXnjC','WWXwY','FLksc','0|5|4|1|3|2','apiVersion','browserstack:cluster','DependsOn','phZss','WdWUf','BSsxO','createStack','AWS::CloudFormation::Interface','DELETE','stackCreateComplete','utf-8','NodeAutoScalingGroupMaxSize','STGaO','NodeAutoScalingGroupMinSizeWindows','NodeGroupWindows','NpQwB','debug','fAaZz','nPLxJ','load','./AWSUtils','PDSLw','uVgxC','push','MZNaR','padStart','1828330oszqsS','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Value','NodeGroup','StackId','DkKLn','Subnet02','cbUhT','WewqB','RmJAY','syFKQ','IOHqB','MlqgT','pcpDY','TNoHs','BclEm','CkyWr','keys','YfOZA','jXFFN','aFrmF','UovBp','js-yaml-cloudformation-schema','HZwXu','Parameters','s3-create.yaml','kZPko','453hZfjmB','stringify','GGnNj','YnLpA','GMaTv','bTYFx','promise'];a27_0x9ee7=function(){return _0x5dc95e;};return a27_0x9ee7();}