const a27_0x42575a=a27_0x154f;(function(_0x27d382,_0x1cf40b){const _0x3803c0=a27_0x154f,_0x3ba676=_0x27d382();while(!![]){try{const _0x46b798=-parseInt(_0x3803c0(0x1b3))/0x1*(-parseInt(_0x3803c0(0x19b))/0x2)+parseInt(_0x3803c0(0x207))/0x3+-parseInt(_0x3803c0(0x1b8))/0x4*(-parseInt(_0x3803c0(0x178))/0x5)+parseInt(_0x3803c0(0x1b2))/0x6+-parseInt(_0x3803c0(0x204))/0x7+parseInt(_0x3803c0(0x1f2))/0x8*(parseInt(_0x3803c0(0x1fa))/0x9)+-parseInt(_0x3803c0(0x179))/0xa*(parseInt(_0x3803c0(0x198))/0xb);if(_0x46b798===_0x1cf40b)break;else _0x3ba676['push'](_0x3ba676['shift']());}catch(_0x48d56a){_0x3ba676['push'](_0x3ba676['shift']());}}}(a27_0x45cc,0xf1236));const fs=require('fs'),path=require(a27_0x42575a(0x169)),Promise=require('bluebird'),yaml=require(a27_0x42575a(0x17c)),{CLOUDFORMATION_SCHEMA}=require(a27_0x42575a(0x153)),AWS=require('./AWSUtils')[a27_0x42575a(0x1b6)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x42575a(0x1d1)),{isBucketPresent}=require('./AWSUtils');function a27_0x154f(_0x3405fd,_0x4a1b10){const _0x45cca0=a27_0x45cc();return a27_0x154f=function(_0x154f72,_0x382150){_0x154f72=_0x154f72-0x14b;let _0x5eb3d2=_0x45cca0[_0x154f72];return _0x5eb3d2;},a27_0x154f(_0x3405fd,_0x4a1b10);}Promise[a27_0x42575a(0x201)](fs);function a27_0x45cc(){const _0x3d59ab=['wLLnF','40xdXsfO','Outputs','Capabilities','Metadata','MKdPU','OPKDn','xEvQv','MUSXm','364302DVoOap','oaUIG','vXdfN','DependsOn','SRSmf','Resources','EKSCluster','promisifyAll','Parameters','nBMGW','9767296dUNmWf','PuKTd','sVGLK','536532EAAIqa','HtDdR','FyJou','ParameterGroups','AOslC','kHeGd','join','TikyC','schema','HcxBb','lPKDF','js-yaml-cloudformation-schema','ParameterValue','Value','keys','GWLNi','Ref','rNJyN','subnet-create.yaml','Tags','ClusterName','toString','CAPABILITY_NAMED_IAM','jukJH','Yelwn','stackCreateComplete','mFVak','CloudFormation','UAUIl','dvVIc','browserstack:creationDate','NnEvo','RAPIo','path','OHjgQ','ResourcesVpcConfig','hAlkv','kaKvS','GkrWz','TQfcp','SNjDX','piZME','Subnet01','Subnets','2010-05-15','IgMXG','TemplateBody','SubnetIds','5poLOeT','37060YdWNYu','ghnXi','aws-eks-cluster-dep.yaml','js-yaml','NodeAutoScalingGroupMinSizeWindows','CFTemplates','s3Bucket','createStack','hcScJ','LBMbR','LQHdU','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','browserstack:cluster','SMKae','split','axXwe','QlFZZ','LPGeZ','ulgeA','NodeInstanceType','ywPgk','aMhpN','BwMGx','true','forEach','biBND','StackName','dYGnx','qYDUH','ParameterKey','AcmYB','616nkFKKn','s3-create.yaml','OGzPo','6710btUskU','-Windows-NodeGroup','ddEHM','YuSev','LlCYw','readFileAsync','cYFKT','Fn::Join','euRSg','value','VPC','VpcBlock','MDjCQ','iCwPt','instanceType','BijIz','yspCV','NodeGroupName','waitFor','vpc-create.yaml','eYiww','Key','false','3906084QIckTB','219nDrLZD','JwoZN','StackId','awsObj','AWS::CloudFormation::Interface','3294292lrwUGq','fMBaU','mTGIL','valueOf','stringify','sOJCd','NodeGroup','vGrTO','MUGFk','NodeImageId','CvoTl','2|3|0|1|4|5','NodeGroupNameWindows','gsbsU','PmPCN','-NodeGroup','vpc-import.yaml','VtkFx','VNPkW','GUVgG','OnFailure','load','QvbHq','promise','kpnRA','../config/logger','bdRbV','ipvGr','AbBes','lzqxq','fyxtR','qMznp','Properties','padStart','fnXeG','push','vjvPC','fWSpy','TbyVT','utf-8','esLMV','gHxXM','oVHZh','GzMAQ','xoOuT','TTyED','fdoJC','oDupZ','Decad','NodeAutoScalingGroupMaxSize','NodeAutoScalingGroupMinSize','OqYQk','Subnet','DGVth','mwUPc','NodeGroupWindows','XwkTf'];a27_0x45cc=function(){return _0x3d59ab;};return a27_0x45cc();}const mergeTemplates=(_0x2996ce,_0x1d02bf)=>{const _0x354c2d=a27_0x42575a,_0x5328cc={'SKNJI':function(_0x3f4eae,_0x56e6a6){return _0x3f4eae!==_0x56e6a6;},'OPKDn':_0x354c2d(0x14c),'ghnXi':function(_0x32a608,_0x4b9955){return _0x32a608(_0x4b9955);},'LBMbR':function(_0x565e3b,_0x3fe730){return _0x565e3b===_0x3fe730;},'MDjCQ':'ejPaD','vjvPC':_0x354c2d(0x181)};Object[_0x354c2d(0x156)](_0x1d02bf)[_0x354c2d(0x191)](_0x4359b0=>{const _0x7038d9=_0x354c2d,_0x2b48c9={'ZrziI':function(_0x1e148c,_0x557924){const _0x293776=a27_0x154f;return _0x5328cc[_0x293776(0x17a)](_0x1e148c,_0x557924);}};if(_0x5328cc[_0x7038d9(0x182)](_0x5328cc[_0x7038d9(0x1a7)],_0x5328cc[_0x7038d9(0x1dc)]))_0x316e41[_0x7038d9(0x202)]['push']({'ParameterKey':_0x7038d9(0x1ec)+_0x2b48c9['ZrziI'](_0x61de70,_0x10dbbb)[_0x7038d9(0x1d9)](0x2,'0'),'ParameterValue':_0x371e7a[_0x7038d9(0x1a4)]}),_0x3fc331+=0x1;else{var _0x3f6d24=_0x1d02bf[_0x4359b0];Object[_0x7038d9(0x156)](_0x3f6d24)[_0x7038d9(0x191)](_0x24789f=>{const _0x2fb07f=_0x7038d9;_0x5328cc['SKNJI'](_0x5328cc[_0x2fb07f(0x1f7)],_0x5328cc[_0x2fb07f(0x1f7)])?_0xe6c666[_0xe8b0d2[_0x2fb07f(0x1b0)]]=_0x30af26['Value']:_0x2996ce[_0x4359b0][_0x24789f]=_0x3f6d24[_0x24789f];});}});},addVPCData=async(_0x42f205,_0x1c2e8d)=>{const _0x1f1a55=a27_0x42575a,_0x1db7fd={'esLMV':'NodeGroup','xoOuT':_0x1f1a55(0x1ef),'euRSg':function(_0x25e4aa,_0x3da979){return _0x25e4aa!==_0x3da979;},'vXdfN':_0x1f1a55(0x1d7),'jukJH':'CFTemplates','biBND':_0x1f1a55(0x1c8),'BwMGx':_0x1f1a55(0x1df),'DGVth':function(_0x4237f5,_0x34eac9,_0x1cc89b){return _0x4237f5(_0x34eac9,_0x1cc89b);},'gsbsU':_0x1f1a55(0x1b7),'LlCYw':'VPC','bdRbV':function(_0x1596a8,_0x1ee7c6){return _0x1596a8===_0x1ee7c6;},'GUVgG':'kMbse','OHjgQ':_0x1f1a55(0x1ae),'nlCaC':function(_0x33d6a2,_0x3e663c,_0x11b791){return _0x33d6a2(_0x3e663c,_0x11b791);},'qYDUH':_0x1f1a55(0x1a6)};if(_0x1c2e8d){if(_0x1db7fd[_0x1f1a55(0x1a3)](_0x1db7fd['vXdfN'],_0x1db7fd[_0x1f1a55(0x1fc)])){for(const _0x33c11b in _0x250e47[_0x1f1a55(0x1ff)]){_0x43e9d8[_0x1f1a55(0x1ff)][_0x33c11b][_0x1f1a55(0x1d8)]&&_0x27680c[_0x1f1a55(0x1ff)][_0x33c11b]['Properties'][_0x1f1a55(0x15b)]&&_0x2f4079[_0x1f1a55(0x1ff)][_0x33c11b]['Properties']['Tags'][_0x1f1a55(0x1db)](..._0x1d3fe5);}const _0x3f91cc={};_0x4707ae[_0x1f1a55(0x191)](_0x26d05a=>{const _0x42fed8=_0x1f1a55;_0x3f91cc[_0x26d05a['Key']]=_0x26d05a[_0x42fed8(0x155)];}),_0x426c8a[_0x1f1a55(0x1ff)][_0x1db7fd[_0x1f1a55(0x1e0)]][_0x1f1a55(0x1d8)][_0x1f1a55(0x15b)]=_0x3f91cc,_0x48d364[_0x1f1a55(0x1ff)][_0x1db7fd[_0x1f1a55(0x1e4)]][_0x1f1a55(0x1d8)]['Tags']=_0x3f91cc;}else{const _0x245911=await fs[_0x1f1a55(0x1a0)](path[_0x1f1a55(0x14e)](__dirname,'..',_0x1db7fd[_0x1f1a55(0x15f)],_0x1db7fd[_0x1f1a55(0x192)]),_0x1db7fd[_0x1f1a55(0x18f)]),_0x586b95={};_0x586b95[_0x1f1a55(0x150)]=CLOUDFORMATION_SCHEMA;const _0x303ceb=yaml[_0x1f1a55(0x1cd)](_0x245911,_0x586b95);_0x1db7fd[_0x1f1a55(0x1ed)](mergeTemplates,_0x42f205,_0x303ceb),_0x42f205[_0x1f1a55(0x1f5)][_0x1db7fd[_0x1f1a55(0x1c5)]][_0x1f1a55(0x14b)][0x0][_0x1f1a55(0x202)][_0x1f1a55(0x1db)](_0x1db7fd[_0x1f1a55(0x19f)]);}}else{if(_0x1db7fd[_0x1f1a55(0x1d2)](_0x1db7fd[_0x1f1a55(0x1cb)],_0x1db7fd[_0x1f1a55(0x1cb)])){const _0xc8a751=await fs['readFileAsync'](path[_0x1f1a55(0x14e)](__dirname,'..',_0x1db7fd[_0x1f1a55(0x15f)],_0x1db7fd[_0x1f1a55(0x16a)]),_0x1db7fd[_0x1f1a55(0x18f)]),_0x4b3c74={};_0x4b3c74[_0x1f1a55(0x150)]=CLOUDFORMATION_SCHEMA;const _0x49a448=yaml[_0x1f1a55(0x1cd)](_0xc8a751,_0x4b3c74);_0x1db7fd['nlCaC'](mergeTemplates,_0x42f205,_0x49a448),_0x42f205[_0x1f1a55(0x1f5)][_0x1db7fd[_0x1f1a55(0x1c5)]]['ParameterGroups'][0x0][_0x1f1a55(0x202)][_0x1f1a55(0x1db)](_0x1db7fd[_0x1f1a55(0x195)]);}else{var _0x349cde=_0x395f30[_0x411bcd];_0x191f52[_0x1f1a55(0x156)](_0x349cde)['forEach'](_0x38719f=>{_0x4340b5[_0x12df41][_0x38719f]=_0x349cde[_0x38719f];});}}},addS3Data=async _0x45fe30=>{const _0x1826dd=a27_0x42575a,_0x2ad54e={'pcTuo':_0x1826dd(0x17e),'LXXQS':_0x1826dd(0x199),'LqLpp':_0x1826dd(0x1df),'mFVak':function(_0x55aa84,_0x30b0c1){return _0x55aa84(_0x30b0c1);},'CvoTl':function(_0x3286ee,_0x35d9b2){return _0x3286ee===_0x35d9b2;},'RAPIo':function(_0x3dfbf6,_0x24334c){return _0x3dfbf6===_0x24334c;},'QvbHq':_0x1826dd(0x1d3),'dYGnx':function(_0x2cc22b,_0x15921b,_0x4ed445){return _0x2cc22b(_0x15921b,_0x4ed445);}},_0x593304=await fs[_0x1826dd(0x1a0)](path[_0x1826dd(0x14e)](__dirname,'..',_0x2ad54e['pcTuo'],_0x2ad54e['LXXQS']),_0x2ad54e['LqLpp']),_0x3084d0={};_0x3084d0[_0x1826dd(0x150)]=CLOUDFORMATION_SCHEMA;const _0x1ef676=yaml[_0x1826dd(0x1cd)](_0x593304,_0x3084d0),_0x43e614=await _0x2ad54e[_0x1826dd(0x162)](isBucketPresent,global_registry[_0x1826dd(0x17f)]);_0x2ad54e[_0x1826dd(0x1c2)](_0x43e614,![])&&(_0x2ad54e[_0x1826dd(0x168)](_0x2ad54e[_0x1826dd(0x1ce)],_0x2ad54e[_0x1826dd(0x1ce)])?_0x2ad54e[_0x1826dd(0x194)](mergeTemplates,_0x45fe30,_0x1ef676):_0x42d0b1[_0x1826dd(0x1ff)][_0x3ca69b]['Properties']&&_0x537294['Resources'][_0x4ff413][_0x1826dd(0x1d8)][_0x1826dd(0x15b)]&&_0xb5f4eb[_0x1826dd(0x1ff)][_0x5cbb51]['Properties'][_0x1826dd(0x15b)][_0x1826dd(0x1db)](..._0x76fda2));},addSubnetData=async(_0xc3fa29,_0x213d1a)=>{const _0x1aaa64=a27_0x42575a,_0x35765e={'PmPCN':function(_0x1894f2,_0x342c94){return _0x1894f2===_0x342c94;},'aMhpN':_0x1aaa64(0x170),'CBBzv':'3|2|5|1|0|4','PuKTd':_0x1aaa64(0x1a2),'axXwe':function(_0x1af088,_0x1f858e){return _0x1af088(_0x1f858e);},'Decad':_0x1aaa64(0x1b7),'wLLnF':function(_0x281e37,_0x5d95ac){return _0x281e37(_0x5d95ac);},'SLrAF':function(_0x43d9df,_0x57ecd0){return _0x43d9df!==_0x57ecd0;},'VNPkW':_0x1aaa64(0x1e3),'CdlZs':_0x1aaa64(0x186),'fWSpy':_0x1aaa64(0x17e),'lPKDF':'subnet-import.yaml','sVGLK':_0x1aaa64(0x1df),'giUAx':function(_0x7f0d38,_0x9ce11c,_0x4e405b){return _0x7f0d38(_0x9ce11c,_0x4e405b);},'TbyVT':_0x1aaa64(0x1bf),'hAlkv':_0x1aaa64(0x16f),'tMZdF':_0x1aaa64(0x15a),'MKdPU':function(_0x4ab0c6,_0x19c7cd,_0x538270){return _0x4ab0c6(_0x19c7cd,_0x538270);},'IgMXG':_0x1aaa64(0x172),'HcxBb':'Subnet02','mwUPc':'Subnet03','ywPgk':'Subnet01Block','QlFZZ':'Subnet02Block','sOJCd':'Subnet03Block'};if(_0x213d1a){if(_0x35765e['SLrAF'](_0x35765e[_0x1aaa64(0x1ca)],_0x35765e['CdlZs'])){const _0x5e96e8=await fs[_0x1aaa64(0x1a0)](path[_0x1aaa64(0x14e)](__dirname,'..',_0x35765e[_0x1aaa64(0x1dd)],_0x35765e[_0x1aaa64(0x152)]),_0x35765e['sVGLK']),_0x49684a={};_0x49684a[_0x1aaa64(0x150)]=CLOUDFORMATION_SCHEMA;const _0x50ccd5=yaml[_0x1aaa64(0x1cd)](_0x5e96e8,_0x49684a);_0x35765e['giUAx'](mergeTemplates,_0xc3fa29,_0x50ccd5);let _0x551374=0x1;_0x213d1a[_0x1aaa64(0x191)](_0x1f59b4=>{const _0x49343b=_0x1aaa64;if(_0x35765e[_0x49343b(0x1c6)](_0x35765e[_0x49343b(0x18e)],_0x35765e['aMhpN'])){const _0x47a455=_0x35765e['CBBzv'][_0x49343b(0x187)]('|');let _0x7bc3d2=0x0;while(!![]){switch(_0x47a455[_0x7bc3d2++]){case'0':_0xc3fa29['Outputs'][_0x49343b(0x177)][_0x49343b(0x155)][_0x35765e[_0x49343b(0x205)]][0x1]['push']({'Ref':_0x49343b(0x1ec)+_0x35765e[_0x49343b(0x188)](String,_0x551374)[_0x49343b(0x1d9)](0x2,'0')});continue;case'1':_0xc3fa29[_0x49343b(0x1ff)][_0x49343b(0x1ef)][_0x49343b(0x1d8)][_0x49343b(0x173)]['push']({'Ref':_0x49343b(0x1ec)+_0x35765e[_0x49343b(0x188)](String,_0x551374)['padStart'](0x2,'0')});continue;case'2':_0xc3fa29[_0x49343b(0x1f5)][_0x35765e[_0x49343b(0x1e8)]][_0x49343b(0x14b)][0x0]['Parameters'][_0x49343b(0x1db)](_0x49343b(0x1ec)+_0x35765e[_0x49343b(0x188)](String,_0x551374)[_0x49343b(0x1d9)](0x2,'0'));continue;case'3':_0xc3fa29[_0x49343b(0x1ff)][_0x49343b(0x200)][_0x49343b(0x1d8)][_0x49343b(0x16b)][_0x49343b(0x177)][_0x49343b(0x1db)]({'Ref':_0x49343b(0x1ec)+_0x35765e['axXwe'](String,_0x551374)['padStart'](0x2,'0')});continue;case'4':_0x551374+=0x1;continue;case'5':_0xc3fa29[_0x49343b(0x1ff)][_0x49343b(0x1be)][_0x49343b(0x1d8)][_0x49343b(0x173)][_0x49343b(0x1db)]({'Ref':_0x49343b(0x1ec)+_0x35765e[_0x49343b(0x1f1)](String,_0x551374)['padStart'](0x2,'0')});continue;}break;}}else _0x2ddca9[_0x49343b(0x156)](_0x236971)['forEach'](_0x3884ce=>{const _0x4ee6a4=_0x49343b;var _0x4ad3f3=_0x370e79[_0x3884ce];_0x56b621[_0x4ee6a4(0x156)](_0x4ad3f3)[_0x4ee6a4(0x191)](_0x58c268=>{_0x260912[_0x3884ce][_0x58c268]=_0x4ad3f3[_0x58c268];});});});}else _0x5e2ba4[_0x26e6f4][_0x24a3bf]=_0x1a7162[_0x41d2c1];}else{if(_0x35765e[_0x1aaa64(0x1c6)](_0x35765e[_0x1aaa64(0x1de)],_0x35765e[_0x1aaa64(0x16c)]))_0x416f59[_0x1aaa64(0x1ff)][_0x3500e1][_0x1aaa64(0x1d8)][_0x1aaa64(0x15b)][_0x1aaa64(0x1db)](..._0x11650f);else{const _0x3a6ade=await fs[_0x1aaa64(0x1a0)](path[_0x1aaa64(0x14e)](__dirname,'..',_0x35765e['fWSpy'],_0x35765e['tMZdF']),_0x35765e[_0x1aaa64(0x206)]),_0x3435cd={};_0x3435cd[_0x1aaa64(0x150)]=CLOUDFORMATION_SCHEMA;const _0x25e212=yaml[_0x1aaa64(0x1cd)](_0x3a6ade,_0x3435cd);_0x35765e[_0x1aaa64(0x1f6)](mergeTemplates,_0xc3fa29,_0x25e212),_0xc3fa29[_0x1aaa64(0x1ff)][_0x1aaa64(0x200)][_0x1aaa64(0x1fd)]['push'](_0x35765e['IgMXG'],_0x35765e[_0x1aaa64(0x151)],_0x35765e[_0x1aaa64(0x1ee)]);const _0x3c13c5={};_0x3c13c5[_0x1aaa64(0x158)]=_0x35765e[_0x1aaa64(0x175)];const _0x17273b={};_0x17273b[_0x1aaa64(0x158)]=_0x35765e[_0x1aaa64(0x151)];const _0x1c82c8={};_0x1c82c8[_0x1aaa64(0x158)]=_0x35765e[_0x1aaa64(0x1ee)],_0xc3fa29[_0x1aaa64(0x1ff)][_0x1aaa64(0x200)][_0x1aaa64(0x1d8)][_0x1aaa64(0x16b)][_0x1aaa64(0x177)]=[_0x3c13c5,_0x17273b,_0x1c82c8],_0xc3fa29[_0x1aaa64(0x1f5)][_0x35765e[_0x1aaa64(0x1e8)]][_0x1aaa64(0x14b)][0x0][_0x1aaa64(0x202)]['push'](_0x35765e[_0x1aaa64(0x18d)],_0x35765e[_0x1aaa64(0x189)],_0x35765e[_0x1aaa64(0x1bd)]);const _0x3b2c4b={};_0x3b2c4b['Ref']=_0x35765e[_0x1aaa64(0x175)];const _0xf508b0={};_0xf508b0[_0x1aaa64(0x158)]=_0x35765e['HcxBb'];const _0x5b1106={};_0x5b1106[_0x1aaa64(0x158)]=_0x35765e[_0x1aaa64(0x1ee)],_0xc3fa29[_0x1aaa64(0x1ff)][_0x1aaa64(0x1be)]['Properties'][_0x1aaa64(0x173)]=[_0x3b2c4b,_0xf508b0,_0x5b1106];const _0x5cb5c6={};_0x5cb5c6[_0x1aaa64(0x158)]=_0x35765e[_0x1aaa64(0x175)];const _0x3ffd53={};_0x3ffd53[_0x1aaa64(0x158)]=_0x35765e['HcxBb'];const _0x2f5aa3={};_0x2f5aa3[_0x1aaa64(0x158)]=_0x35765e[_0x1aaa64(0x1ee)],_0xc3fa29[_0x1aaa64(0x1ff)]['NodeGroupWindows']['Properties'][_0x1aaa64(0x173)]=[_0x5cb5c6,_0x3ffd53,_0x2f5aa3],_0xc3fa29[_0x1aaa64(0x1f3)][_0x1aaa64(0x177)][_0x1aaa64(0x155)][_0x35765e[_0x1aaa64(0x205)]][0x1]=[{'Ref':_0x35765e[_0x1aaa64(0x175)]},{'Ref':_0x35765e[_0x1aaa64(0x151)]},{'Ref':_0x35765e['mwUPc']}];}}},addTags=async(_0x5dc66f,_0x3c9f79,_0x289ba9)=>{const _0x214b48=a27_0x42575a,_0x3c2173={'piZME':_0x214b48(0x1c3),'xcbDB':function(_0x40ccc6,_0x21bfec){return _0x40ccc6(_0x21bfec);},'XwkTf':function(_0x436c91,_0x3a37bc){return _0x436c91(_0x3a37bc);},'oDupZ':_0x214b48(0x1b7),'LQHdU':_0x214b48(0x1a2),'iCwPt':function(_0x3384da,_0x37dd75){return _0x3384da(_0x37dd75);},'fdoJC':function(_0xdcec4e,_0x55284a,_0x5ddb14){return _0xdcec4e(_0x55284a,_0x5ddb14);},'AbBes':_0x214b48(0x1a5),'HtDdR':function(_0x4d7a8b,_0xefc01b){return _0x4d7a8b!==_0xefc01b;},'OOMcF':_0x214b48(0x1aa),'TTyED':_0x214b48(0x18a),'SRSmf':function(_0xb942dc,_0x2f23a8){return _0xb942dc!==_0x2f23a8;},'JwoZN':_0x214b48(0x1d5),'Jgllp':_0x214b48(0x1be),'VtkFx':_0x214b48(0x1ef)};for(const _0x2e4637 in _0x5dc66f[_0x214b48(0x1ff)]){if(_0x3c2173[_0x214b48(0x208)](_0x3c2173[_0x214b48(0x1e5)],_0x3c2173[_0x214b48(0x1e5)])){const _0x4dbfc7=_0x3c2173[_0x214b48(0x171)]['split']('|');let _0x3d666c=0x0;while(!![]){switch(_0x4dbfc7[_0x3d666c++]){case'0':_0x14bc04[_0x214b48(0x1ff)]['NodeGroup'][_0x214b48(0x1d8)][_0x214b48(0x173)][_0x214b48(0x1db)]({'Ref':_0x214b48(0x1ec)+_0x3c2173['xcbDB'](_0x1c5f9f,_0x229733)[_0x214b48(0x1d9)](0x2,'0')});continue;case'1':_0x1eb485['Resources'][_0x214b48(0x1ef)]['Properties'][_0x214b48(0x173)][_0x214b48(0x1db)]({'Ref':_0x214b48(0x1ec)+_0x3c2173['xcbDB'](_0x1a3c5c,_0x3785ab)[_0x214b48(0x1d9)](0x2,'0')});continue;case'2':_0x4eda6f['Resources']['EKSCluster'][_0x214b48(0x1d8)][_0x214b48(0x16b)][_0x214b48(0x177)]['push']({'Ref':'Subnet'+_0x3c2173[_0x214b48(0x1f0)](_0x3d4480,_0x4eff3d)[_0x214b48(0x1d9)](0x2,'0')});continue;case'3':_0x3568dd['Metadata'][_0x3c2173[_0x214b48(0x1e7)]][_0x214b48(0x14b)][0x0]['Parameters'][_0x214b48(0x1db)](_0x214b48(0x1ec)+_0x3c2173['XwkTf'](_0xffd48b,_0x22ce49)['padStart'](0x2,'0'));continue;case'4':_0x2e9d4a['Outputs'][_0x214b48(0x177)][_0x214b48(0x155)][_0x3c2173[_0x214b48(0x183)]][0x1][_0x214b48(0x1db)]({'Ref':'Subnet'+_0x3c2173[_0x214b48(0x1a8)](_0x2bdc7e,_0x9216cf)['padStart'](0x2,'0')});continue;case'5':_0x10ff4b+=0x1;continue;}break;}}else _0x5dc66f[_0x214b48(0x1ff)][_0x2e4637][_0x214b48(0x1d8)]&&_0x5dc66f[_0x214b48(0x1ff)][_0x2e4637][_0x214b48(0x1d8)][_0x214b48(0x15b)]&&(_0x3c2173[_0x214b48(0x1fe)](_0x3c2173['JwoZN'],_0x3c2173[_0x214b48(0x1b4)])?_0x3c2173[_0x214b48(0x1e6)](_0x29b31f,_0x57ec7d,_0xce692f):_0x5dc66f[_0x214b48(0x1ff)][_0x2e4637][_0x214b48(0x1d8)][_0x214b48(0x15b)]['push'](..._0x289ba9));}const _0x714305={};_0x289ba9[_0x214b48(0x191)](_0x3315d5=>{const _0x44be51=_0x214b48,_0xde4b2c={};_0xde4b2c[_0x44be51(0x19a)]=_0x3c2173[_0x44be51(0x1d4)];const _0x1932ca=_0xde4b2c;if(_0x3c2173[_0x44be51(0x208)](_0x3c2173['OOMcF'],_0x3c2173['OOMcF'])){const _0x3b01cd={};_0x3b01cd[_0x44be51(0x196)]=_0x1932ca['OGzPo'],_0x3b01cd[_0x44be51(0x154)]=_0x2af8d6,_0x4f00e0[_0x44be51(0x202)][_0x44be51(0x1db)](_0x3b01cd);}else _0x714305[_0x3315d5['Key']]=_0x3315d5[_0x44be51(0x155)];}),_0x5dc66f[_0x214b48(0x1ff)][_0x3c2173['Jgllp']][_0x214b48(0x1d8)]['Tags']=_0x714305,_0x5dc66f['Resources'][_0x3c2173[_0x214b48(0x1c9)]][_0x214b48(0x1d8)][_0x214b48(0x15b)]=_0x714305;};exports['createClusterStack']=async(_0x23846f,_0x128c44,_0x393e4a,_0x4844bf=null,_0x54fd11=null,_0x1d6cf4)=>{const _0x2896f3=a27_0x42575a,_0x4b97a7={'Yelwn':function(_0x24efba,_0x3643a6){return _0x24efba(_0x3643a6);},'oaUIG':function(_0x3390e7,_0x346ab1){return _0x3390e7(_0x346ab1);},'kHeGd':_0x2896f3(0x185),'uFWeE':_0x2896f3(0x166),'rNJyN':_0x2896f3(0x174),'gHxXM':_0x2896f3(0x17e),'fnXeG':_0x2896f3(0x17b),'etqEd':_0x2896f3(0x1df),'MUGFk':function(_0x51e51c,_0x4ac297,_0x14adcf){return _0x51e51c(_0x4ac297,_0x14adcf);},'AcmYB':function(_0x45ec62,_0xcf674d){return _0x45ec62(_0xcf674d);},'UAUIl':function(_0x2f7183,_0x3a016e,_0x13051c,_0x4eec56){return _0x2f7183(_0x3a016e,_0x13051c,_0x4eec56);},'kaKvS':'DELETE','cYFKT':_0x2896f3(0x15c),'dvVIc':_0x2896f3(0x1ac),'eYiww':_0x2896f3(0x1ea),'kpnRA':_0x2896f3(0x17d),'OqYQk':'NodeAutoScalingGroupDesiredSizeWindows','GWLNi':_0x2896f3(0x1e9),'ddEHM':_0x2896f3(0x1c1),'oVHZh':_0x2896f3(0x18c),'nBMGW':'S3BucketName','TikyC':_0x2896f3(0x1c4),'fyxtR':'ClusterAutoUpgrade','NnEvo':_0x2896f3(0x190),'xEvQv':_0x2896f3(0x1b1),'YuSev':_0x2896f3(0x15e),'GkrWz':function(_0x50272d,_0x3280f8){return _0x50272d!=_0x3280f8;},'yspCV':function(_0x339375,_0x48d8b6){return _0x339375!==_0x48d8b6;},'ulgeA':function(_0x554de6,_0x103d5e){return _0x554de6===_0x103d5e;},'TMKiL':_0x2896f3(0x1ba),'MUSXm':_0x2896f3(0x1a5),'FyJou':_0x2896f3(0x184),'fMBaU':_0x2896f3(0x161)},_0x1b5402=COMMON_HST_TAGS,_0x557d63={};_0x557d63[_0x2896f3(0x1b0)]=_0x4b97a7[_0x2896f3(0x14d)],_0x557d63[_0x2896f3(0x155)]=_0x23846f,_0x1b5402[_0x2896f3(0x1db)](_0x557d63),_0x1b5402[_0x2896f3(0x1db)]({'Key':_0x4b97a7['uFWeE'],'Value':new Date()[_0x2896f3(0x1bb)]()[_0x2896f3(0x15d)]()});const _0x196dbd={};_0x196dbd['apiVersion']=_0x4b97a7[_0x2896f3(0x159)];const _0x5cbb24=new AWS[(_0x2896f3(0x163))](_0x196dbd),_0x221674=await fs['readFileAsync'](path[_0x2896f3(0x14e)](__dirname,'..',_0x4b97a7[_0x2896f3(0x1e1)],_0x4b97a7[_0x2896f3(0x1da)]),_0x4b97a7['etqEd']),_0x520898={};_0x520898['schema']=CLOUDFORMATION_SCHEMA;const _0x21a72d=yaml[_0x2896f3(0x1cd)](_0x221674,_0x520898);await _0x4b97a7['MUGFk'](addVPCData,_0x21a72d,_0x4844bf),await _0x4b97a7[_0x2896f3(0x197)](addS3Data,_0x21a72d),await _0x4b97a7[_0x2896f3(0x1c0)](addSubnetData,_0x21a72d,_0x54fd11),await _0x4b97a7[_0x2896f3(0x164)](addTags,_0x21a72d,_0x23846f,_0x1b5402);const _0x2c1a39=JSON[_0x2896f3(0x1bc)](_0x21a72d),_0x2fbf93={};_0x2fbf93[_0x2896f3(0x193)]=CLUSTER_DEP_STACK_NAME+'-'+_0x23846f,_0x2fbf93[_0x2896f3(0x1cc)]=_0x4b97a7[_0x2896f3(0x16d)],_0x2fbf93[_0x2896f3(0x176)]=_0x2c1a39,_0x2fbf93['Parameters']=[{'ParameterKey':_0x4b97a7[_0x2896f3(0x1a1)],'ParameterValue':_0x23846f},{'ParameterKey':_0x4b97a7[_0x2896f3(0x165)],'ParameterValue':_0x23846f+_0x2896f3(0x1c7)},{'ParameterKey':_0x4b97a7[_0x2896f3(0x1af)],'ParameterValue':''+_0x128c44},{'ParameterKey':_0x4b97a7[_0x2896f3(0x1d0)],'ParameterValue':'0'},{'ParameterKey':_0x4b97a7[_0x2896f3(0x1eb)],'ParameterValue':'1'},{'ParameterKey':_0x4b97a7[_0x2896f3(0x157)],'ParameterValue':''+_0x393e4a},{'ParameterKey':_0x4b97a7[_0x2896f3(0x19d)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x4b97a7[_0x2896f3(0x1e2)],'ParameterValue':global_registry[_0x2896f3(0x1a9)]},{'ParameterKey':_0x4b97a7[_0x2896f3(0x203)],'ParameterValue':global_registry[_0x2896f3(0x17f)]},{'ParameterKey':_0x4b97a7[_0x2896f3(0x14f)],'ParameterValue':_0x23846f+_0x2896f3(0x19c)},{'ParameterKey':_0x4b97a7[_0x2896f3(0x1d6)],'ParameterValue':_0x1d6cf4?_0x4b97a7[_0x2896f3(0x167)]:_0x4b97a7[_0x2896f3(0x1f8)]}],_0x2fbf93[_0x2896f3(0x1f4)]=[_0x4b97a7[_0x2896f3(0x19e)]],_0x2fbf93[_0x2896f3(0x15b)]=_0x1b5402;const _0x41a19b=_0x2fbf93;if(_0x4b97a7[_0x2896f3(0x16e)](_0x4844bf,null)&&_0x4b97a7['yspCV'](_0x4844bf,undefined)){if(_0x4b97a7[_0x2896f3(0x18b)](_0x4b97a7['TMKiL'],_0x4b97a7['TMKiL'])){const _0x1de4b4={};_0x1de4b4[_0x2896f3(0x196)]=_0x4b97a7[_0x2896f3(0x1f9)],_0x1de4b4[_0x2896f3(0x154)]=_0x4844bf,_0x41a19b[_0x2896f3(0x202)][_0x2896f3(0x1db)](_0x1de4b4);}else{const _0x37c09d={'MyFlT':function(_0x4a4c43,_0x3b533f){const _0x263b6b=_0x2896f3;return _0x4b97a7[_0x263b6b(0x160)](_0x4a4c43,_0x3b533f);}};let _0xa22079=0x1;_0x4b105f[_0x2896f3(0x191)](_0x29bfa1=>{const _0x109b1f=_0x2896f3;_0x33e73f[_0x109b1f(0x202)]['push']({'ParameterKey':_0x109b1f(0x1ec)+_0x37c09d['MyFlT'](_0x417373,_0xa22079)[_0x109b1f(0x1d9)](0x2,'0'),'ParameterValue':_0x29bfa1[_0x109b1f(0x1a4)]}),_0xa22079+=0x1;});}}if(_0x4b97a7[_0x2896f3(0x16e)](_0x54fd11,null)&&_0x4b97a7[_0x2896f3(0x1ab)](_0x54fd11,undefined)){let _0x20e03d=0x1;_0x54fd11['forEach'](_0x45afac=>{const _0x5a7393=_0x2896f3;_0x41a19b['Parameters'][_0x5a7393(0x1db)]({'ParameterKey':_0x5a7393(0x1ec)+_0x4b97a7[_0x5a7393(0x1fb)](String,_0x20e03d)[_0x5a7393(0x1d9)](0x2,'0'),'ParameterValue':_0x45afac[_0x5a7393(0x1a4)]}),_0x20e03d+=0x1;});}const _0x2919c9=await _0x5cbb24[_0x2896f3(0x180)](_0x41a19b)[_0x2896f3(0x1cf)]();logger['debug'](_0x4b97a7[_0x2896f3(0x209)]);const _0x35ef1f={};return _0x35ef1f[_0x2896f3(0x193)]=_0x2919c9[_0x2896f3(0x1b5)],_0x5cbb24[_0x2896f3(0x1ad)](_0x4b97a7[_0x2896f3(0x1b9)],_0x35ef1f)[_0x2896f3(0x1cf)]();};