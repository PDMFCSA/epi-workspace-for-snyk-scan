const a27_0x1a63d8=a27_0x51ec;(function(_0x575227,_0x1fd24a){const _0x1790b6=a27_0x51ec,_0x1f101c=_0x575227();while(!![]){try{const _0x584123=-parseInt(_0x1790b6(0xbb))/0x1*(-parseInt(_0x1790b6(0xcc))/0x2)+parseInt(_0x1790b6(0xc9))/0x3*(parseInt(_0x1790b6(0xd9))/0x4)+parseInt(_0x1790b6(0x13b))/0x5+parseInt(_0x1790b6(0xdb))/0x6+-parseInt(_0x1790b6(0x14c))/0x7+parseInt(_0x1790b6(0x168))/0x8*(parseInt(_0x1790b6(0xf4))/0x9)+-parseInt(_0x1790b6(0xe2))/0xa*(parseInt(_0x1790b6(0x116))/0xb);if(_0x584123===_0x1fd24a)break;else _0x1f101c['push'](_0x1f101c['shift']());}catch(_0x37d2e2){_0x1f101c['push'](_0x1f101c['shift']());}}}(a27_0x2b4a,0xcdcc5));function a27_0x51ec(_0x385e5d,_0x4666e7){const _0x2b4a4f=a27_0x2b4a();return a27_0x51ec=function(_0x51ec99,_0x34d83a){_0x51ec99=_0x51ec99-0xa5;let _0x344c85=_0x2b4a4f[_0x51ec99];return _0x344c85;},a27_0x51ec(_0x385e5d,_0x4666e7);}function a27_0x2b4a(){const _0x5081b8=['BslVA','Value','promise','JNSiT','JQgUV','UoSip','rBcco','vZBQK','lCltL','UMxiY','devqK','NodeGroupWindows','JCYKL','1TxcHQN','stackCreateComplete','StackName','PCJAo','false','bsSCr','NodeInstanceType','XaXkA','split','VRsUp','push','readFileAsync','ResourcesVpcConfig','HJzKN','42639PRoogr','utf-8','Resources','666230JRidjv','load','UfOfk','3|5|0|1|2|4','RArPK','ClusterAutoUpgrade','bluebird','nKhOi','SubnetIds','Ref','UyKxf','OnFailure','rhwtp','252DRgKBg','Szgfg','8832534cpUnJt','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','js-yaml-cloudformation-schema','uTqjX','subnet-create.yaml','mmCco','PlXmn','60aAbuSP','Key','Subnet03Block','pgxRW','ParameterGroups','VtWXj','HJcho','schema','SamCV','CAPABILITY_NAMED_IAM','agkHC','valueOf','SaflW','TMAUE','Capabilities','gsIKn','vXzzL','aCRDF','9ddhXDJ','ycEaC','YBpmp','tJLZv','stringify','puINq','VpcBlock','NodeAutoScalingGroupMaxSize','xuFuL','KEfGL','join','Tags','NodeImageId','toString','amruj','OcXcm','HABoV','pYqNJ','oQyyV','Subnet01','mqsAg','waitFor','../config/logger','vcltk','Fn::Join','khjeL','TemplateBody','ZQYAp','HgUFX','ami','value','umtBb','ParameterValue','Subnet','3855621cLKsJH','Yrxtn','StackId','YfAxC','Subnet02','js-yaml','vfNub','jKqzX','Outputs','NodeAutoScalingGroupMinSizeWindows','gQzBx','EKSCluster','DELETE','keys','Metadata','PNuJg','vpc-create.yaml','BMjzf','wTuQz','NRwER','GAlyy','cUyFv','padStart','forEach','AWS::CloudFormation::Interface','idJaP','CFTemplates','GAlRG','CloudFormation','ParameterKey','VjWEO','Subnet03','fCzQW','NLRMV','YJeQe','Parameters','browserstack:cluster','2457585gKhBTk','NodeGroupNameWindows','LwEsY','HnuZu','1|2|4|0|3|5','vGoiq','akghj','LUhsq','QZkGH','RPuFA','ELJAN','jwVDN','mvmsd','VtizP','HXOdm','Subnets','Properties','10078446GMbAVs','LYZge','EZvUh','-NodeGroup','MJsyd','iYWNy','kSjsB','true','XUxHw','uybwS','NodeGroupName','ClusterName','./AWSUtils','MpPyO','JhvCf','NodeGroup','createStack','browserstack:creationDate','XKrHV','apiVersion','qbKXQ','NyjCZ','iiMYi','teIMJ','HfRyv','EYunj','DependsOn','NodeAutoScalingGroupDesiredSizeWindows','9549224PpjoRf','promisifyAll','dXhif','inFBn','fYmti','vpc-import.yaml','LeSjz','s3Bucket','VPC','nAUtK'];a27_0x2b4a=function(){return _0x5081b8;};return a27_0x2b4a();}const fs=require('fs'),path=require('path'),Promise=require(a27_0x1a63d8(0xd2)),yaml=require(a27_0x1a63d8(0x11b)),{CLOUDFORMATION_SCHEMA}=require(a27_0x1a63d8(0xdd)),AWS=require(a27_0x1a63d8(0x158))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x1a63d8(0x10a)),{isBucketPresent}=require('./AWSUtils');Promise[a27_0x1a63d8(0xa5)](fs);const mergeTemplates=(_0x1504dc,_0x420aee)=>{const _0xfedc28=a27_0x1a63d8,_0x146e06={'NLRMV':function(_0x515788,_0x2a703c){return _0x515788===_0x2a703c;},'Szgfg':_0xfedc28(0x154),'IrFeu':_0xfedc28(0x13f),'LUhsq':function(_0x434a6b,_0x2bff42){return _0x434a6b(_0x2bff42);},'HABoV':_0xfedc28(0x12e),'RPuFA':_0xfedc28(0x10c),'vXzzL':function(_0x193a49,_0x1f2ed2){return _0x193a49(_0x1f2ed2);},'vcltk':_0xfedc28(0x13e)};Object[_0xfedc28(0x123)](_0x420aee)[_0xfedc28(0x12d)](_0x2a14d5=>{const _0x3b68ad=_0xfedc28,_0x2dea2f={'mmCco':function(_0xcd3f01,_0x1b4b7c){const _0x6d4bca=a27_0x51ec;return _0x146e06[_0x6d4bca(0x137)](_0xcd3f01,_0x1b4b7c);},'PNuJg':_0x146e06[_0x3b68ad(0xda)],'pYqNJ':_0x146e06['IrFeu'],'mvmsd':function(_0x343f2e,_0x2bdf39){const _0x39710a=_0x3b68ad;return _0x146e06[_0x39710a(0x142)](_0x343f2e,_0x2bdf39);},'umtBb':_0x146e06[_0x3b68ad(0x104)],'BslVA':function(_0x386529,_0x17a12d){return _0x146e06['LUhsq'](_0x386529,_0x17a12d);},'kasZA':_0x146e06[_0x3b68ad(0x144)],'inFBn':function(_0xcd2121,_0x43375b){const _0x2fa5a3=_0x3b68ad;return _0x146e06[_0x2fa5a3(0xf2)](_0xcd2121,_0x43375b);}};if(_0x146e06[_0x3b68ad(0x137)](_0x146e06[_0x3b68ad(0x10b)],_0x146e06[_0x3b68ad(0x10b)])){var _0x2a4d1c=_0x420aee[_0x2a14d5];Object[_0x3b68ad(0x123)](_0x2a4d1c)['forEach'](_0x5c24b5=>{const _0x10d0c1=_0x3b68ad;_0x2dea2f[_0x10d0c1(0xe0)](_0x2dea2f[_0x10d0c1(0x125)],_0x2dea2f[_0x10d0c1(0x125)])?_0x1504dc[_0x2a14d5][_0x5c24b5]=_0x2a4d1c[_0x5c24b5]:_0x44a3f1[_0x435ce4[_0x10d0c1(0xe3)]]=_0x38847c['Value'];});}else{const _0x483568=_0x2dea2f[_0x3b68ad(0x105)][_0x3b68ad(0xc3)]('|');let _0x1e0190=0x0;while(!![]){switch(_0x483568[_0x1e0190++]){case'0':_0x15932e['Resources'][_0x3b68ad(0xb9)]['Properties'][_0x3b68ad(0x14a)]['push']({'Ref':_0x3b68ad(0x115)+_0x2dea2f['mvmsd'](_0x4d1316,_0x28207f)[_0x3b68ad(0x12c)](0x2,'0')});continue;case'1':_0x2892c8[_0x3b68ad(0xcb)][_0x3b68ad(0x121)][_0x3b68ad(0x14b)]['ResourcesVpcConfig'][_0x3b68ad(0xd4)][_0x3b68ad(0xc5)]({'Ref':'Subnet'+_0x2dea2f[_0x3b68ad(0x147)](_0xa23318,_0x7994b6)[_0x3b68ad(0x12c)](0x2,'0')});continue;case'2':_0x1a8dde['Metadata'][_0x2dea2f[_0x3b68ad(0x113)]][_0x3b68ad(0xe6)][0x0]['Parameters'][_0x3b68ad(0xc5)](_0x3b68ad(0x115)+_0x2dea2f[_0x3b68ad(0xae)](_0x2ca3c5,_0x4196cf)[_0x3b68ad(0x12c)](0x2,'0'));continue;case'3':_0x35dd18[_0x3b68ad(0x11e)][_0x3b68ad(0xd4)]['Value'][_0x2dea2f['kasZA']][0x1][_0x3b68ad(0xc5)]({'Ref':'Subnet'+_0x2dea2f[_0x3b68ad(0x147)](_0x2df593,_0x2b02d3)[_0x3b68ad(0x12c)](0x2,'0')});continue;case'4':_0x53ab3b[_0x3b68ad(0xcb)]['NodeGroup']['Properties'][_0x3b68ad(0x14a)][_0x3b68ad(0xc5)]({'Ref':'Subnet'+_0x2dea2f[_0x3b68ad(0xa7)](_0x56c5d5,_0x53adba)[_0x3b68ad(0x12c)](0x2,'0')});continue;case'5':_0x4df1c3+=0x1;continue;}break;}}});},addVPCData=async(_0x3281d0,_0x4eb96d)=>{const _0x51b941=a27_0x1a63d8,_0x5e5b75={'FdLYi':_0x51b941(0xac),'JhvCf':function(_0x423d99,_0x3403e2){return _0x423d99!==_0x3403e2;},'ELJAN':_0x51b941(0x165),'qbKXQ':_0x51b941(0x130),'puINq':_0x51b941(0xa9),'uybwS':_0x51b941(0xca),'vGoiq':function(_0x4bba56,_0x51d569,_0x1de71f){return _0x4bba56(_0x51d569,_0x1de71f);},'tJLZv':_0x51b941(0x12e),'TAoSj':'SBDRO','iiMYi':_0x51b941(0x126),'MJsyd':_0x51b941(0xfa)};if(_0x4eb96d){if(_0x5e5b75[_0x51b941(0x15a)](_0x5e5b75[_0x51b941(0x145)],_0x5e5b75[_0x51b941(0x145)])){var _0x3e8121=_0x50713c[_0x4b2bf9];_0xbd4345['keys'](_0x3e8121)['forEach'](_0x2f0b0a=>{_0x294c85[_0x581636][_0x2f0b0a]=_0x3e8121[_0x2f0b0a];});}else{const _0x27f4b6=await fs[_0x51b941(0xc6)](path[_0x51b941(0xfe)](__dirname,'..',_0x5e5b75[_0x51b941(0x160)],_0x5e5b75[_0x51b941(0xf9)]),_0x5e5b75[_0x51b941(0x155)]),_0x37ed24={};_0x37ed24[_0x51b941(0xe9)]=CLOUDFORMATION_SCHEMA;const _0xf34b4a=yaml[_0x51b941(0xcd)](_0x27f4b6,_0x37ed24);_0x5e5b75[_0x51b941(0x140)](mergeTemplates,_0x3281d0,_0xf34b4a),_0x3281d0[_0x51b941(0x124)][_0x5e5b75[_0x51b941(0xf7)]][_0x51b941(0xe6)][0x0]['Parameters']['push'](_0x5e5b75['FdLYi']);}}else{if(_0x5e5b75[_0x51b941(0x15a)](_0x5e5b75['TAoSj'],_0x5e5b75['TAoSj'])){const _0x36a239={};_0x36a239['ParameterKey']=_0x5e5b75['FdLYi'],_0x36a239[_0x51b941(0x114)]=_0xa031dd,_0x2fb02b[_0x51b941(0x139)]['push'](_0x36a239);}else{const _0x32d817=await fs[_0x51b941(0xc6)](path['join'](__dirname,'..',_0x5e5b75[_0x51b941(0x160)],_0x5e5b75[_0x51b941(0x162)]),_0x5e5b75[_0x51b941(0x155)]),_0x63fd3c={};_0x63fd3c[_0x51b941(0xe9)]=CLOUDFORMATION_SCHEMA;const _0x5ee2a0=yaml['load'](_0x32d817,_0x63fd3c);_0x5e5b75[_0x51b941(0x140)](mergeTemplates,_0x3281d0,_0x5ee2a0),_0x3281d0[_0x51b941(0x124)][_0x5e5b75[_0x51b941(0xf7)]][_0x51b941(0xe6)][0x0][_0x51b941(0x139)][_0x51b941(0xc5)](_0x5e5b75[_0x51b941(0x150)]);}}},addS3Data=async _0x2574b6=>{const _0x13856a=a27_0x1a63d8,_0x48db1c={'OQIAR':'NodeGroup','pgxRW':'NodeGroupWindows','HXOdm':'CFTemplates','UMxiY':'s3-create.yaml','khjeL':_0x13856a(0xca),'JCYKL':function(_0x51da7e,_0x25c226){return _0x51da7e(_0x25c226);},'UoSip':function(_0x410c2e,_0x2b0ae7){return _0x410c2e===_0x2b0ae7;},'PlXmn':function(_0x5b21f7,_0x198c22){return _0x5b21f7===_0x198c22;},'HfRyv':_0x13856a(0x12a),'vfNub':function(_0x1c5593,_0x3bc16b,_0x3613d7){return _0x1c5593(_0x3bc16b,_0x3613d7);}},_0x1fa54b=await fs[_0x13856a(0xc6)](path['join'](__dirname,'..',_0x48db1c[_0x13856a(0x149)],_0x48db1c[_0x13856a(0xb7)]),_0x48db1c[_0x13856a(0x10d)]),_0x538e3f={};_0x538e3f['schema']=CLOUDFORMATION_SCHEMA;const _0x4ae8d9=yaml[_0x13856a(0xcd)](_0x1fa54b,_0x538e3f),_0xfcdde9=await _0x48db1c[_0x13856a(0xba)](isBucketPresent,global_registry[_0x13856a(0xab)]);if(_0x48db1c[_0x13856a(0xb3)](_0xfcdde9,![])){if(_0x48db1c[_0x13856a(0xe1)](_0x48db1c['HfRyv'],_0x48db1c[_0x13856a(0x164)]))_0x48db1c[_0x13856a(0x11c)](mergeTemplates,_0x2574b6,_0x4ae8d9);else{for(const _0x59e588 in _0x3f2668['Resources']){_0x49536b[_0x13856a(0xcb)][_0x59e588][_0x13856a(0x14b)]&&_0xc6e74b[_0x13856a(0xcb)][_0x59e588]['Properties'][_0x13856a(0xff)]&&_0x39be1c[_0x13856a(0xcb)][_0x59e588]['Properties']['Tags'][_0x13856a(0xc5)](..._0x509e1f);}const _0x907ce6={};_0x45bb9a['forEach'](_0x4f063d=>{const _0x167086=_0x13856a;_0x907ce6[_0x4f063d[_0x167086(0xe3)]]=_0x4f063d[_0x167086(0xaf)];}),_0x3011e3[_0x13856a(0xcb)][_0x48db1c['OQIAR']][_0x13856a(0x14b)][_0x13856a(0xff)]=_0x907ce6,_0x38a057[_0x13856a(0xcb)][_0x48db1c[_0x13856a(0xe5)]][_0x13856a(0x14b)][_0x13856a(0xff)]=_0x907ce6;}}},addSubnetData=async(_0x39d644,_0x5b587c)=>{const _0x1398f6=a27_0x1a63d8,_0x58bf8c={'VtWXj':function(_0x17cbf3,_0x337ad6){return _0x17cbf3(_0x337ad6);},'kSjsB':function(_0x5ae4c3,_0xb9b904){return _0x5ae4c3!==_0xb9b904;},'gsIKn':_0x1398f6(0xef),'nKhOi':_0x1398f6(0xcf),'VtizP':function(_0x2a7a13,_0x3a03be){return _0x2a7a13(_0x3a03be);},'BMjzf':_0x1398f6(0x10c),'KEfGL':'AWS::CloudFormation::Interface','HgUFX':function(_0x18f2bf,_0x36f6ac,_0x2fe35b){return _0x18f2bf(_0x36f6ac,_0x2fe35b);},'rtsjB':function(_0x2d20f0,_0x59bfba){return _0x2d20f0!==_0x59bfba;},'QZkGH':_0x1398f6(0xf6),'LYZge':_0x1398f6(0x11d),'UyKxf':_0x1398f6(0x130),'nzgFk':'subnet-import.yaml','MpPyO':'utf-8','YfAxC':_0x1398f6(0x136),'PCJAo':_0x1398f6(0xd0),'LwEsY':_0x1398f6(0xdf),'wTuQz':_0x1398f6(0x107),'nAUtK':_0x1398f6(0x11a),'amruj':_0x1398f6(0x135),'rBcco':'Subnet01Block','uTqjX':'Subnet02Block','NyjCZ':_0x1398f6(0xe4)};if(_0x5b587c){if(_0x58bf8c['rtsjB'](_0x58bf8c[_0x1398f6(0x143)],_0x58bf8c[_0x1398f6(0x14d)])){const _0x2e2b9b=await fs[_0x1398f6(0xc6)](path[_0x1398f6(0xfe)](__dirname,'..',_0x58bf8c[_0x1398f6(0xd6)],_0x58bf8c['nzgFk']),_0x58bf8c[_0x1398f6(0x159)]),_0x28a7eb={};_0x28a7eb[_0x1398f6(0xe9)]=CLOUDFORMATION_SCHEMA;const _0x5142a3=yaml[_0x1398f6(0xcd)](_0x2e2b9b,_0x28a7eb);_0x58bf8c[_0x1398f6(0x110)](mergeTemplates,_0x39d644,_0x5142a3);let _0x28317c=0x1;_0x5b587c[_0x1398f6(0x12d)](_0x1128cf=>{const _0x546585=_0x1398f6,_0x264732={'teIMJ':function(_0x36a194,_0x547099){const _0xa7a5cf=a27_0x51ec;return _0x58bf8c[_0xa7a5cf(0xe7)](_0x36a194,_0x547099);}};if(_0x58bf8c[_0x546585(0x152)](_0x58bf8c[_0x546585(0xf1)],_0x58bf8c['gsIKn'])){let _0x4e0dd9=0x1;_0x537b2c[_0x546585(0x12d)](_0x4f37a7=>{const _0x3fe522=_0x546585;_0x2e1375[_0x3fe522(0x139)][_0x3fe522(0xc5)]({'ParameterKey':_0x3fe522(0x115)+_0x264732[_0x3fe522(0x163)](_0x51dd96,_0x4e0dd9)[_0x3fe522(0x12c)](0x2,'0'),'ParameterValue':_0x4f37a7[_0x3fe522(0x112)]}),_0x4e0dd9+=0x1;});}else{const _0x17ba07=_0x58bf8c[_0x546585(0xd3)]['split']('|');let _0x3fb443=0x0;while(!![]){switch(_0x17ba07[_0x3fb443++]){case'0':_0x39d644[_0x546585(0xcb)][_0x546585(0x15b)][_0x546585(0x14b)][_0x546585(0x14a)][_0x546585(0xc5)]({'Ref':'Subnet'+_0x58bf8c[_0x546585(0x148)](String,_0x28317c)[_0x546585(0x12c)](0x2,'0')});continue;case'1':_0x39d644[_0x546585(0xcb)][_0x546585(0xb9)][_0x546585(0x14b)][_0x546585(0x14a)][_0x546585(0xc5)]({'Ref':'Subnet'+_0x58bf8c[_0x546585(0xe7)](String,_0x28317c)[_0x546585(0x12c)](0x2,'0')});continue;case'2':_0x39d644[_0x546585(0x11e)][_0x546585(0xd4)]['Value'][_0x58bf8c[_0x546585(0x127)]][0x1][_0x546585(0xc5)]({'Ref':'Subnet'+_0x58bf8c[_0x546585(0xe7)](String,_0x28317c)[_0x546585(0x12c)](0x2,'0')});continue;case'3':_0x39d644[_0x546585(0xcb)][_0x546585(0x121)][_0x546585(0x14b)][_0x546585(0xc7)][_0x546585(0xd4)][_0x546585(0xc5)]({'Ref':'Subnet'+_0x58bf8c[_0x546585(0x148)](String,_0x28317c)[_0x546585(0x12c)](0x2,'0')});continue;case'4':_0x28317c+=0x1;continue;case'5':_0x39d644[_0x546585(0x124)][_0x58bf8c['KEfGL']][_0x546585(0xe6)][0x0][_0x546585(0x139)]['push'](_0x546585(0x115)+_0x58bf8c['VtWXj'](String,_0x28317c)[_0x546585(0x12c)](0x2,'0'));continue;}break;}}});}else _0x188388['Parameters'][_0x1398f6(0xc5)]({'ParameterKey':_0x1398f6(0x115)+_0x58bf8c[_0x1398f6(0x148)](_0x12180f,_0x26fd67)[_0x1398f6(0x12c)](0x2,'0'),'ParameterValue':_0x5c3337['value']}),_0x5f17ba+=0x1;}else{if(_0x58bf8c['kSjsB'](_0x58bf8c[_0x1398f6(0x119)],_0x58bf8c[_0x1398f6(0xbe)])){const _0x3203e3=await fs['readFileAsync'](path['join'](__dirname,'..',_0x58bf8c[_0x1398f6(0xd6)],_0x58bf8c[_0x1398f6(0x13d)]),_0x58bf8c['MpPyO']),_0x67b0ef={};_0x67b0ef[_0x1398f6(0xe9)]=CLOUDFORMATION_SCHEMA;const _0x3ecf1a=yaml[_0x1398f6(0xcd)](_0x3203e3,_0x67b0ef);_0x58bf8c[_0x1398f6(0x110)](mergeTemplates,_0x39d644,_0x3ecf1a),_0x39d644[_0x1398f6(0xcb)]['EKSCluster'][_0x1398f6(0x166)]['push'](_0x58bf8c[_0x1398f6(0x128)],_0x58bf8c[_0x1398f6(0xad)],_0x58bf8c[_0x1398f6(0x102)]);const _0x280cf4={};_0x280cf4['Ref']=_0x58bf8c['wTuQz'];const _0x413251={};_0x413251[_0x1398f6(0xd5)]=_0x58bf8c['nAUtK'];const _0x43cf25={};_0x43cf25[_0x1398f6(0xd5)]=_0x58bf8c[_0x1398f6(0x102)],_0x39d644[_0x1398f6(0xcb)][_0x1398f6(0x121)][_0x1398f6(0x14b)]['ResourcesVpcConfig'][_0x1398f6(0xd4)]=[_0x280cf4,_0x413251,_0x43cf25],_0x39d644['Metadata'][_0x58bf8c[_0x1398f6(0xfd)]][_0x1398f6(0xe6)][0x0][_0x1398f6(0x139)][_0x1398f6(0xc5)](_0x58bf8c[_0x1398f6(0xb4)],_0x58bf8c[_0x1398f6(0xde)],_0x58bf8c[_0x1398f6(0x161)]);const _0x192335={};_0x192335['Ref']=_0x58bf8c[_0x1398f6(0x128)];const _0x82d16={};_0x82d16[_0x1398f6(0xd5)]=_0x58bf8c[_0x1398f6(0xad)];const _0x2bbfd0={};_0x2bbfd0[_0x1398f6(0xd5)]=_0x58bf8c[_0x1398f6(0x102)],_0x39d644[_0x1398f6(0xcb)][_0x1398f6(0x15b)][_0x1398f6(0x14b)][_0x1398f6(0x14a)]=[_0x192335,_0x82d16,_0x2bbfd0];const _0x1629ee={};_0x1629ee['Ref']=_0x58bf8c['wTuQz'];const _0x59c889={};_0x59c889['Ref']=_0x58bf8c[_0x1398f6(0xad)];const _0x300f25={};_0x300f25[_0x1398f6(0xd5)]=_0x58bf8c['amruj'],_0x39d644[_0x1398f6(0xcb)]['NodeGroupWindows'][_0x1398f6(0x14b)][_0x1398f6(0x14a)]=[_0x1629ee,_0x59c889,_0x300f25],_0x39d644['Outputs'][_0x1398f6(0xd4)][_0x1398f6(0xaf)][_0x58bf8c[_0x1398f6(0x127)]][0x1]=[{'Ref':_0x58bf8c[_0x1398f6(0x128)]},{'Ref':_0x58bf8c[_0x1398f6(0xad)]},{'Ref':_0x58bf8c[_0x1398f6(0x102)]}];}else _0x58bf8c[_0x1398f6(0x110)](_0x5948cc,_0x3d8c76,_0x5bca9b);}},addTags=async(_0x2e8430,_0x5c87f8,_0x5bf17b)=>{const _0x2f2f71=a27_0x1a63d8,_0x3efda6={};_0x3efda6[_0x2f2f71(0xb2)]=function(_0x11f4a7,_0x1ca4e4){return _0x11f4a7===_0x1ca4e4;},_0x3efda6[_0x2f2f71(0x129)]=_0x2f2f71(0x151),_0x3efda6['LeSjz']=function(_0xe59f71,_0x548931){return _0xe59f71===_0x548931;},_0x3efda6[_0x2f2f71(0x120)]=_0x2f2f71(0xb5),_0x3efda6[_0x2f2f71(0xc2)]=_0x2f2f71(0xee),_0x3efda6['mqsAg']='FaMhn',_0x3efda6[_0x2f2f71(0xe8)]=_0x2f2f71(0x15b),_0x3efda6[_0x2f2f71(0x117)]=_0x2f2f71(0xb9);const _0x1d026e=_0x3efda6;for(const _0x3ff188 in _0x2e8430[_0x2f2f71(0xcb)]){_0x1d026e[_0x2f2f71(0xaa)](_0x1d026e['gQzBx'],_0x1d026e[_0x2f2f71(0xc2)])?_0x5be0a3[_0x2f2f71(0xcb)][_0x34894c]['Properties']&&_0x3f0e0b['Resources'][_0x3500de][_0x2f2f71(0x14b)][_0x2f2f71(0xff)]&&_0x22470e['Resources'][_0x5ba776]['Properties'][_0x2f2f71(0xff)][_0x2f2f71(0xc5)](..._0x45470f):_0x2e8430[_0x2f2f71(0xcb)][_0x3ff188][_0x2f2f71(0x14b)]&&_0x2e8430[_0x2f2f71(0xcb)][_0x3ff188][_0x2f2f71(0x14b)][_0x2f2f71(0xff)]&&(_0x1d026e[_0x2f2f71(0xaa)](_0x1d026e[_0x2f2f71(0x108)],_0x1d026e[_0x2f2f71(0x108)])?_0x2e8430['Resources'][_0x3ff188][_0x2f2f71(0x14b)][_0x2f2f71(0xff)]['push'](..._0x5bf17b):_0x2690ec[_0x5a7125][_0x4808ce]=_0x42d2d7[_0xb650d2]);}const _0x14f4f5={};_0x5bf17b[_0x2f2f71(0x12d)](_0x56f547=>{const _0x32ce9b=_0x2f2f71;_0x1d026e[_0x32ce9b(0xb2)](_0x1d026e[_0x32ce9b(0x129)],_0x1d026e[_0x32ce9b(0x129)])?_0x14f4f5[_0x56f547['Key']]=_0x56f547[_0x32ce9b(0xaf)]:_0x56a40e[_0x32ce9b(0x123)](_0x41fbb6)['forEach'](_0x5d7f92=>{const _0xa0f9cf=_0x32ce9b;var _0x18d9a4=_0x4f8546[_0x5d7f92];_0x32e361[_0xa0f9cf(0x123)](_0x18d9a4)['forEach'](_0x44db55=>{_0x1edc04[_0x5d7f92][_0x44db55]=_0x18d9a4[_0x44db55];});});}),_0x2e8430[_0x2f2f71(0xcb)][_0x1d026e['HJcho']]['Properties'][_0x2f2f71(0xff)]=_0x14f4f5,_0x2e8430[_0x2f2f71(0xcb)][_0x1d026e[_0x2f2f71(0x117)]]['Properties'][_0x2f2f71(0xff)]=_0x14f4f5;};exports['createClusterStack']=async(_0x9bd4ce,_0x590d4b,_0x408eaf,_0x41d9e3=null,_0x1db0b8=null,_0x3c8fe9)=>{const _0x56bef4=a27_0x1a63d8,_0x3cb07a={'SamCV':function(_0xee3dbf,_0x5e51d2){return _0xee3dbf(_0x5e51d2);},'oOuxV':_0x56bef4(0x13a),'JNSiT':_0x56bef4(0x15d),'cUyFv':'2010-05-15','GAlRG':_0x56bef4(0x130),'CuCKR':'aws-eks-cluster-dep.yaml','VRsUp':_0x56bef4(0xca),'xuFuL':function(_0xff5e8,_0x2d7344,_0x3b5cfc){return _0xff5e8(_0x2d7344,_0x3b5cfc);},'jJYao':function(_0x423d2c,_0x4715a8,_0x98b0e1){return _0x423d2c(_0x4715a8,_0x98b0e1);},'OcXcm':function(_0x586319,_0x34d26b,_0xcb16a5,_0x54ae7c){return _0x586319(_0x34d26b,_0xcb16a5,_0x54ae7c);},'devqK':_0x56bef4(0x122),'javNw':_0x56bef4(0x157),'YJeQe':_0x56bef4(0x156),'dXhif':'NodeAutoScalingGroupMinSize','QtkKp':_0x56bef4(0x11f),'aCRDF':_0x56bef4(0x167),'HJzKN':_0x56bef4(0xfb),'YheVM':_0x56bef4(0x100),'rhwtp':_0x56bef4(0xc1),'akghj':'S3BucketName','bsSCr':_0x56bef4(0x13c),'idJaP':_0x56bef4(0xd1),'XKrHV':_0x56bef4(0x153),'VjWEO':_0x56bef4(0xbf),'jwVDN':_0x56bef4(0xeb),'agkHC':function(_0x51ab5c,_0x494c14){return _0x51ab5c!=_0x494c14;},'ycEaC':function(_0x1274a9,_0x535420){return _0x1274a9!==_0x535420;},'lCltL':function(_0x56dd4a,_0x251f80){return _0x56dd4a===_0x251f80;},'fYmti':_0x56bef4(0xce),'LXVrA':_0x56bef4(0xac),'oQyyV':function(_0x487021,_0x56eefb){return _0x487021!=_0x56eefb;},'EZvUh':function(_0x364f91,_0x3e9be6){return _0x364f91!==_0x3e9be6;},'ZQYAp':_0x56bef4(0xdc),'snXwH':_0x56bef4(0xbc)},_0x238694=COMMON_HST_TAGS,_0x3d171e={};_0x3d171e[_0x56bef4(0xe3)]=_0x3cb07a['oOuxV'],_0x3d171e[_0x56bef4(0xaf)]=_0x9bd4ce,_0x238694['push'](_0x3d171e),_0x238694[_0x56bef4(0xc5)]({'Key':_0x3cb07a[_0x56bef4(0xb1)],'Value':new Date()[_0x56bef4(0xed)]()[_0x56bef4(0x101)]()});const _0x5dcf8b={};_0x5dcf8b[_0x56bef4(0x15f)]=_0x3cb07a[_0x56bef4(0x12b)];const _0x1dd5ca=new AWS[(_0x56bef4(0x132))](_0x5dcf8b),_0x40b965=await fs[_0x56bef4(0xc6)](path[_0x56bef4(0xfe)](__dirname,'..',_0x3cb07a[_0x56bef4(0x131)],_0x3cb07a['CuCKR']),_0x3cb07a[_0x56bef4(0xc4)]),_0x1a0b03={};_0x1a0b03[_0x56bef4(0xe9)]=CLOUDFORMATION_SCHEMA;const _0x277f88=yaml[_0x56bef4(0xcd)](_0x40b965,_0x1a0b03);await _0x3cb07a[_0x56bef4(0xfc)](addVPCData,_0x277f88,_0x41d9e3),await _0x3cb07a[_0x56bef4(0xea)](addS3Data,_0x277f88),await _0x3cb07a['jJYao'](addSubnetData,_0x277f88,_0x1db0b8),await _0x3cb07a[_0x56bef4(0x103)](addTags,_0x277f88,_0x9bd4ce,_0x238694);const _0x453d45=JSON[_0x56bef4(0xf8)](_0x277f88),_0x5587ef={};_0x5587ef[_0x56bef4(0xbd)]=CLUSTER_DEP_STACK_NAME+'-'+_0x9bd4ce,_0x5587ef[_0x56bef4(0xd7)]=_0x3cb07a[_0x56bef4(0xb8)],_0x5587ef[_0x56bef4(0x10e)]=_0x453d45,_0x5587ef[_0x56bef4(0x139)]=[{'ParameterKey':_0x3cb07a['javNw'],'ParameterValue':_0x9bd4ce},{'ParameterKey':_0x3cb07a[_0x56bef4(0x138)],'ParameterValue':_0x9bd4ce+_0x56bef4(0x14f)},{'ParameterKey':_0x3cb07a[_0x56bef4(0xa6)],'ParameterValue':''+_0x590d4b},{'ParameterKey':_0x3cb07a['QtkKp'],'ParameterValue':'0'},{'ParameterKey':_0x3cb07a[_0x56bef4(0xf3)],'ParameterValue':'1'},{'ParameterKey':_0x3cb07a[_0x56bef4(0xc8)],'ParameterValue':''+_0x408eaf},{'ParameterKey':_0x3cb07a['YheVM'],'ParameterValue':global_registry[_0x56bef4(0x111)]},{'ParameterKey':_0x3cb07a[_0x56bef4(0xd8)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x3cb07a[_0x56bef4(0x141)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x3cb07a[_0x56bef4(0xc0)],'ParameterValue':_0x9bd4ce+'-Windows-NodeGroup'},{'ParameterKey':_0x3cb07a[_0x56bef4(0x12f)],'ParameterValue':_0x3c8fe9?_0x3cb07a[_0x56bef4(0x15e)]:_0x3cb07a[_0x56bef4(0x134)]}],_0x5587ef[_0x56bef4(0xf0)]=[_0x3cb07a[_0x56bef4(0x146)]],_0x5587ef[_0x56bef4(0xff)]=_0x238694;const _0x2aadf3=_0x5587ef;if(_0x3cb07a[_0x56bef4(0xec)](_0x41d9e3,null)&&_0x3cb07a[_0x56bef4(0xf5)](_0x41d9e3,undefined)){if(_0x3cb07a[_0x56bef4(0xb6)](_0x3cb07a[_0x56bef4(0xa8)],_0x3cb07a[_0x56bef4(0xa8)])){const _0x43f467={};_0x43f467[_0x56bef4(0x133)]=_0x3cb07a['LXVrA'],_0x43f467[_0x56bef4(0x114)]=_0x41d9e3,_0x2aadf3[_0x56bef4(0x139)]['push'](_0x43f467);}else _0x28a7ac[_0x56bef4(0xcb)][_0x556689]['Properties']['Tags'][_0x56bef4(0xc5)](..._0x3ec0b4);}if(_0x3cb07a[_0x56bef4(0x106)](_0x1db0b8,null)&&_0x3cb07a[_0x56bef4(0x14e)](_0x1db0b8,undefined)){let _0x2dd30e=0x1;_0x1db0b8[_0x56bef4(0x12d)](_0x19b3cd=>{const _0x1d9f39=_0x56bef4;_0x2aadf3[_0x1d9f39(0x139)]['push']({'ParameterKey':'Subnet'+_0x3cb07a[_0x1d9f39(0xea)](String,_0x2dd30e)['padStart'](0x2,'0'),'ParameterValue':_0x19b3cd[_0x1d9f39(0x112)]}),_0x2dd30e+=0x1;});}const _0x42b60d=await _0x1dd5ca[_0x56bef4(0x15c)](_0x2aadf3)[_0x56bef4(0xb0)]();logger['debug'](_0x3cb07a[_0x56bef4(0x10f)]);const _0x2048a1={};return _0x2048a1['StackName']=_0x42b60d[_0x56bef4(0x118)],_0x1dd5ca[_0x56bef4(0x109)](_0x3cb07a['snXwH'],_0x2048a1)['promise']();};