function a27_0x6417(_0x1704c9,_0x41b88d){const _0x3f428e=a27_0x3f42();return a27_0x6417=function(_0x641786,_0x13b313){_0x641786=_0x641786-0x1d6;let _0x28e865=_0x3f428e[_0x641786];return _0x28e865;},a27_0x6417(_0x1704c9,_0x41b88d);}const a27_0x4004e8=a27_0x6417;(function(_0x75c8a4,_0x948349){const _0x35e1b9=a27_0x6417,_0x44acf1=_0x75c8a4();while(!![]){try{const _0x2489b3=parseInt(_0x35e1b9(0x1d9))/0x1*(-parseInt(_0x35e1b9(0x22b))/0x2)+parseInt(_0x35e1b9(0x257))/0x3*(parseInt(_0x35e1b9(0x21c))/0x4)+parseInt(_0x35e1b9(0x255))/0x5*(parseInt(_0x35e1b9(0x292))/0x6)+parseInt(_0x35e1b9(0x1ff))/0x7*(parseInt(_0x35e1b9(0x248))/0x8)+parseInt(_0x35e1b9(0x247))/0x9+parseInt(_0x35e1b9(0x277))/0xa*(-parseInt(_0x35e1b9(0x1fd))/0xb)+parseInt(_0x35e1b9(0x26d))/0xc;if(_0x2489b3===_0x948349)break;else _0x44acf1['push'](_0x44acf1['shift']());}catch(_0x2b33a6){_0x44acf1['push'](_0x44acf1['shift']());}}}(a27_0x3f42,0x28c8d));function a27_0x3f42(){const _0x94790d=['browserstack:cluster','132605foBvng','padStart','30233tqLGhn','Key','lUKjl','xFbqz','sckAZ','vivta','createStack','JeXnY','GEHBX','instanceType','NodeAutoScalingGroupDesiredSizeWindows','DependsOn','yNMpN','push','MPagO','yPVCG','zbiup','NodeAutoScalingGroupMinSizeWindows','toString','jDtKw','yVigY','jdgRk','DPBHE','valueOf','NodeGroupWindows','sbnQY','kGBwT','value','kbunt','4IMLpIH','sUGsP','forEach','NodeGroup','path','s3-create.yaml','-NodeGroup','bFXfY','LNyMV','promise','exMdN','./AWSUtils','AWS::CloudFormation::Interface','aszQN','tpGVF','30250MMVrvl','reZPh','ResourcesVpcConfig','IMQZG','S3BucketName','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','mgsKB','XTVxx','srUBS','ami','TfNYe','ParameterGroups','Btdwi','ParameterKey','Parameters','readFileAsync','Capabilities','ClusterAutoUpgrade','CAPABILITY_NAMED_IAM','olIkj','../config/logger','JXMjn','Reual','alGOS','NodeGroupName','EJjLt','OnFailure','RFVxB','856170isNSBJ','152wLGxuf','zSjBd','3|4|1|2|0|5','XlhLb','cuwzI','bluebird','stackCreateComplete','split','Jxvyu','YKfBm','waitFor','nThLj','StackId','25rsOZoJ','1|5|0|4|2|3','961743QXJzmL','AsdGq','bbfIl','UDFFp','Gioru','GQzym','DELETE','lPPyN','iEQJh','schema','NodeInstanceType','ayelw','vpc-create.yaml','Subnet02Block','kDwDB','subnet-create.yaml','NodeImageId','vpc-import.yaml','dXnqL','QGBjb','dRCGE','SsuMP','928692GWDQAa','Ref','WCeUU','knEaR','hEEfO','EKSCluster','VpcBlock','awsObj','true','QLmnd','150BhECOd','Subnet03','MKlnP','AgaYB','UEsyw','CFTemplates','VPC','SfPNq','Subnet01','spYwr','mfxzr','s3Bucket','load','keys','NfSiI','pWluS','Fn::Join','NodeGroupNameWindows','join','gQHlz','js-yaml-cloudformation-schema','Subnets','Xbfvs','mAQaG','NodeAutoScalingGroupMaxSize','Tags','rRcYk','72108vRzltR','MPSPe','YVOYc','cwisv','Properties','Metadata','jkYgR','CloudFormation','Subnet03Block','SZPZZ','utf-8','dtKMm','Outputs','2010-05-15','CNXsh','DIGJt','GZqKl','19npXnIw','gCyoE','subnet-import.yaml','FZBaB','Snulo','VAceP','-Windows-NodeGroup','gbFTB','Resources','StackName','yyCKx','fCiee','VnQGK','yMHiS','aws-eks-cluster-dep.yaml','SubnetIds','MGFDh','pOzyq','yDpBm','lJMTT','VYymG','Subnet02','browserstack:creationDate','Subnet01Block','Subnet','HOCeQ','poOZo','VjXPc','KXbZr','jLTwX','Value','YeOil','QWBJt','tPaAx','JyBtK'];a27_0x3f42=function(){return _0x94790d;};return a27_0x3f42();}const fs=require('fs'),path=require(a27_0x4004e8(0x220)),Promise=require(a27_0x4004e8(0x24d)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0x4004e8(0x28b)),AWS=require(a27_0x4004e8(0x227))[a27_0x4004e8(0x274)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x4004e8(0x23f)),{isBucketPresent}=require(a27_0x4004e8(0x227));Promise['promisifyAll'](fs);const mergeTemplates=(_0x130ad6,_0x5192d9)=>{const _0x50490a=a27_0x4004e8,_0x30e7ab={'IMQZG':function(_0x4e85f1,_0x336634){return _0x4e85f1!==_0x336634;},'bbfIl':_0x50490a(0x244),'yPVCG':function(_0x412b2e,_0x2d1cf2){return _0x412b2e(_0x2d1cf2);},'QWBJt':function(_0x35dbc6,_0x58702a){return _0x35dbc6!==_0x58702a;},'pWluS':'uhtkQ','FZBaB':_0x50490a(0x242)};Object[_0x50490a(0x284)](_0x5192d9)[_0x50490a(0x21e)](_0x30395e=>{const _0x575870=_0x50490a,_0x920bb9={'wLjlw':function(_0x5759de,_0x393f6e){const _0x5e302f=a27_0x6417;return _0x30e7ab[_0x5e302f(0x22e)](_0x5759de,_0x393f6e);},'KXbZr':_0x30e7ab[_0x575870(0x259)],'xFbqz':function(_0x48fd31,_0x4fb47b){const _0x30326b=_0x575870;return _0x30e7ab[_0x30326b(0x20e)](_0x48fd31,_0x4fb47b);}};if(_0x30e7ab[_0x575870(0x1f9)](_0x30e7ab[_0x575870(0x286)],_0x30e7ab[_0x575870(0x1dc)])){var _0x967207=_0x5192d9[_0x30395e];Object[_0x575870(0x284)](_0x967207)[_0x575870(0x21e)](_0xe231e1=>{const _0x39fa62=_0x575870;_0x920bb9['wLjlw'](_0x920bb9['KXbZr'],_0x920bb9[_0x39fa62(0x1f5)])?_0x26055c[_0xd55731][_0x370847]=_0x48c0ac[_0x5b8d47]:_0x130ad6[_0x30395e][_0xe231e1]=_0x967207[_0xe231e1];});}else _0x4ce449[_0x575870(0x239)][_0x575870(0x20c)]({'ParameterKey':'Subnet'+_0x920bb9[_0x575870(0x202)](_0x19593a,_0x920c88)[_0x575870(0x1fe)](0x2,'0'),'ParameterValue':_0x2b70a8[_0x575870(0x21a)]}),_0x234759+=0x1;});},addVPCData=async(_0x5e33ea,_0x455f82)=>{const _0x45935f=a27_0x4004e8,_0x2d8512={'GONXV':_0x45935f(0x21f),'yVigY':'NodeGroupWindows','lzYCV':function(_0x2b55c7,_0x5c08d1){return _0x2b55c7!==_0x5c08d1;},'DPBHE':_0x45935f(0x26c),'hHmsp':_0x45935f(0x27c),'gCyoE':_0x45935f(0x268),'olIkj':_0x45935f(0x29c),'JeXnY':function(_0x56cc18,_0x575272,_0xfa4b83){return _0x56cc18(_0x575272,_0xfa4b83);},'lUKjl':_0x45935f(0x228),'YVOYc':_0x45935f(0x27d),'cwisv':function(_0x2c07d1,_0x346cc3){return _0x2c07d1===_0x346cc3;},'UDFFp':_0x45935f(0x26a),'HRynK':_0x45935f(0x218),'PIcWm':_0x45935f(0x263),'mAQaG':function(_0x591cb9,_0x5833dd,_0x128d68){return _0x591cb9(_0x5833dd,_0x128d68);},'GEHBX':_0x45935f(0x273)};if(_0x455f82){if(_0x2d8512['lzYCV'](_0x2d8512['DPBHE'],_0x2d8512[_0x45935f(0x215)]))_0x193e69[_0x45935f(0x1e1)][_0x2c5e47]['Properties'][_0x45935f(0x290)][_0x45935f(0x20c)](..._0x542ee6);else{const _0x138602=await fs[_0x45935f(0x23a)](path[_0x45935f(0x289)](__dirname,'..',_0x2d8512['hHmsp'],_0x2d8512[_0x45935f(0x1da)]),_0x2d8512['olIkj']),_0x5408c8={};_0x5408c8[_0x45935f(0x260)]=CLOUDFORMATION_SCHEMA;const _0x437987=yaml[_0x45935f(0x283)](_0x138602,_0x5408c8);_0x2d8512[_0x45935f(0x206)](mergeTemplates,_0x5e33ea,_0x437987),_0x5e33ea[_0x45935f(0x297)][_0x2d8512[_0x45935f(0x201)]]['ParameterGroups'][0x0][_0x45935f(0x239)][_0x45935f(0x20c)](_0x2d8512[_0x45935f(0x294)]);}}else{if(_0x2d8512[_0x45935f(0x295)](_0x2d8512[_0x45935f(0x25a)],_0x2d8512['HRynK'])){for(const _0x2e5fa0 in _0x286996[_0x45935f(0x1e1)]){_0x3f9310[_0x45935f(0x1e1)][_0x2e5fa0]['Properties']&&_0x3ba70b[_0x45935f(0x1e1)][_0x2e5fa0][_0x45935f(0x296)][_0x45935f(0x290)]&&_0x1117ea[_0x45935f(0x1e1)][_0x2e5fa0][_0x45935f(0x296)][_0x45935f(0x290)][_0x45935f(0x20c)](..._0x1cd7df);}const _0x32bdc3={};_0x546e87[_0x45935f(0x21e)](_0x305043=>{const _0x2f7249=_0x45935f;_0x32bdc3[_0x305043[_0x2f7249(0x200)]]=_0x305043[_0x2f7249(0x1f7)];}),_0x8bd468[_0x45935f(0x1e1)][_0x2d8512['GONXV']][_0x45935f(0x296)][_0x45935f(0x290)]=_0x32bdc3,_0x447b86[_0x45935f(0x1e1)][_0x2d8512[_0x45935f(0x213)]]['Properties'][_0x45935f(0x290)]=_0x32bdc3;}else{const _0x4a2e74=await fs[_0x45935f(0x23a)](path[_0x45935f(0x289)](__dirname,'..',_0x2d8512['hHmsp'],_0x2d8512['PIcWm']),_0x2d8512[_0x45935f(0x23e)]),_0x4f0f29={};_0x4f0f29[_0x45935f(0x260)]=CLOUDFORMATION_SCHEMA;const _0x59db60=yaml[_0x45935f(0x283)](_0x4a2e74,_0x4f0f29);_0x2d8512[_0x45935f(0x28e)](mergeTemplates,_0x5e33ea,_0x59db60),_0x5e33ea['Metadata'][_0x2d8512['lUKjl']][_0x45935f(0x236)][0x0][_0x45935f(0x239)][_0x45935f(0x20c)](_0x2d8512[_0x45935f(0x207)]);}}},addS3Data=async _0x5bb717=>{const _0x31af0e=a27_0x4004e8,_0x3da5ba={'ayelw':_0x31af0e(0x27c),'YKfBm':_0x31af0e(0x221),'mgsKB':_0x31af0e(0x29c),'GQzym':function(_0x4b0020,_0x511950){return _0x4b0020(_0x511950);},'DIGJt':function(_0x1c68a5,_0x5488e5){return _0x1c68a5===_0x5488e5;},'vivta':_0x31af0e(0x25e),'grFgt':'DRxcQ','geMAx':function(_0x5c5c9e,_0x137cff,_0x698c9a){return _0x5c5c9e(_0x137cff,_0x698c9a);}},_0x45719a=await fs[_0x31af0e(0x23a)](path['join'](__dirname,'..',_0x3da5ba[_0x31af0e(0x262)],_0x3da5ba[_0x31af0e(0x251)]),_0x3da5ba[_0x31af0e(0x231)]),_0x58d73c={};_0x58d73c['schema']=CLOUDFORMATION_SCHEMA;const _0x5de82c=yaml[_0x31af0e(0x283)](_0x45719a,_0x58d73c),_0x1ee54a=await _0x3da5ba[_0x31af0e(0x25c)](isBucketPresent,global_registry[_0x31af0e(0x282)]);if(_0x3da5ba[_0x31af0e(0x1d7)](_0x1ee54a,![])){if(_0x3da5ba[_0x31af0e(0x1d7)](_0x3da5ba[_0x31af0e(0x204)],_0x3da5ba['grFgt'])){var _0x47449f=_0x182147[_0x4f7c1f];_0x4f985d[_0x31af0e(0x284)](_0x47449f)[_0x31af0e(0x21e)](_0x2a2637=>{_0x38731e[_0x1cc7f6][_0x2a2637]=_0x47449f[_0x2a2637];});}else _0x3da5ba['geMAx'](mergeTemplates,_0x5bb717,_0x5de82c);}},addSubnetData=async(_0x3bb4dd,_0x117fc0)=>{const _0x88175=a27_0x4004e8,_0x37a529={'jkYgR':_0x88175(0x27d),'yMHiS':function(_0x4611d3,_0x275768){return _0x4611d3(_0x275768);},'CFGGx':function(_0x26bfe1,_0x23045b){return _0x26bfe1!==_0x23045b;},'gQHlz':_0x88175(0x249),'SZPZZ':_0x88175(0x256),'VnQGK':function(_0x5f2c41,_0x52238a){return _0x5f2c41(_0x52238a);},'dtKMm':_0x88175(0x287),'srUBS':'AWS::CloudFormation::Interface','spYwr':function(_0x54d41d,_0x42ec31){return _0x54d41d(_0x42ec31);},'jDtKw':_0x88175(0x24a),'XTVxx':function(_0x3838af,_0x4b7b24){return _0x3838af(_0x4b7b24);},'uDGmw':function(_0x333200,_0x2a0d2f){return _0x333200!==_0x2a0d2f;},'yNMpN':_0x88175(0x28d),'CNXsh':_0x88175(0x27c),'UEsyw':_0x88175(0x1db),'aszQN':_0x88175(0x29c),'XlhLb':function(_0x2dbce9,_0xf6d960,_0x20173a){return _0x2dbce9(_0xf6d960,_0x20173a);},'qeYLH':function(_0x48c331,_0xda6886){return _0x48c331!==_0xda6886;},'EdeWA':_0x88175(0x1f4),'MPSPe':_0x88175(0x250),'fCiee':_0x88175(0x266),'TfNYe':function(_0x5387c3,_0x5336bf,_0x2ab860){return _0x5387c3(_0x5336bf,_0x2ab860);},'WCeUU':_0x88175(0x27f),'yyCKx':_0x88175(0x1ee),'jLTwX':_0x88175(0x278),'sUGsP':_0x88175(0x1f0),'tPaAx':_0x88175(0x264),'NOKKB':_0x88175(0x29a)};if(_0x117fc0){if(_0x37a529['uDGmw'](_0x37a529['yNMpN'],_0x37a529[_0x88175(0x20b)])){const _0x127ed2={};_0x127ed2[_0x88175(0x238)]=_0x37a529[_0x88175(0x298)],_0x127ed2['ParameterValue']=_0x51cd28,_0x152812[_0x88175(0x239)][_0x88175(0x20c)](_0x127ed2);}else{const _0x4431f1=await fs['readFileAsync'](path[_0x88175(0x289)](__dirname,'..',_0x37a529[_0x88175(0x1d6)],_0x37a529[_0x88175(0x27b)]),_0x37a529[_0x88175(0x229)]),_0x3fc1f8={};_0x3fc1f8[_0x88175(0x260)]=CLOUDFORMATION_SCHEMA;const _0x28bde3=yaml[_0x88175(0x283)](_0x4431f1,_0x3fc1f8);_0x37a529[_0x88175(0x24b)](mergeTemplates,_0x3bb4dd,_0x28bde3);let _0x5b28d7=0x1;_0x117fc0[_0x88175(0x21e)](_0x176724=>{const _0x3ee68d=_0x88175;if(_0x37a529['CFGGx'](_0x37a529[_0x3ee68d(0x28a)],_0x37a529[_0x3ee68d(0x28a)])){const _0x25f18c={'JyBtK':function(_0x2d5b2a,_0x5ef2e0){const _0x46f08a=_0x3ee68d;return _0x37a529[_0x46f08a(0x1e6)](_0x2d5b2a,_0x5ef2e0);}};let _0x2b7161=0x1;_0xd84023[_0x3ee68d(0x21e)](_0x2af591=>{const _0x35bf66=_0x3ee68d;_0xac3530[_0x35bf66(0x239)][_0x35bf66(0x20c)]({'ParameterKey':'Subnet'+_0x25f18c[_0x35bf66(0x1fb)](_0x329f92,_0x2b7161)[_0x35bf66(0x1fe)](0x2,'0'),'ParameterValue':_0x2af591[_0x35bf66(0x21a)]}),_0x2b7161+=0x1;});}else{const _0x13e1a3=_0x37a529[_0x3ee68d(0x29b)][_0x3ee68d(0x24f)]('|');let _0x5358b6=0x0;while(!![]){switch(_0x13e1a3[_0x5358b6++]){case'0':_0x3bb4dd['Resources'][_0x3ee68d(0x21f)][_0x3ee68d(0x296)][_0x3ee68d(0x28c)]['push']({'Ref':'Subnet'+_0x37a529[_0x3ee68d(0x1e6)](String,_0x5b28d7)[_0x3ee68d(0x1fe)](0x2,'0')});continue;case'1':_0x3bb4dd['Resources'][_0x3ee68d(0x272)][_0x3ee68d(0x296)][_0x3ee68d(0x22d)]['SubnetIds'][_0x3ee68d(0x20c)]({'Ref':_0x3ee68d(0x1f1)+_0x37a529[_0x3ee68d(0x1e5)](String,_0x5b28d7)[_0x3ee68d(0x1fe)](0x2,'0')});continue;case'2':_0x3bb4dd['Outputs'][_0x3ee68d(0x1e8)][_0x3ee68d(0x1f7)][_0x37a529['dtKMm']][0x1][_0x3ee68d(0x20c)]({'Ref':'Subnet'+_0x37a529[_0x3ee68d(0x1e6)](String,_0x5b28d7)[_0x3ee68d(0x1fe)](0x2,'0')});continue;case'3':_0x5b28d7+=0x1;continue;case'4':_0x3bb4dd[_0x3ee68d(0x1e1)]['NodeGroupWindows']['Properties']['Subnets'][_0x3ee68d(0x20c)]({'Ref':_0x3ee68d(0x1f1)+_0x37a529[_0x3ee68d(0x1e5)](String,_0x5b28d7)['padStart'](0x2,'0')});continue;case'5':_0x3bb4dd[_0x3ee68d(0x297)][_0x37a529[_0x3ee68d(0x233)]][_0x3ee68d(0x236)][0x0][_0x3ee68d(0x239)][_0x3ee68d(0x20c)](_0x3ee68d(0x1f1)+_0x37a529[_0x3ee68d(0x280)](String,_0x5b28d7)[_0x3ee68d(0x1fe)](0x2,'0'));continue;}break;}}});}}else{if(_0x37a529['qeYLH'](_0x37a529['EdeWA'],_0x37a529[_0x88175(0x293)])){const _0x503b6c=await fs[_0x88175(0x23a)](path[_0x88175(0x289)](__dirname,'..',_0x37a529['CNXsh'],_0x37a529[_0x88175(0x1e4)]),_0x37a529[_0x88175(0x229)]),_0x554e32={};_0x554e32[_0x88175(0x260)]=CLOUDFORMATION_SCHEMA;const _0x464417=yaml[_0x88175(0x283)](_0x503b6c,_0x554e32);_0x37a529[_0x88175(0x235)](mergeTemplates,_0x3bb4dd,_0x464417),_0x3bb4dd[_0x88175(0x1e1)][_0x88175(0x272)][_0x88175(0x20a)]['push'](_0x37a529[_0x88175(0x26f)],_0x37a529[_0x88175(0x1e3)],_0x37a529['jLTwX']);const _0x59b00c={};_0x59b00c[_0x88175(0x26e)]=_0x37a529['WCeUU'];const _0x177bdb={};_0x177bdb[_0x88175(0x26e)]=_0x37a529[_0x88175(0x1e3)];const _0x5401bb={};_0x5401bb[_0x88175(0x26e)]=_0x37a529[_0x88175(0x1f6)],_0x3bb4dd['Resources']['EKSCluster'][_0x88175(0x296)][_0x88175(0x22d)][_0x88175(0x1e8)]=[_0x59b00c,_0x177bdb,_0x5401bb],_0x3bb4dd[_0x88175(0x297)][_0x37a529[_0x88175(0x233)]][_0x88175(0x236)][0x0][_0x88175(0x239)][_0x88175(0x20c)](_0x37a529[_0x88175(0x21d)],_0x37a529[_0x88175(0x1fa)],_0x37a529['NOKKB']);const _0x30fb55={};_0x30fb55[_0x88175(0x26e)]=_0x37a529[_0x88175(0x26f)];const _0x3eba1f={};_0x3eba1f['Ref']=_0x37a529[_0x88175(0x1e3)];const _0x5d56cd={};_0x5d56cd['Ref']=_0x37a529[_0x88175(0x1f6)],_0x3bb4dd[_0x88175(0x1e1)][_0x88175(0x21f)][_0x88175(0x296)]['Subnets']=[_0x30fb55,_0x3eba1f,_0x5d56cd];const _0x347c83={};_0x347c83['Ref']=_0x37a529[_0x88175(0x26f)];const _0x4433fa={};_0x4433fa[_0x88175(0x26e)]=_0x37a529[_0x88175(0x1e3)];const _0x5d5f09={};_0x5d5f09[_0x88175(0x26e)]=_0x37a529[_0x88175(0x1f6)],_0x3bb4dd[_0x88175(0x1e1)][_0x88175(0x217)][_0x88175(0x296)][_0x88175(0x28c)]=[_0x347c83,_0x4433fa,_0x5d5f09],_0x3bb4dd[_0x88175(0x29e)][_0x88175(0x1e8)][_0x88175(0x1f7)][_0x37a529[_0x88175(0x29d)]][0x1]=[{'Ref':_0x37a529[_0x88175(0x26f)]},{'Ref':_0x37a529[_0x88175(0x1e3)]},{'Ref':_0x37a529[_0x88175(0x1f6)]}];}else{const _0x86e1a4=_0x37a529[_0x88175(0x212)][_0x88175(0x24f)]('|');let _0x5005fb=0x0;while(!![]){switch(_0x86e1a4[_0x5005fb++]){case'0':_0x27c354['Outputs'][_0x88175(0x1e8)][_0x88175(0x1f7)][_0x37a529[_0x88175(0x29d)]][0x1][_0x88175(0x20c)]({'Ref':_0x88175(0x1f1)+_0x37a529['XTVxx'](_0x560fef,_0x22cbf6)[_0x88175(0x1fe)](0x2,'0')});continue;case'1':_0x25ac3b[_0x88175(0x1e1)][_0x88175(0x21f)][_0x88175(0x296)]['Subnets']['push']({'Ref':'Subnet'+_0x37a529[_0x88175(0x1e5)](_0x2348f3,_0x18c325)[_0x88175(0x1fe)](0x2,'0')});continue;case'2':_0x248ef9[_0x88175(0x1e1)][_0x88175(0x217)][_0x88175(0x296)]['Subnets'][_0x88175(0x20c)]({'Ref':_0x88175(0x1f1)+_0x37a529[_0x88175(0x232)](_0x1a51c1,_0x730194)[_0x88175(0x1fe)](0x2,'0')});continue;case'3':_0x4efed9[_0x88175(0x1e1)][_0x88175(0x272)][_0x88175(0x296)][_0x88175(0x22d)]['SubnetIds'][_0x88175(0x20c)]({'Ref':_0x88175(0x1f1)+_0x37a529[_0x88175(0x1e5)](_0x1e7a25,_0x2c652f)[_0x88175(0x1fe)](0x2,'0')});continue;case'4':_0x52324b[_0x88175(0x297)][_0x37a529[_0x88175(0x233)]][_0x88175(0x236)][0x0][_0x88175(0x239)][_0x88175(0x20c)](_0x88175(0x1f1)+_0x37a529[_0x88175(0x280)](_0x96f552,_0x495052)['padStart'](0x2,'0'));continue;case'5':_0x3b842d+=0x1;continue;}break;}}}},addTags=async(_0x1d8a65,_0x594639,_0x3cdb92)=>{const _0x5f1a96=a27_0x4004e8,_0x4809a8={'yDpBm':function(_0x1f3ee7,_0x538bc2,_0x4ccf8d){return _0x1f3ee7(_0x538bc2,_0x4ccf8d);},'iEQJh':function(_0x11cba3,_0x2c22e4){return _0x11cba3!==_0x2c22e4;},'bFXfY':_0x5f1a96(0x214),'sckAZ':_0x5f1a96(0x24c),'MKlnP':function(_0x1377dc,_0x404e65){return _0x1377dc===_0x404e65;},'kDwDB':_0x5f1a96(0x1de),'obLon':function(_0x4644b5,_0x343449){return _0x4644b5===_0x343449;},'Btdwi':_0x5f1a96(0x241),'RFVxB':_0x5f1a96(0x253),'SZKuG':_0x5f1a96(0x21f),'knEaR':_0x5f1a96(0x217)};for(const _0x424cb3 in _0x1d8a65[_0x5f1a96(0x1e1)]){_0x4809a8[_0x5f1a96(0x279)](_0x4809a8[_0x5f1a96(0x265)],_0x4809a8[_0x5f1a96(0x265)])?_0x1d8a65['Resources'][_0x424cb3][_0x5f1a96(0x296)]&&_0x1d8a65[_0x5f1a96(0x1e1)][_0x424cb3][_0x5f1a96(0x296)]['Tags']&&(_0x4809a8['obLon'](_0x4809a8[_0x5f1a96(0x237)],_0x4809a8[_0x5f1a96(0x246)])?_0x4809a8[_0x5f1a96(0x1eb)](_0x2e27b1,_0x228650,_0x23df65):_0x1d8a65[_0x5f1a96(0x1e1)][_0x424cb3]['Properties']['Tags']['push'](..._0x3cdb92)):_0x223066['keys'](_0x27ec2e)[_0x5f1a96(0x21e)](_0x25303d=>{const _0x4f6f3a=_0x5f1a96;var _0x1a3d0f=_0x220b6c[_0x25303d];_0x3c602e['keys'](_0x1a3d0f)[_0x4f6f3a(0x21e)](_0x376e56=>{_0x1a9a39[_0x25303d][_0x376e56]=_0x1a3d0f[_0x376e56];});});}const _0x42b9dc={};_0x3cdb92['forEach'](_0x4af63f=>{const _0x2f2ecf=_0x5f1a96;_0x4809a8[_0x2f2ecf(0x25f)](_0x4809a8[_0x2f2ecf(0x223)],_0x4809a8[_0x2f2ecf(0x203)])?_0x42b9dc[_0x4af63f[_0x2f2ecf(0x200)]]=_0x4af63f[_0x2f2ecf(0x1f7)]:_0x1febda[_0x2f2ecf(0x1e1)][_0x2d6ad6][_0x2f2ecf(0x296)]&&_0x15d0f8[_0x2f2ecf(0x1e1)][_0x4f2a98][_0x2f2ecf(0x296)][_0x2f2ecf(0x290)]&&_0x1c088b[_0x2f2ecf(0x1e1)][_0x4eca5a][_0x2f2ecf(0x296)][_0x2f2ecf(0x290)][_0x2f2ecf(0x20c)](..._0x5ad1e2);}),_0x1d8a65[_0x5f1a96(0x1e1)][_0x4809a8['SZKuG']][_0x5f1a96(0x296)]['Tags']=_0x42b9dc,_0x1d8a65[_0x5f1a96(0x1e1)][_0x4809a8[_0x5f1a96(0x270)]][_0x5f1a96(0x296)]['Tags']=_0x42b9dc;};exports['createClusterStack']=async(_0x2657c7,_0x247911,_0x1d7522,_0x4bd846=null,_0x521f8b=null,_0x3307bf)=>{const _0x5df619=a27_0x4004e8,_0x4beeed={'Snulo':function(_0x5a12fe,_0x105d13){return _0x5a12fe(_0x105d13);},'JXMjn':_0x5df619(0x1fc),'MGFDh':_0x5df619(0x1ef),'AsdGq':_0x5df619(0x29f),'kbunt':_0x5df619(0x27c),'tbHsK':_0x5df619(0x1e7),'gbFTB':_0x5df619(0x29c),'tpGVF':function(_0x4f3529,_0x537fe9,_0x4531b2){return _0x4f3529(_0x537fe9,_0x4531b2);},'dRCGE':function(_0x2cdd4a,_0x495531){return _0x2cdd4a(_0x495531);},'MPagO':function(_0x42bb75,_0x41e41f,_0x487ba0,_0x5c7ac2){return _0x42bb75(_0x41e41f,_0x487ba0,_0x5c7ac2);},'reZPh':_0x5df619(0x25d),'mfxzr':'ClusterName','exMdN':_0x5df619(0x243),'jZqRD':'NodeAutoScalingGroupMinSize','kGBwT':_0x5df619(0x210),'QLmnd':_0x5df619(0x209),'Gioru':_0x5df619(0x28f),'lJMTT':_0x5df619(0x267),'NfSiI':_0x5df619(0x261),'pOzyq':_0x5df619(0x22f),'LNyMV':_0x5df619(0x288),'YeOil':_0x5df619(0x23c),'xiuJp':_0x5df619(0x275),'AgaYB':'false','rRcYk':_0x5df619(0x23d),'hEEfO':function(_0x587f7f,_0x421fad){return _0x587f7f!=_0x421fad;},'VYymG':function(_0x4e0369,_0x1387fc){return _0x4e0369!==_0x1387fc;},'GZqKl':function(_0x53a6bf,_0x2309ef){return _0x53a6bf===_0x2309ef;},'bXIQe':_0x5df619(0x269),'SfPNq':_0x5df619(0x20f),'EwXSx':_0x5df619(0x27d),'IWVbJ':function(_0x460374,_0x4b0605){return _0x460374!==_0x4b0605;},'HOCeQ':_0x5df619(0x230),'poOZo':_0x5df619(0x24e)},_0x908bb5=COMMON_HST_TAGS,_0x2d2c24={};_0x2d2c24[_0x5df619(0x200)]=_0x4beeed[_0x5df619(0x240)],_0x2d2c24[_0x5df619(0x1f7)]=_0x2657c7,_0x908bb5[_0x5df619(0x20c)](_0x2d2c24),_0x908bb5[_0x5df619(0x20c)]({'Key':_0x4beeed[_0x5df619(0x1e9)],'Value':new Date()[_0x5df619(0x216)]()[_0x5df619(0x211)]()});const _0x31c3c1={};_0x31c3c1['apiVersion']=_0x4beeed[_0x5df619(0x258)];const _0x562202=new AWS[(_0x5df619(0x299))](_0x31c3c1),_0xf37aab=await fs[_0x5df619(0x23a)](path[_0x5df619(0x289)](__dirname,'..',_0x4beeed[_0x5df619(0x21b)],_0x4beeed['tbHsK']),_0x4beeed[_0x5df619(0x1e0)]),_0x1c22e3={};_0x1c22e3[_0x5df619(0x260)]=CLOUDFORMATION_SCHEMA;const _0x1186c8=yaml[_0x5df619(0x283)](_0xf37aab,_0x1c22e3);await _0x4beeed[_0x5df619(0x22a)](addVPCData,_0x1186c8,_0x4bd846),await _0x4beeed[_0x5df619(0x26b)](addS3Data,_0x1186c8),await _0x4beeed[_0x5df619(0x22a)](addSubnetData,_0x1186c8,_0x521f8b),await _0x4beeed[_0x5df619(0x20d)](addTags,_0x1186c8,_0x2657c7,_0x908bb5);const _0x3cff5b=JSON['stringify'](_0x1186c8),_0x2670aa={};_0x2670aa[_0x5df619(0x1e2)]=CLUSTER_DEP_STACK_NAME+'-'+_0x2657c7,_0x2670aa[_0x5df619(0x245)]=_0x4beeed[_0x5df619(0x22c)],_0x2670aa['TemplateBody']=_0x3cff5b,_0x2670aa['Parameters']=[{'ParameterKey':_0x4beeed[_0x5df619(0x281)],'ParameterValue':_0x2657c7},{'ParameterKey':_0x4beeed[_0x5df619(0x226)],'ParameterValue':_0x2657c7+_0x5df619(0x222)},{'ParameterKey':_0x4beeed['jZqRD'],'ParameterValue':''+_0x247911},{'ParameterKey':_0x4beeed[_0x5df619(0x219)],'ParameterValue':'0'},{'ParameterKey':_0x4beeed[_0x5df619(0x276)],'ParameterValue':'1'},{'ParameterKey':_0x4beeed[_0x5df619(0x25b)],'ParameterValue':''+_0x1d7522},{'ParameterKey':_0x4beeed[_0x5df619(0x1ec)],'ParameterValue':global_registry[_0x5df619(0x234)]},{'ParameterKey':_0x4beeed[_0x5df619(0x285)],'ParameterValue':global_registry[_0x5df619(0x208)]},{'ParameterKey':_0x4beeed[_0x5df619(0x1ea)],'ParameterValue':global_registry[_0x5df619(0x282)]},{'ParameterKey':_0x4beeed[_0x5df619(0x224)],'ParameterValue':_0x2657c7+_0x5df619(0x1df)},{'ParameterKey':_0x4beeed[_0x5df619(0x1f8)],'ParameterValue':_0x3307bf?_0x4beeed['xiuJp']:_0x4beeed[_0x5df619(0x27a)]}],_0x2670aa[_0x5df619(0x23b)]=[_0x4beeed[_0x5df619(0x291)]],_0x2670aa[_0x5df619(0x290)]=_0x908bb5;const _0x240e48=_0x2670aa;if(_0x4beeed[_0x5df619(0x271)](_0x4bd846,null)&&_0x4beeed[_0x5df619(0x1ed)](_0x4bd846,undefined)){if(_0x4beeed[_0x5df619(0x1d8)](_0x4beeed['bXIQe'],_0x4beeed[_0x5df619(0x27e)]))_0x2fed7a[_0x284d66[_0x5df619(0x200)]]=_0xd7b288[_0x5df619(0x1f7)];else{const _0x633558={};_0x633558['ParameterKey']=_0x4beeed['EwXSx'],_0x633558['ParameterValue']=_0x4bd846,_0x240e48[_0x5df619(0x239)][_0x5df619(0x20c)](_0x633558);}}if(_0x4beeed[_0x5df619(0x271)](_0x521f8b,null)&&_0x4beeed['IWVbJ'](_0x521f8b,undefined)){let _0x213da9=0x1;_0x521f8b[_0x5df619(0x21e)](_0x173b61=>{const _0x856af9=_0x5df619;_0x240e48['Parameters'][_0x856af9(0x20c)]({'ParameterKey':_0x856af9(0x1f1)+_0x4beeed[_0x856af9(0x1dd)](String,_0x213da9)['padStart'](0x2,'0'),'ParameterValue':_0x173b61[_0x856af9(0x21a)]}),_0x213da9+=0x1;});}const _0x28ad92=await _0x562202[_0x5df619(0x205)](_0x240e48)[_0x5df619(0x225)]();logger['debug'](_0x4beeed[_0x5df619(0x1f2)]);const _0x3a32e8={};return _0x3a32e8[_0x5df619(0x1e2)]=_0x28ad92[_0x5df619(0x254)],_0x562202[_0x5df619(0x252)](_0x4beeed[_0x5df619(0x1f3)],_0x3a32e8)[_0x5df619(0x225)]();};