function a27_0x1be9(){const _0x5965fd=['ParameterGroups','ePelx','vvrdl','AmxfZ','browserstack:cluster','Hlbcv','EKSCluster','readFileAsync','NodeGroup','1330835VEdHwY','xTUFW','DpooE','NodeInstanceType','GlfgW','eUUwC','ZvPBZ','24ariWot','Jxire','join','JHjwj','split','2010-05-15','Subnet','subnet-create.yaml','ZvhAS','cYSWa','FMyqm','Subnet03','Subnet01','padStart','IsnhZ','NodeGroupWindows','pgHwT','128010EkLUxS','GCONF','GoIZQ','HoWqY','eKRwb','IqdiJ','ami','s3Bucket','UzyJK','60068Dhuivj','urfXe','SJUrj','SubnetIds','oDrXx','ResourcesVpcConfig','VHOjY','NodeGroupNameWindows','Value','DELETE','../config/logger','XShhF','RAotk','Resources','oPmXL','stackCreateComplete','zZOyx','AWS::CloudFormation::Interface','zioha','subnet-import.yaml','JaaPK','jcqJq','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','YInAm','BkfYT','ParameterKey','sLdSo','NodeAutoScalingGroupDesiredSizeWindows','qBPcg','createClusterStack','hwQOy','Shpml','keys','Parameters','Metadata','promisifyAll','MfEMd','CFTemplates','schema','DependsOn','promise','utf-8','LGbXB','MPBxm','dEsfO','wWcwR','DpjHS','Subnets','EwVXu','toString','lsxIv','forEach','waitFor','NBXbh','ClusterName','RKxcE','jwNzf','318rsJGml','vpc-import.yaml','vpc-create.yaml','57fiDCLQ','hwirf','mrLha','OnFailure','WEDBd','Properties','24815yAjTgR','instanceType','stringify','FkYWW','-NodeGroup','Ref','10erImsJ','ctKWU','../config/constants','Subnet02','icGDH','push','KRpsI','Outputs','debug','-Windows-NodeGroup','ZAjSm','js-yaml','Key','PtRNq','1596530RWCiIm','path','dtGGw','bcpTh','TBzPZ','QXwab','NodeAutoScalingGroupMaxSize','VPC','beiVr','VpcBlock','awsObj','xHWPY','qYVtM','bluebird','Xnywy','TemplateBody','917451VDpuaB','JLRoA','dNTxv','StackId','kEslZ','6qrgJdn','uGyea','load','ParameterValue','StackName','Tags','Fn::Join','IdeXL','buAnL','UPClQ','jvHcJ','NodeImageId','ioiGu','HpJQD','UokCH','RHKEt','Subnet02Block','kLGvw','aws-eks-cluster-dep.yaml','YFacT','RmybW','Subnet03Block','pGfZT','Capabilities','2710264xNWyjO','HjpYF','QIvJV','vXicX','ljeIf','qtHOr','browserstack:creationDate','pZulp','nPXsN','value','SjqdP','gjpxu','kDwyi','AwZIh','RZTHw','mzSqw','ewLWs','s3-create.yaml','XkJmQ'];a27_0x1be9=function(){return _0x5965fd;};return a27_0x1be9();}const a27_0x5e40c5=a27_0x18dc;(function(_0x473eab,_0x30a0ff){const _0x2d460e=a27_0x18dc,_0x5e8c0c=_0x473eab();while(!![]){try{const _0x55fe4f=-parseInt(_0x2d460e(0x1ab))/0x1*(parseInt(_0x2d460e(0x137))/0x2)+parseInt(_0x2d460e(0x17c))/0x3*(parseInt(_0x2d460e(0x140))/0x4)+-parseInt(_0x2d460e(0x196))/0x5+parseInt(_0x2d460e(0x179))/0x6*(parseInt(_0x2d460e(0x182))/0x7)+parseInt(_0x2d460e(0x1c3))/0x8+-parseInt(_0x2d460e(0x1a6))/0x9*(parseInt(_0x2d460e(0x188))/0xa)+parseInt(_0x2d460e(0x11f))/0xb*(parseInt(_0x2d460e(0x126))/0xc);if(_0x55fe4f===_0x30a0ff)break;else _0x5e8c0c['push'](_0x5e8c0c['shift']());}catch(_0x20b009){_0x5e8c0c['push'](_0x5e8c0c['shift']());}}}(a27_0x1be9,0x3cb6e));const fs=require('fs'),path=require(a27_0x5e40c5(0x197)),Promise=require(a27_0x5e40c5(0x1a3)),yaml=require(a27_0x5e40c5(0x193)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require('./AWSUtils')[a27_0x5e40c5(0x1a0)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x5e40c5(0x18a)),{logger}=require(a27_0x5e40c5(0x14a)),{isBucketPresent}=require('./AWSUtils');Promise[a27_0x5e40c5(0x163)](fs);function a27_0x18dc(_0x1e9f5e,_0x544673){const _0x1be9e5=a27_0x1be9();return a27_0x18dc=function(_0x18dc6d,_0x2bf72e){_0x18dc6d=_0x18dc6d-0x11c;let _0x27f8e8=_0x1be9e5[_0x18dc6d];return _0x27f8e8;},a27_0x18dc(_0x1e9f5e,_0x544673);}const mergeTemplates=(_0x1cef9d,_0xfbdbc3)=>{const _0xf32282=a27_0x5e40c5,_0x2dff35={};_0x2dff35[_0xf32282(0x1c8)]=function(_0x471bab,_0x5d538b){return _0x471bab===_0x5d538b;},_0x2dff35[_0xf32282(0x134)]='WFmjM',_0x2dff35['XShhF']=_0xf32282(0x172),_0x2dff35['UEHDj']=_0xf32282(0x1b4);const _0x19965b=_0x2dff35;Object[_0xf32282(0x160)](_0xfbdbc3)[_0xf32282(0x173)](_0x31c375=>{const _0x1589a7=_0xf32282;if(_0x19965b[_0x1589a7(0x1c8)](_0x19965b[_0x1589a7(0x14b)],_0x19965b['UEHDj']))_0x2bad51[_0x1589a7(0x160)](_0x6cc5c9)[_0x1589a7(0x173)](_0x22bf4b=>{const _0x2c8d22=_0x1589a7;var _0x18a8a3=_0xdfd1c4[_0x22bf4b];_0x5de49c[_0x2c8d22(0x160)](_0x18a8a3)['forEach'](_0x33cadc=>{_0x59d0c5[_0x22bf4b][_0x33cadc]=_0x18a8a3[_0x33cadc];});});else{var _0x3474ac=_0xfbdbc3[_0x31c375];Object[_0x1589a7(0x160)](_0x3474ac)[_0x1589a7(0x173)](_0x1bf921=>{const _0x21fd6a=_0x1589a7;if(_0x19965b['qtHOr'](_0x19965b[_0x21fd6a(0x134)],_0x19965b['IsnhZ']))_0x1cef9d[_0x31c375][_0x1bf921]=_0x3474ac[_0x1bf921];else{var _0x1f92d6=_0x13e131[_0x781108];_0x365437[_0x21fd6a(0x160)](_0x1f92d6)[_0x21fd6a(0x173)](_0x128f59=>{_0x1c1669[_0x42aaee][_0x128f59]=_0x1f92d6[_0x128f59];});}});}});},addVPCData=async(_0x3b6536,_0x1a921f)=>{const _0x4d9c2a=a27_0x5e40c5,_0x58c61f={'ZvhAS':_0x4d9c2a(0x19d),'Jxire':function(_0x414bc9,_0x56b32d){return _0x414bc9!==_0x56b32d;},'JLRoA':'KRcWV','ljeIf':_0x4d9c2a(0x15c),'FMyqm':_0x4d9c2a(0x165),'FkYWW':_0x4d9c2a(0x17a),'EwVXu':_0x4d9c2a(0x169),'CdxqI':function(_0x80d4e9,_0x4923f7,_0x49929){return _0x80d4e9(_0x4923f7,_0x49929);},'DpjHS':_0x4d9c2a(0x151),'zioha':_0x4d9c2a(0x195),'VHOjY':_0x4d9c2a(0x17b),'vXicX':function(_0x444a21,_0x3aa296,_0x18c4e2){return _0x444a21(_0x3aa296,_0x18c4e2);},'LhaDo':_0x4d9c2a(0x19f)};if(_0x1a921f){if(_0x58c61f[_0x4d9c2a(0x127)](_0x58c61f[_0x4d9c2a(0x1a7)],_0x58c61f[_0x4d9c2a(0x1c7)])){const _0x16debc=await fs[_0x4d9c2a(0x11d)](path[_0x4d9c2a(0x128)](__dirname,'..',_0x58c61f['FMyqm'],_0x58c61f[_0x4d9c2a(0x185)]),_0x58c61f[_0x4d9c2a(0x170)]),_0x1046b5={};_0x1046b5['schema']=CLOUDFORMATION_SCHEMA;const _0x2e93bb=yaml[_0x4d9c2a(0x1ad)](_0x16debc,_0x1046b5);_0x58c61f['CdxqI'](mergeTemplates,_0x3b6536,_0x2e93bb),_0x3b6536[_0x4d9c2a(0x162)][_0x58c61f[_0x4d9c2a(0x16e)]]['ParameterGroups'][0x0][_0x4d9c2a(0x161)]['push'](_0x58c61f[_0x4d9c2a(0x12e)]);}else{const _0x308a5e={};_0x308a5e[_0x4d9c2a(0x159)]=_0x58c61f[_0x4d9c2a(0x12e)],_0x308a5e[_0x4d9c2a(0x1ae)]=_0x5c96fb,_0x3d0b19[_0x4d9c2a(0x161)][_0x4d9c2a(0x18d)](_0x308a5e);}}else{if(_0x58c61f[_0x4d9c2a(0x127)](_0x58c61f[_0x4d9c2a(0x152)],_0x58c61f[_0x4d9c2a(0x152)]))_0x394f97[_0x4d9c2a(0x14d)][_0x197810][_0x4d9c2a(0x181)][_0x4d9c2a(0x1b0)][_0x4d9c2a(0x18d)](..._0xff3f44);else{const _0x57d321=await fs[_0x4d9c2a(0x11d)](path[_0x4d9c2a(0x128)](__dirname,'..',_0x58c61f[_0x4d9c2a(0x130)],_0x58c61f[_0x4d9c2a(0x146)]),_0x58c61f[_0x4d9c2a(0x170)]),_0x1be655={};_0x1be655[_0x4d9c2a(0x166)]=CLOUDFORMATION_SCHEMA;const _0x3eec22=yaml[_0x4d9c2a(0x1ad)](_0x57d321,_0x1be655);_0x58c61f[_0x4d9c2a(0x1c6)](mergeTemplates,_0x3b6536,_0x3eec22),_0x3b6536[_0x4d9c2a(0x162)][_0x58c61f[_0x4d9c2a(0x16e)]][_0x4d9c2a(0x1d6)][0x0]['Parameters'][_0x4d9c2a(0x18d)](_0x58c61f['LhaDo']);}}},addS3Data=async _0x57198c=>{const _0x3b79f0=a27_0x5e40c5,_0x421f46={'dtGGw':function(_0x1762f2,_0x6ccc48,_0x19e72f){return _0x1762f2(_0x6ccc48,_0x19e72f);},'bcpTh':'CFTemplates','siumq':_0x3b79f0(0x1d4),'sLdSo':'utf-8','icGDH':function(_0x5866e6,_0x4117d2){return _0x5866e6(_0x4117d2);},'bpDaw':function(_0x1a1351,_0x353436){return _0x1a1351===_0x353436;},'ARpzr':function(_0xa96285,_0x38fe0d){return _0xa96285===_0x38fe0d;},'AwZIh':_0x3b79f0(0x1b7),'pGfZT':_0x3b79f0(0x129)},_0x571093=await fs[_0x3b79f0(0x11d)](path[_0x3b79f0(0x128)](__dirname,'..',_0x421f46[_0x3b79f0(0x199)],_0x421f46['siumq']),_0x421f46[_0x3b79f0(0x15a)]),_0x15da68={};_0x15da68[_0x3b79f0(0x166)]=CLOUDFORMATION_SCHEMA;const _0x430258=yaml[_0x3b79f0(0x1ad)](_0x571093,_0x15da68),_0xfcca24=await _0x421f46[_0x3b79f0(0x18c)](isBucketPresent,global_registry['s3Bucket']);_0x421f46['bpDaw'](_0xfcca24,![])&&(_0x421f46['ARpzr'](_0x421f46[_0x3b79f0(0x1d0)],_0x421f46[_0x3b79f0(0x1c1)])?_0x421f46['dtGGw'](_0x3e21e4,_0x2605ff,_0x3a1580):_0x421f46[_0x3b79f0(0x198)](mergeTemplates,_0x57198c,_0x430258));},addSubnetData=async(_0x2525f5,_0x1e9300)=>{const _0x3cf06d=a27_0x5e40c5,_0xe2eff8={'gjpxu':'2|5|4|3|1|0','IqdiJ':_0x3cf06d(0x1b1),'hwirf':function(_0x51a9a5,_0x19824e){return _0x51a9a5(_0x19824e);},'TBzPZ':function(_0x5db385,_0x67d158){return _0x5db385(_0x67d158);},'eKRwb':_0x3cf06d(0x151),'YInAm':function(_0x5b0281,_0x9740ad){return _0x5b0281===_0x9740ad;},'SjqdP':_0x3cf06d(0x1bc),'HjpYF':'2|1|3|0|5|4','jwNzf':function(_0x3dbc6c,_0x272ac5){return _0x3dbc6c(_0x272ac5);},'GlfgW':function(_0x4a71dd,_0x5dee05){return _0x4a71dd(_0x5dee05);},'QIvJV':function(_0x5bfb34,_0x326d53){return _0x5bfb34(_0x326d53);},'vvrdl':function(_0x38d43d,_0x3bef82){return _0x38d43d(_0x3bef82);},'AAIkG':function(_0x12d98c,_0x4c765a){return _0x12d98c(_0x4c765a);},'RKxcE':function(_0x3251b4,_0x2634ad){return _0x3251b4!==_0x2634ad;},'nPXsN':'cOgvX','HoWqY':'BeOvh','NBXbh':_0x3cf06d(0x165),'svhfD':_0x3cf06d(0x153),'MfEMd':_0x3cf06d(0x169),'LGbXB':function(_0x21338e,_0x3740cd,_0x49ac02){return _0x21338e(_0x3740cd,_0x49ac02);},'fbVxa':function(_0x2cbaf1,_0x5ef08d){return _0x2cbaf1!==_0x5ef08d;},'GCONF':_0x3cf06d(0x141),'XFSSi':_0x3cf06d(0x12d),'HpJQD':_0x3cf06d(0x132),'MPBxm':_0x3cf06d(0x18b),'wWcwR':_0x3cf06d(0x131),'RAotk':'Subnet01Block','SOzGq':_0x3cf06d(0x1bb),'mzSqw':_0x3cf06d(0x1c0)};if(_0x1e9300){if(_0xe2eff8[_0x3cf06d(0x177)](_0xe2eff8[_0x3cf06d(0x1cb)],_0xe2eff8[_0x3cf06d(0x13a)])){const _0x3d7784=await fs[_0x3cf06d(0x11d)](path['join'](__dirname,'..',_0xe2eff8[_0x3cf06d(0x175)],_0xe2eff8['svhfD']),_0xe2eff8[_0x3cf06d(0x164)]),_0x1ddafc={};_0x1ddafc['schema']=CLOUDFORMATION_SCHEMA;const _0x3aa573=yaml[_0x3cf06d(0x1ad)](_0x3d7784,_0x1ddafc);_0xe2eff8[_0x3cf06d(0x16a)](mergeTemplates,_0x2525f5,_0x3aa573);let _0x242775=0x1;_0x1e9300[_0x3cf06d(0x173)](_0x47970d=>{const _0x4aa520=_0x3cf06d,_0x22026a={'kDwyi':_0xe2eff8[_0x4aa520(0x1ce)],'XoXAO':_0xe2eff8[_0x4aa520(0x13c)],'SJUrj':function(_0x25d1e9,_0x65b084){const _0x4a4f65=_0x4aa520;return _0xe2eff8[_0x4a4f65(0x17d)](_0x25d1e9,_0x65b084);},'GoIZQ':function(_0x55e6dd,_0x49206f){const _0x1e3b06=_0x4aa520;return _0xe2eff8[_0x1e3b06(0x17d)](_0x55e6dd,_0x49206f);},'RmybW':function(_0x342670,_0x261224){const _0x2a686a=_0x4aa520;return _0xe2eff8[_0x2a686a(0x19a)](_0x342670,_0x261224);},'Xnywy':_0xe2eff8[_0x4aa520(0x13b)],'buAnL':function(_0x43e7f9,_0xfdc52b){return _0xe2eff8['TBzPZ'](_0x43e7f9,_0xfdc52b);}};if(_0xe2eff8[_0x4aa520(0x157)](_0xe2eff8['SjqdP'],_0xe2eff8[_0x4aa520(0x1cd)])){const _0x184e63=_0xe2eff8[_0x4aa520(0x1c4)][_0x4aa520(0x12a)]('|');let _0xc1f7a3=0x0;while(!![]){switch(_0x184e63[_0xc1f7a3++]){case'0':_0x2525f5[_0x4aa520(0x14d)][_0x4aa520(0x135)]['Properties'][_0x4aa520(0x16f)][_0x4aa520(0x18d)]({'Ref':'Subnet'+_0xe2eff8[_0x4aa520(0x178)](String,_0x242775)[_0x4aa520(0x133)](0x2,'0')});continue;case'1':_0x2525f5[_0x4aa520(0x162)][_0xe2eff8[_0x4aa520(0x13b)]]['ParameterGroups'][0x0][_0x4aa520(0x161)][_0x4aa520(0x18d)](_0x4aa520(0x12c)+_0xe2eff8[_0x4aa520(0x123)](String,_0x242775)['padStart'](0x2,'0'));continue;case'2':_0x2525f5[_0x4aa520(0x14d)][_0x4aa520(0x11c)][_0x4aa520(0x181)][_0x4aa520(0x145)]['SubnetIds'][_0x4aa520(0x18d)]({'Ref':_0x4aa520(0x12c)+_0xe2eff8[_0x4aa520(0x1c5)](String,_0x242775)[_0x4aa520(0x133)](0x2,'0')});continue;case'3':_0x2525f5[_0x4aa520(0x14d)][_0x4aa520(0x11e)][_0x4aa520(0x181)]['Subnets'][_0x4aa520(0x18d)]({'Ref':_0x4aa520(0x12c)+_0xe2eff8[_0x4aa520(0x19a)](String,_0x242775)[_0x4aa520(0x133)](0x2,'0')});continue;case'4':_0x242775+=0x1;continue;case'5':_0x2525f5[_0x4aa520(0x18f)][_0x4aa520(0x143)][_0x4aa520(0x148)][_0xe2eff8[_0x4aa520(0x13c)]][0x1][_0x4aa520(0x18d)]({'Ref':_0x4aa520(0x12c)+_0xe2eff8[_0x4aa520(0x1d8)](String,_0x242775)[_0x4aa520(0x133)](0x2,'0')});continue;}break;}}else{const _0x20be37=_0x22026a[_0x4aa520(0x1cf)]['split']('|');let _0x43f261=0x0;while(!![]){switch(_0x20be37[_0x43f261++]){case'0':_0x576c28+=0x1;continue;case'1':_0x36b19c[_0x4aa520(0x18f)][_0x4aa520(0x143)][_0x4aa520(0x148)][_0x22026a['XoXAO']][0x1][_0x4aa520(0x18d)]({'Ref':_0x4aa520(0x12c)+_0x22026a[_0x4aa520(0x142)](_0x3aa30f,_0x45d4e8)['padStart'](0x2,'0')});continue;case'2':_0x181fd5[_0x4aa520(0x14d)][_0x4aa520(0x11c)][_0x4aa520(0x181)][_0x4aa520(0x145)]['SubnetIds']['push']({'Ref':_0x4aa520(0x12c)+_0x22026a[_0x4aa520(0x142)](_0x1d4183,_0x369cf8)[_0x4aa520(0x133)](0x2,'0')});continue;case'3':_0x2b9082[_0x4aa520(0x14d)][_0x4aa520(0x135)][_0x4aa520(0x181)][_0x4aa520(0x16f)][_0x4aa520(0x18d)]({'Ref':_0x4aa520(0x12c)+_0x22026a[_0x4aa520(0x139)](_0x3b4661,_0x49d7e9)[_0x4aa520(0x133)](0x2,'0')});continue;case'4':_0x48572d[_0x4aa520(0x14d)][_0x4aa520(0x11e)][_0x4aa520(0x181)][_0x4aa520(0x16f)][_0x4aa520(0x18d)]({'Ref':_0x4aa520(0x12c)+_0x22026a[_0x4aa520(0x1bf)](_0x5a8e94,_0x43491b)[_0x4aa520(0x133)](0x2,'0')});continue;case'5':_0x33e318[_0x4aa520(0x162)][_0x22026a[_0x4aa520(0x1a4)]][_0x4aa520(0x1d6)][0x0]['Parameters'][_0x4aa520(0x18d)]('Subnet'+_0x22026a[_0x4aa520(0x1b3)](_0x57bc78,_0x48658b)[_0x4aa520(0x133)](0x2,'0'));continue;}break;}}});}else _0x4b6913[_0x4069ae][_0x8e0fea]=_0x302022[_0xb84fd8];}else{if(_0xe2eff8['fbVxa'](_0xe2eff8[_0x3cf06d(0x138)],_0xe2eff8[_0x3cf06d(0x138)]))_0x3d2a17['Parameters']['push']({'ParameterKey':_0x3cf06d(0x12c)+_0xe2eff8['AAIkG'](_0x11d599,_0x2d47ff)[_0x3cf06d(0x133)](0x2,'0'),'ParameterValue':_0x1e625b['value']}),_0x4ed383+=0x1;else{const _0xa623af=await fs[_0x3cf06d(0x11d)](path[_0x3cf06d(0x128)](__dirname,'..',_0xe2eff8[_0x3cf06d(0x175)],_0xe2eff8['XFSSi']),_0xe2eff8[_0x3cf06d(0x164)]),_0x1dff7d={};_0x1dff7d[_0x3cf06d(0x166)]=CLOUDFORMATION_SCHEMA;const _0x492fce=yaml[_0x3cf06d(0x1ad)](_0xa623af,_0x1dff7d);_0xe2eff8[_0x3cf06d(0x16a)](mergeTemplates,_0x2525f5,_0x492fce),_0x2525f5[_0x3cf06d(0x14d)][_0x3cf06d(0x11c)][_0x3cf06d(0x167)][_0x3cf06d(0x18d)](_0xe2eff8[_0x3cf06d(0x1b8)],_0xe2eff8[_0x3cf06d(0x16b)],_0xe2eff8[_0x3cf06d(0x16d)]);const _0x398e44={};_0x398e44['Ref']=_0xe2eff8['HpJQD'];const _0x5b9cd9={};_0x5b9cd9[_0x3cf06d(0x187)]=_0xe2eff8[_0x3cf06d(0x16b)];const _0x3a1a00={};_0x3a1a00[_0x3cf06d(0x187)]=_0xe2eff8[_0x3cf06d(0x16d)],_0x2525f5['Resources']['EKSCluster'][_0x3cf06d(0x181)][_0x3cf06d(0x145)][_0x3cf06d(0x143)]=[_0x398e44,_0x5b9cd9,_0x3a1a00],_0x2525f5[_0x3cf06d(0x162)][_0xe2eff8[_0x3cf06d(0x13b)]][_0x3cf06d(0x1d6)][0x0][_0x3cf06d(0x161)][_0x3cf06d(0x18d)](_0xe2eff8[_0x3cf06d(0x14c)],_0xe2eff8['SOzGq'],_0xe2eff8[_0x3cf06d(0x1d2)]);const _0x56b9b7={};_0x56b9b7[_0x3cf06d(0x187)]=_0xe2eff8[_0x3cf06d(0x1b8)];const _0x3885e0={};_0x3885e0['Ref']=_0xe2eff8[_0x3cf06d(0x16b)];const _0x3a6c22={};_0x3a6c22[_0x3cf06d(0x187)]=_0xe2eff8['wWcwR'],_0x2525f5['Resources'][_0x3cf06d(0x11e)][_0x3cf06d(0x181)]['Subnets']=[_0x56b9b7,_0x3885e0,_0x3a6c22];const _0x553999={};_0x553999[_0x3cf06d(0x187)]=_0xe2eff8[_0x3cf06d(0x1b8)];const _0x490fcd={};_0x490fcd[_0x3cf06d(0x187)]=_0xe2eff8[_0x3cf06d(0x16b)];const _0x144f87={};_0x144f87['Ref']=_0xe2eff8[_0x3cf06d(0x16d)],_0x2525f5[_0x3cf06d(0x14d)][_0x3cf06d(0x135)][_0x3cf06d(0x181)][_0x3cf06d(0x16f)]=[_0x553999,_0x490fcd,_0x144f87],_0x2525f5['Outputs'][_0x3cf06d(0x143)][_0x3cf06d(0x148)][_0xe2eff8[_0x3cf06d(0x13c)]][0x1]=[{'Ref':_0xe2eff8[_0x3cf06d(0x1b8)]},{'Ref':_0xe2eff8[_0x3cf06d(0x16b)]},{'Ref':_0xe2eff8['wWcwR']}];}}},addTags=async(_0x32150b,_0x1c57c5,_0x450bde)=>{const _0x26906a=a27_0x5e40c5,_0x470349={'RHKEt':_0x26906a(0x11e),'jcqJq':_0x26906a(0x135),'UokCH':function(_0x2ba16a,_0x333cc6){return _0x2ba16a(_0x333cc6);},'kEslZ':function(_0x169212,_0x5a4183){return _0x169212===_0x5a4183;},'cYSWa':_0x26906a(0x14e),'pZulp':function(_0x227aba,_0x1de6b6){return _0x227aba!==_0x1de6b6;},'UzyJK':_0x26906a(0x121),'beiVr':_0x26906a(0x158),'UlnZP':function(_0x469429,_0x25a7c3){return _0x469429!==_0x25a7c3;},'oDrXx':_0x26906a(0x1d3)};for(const _0x15883b in _0x32150b[_0x26906a(0x14d)]){if(_0x470349[_0x26906a(0x1ca)](_0x470349[_0x26906a(0x13f)],_0x470349[_0x26906a(0x19e)]))_0x32150b[_0x26906a(0x14d)][_0x15883b][_0x26906a(0x181)]&&_0x32150b['Resources'][_0x15883b][_0x26906a(0x181)][_0x26906a(0x1b0)]&&(_0x470349['UlnZP'](_0x470349[_0x26906a(0x144)],_0x470349[_0x26906a(0x144)])?_0x397f91[_0x415de9[_0x26906a(0x194)]]=_0x42885a[_0x26906a(0x148)]:_0x32150b[_0x26906a(0x14d)][_0x15883b][_0x26906a(0x181)]['Tags']['push'](..._0x450bde));else{for(const _0xa48a28 in _0x52feea[_0x26906a(0x14d)]){_0x595af8[_0x26906a(0x14d)][_0xa48a28]['Properties']&&_0x3ddaa1['Resources'][_0xa48a28][_0x26906a(0x181)]['Tags']&&_0x4789b6[_0x26906a(0x14d)][_0xa48a28][_0x26906a(0x181)]['Tags'][_0x26906a(0x18d)](..._0x4e1f0b);}const _0x3e9846={};_0x1246b5[_0x26906a(0x173)](_0x534289=>{const _0x42cd85=_0x26906a;_0x3e9846[_0x534289[_0x42cd85(0x194)]]=_0x534289[_0x42cd85(0x148)];}),_0x30d67b['Resources'][_0x470349[_0x26906a(0x1ba)]]['Properties'][_0x26906a(0x1b0)]=_0x3e9846,_0xb4ac1[_0x26906a(0x14d)][_0x470349[_0x26906a(0x155)]][_0x26906a(0x181)]['Tags']=_0x3e9846;}}const _0x288791={};_0x450bde['forEach'](_0x50c736=>{const _0x16342d=_0x26906a;if(_0x470349[_0x16342d(0x1aa)](_0x470349[_0x16342d(0x12f)],_0x470349['cYSWa']))_0x288791[_0x50c736[_0x16342d(0x194)]]=_0x50c736[_0x16342d(0x148)];else{const _0x475455={'Hlbcv':function(_0x3b4fa8,_0x59e058){const _0x51bf89=_0x16342d;return _0x470349[_0x51bf89(0x1b9)](_0x3b4fa8,_0x59e058);}};let _0x3410d4=0x1;_0x32523a['forEach'](_0x24fa98=>{const _0x28156d=_0x16342d;_0x2057f5[_0x28156d(0x161)]['push']({'ParameterKey':_0x28156d(0x12c)+_0x475455[_0x28156d(0x1db)](_0x58164a,_0x3410d4)[_0x28156d(0x133)](0x2,'0'),'ParameterValue':_0x24fa98[_0x28156d(0x1cc)]}),_0x3410d4+=0x1;});}}),_0x32150b[_0x26906a(0x14d)][_0x470349[_0x26906a(0x1ba)]][_0x26906a(0x181)][_0x26906a(0x1b0)]=_0x288791,_0x32150b['Resources'][_0x470349[_0x26906a(0x155)]][_0x26906a(0x181)][_0x26906a(0x1b0)]=_0x288791;};exports[a27_0x5e40c5(0x15d)]=async(_0x436872,_0xffae2b,_0x2680d4,_0x1b541a=null,_0x303ba8=null)=>{const _0x3cb403=a27_0x5e40c5,_0x3c617b={'ZvPBZ':function(_0x1f870d,_0x4737ff){return _0x1f870d(_0x4737ff);},'ZAjSm':_0x3cb403(0x1da),'xHWPY':_0x3cb403(0x1c9),'ePelx':_0x3cb403(0x12b),'ctLcB':_0x3cb403(0x165),'xTUFW':_0x3cb403(0x1bd),'Shpml':'utf-8','dvAFM':function(_0x209e00,_0x321fe8,_0x42bfc2){return _0x209e00(_0x321fe8,_0x42bfc2);},'pZbIx':function(_0x56f2a0,_0x504824){return _0x56f2a0(_0x504824);},'pgHwT':function(_0x1b69e6,_0x48d340,_0x5335c0){return _0x1b69e6(_0x48d340,_0x5335c0);},'YFacT':function(_0x591452,_0x4f1a9e,_0x418657,_0x59c26b){return _0x591452(_0x4f1a9e,_0x418657,_0x59c26b);},'XkJmQ':_0x3cb403(0x149),'fRQxG':_0x3cb403(0x176),'RZTHw':'NodeGroupName','NsJvP':'NodeAutoScalingGroupMinSize','IdeXL':'NodeAutoScalingGroupMinSizeWindows','qYVtM':_0x3cb403(0x15b),'eUUwC':_0x3cb403(0x19c),'JaaPK':_0x3cb403(0x1b6),'uGyea':_0x3cb403(0x122),'mrLha':'S3BucketName','jvHcJ':_0x3cb403(0x147),'hwQOy':'CAPABILITY_NAMED_IAM','QXwab':function(_0xd34986,_0x428829){return _0xd34986!=_0x428829;},'dEsfO':function(_0x20686d,_0x55be83){return _0x20686d!==_0x55be83;},'zZOyx':function(_0x477ce5,_0x4b1794){return _0x477ce5===_0x4b1794;},'WEDBd':_0x3cb403(0x18e),'roZvs':_0x3cb403(0x19d),'ctKWU':function(_0x16d63a,_0x4c1d0f){return _0x16d63a!==_0x4c1d0f;},'dNTxv':_0x3cb403(0x156),'AmxfZ':_0x3cb403(0x14f)},_0x98f34d=COMMON_HST_TAGS,_0x548ea2={};_0x548ea2[_0x3cb403(0x194)]=_0x3c617b[_0x3cb403(0x192)],_0x548ea2[_0x3cb403(0x148)]=_0x436872,_0x98f34d[_0x3cb403(0x18d)](_0x548ea2),_0x98f34d[_0x3cb403(0x18d)]({'Key':_0x3c617b[_0x3cb403(0x1a1)],'Value':new Date()['valueOf']()[_0x3cb403(0x171)]()});const _0x6687f4={};_0x6687f4['apiVersion']=_0x3c617b[_0x3cb403(0x1d7)];const _0x1bbbfe=new AWS['CloudFormation'](_0x6687f4),_0x39ee73=await fs[_0x3cb403(0x11d)](path[_0x3cb403(0x128)](__dirname,'..',_0x3c617b['ctLcB'],_0x3c617b[_0x3cb403(0x120)]),_0x3c617b[_0x3cb403(0x15f)]),_0x54bc46={};_0x54bc46[_0x3cb403(0x166)]=CLOUDFORMATION_SCHEMA;const _0xbe7162=yaml[_0x3cb403(0x1ad)](_0x39ee73,_0x54bc46);await _0x3c617b['dvAFM'](addVPCData,_0xbe7162,_0x1b541a),await _0x3c617b['pZbIx'](addS3Data,_0xbe7162),await _0x3c617b[_0x3cb403(0x136)](addSubnetData,_0xbe7162,_0x303ba8),await _0x3c617b[_0x3cb403(0x1be)](addTags,_0xbe7162,_0x436872,_0x98f34d);const _0x5744a3=JSON[_0x3cb403(0x184)](_0xbe7162),_0x50e705={};_0x50e705[_0x3cb403(0x1af)]=CLUSTER_DEP_STACK_NAME+'-'+_0x436872,_0x50e705[_0x3cb403(0x17f)]=_0x3c617b[_0x3cb403(0x1d5)],_0x50e705[_0x3cb403(0x1a5)]=_0x5744a3,_0x50e705[_0x3cb403(0x161)]=[{'ParameterKey':_0x3c617b['fRQxG'],'ParameterValue':_0x436872},{'ParameterKey':_0x3c617b[_0x3cb403(0x1d1)],'ParameterValue':_0x436872+_0x3cb403(0x186)},{'ParameterKey':_0x3c617b['NsJvP'],'ParameterValue':''+_0xffae2b},{'ParameterKey':_0x3c617b[_0x3cb403(0x1b2)],'ParameterValue':'0'},{'ParameterKey':_0x3c617b[_0x3cb403(0x1a2)],'ParameterValue':'1'},{'ParameterKey':_0x3c617b[_0x3cb403(0x124)],'ParameterValue':''+_0x2680d4},{'ParameterKey':_0x3c617b[_0x3cb403(0x154)],'ParameterValue':global_registry[_0x3cb403(0x13d)]},{'ParameterKey':_0x3c617b[_0x3cb403(0x1ac)],'ParameterValue':global_registry[_0x3cb403(0x183)]},{'ParameterKey':_0x3c617b[_0x3cb403(0x17e)],'ParameterValue':global_registry[_0x3cb403(0x13e)]},{'ParameterKey':_0x3c617b[_0x3cb403(0x1b5)],'ParameterValue':_0x436872+_0x3cb403(0x191)}],_0x50e705[_0x3cb403(0x1c2)]=[_0x3c617b[_0x3cb403(0x15e)]],_0x50e705[_0x3cb403(0x1b0)]=_0x98f34d;const _0x1847f4=_0x50e705;if(_0x3c617b['QXwab'](_0x1b541a,null)&&_0x3c617b[_0x3cb403(0x16c)](_0x1b541a,undefined)){if(_0x3c617b[_0x3cb403(0x150)](_0x3c617b[_0x3cb403(0x180)],_0x3c617b[_0x3cb403(0x180)])){const _0x13724c={};_0x13724c[_0x3cb403(0x159)]=_0x3c617b['roZvs'],_0x13724c[_0x3cb403(0x1ae)]=_0x1b541a,_0x1847f4[_0x3cb403(0x161)][_0x3cb403(0x18d)](_0x13724c);}else _0x285558[_0x3cb403(0x14d)][_0x1f7998][_0x3cb403(0x181)]&&_0x418b20[_0x3cb403(0x14d)][_0x5e0d1d][_0x3cb403(0x181)][_0x3cb403(0x1b0)]&&_0x59d925[_0x3cb403(0x14d)][_0x41ce3c]['Properties'][_0x3cb403(0x1b0)]['push'](..._0x10b67d);}if(_0x3c617b[_0x3cb403(0x19b)](_0x303ba8,null)&&_0x3c617b[_0x3cb403(0x189)](_0x303ba8,undefined)){let _0x274206=0x1;_0x303ba8[_0x3cb403(0x173)](_0x363c35=>{const _0x40eaea=_0x3cb403;_0x1847f4['Parameters'][_0x40eaea(0x18d)]({'ParameterKey':_0x40eaea(0x12c)+_0x3c617b[_0x40eaea(0x125)](String,_0x274206)[_0x40eaea(0x133)](0x2,'0'),'ParameterValue':_0x363c35[_0x40eaea(0x1cc)]}),_0x274206+=0x1;});}const _0x47402b=await _0x1bbbfe['createStack'](_0x1847f4)[_0x3cb403(0x168)]();logger[_0x3cb403(0x190)](_0x3c617b[_0x3cb403(0x1a8)]);const _0x1ee897={};return _0x1ee897[_0x3cb403(0x1af)]=_0x47402b[_0x3cb403(0x1a9)],_0x1bbbfe[_0x3cb403(0x174)](_0x3c617b[_0x3cb403(0x1d9)],_0x1ee897)[_0x3cb403(0x168)]();};