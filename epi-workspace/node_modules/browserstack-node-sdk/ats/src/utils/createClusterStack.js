const a27_0x25b46e=a27_0x4b55;(function(_0x1030f1,_0x5b65b7){const _0x1c519f=a27_0x4b55,_0x4ab643=_0x1030f1();while(!![]){try{const _0xfc932d=parseInt(_0x1c519f(0xc1))/0x1+-parseInt(_0x1c519f(0x131))/0x2*(parseInt(_0x1c519f(0xd3))/0x3)+-parseInt(_0x1c519f(0x120))/0x4+-parseInt(_0x1c519f(0x125))/0x5+-parseInt(_0x1c519f(0xea))/0x6*(-parseInt(_0x1c519f(0xd0))/0x7)+-parseInt(_0x1c519f(0xe3))/0x8+parseInt(_0x1c519f(0x129))/0x9;if(_0xfc932d===_0x5b65b7)break;else _0x4ab643['push'](_0x4ab643['shift']());}catch(_0x3f675a){_0x4ab643['push'](_0x4ab643['shift']());}}}(a27_0x24fb,0xc826f));function a27_0x4b55(_0x4ea510,_0x4977e1){const _0x24fb3f=a27_0x24fb();return a27_0x4b55=function(_0x4b55c9,_0x4cb68f){_0x4b55c9=_0x4b55c9-0xab;let _0x229f9e=_0x24fb3f[_0x4b55c9];return _0x229f9e;},a27_0x4b55(_0x4ea510,_0x4977e1);}const fs=require('fs'),path=require(a27_0x25b46e(0x126)),Promise=require(a27_0x25b46e(0x11a)),yaml=require(a27_0x25b46e(0xdb)),{CLOUDFORMATION_SCHEMA}=require(a27_0x25b46e(0x136)),AWS=require(a27_0x25b46e(0x11d))[a27_0x25b46e(0xb1)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x25b46e(0xb2)),{isBucketPresent}=require(a27_0x25b46e(0x11d));Promise[a27_0x25b46e(0x13f)](fs);function a27_0x24fb(){const _0x17b417=['FdDyj','iOBwT','StackName','syqBA','Subnets','subnet-import.yaml','hcIma','Subnet','subnet-create.yaml','QHXbo','iwyeL','nIhap','VdEEc','KFwiC','EKSCluster','awsObj','../config/logger','NodeGroupName','Properties','vpc-import.yaml','HJRiR','rYGpm','CAPABILITY_NAMED_IAM','yDGLT','aMPYB','TOBcx','QtvYd','ClusterName','StackId','browserstack:cluster','SubnetIds','786572guQHPV','5|2|0|4|3|1','YbMbI','XINLd','Key','promise','Value','schema','Resources','apiVersion','sMFEc','NodeGroup','daLHB','jPpcy','UaoVu','28NivTKk','HLUIx','stringify','2271YQgAny','DOraG','ruGpr','NodeAutoScalingGroupDesiredSizeWindows','NRIDk','noFJS','DnHzG','ParameterGroups','js-yaml','readFileAsync','RURYT','XzuFC','Parameters','BEJCb','Rvzoj','Metadata','2689952YAZJxP','UADUG','NodeAutoScalingGroupMinSizeWindows','debug','vTwfA','Capabilities','sWNDR','2189076bcLpXW','yrtzA','WaHbd','jOPVg','NodeAutoScalingGroupMinSize','load','browserstack:creationDate','Ref','keys','nvbhb','mLxYL','KpzbV','-Windows-NodeGroup','CloudFormation','lUIgL','tQKAK','YOklB','yUQed','S3BucketName','iMeFv','pIoCZ','Outputs','value','2010-05-15','split','zCsMP','EvYzM','lwZbq','hvpfj','tsyRU','NVokH','waitFor','VNwMp','join','QGHdR','EJMnG','YcUEt','bpxiL','padStart','aws-eks-cluster-dep.yaml','YHRRB','TemplateBody','Subnet02','ieRgL','TlfYr','Tags','CFTemplates','AWS::CloudFormation::Interface','bluebird','GXSdo','DELETE','./AWSUtils','iDwbp','PRyuE','1001992xCdBUg','NodeGroupWindows','push','s3-create.yaml','aUuPP','3154540JRXNir','path','ParameterValue','ResourcesVpcConfig','8009316jaozpz','HElQA','MesfU','Subnet03','vpc-create.yaml','instanceType','DgTeR','oPRMn','2902xBNlpF','trbmR','OnFailure','cUCrR','NiHem','js-yaml-cloudformation-schema','KYKqe','VpcBlock','lHFEp','VPC','valueOf','uecCO','KRNoK','NodeAutoScalingGroupMaxSize','promisifyAll','hCtjB','Fn::Join','jppRr','RQxpM','createStack','jvxzE','ami','utf-8','RgbRz','wVQYY','NodeGroupNameWindows','SIVHy','NodeImageId','forEach','JCOru','UTkQJ','RrMlc','JBXih','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','FDNkJ','toString','eEkRO','DependsOn'];a27_0x24fb=function(){return _0x17b417;};return a27_0x24fb();}const mergeTemplates=(_0x4ad713,_0x270979)=>{const _0x4cff07=a27_0x25b46e,_0x4c56cd={'mLxYL':function(_0x3b6bef,_0x4ffe06){return _0x3b6bef!==_0x4ffe06;},'vTwfA':'GvzsW','bHLTd':function(_0x25ea0c,_0x215708){return _0x25ea0c(_0x215708);},'yrtzA':function(_0x1e4abd,_0x3d197f){return _0x1e4abd!==_0x3d197f;},'YHRRB':'fSpYT'};Object[_0x4cff07(0xf2)](_0x270979)[_0x4cff07(0x14d)](_0x4f907b=>{const _0x334372=_0x4cff07,_0x59b2fb={'snVfo':function(_0x2954c7,_0x2b8850){return _0x4c56cd['bHLTd'](_0x2954c7,_0x2b8850);}};if(_0x4c56cd[_0x334372(0xeb)](_0x4c56cd[_0x334372(0x112)],_0x4c56cd[_0x334372(0x112)])){let _0x22c62f=0x1;_0x1ac9ae['forEach'](_0x23df2a=>{const _0x22ee62=_0x334372;_0x54360a[_0x22ee62(0xdf)]['push']({'ParameterKey':_0x22ee62(0x15e)+_0x59b2fb['snVfo'](_0xb8f984,_0x22c62f)[_0x22ee62(0x110)](0x2,'0'),'ParameterValue':_0x23df2a[_0x22ee62(0x100)]}),_0x22c62f+=0x1;});}else{var _0x513341=_0x270979[_0x4f907b];Object[_0x334372(0xf2)](_0x513341)[_0x334372(0x14d)](_0x35f8dd=>{const _0x4fc0fd=_0x334372;_0x4c56cd[_0x4fc0fd(0xf4)](_0x4c56cd[_0x4fc0fd(0xe7)],_0x4c56cd['vTwfA'])?_0x129a56[_0x114941][_0x98464a]=_0x38a3de[_0x394d21]:_0x4ad713[_0x4f907b][_0x35f8dd]=_0x513341[_0x35f8dd];});}});},addVPCData=async(_0x1520f2,_0x791e1)=>{const _0x4315dc=a27_0x25b46e,_0x8f4c31={'HLUIx':function(_0x593122,_0x424efb){return _0x593122(_0x424efb);},'jvxzE':function(_0x1ddcc5,_0x28c96c){return _0x1ddcc5!==_0x28c96c;},'hvpfj':_0x4315dc(0xf9),'DOraG':_0x4315dc(0x118),'ksyQn':_0x4315dc(0xb5),'HJRiR':_0x4315dc(0x147),'Rvzoj':function(_0x4bb1b1,_0x3bb6ee,_0x24cca0){return _0x4bb1b1(_0x3bb6ee,_0x24cca0);},'aUuPP':_0x4315dc(0x119),'YcUEt':_0x4315dc(0x13a),'iDwbp':function(_0x5b91d4,_0xc971a0){return _0x5b91d4!==_0xc971a0;},'YbMbI':_0x4315dc(0xd9),'DTDMQ':_0x4315dc(0x12d),'JCOru':function(_0x3367af,_0x23d84e,_0x15bc30){return _0x3367af(_0x23d84e,_0x15bc30);},'DgTeR':_0x4315dc(0x138)};if(_0x791e1){if(_0x8f4c31[_0x4315dc(0x145)](_0x8f4c31[_0x4315dc(0x106)],_0x8f4c31[_0x4315dc(0x106)]))_0x177a7f['Resources'][_0x2be4ac][_0x4315dc(0xb4)]&&_0x490d9b['Resources'][_0x1dab75][_0x4315dc(0xb4)][_0x4315dc(0x117)]&&_0x6c2381['Resources'][_0x521e84]['Properties'][_0x4315dc(0x117)][_0x4315dc(0x122)](..._0x4e09fd);else{const _0xd6ca55=await fs[_0x4315dc(0xdc)](path[_0x4315dc(0x10b)](__dirname,'..',_0x8f4c31[_0x4315dc(0xd4)],_0x8f4c31['ksyQn']),_0x8f4c31[_0x4315dc(0xb6)]),_0x5cc98d={};_0x5cc98d['schema']=CLOUDFORMATION_SCHEMA;const _0x17a03f=yaml[_0x4315dc(0xef)](_0xd6ca55,_0x5cc98d);_0x8f4c31[_0x4315dc(0xe1)](mergeTemplates,_0x1520f2,_0x17a03f),_0x1520f2[_0x4315dc(0xe2)][_0x8f4c31[_0x4315dc(0x124)]][_0x4315dc(0xda)][0x0][_0x4315dc(0xdf)][_0x4315dc(0x122)](_0x8f4c31[_0x4315dc(0x10e)]);}}else{if(_0x8f4c31[_0x4315dc(0x11e)](_0x8f4c31[_0x4315dc(0xc3)],_0x8f4c31['YbMbI']))_0x308156[_0x4315dc(0xdf)][_0x4315dc(0x122)]({'ParameterKey':_0x4315dc(0x15e)+_0x8f4c31[_0x4315dc(0xd1)](_0x4f277b,_0xda27db)[_0x4315dc(0x110)](0x2,'0'),'ParameterValue':_0x46fd61[_0x4315dc(0x100)]}),_0x446ae5+=0x1;else{const _0x54c337=await fs[_0x4315dc(0xdc)](path[_0x4315dc(0x10b)](__dirname,'..',_0x8f4c31[_0x4315dc(0xd4)],_0x8f4c31['DTDMQ']),_0x8f4c31[_0x4315dc(0xb6)]),_0x31dec0={};_0x31dec0['schema']=CLOUDFORMATION_SCHEMA;const _0x764e50=yaml[_0x4315dc(0xef)](_0x54c337,_0x31dec0);_0x8f4c31[_0x4315dc(0x14e)](mergeTemplates,_0x1520f2,_0x764e50),_0x1520f2['Metadata'][_0x8f4c31[_0x4315dc(0x124)]][_0x4315dc(0xda)][0x0][_0x4315dc(0xdf)][_0x4315dc(0x122)](_0x8f4c31[_0x4315dc(0x12f)]);}}},addS3Data=async _0x2ed35c=>{const _0x5db38d=a27_0x25b46e,_0x469395={'EDwRt':_0x5db38d(0x118),'EvYzM':_0x5db38d(0x123),'aszbt':_0x5db38d(0x147),'ieRgL':function(_0x580fc3,_0x236072){return _0x580fc3(_0x236072);},'QHXbo':function(_0x393778,_0x4c74e2){return _0x393778===_0x4c74e2;},'gMoMa':_0x5db38d(0xd5),'iwyeL':'Gyyln','TcZfu':function(_0x15659d,_0x3ceb4e,_0x191141){return _0x15659d(_0x3ceb4e,_0x191141);}},_0x996365=await fs[_0x5db38d(0xdc)](path[_0x5db38d(0x10b)](__dirname,'..',_0x469395['EDwRt'],_0x469395[_0x5db38d(0x104)]),_0x469395['aszbt']),_0x2c25e9={};_0x2c25e9[_0x5db38d(0xc8)]=CLOUDFORMATION_SCHEMA;const _0x4a956f=yaml[_0x5db38d(0xef)](_0x996365,_0x2c25e9),_0xf9c520=await _0x469395[_0x5db38d(0x115)](isBucketPresent,global_registry['s3Bucket']);_0x469395[_0x5db38d(0xab)](_0xf9c520,![])&&(_0x469395[_0x5db38d(0xab)](_0x469395['gMoMa'],_0x469395[_0x5db38d(0xac)])?_0x592451['keys'](_0x37928c)[_0x5db38d(0x14d)](_0x292347=>{const _0x5a2f34=_0x5db38d;var _0xea620f=_0x2b35c1[_0x292347];_0x424391[_0x5a2f34(0xf2)](_0xea620f)[_0x5a2f34(0x14d)](_0x237267=>{_0x39233c[_0x292347][_0x237267]=_0xea620f[_0x237267];});}):_0x469395['TcZfu'](mergeTemplates,_0x2ed35c,_0x4a956f));},addSubnetData=async(_0x117f12,_0x3a18d5)=>{const _0x40f109=a27_0x25b46e,_0x39d872={'yDGLT':function(_0x253d05,_0x37ec07,_0x1fe913){return _0x253d05(_0x37ec07,_0x1fe913);},'aMPYB':function(_0x564300,_0x33fbf4){return _0x564300!==_0x33fbf4;},'pIoCZ':_0x40f109(0x103),'jXsZe':_0x40f109(0xcd),'FDNkJ':_0x40f109(0xc2),'syqBA':function(_0x5284e4,_0x1578d8){return _0x5284e4(_0x1578d8);},'nvbhb':'AWS::CloudFormation::Interface','RgbRz':function(_0x29e4dc,_0x3fda5f){return _0x29e4dc(_0x3fda5f);},'eEkRO':'Fn::Join','KRNoK':function(_0xcab525,_0x2c6084){return _0xcab525(_0x2c6084);},'trbmR':function(_0x320688,_0x12b2c1){return _0x320688(_0x12b2c1);},'GXSdo':'VPC','xTwaf':function(_0x219161,_0x465a5a){return _0x219161!==_0x465a5a;},'NQSJL':_0x40f109(0xe9),'KYKqe':_0x40f109(0x14b),'EJMnG':_0x40f109(0x118),'lwZbq':_0x40f109(0x15c),'WaHbd':_0x40f109(0x147),'QtvYd':function(_0x3d1ab0,_0x1de3ba,_0x386d01){return _0x3d1ab0(_0x1de3ba,_0x386d01);},'kvLYu':'tpcNt','RURYT':_0x40f109(0xf8),'NiHem':_0x40f109(0x15f),'JBXih':'Subnet01','rYGpm':_0x40f109(0x114),'MesfU':_0x40f109(0x12c),'lHFEp':'Subnet01Block','uecCO':'Subnet02Block','Xcwem':'Subnet03Block'};if(_0x3a18d5){if(_0x39d872['xTwaf'](_0x39d872['NQSJL'],_0x39d872[_0x40f109(0x137)])){const _0x54097e=await fs[_0x40f109(0xdc)](path[_0x40f109(0x10b)](__dirname,'..',_0x39d872[_0x40f109(0x10d)],_0x39d872[_0x40f109(0x105)]),_0x39d872[_0x40f109(0xec)]),_0x300b99={};_0x300b99[_0x40f109(0xc8)]=CLOUDFORMATION_SCHEMA;const _0x280849=yaml['load'](_0x54097e,_0x300b99);_0x39d872[_0x40f109(0xbc)](mergeTemplates,_0x117f12,_0x280849);let _0x38fe54=0x1;_0x3a18d5[_0x40f109(0x14d)](_0x567ee4=>{const _0x18365f=_0x40f109;if(_0x39d872[_0x18365f(0xba)](_0x39d872[_0x18365f(0xfe)],_0x39d872['jXsZe'])){const _0x39c504=_0x39d872[_0x18365f(0x153)][_0x18365f(0x102)]('|');let _0x2dc2b5=0x0;while(!![]){switch(_0x39c504[_0x2dc2b5++]){case'0':_0x117f12[_0x18365f(0xc9)][_0x18365f(0xcc)][_0x18365f(0xb4)][_0x18365f(0x15b)][_0x18365f(0x122)]({'Ref':_0x18365f(0x15e)+_0x39d872['syqBA'](String,_0x38fe54)[_0x18365f(0x110)](0x2,'0')});continue;case'1':_0x38fe54+=0x1;continue;case'2':_0x117f12[_0x18365f(0xe2)][_0x39d872['nvbhb']][_0x18365f(0xda)][0x0][_0x18365f(0xdf)][_0x18365f(0x122)](_0x18365f(0x15e)+_0x39d872[_0x18365f(0x148)](String,_0x38fe54)[_0x18365f(0x110)](0x2,'0'));continue;case'3':_0x117f12[_0x18365f(0xff)][_0x18365f(0xc0)][_0x18365f(0xc7)][_0x39d872['eEkRO']][0x1][_0x18365f(0x122)]({'Ref':'Subnet'+_0x39d872[_0x18365f(0x15a)](String,_0x38fe54)[_0x18365f(0x110)](0x2,'0')});continue;case'4':_0x117f12[_0x18365f(0xc9)][_0x18365f(0x121)][_0x18365f(0xb4)]['Subnets'][_0x18365f(0x122)]({'Ref':_0x18365f(0x15e)+_0x39d872[_0x18365f(0x13d)](String,_0x38fe54)[_0x18365f(0x110)](0x2,'0')});continue;case'5':_0x117f12['Resources'][_0x18365f(0xb0)]['Properties'][_0x18365f(0x128)][_0x18365f(0xc0)][_0x18365f(0x122)]({'Ref':'Subnet'+_0x39d872[_0x18365f(0x132)](String,_0x38fe54)[_0x18365f(0x110)](0x2,'0')});continue;}break;}}else _0x39d872[_0x18365f(0xb9)](_0x110a99,_0x4c40d4,_0x47358b);});}else{const _0x128bf0={};_0x128bf0['ParameterKey']=_0x39d872[_0x40f109(0x11b)],_0x128bf0[_0x40f109(0x127)]=_0x4fd703,_0x423d86[_0x40f109(0xdf)]['push'](_0x128bf0);}}else{if(_0x39d872[_0x40f109(0xba)](_0x39d872['kvLYu'],_0x39d872[_0x40f109(0xdd)])){const _0x4b2142=await fs[_0x40f109(0xdc)](path['join'](__dirname,'..',_0x39d872[_0x40f109(0x10d)],_0x39d872[_0x40f109(0x135)]),_0x39d872[_0x40f109(0xec)]),_0x4a709c={};_0x4a709c[_0x40f109(0xc8)]=CLOUDFORMATION_SCHEMA;const _0x45b2da=yaml[_0x40f109(0xef)](_0x4b2142,_0x4a709c);_0x39d872[_0x40f109(0xb9)](mergeTemplates,_0x117f12,_0x45b2da),_0x117f12['Resources'][_0x40f109(0xb0)][_0x40f109(0x156)][_0x40f109(0x122)](_0x39d872[_0x40f109(0x151)],_0x39d872['rYGpm'],_0x39d872[_0x40f109(0x12b)]);const _0x5f3c86={};_0x5f3c86[_0x40f109(0xf1)]=_0x39d872[_0x40f109(0x151)];const _0x581511={};_0x581511[_0x40f109(0xf1)]=_0x39d872[_0x40f109(0xb7)];const _0x4107f6={};_0x4107f6[_0x40f109(0xf1)]=_0x39d872[_0x40f109(0x12b)],_0x117f12[_0x40f109(0xc9)][_0x40f109(0xb0)][_0x40f109(0xb4)][_0x40f109(0x128)][_0x40f109(0xc0)]=[_0x5f3c86,_0x581511,_0x4107f6],_0x117f12[_0x40f109(0xe2)][_0x39d872[_0x40f109(0xf3)]][_0x40f109(0xda)][0x0][_0x40f109(0xdf)][_0x40f109(0x122)](_0x39d872[_0x40f109(0x139)],_0x39d872[_0x40f109(0x13c)],_0x39d872['Xcwem']);const _0x2e6151={};_0x2e6151[_0x40f109(0xf1)]=_0x39d872[_0x40f109(0x151)];const _0x2bccc={};_0x2bccc['Ref']=_0x39d872[_0x40f109(0xb7)];const _0x142fe4={};_0x142fe4[_0x40f109(0xf1)]=_0x39d872['MesfU'],_0x117f12[_0x40f109(0xc9)][_0x40f109(0xcc)][_0x40f109(0xb4)][_0x40f109(0x15b)]=[_0x2e6151,_0x2bccc,_0x142fe4];const _0x53c3c4={};_0x53c3c4[_0x40f109(0xf1)]=_0x39d872[_0x40f109(0x151)];const _0x4e05c6={};_0x4e05c6['Ref']=_0x39d872[_0x40f109(0xb7)];const _0x41ac3e={};_0x41ac3e[_0x40f109(0xf1)]=_0x39d872[_0x40f109(0x12b)],_0x117f12[_0x40f109(0xc9)][_0x40f109(0x121)][_0x40f109(0xb4)][_0x40f109(0x15b)]=[_0x53c3c4,_0x4e05c6,_0x41ac3e],_0x117f12[_0x40f109(0xff)]['SubnetIds'][_0x40f109(0xc7)][_0x39d872[_0x40f109(0x155)]][0x1]=[{'Ref':_0x39d872[_0x40f109(0x151)]},{'Ref':_0x39d872[_0x40f109(0xb7)]},{'Ref':_0x39d872['MesfU']}];}else _0x347a7b[_0x1f112b[_0x40f109(0xc5)]]=_0x5227ac[_0x40f109(0xc7)];}},addTags=async(_0x31c53c,_0xe2f72,_0x13f301)=>{const _0x4aa4df=a27_0x25b46e,_0x35cdc9={'TOBcx':'1|5|3|0|2|4','cUCrR':function(_0x13bd9a,_0xc471a8){return _0x13bd9a(_0xc471a8);},'IErSS':_0x4aa4df(0x141),'qfcln':function(_0x50faab,_0x213979){return _0x50faab(_0x213979);},'TlfYr':'AWS::CloudFormation::Interface','RrMlc':function(_0x489745,_0x380717){return _0x489745!==_0x380717;},'RQxpM':_0x4aa4df(0x142),'sMFEc':_0x4aa4df(0x15d),'VNwMp':function(_0x2f84d7,_0x3c5035){return _0x2f84d7===_0x3c5035;},'jPpcy':_0x4aa4df(0x108),'PRyuE':_0x4aa4df(0xcc),'myahj':_0x4aa4df(0x121)};for(const _0xa7156c in _0x31c53c[_0x4aa4df(0xc9)]){if(_0x35cdc9[_0x4aa4df(0x150)](_0x35cdc9[_0x4aa4df(0xcb)],_0x35cdc9[_0x4aa4df(0xcb)])){var _0x437755=_0x55ecc8[_0x4ad977];_0x2ea06e['keys'](_0x437755)['forEach'](_0xee244c=>{_0x272ac7[_0x2c1531][_0xee244c]=_0x437755[_0xee244c];});}else _0x31c53c[_0x4aa4df(0xc9)][_0xa7156c]['Properties']&&_0x31c53c['Resources'][_0xa7156c][_0x4aa4df(0xb4)]['Tags']&&(_0x35cdc9[_0x4aa4df(0x10a)](_0x35cdc9[_0x4aa4df(0xce)],_0x35cdc9[_0x4aa4df(0xce)])?_0x31c53c[_0x4aa4df(0xc9)][_0xa7156c][_0x4aa4df(0xb4)][_0x4aa4df(0x117)][_0x4aa4df(0x122)](..._0x13f301):_0x50ffce[_0x4aa4df(0xc9)][_0x5db372][_0x4aa4df(0xb4)]['Tags'][_0x4aa4df(0x122)](..._0x16d34d));}const _0x20673e={};_0x13f301[_0x4aa4df(0x14d)](_0x20e401=>{const _0x343415=_0x4aa4df;if(_0x35cdc9['RrMlc'](_0x35cdc9['RQxpM'],_0x35cdc9[_0x343415(0x143)])){const _0x4046be=_0x35cdc9[_0x343415(0xbb)][_0x343415(0x102)]('|');let _0x300880=0x0;while(!![]){switch(_0x4046be[_0x300880++]){case'0':_0xe09941[_0x343415(0xc9)][_0x343415(0x121)][_0x343415(0xb4)][_0x343415(0x15b)][_0x343415(0x122)]({'Ref':_0x343415(0x15e)+_0x35cdc9[_0x343415(0x134)](_0x54c3bf,_0x1edebf)[_0x343415(0x110)](0x2,'0')});continue;case'1':_0x3be977[_0x343415(0xc9)][_0x343415(0xb0)][_0x343415(0xb4)][_0x343415(0x128)][_0x343415(0xc0)][_0x343415(0x122)]({'Ref':'Subnet'+_0x35cdc9[_0x343415(0x134)](_0x4c37ea,_0x3decfe)['padStart'](0x2,'0')});continue;case'2':_0x4fb2ae[_0x343415(0xff)]['SubnetIds']['Value'][_0x35cdc9['IErSS']][0x1]['push']({'Ref':_0x343415(0x15e)+_0x35cdc9['qfcln'](_0x1f52f2,_0x416d46)[_0x343415(0x110)](0x2,'0')});continue;case'3':_0x5d037e[_0x343415(0xc9)][_0x343415(0xcc)]['Properties'][_0x343415(0x15b)][_0x343415(0x122)]({'Ref':_0x343415(0x15e)+_0x35cdc9[_0x343415(0x134)](_0x109413,_0x5af341)[_0x343415(0x110)](0x2,'0')});continue;case'4':_0x1f3d9a+=0x1;continue;case'5':_0x12e9a9[_0x343415(0xe2)][_0x35cdc9[_0x343415(0x116)]][_0x343415(0xda)][0x0][_0x343415(0xdf)][_0x343415(0x122)](_0x343415(0x15e)+_0x35cdc9[_0x343415(0x134)](_0x38318f,_0x5b7f7e)[_0x343415(0x110)](0x2,'0'));continue;}break;}}else _0x20673e[_0x20e401[_0x343415(0xc5)]]=_0x20e401[_0x343415(0xc7)];}),_0x31c53c[_0x4aa4df(0xc9)][_0x35cdc9[_0x4aa4df(0x11f)]][_0x4aa4df(0xb4)][_0x4aa4df(0x117)]=_0x20673e,_0x31c53c[_0x4aa4df(0xc9)][_0x35cdc9['myahj']]['Properties'][_0x4aa4df(0x117)]=_0x20673e;};exports['createClusterStack']=async(_0x23f513,_0x7d7cd,_0x3afefd,_0x417cf5=null,_0x50fa11=null)=>{const _0x13eed7=a27_0x25b46e,_0x803e2b={'KpzbV':_0x13eed7(0xcc),'UADUG':_0x13eed7(0x121),'BEJCb':function(_0x5d0b1f,_0x40b864){return _0x5d0b1f(_0x40b864);},'YOklB':_0x13eed7(0xbf),'tCsKs':_0x13eed7(0xf0),'jOPVg':_0x13eed7(0x101),'QxzPr':_0x13eed7(0x118),'HElQA':_0x13eed7(0x111),'noFJS':_0x13eed7(0x147),'iOBwT':function(_0x4c4200,_0x308827,_0xd269c8){return _0x4c4200(_0x308827,_0xd269c8);},'yUQed':function(_0x44deab,_0x362f6b,_0x1126bb,_0x20c9db){return _0x44deab(_0x362f6b,_0x1126bb,_0x20c9db);},'VzeMq':_0x13eed7(0x11c),'ohiHt':_0x13eed7(0xbd),'QGHdR':_0x13eed7(0xb3),'XINLd':_0x13eed7(0xee),'VdEEc':_0x13eed7(0xe5),'nIhap':_0x13eed7(0xd6),'FdDyj':_0x13eed7(0x13e),'wVQYY':_0x13eed7(0x14c),'KFwiC':'NodeInstanceType','UTkQJ':_0x13eed7(0xfc),'XzuFC':_0x13eed7(0x14a),'AiJbU':_0x13eed7(0xb8),'NnvbW':function(_0x3d793c,_0xd0b419){return _0x3d793c!=_0xd0b419;},'uIvcn':function(_0x463577,_0x3dc4ad){return _0x463577!==_0x3dc4ad;},'bpxiL':function(_0x28023c,_0x3402d4){return _0x28023c!==_0x3402d4;},'NRIDk':'xtrfY','ayQlA':_0x13eed7(0x130),'hCtjB':_0x13eed7(0x13a),'UaoVu':function(_0xc284d0,_0x27ab12){return _0xc284d0!==_0x27ab12;},'tsyRU':_0x13eed7(0x152),'iMeFv':'stackCreateComplete'},_0x33cb2c=COMMON_HST_TAGS,_0x569892={};_0x569892['Key']=_0x803e2b[_0x13eed7(0xfa)],_0x569892[_0x13eed7(0xc7)]=_0x23f513,_0x33cb2c[_0x13eed7(0x122)](_0x569892),_0x33cb2c['push']({'Key':_0x803e2b['tCsKs'],'Value':new Date()[_0x13eed7(0x13b)]()[_0x13eed7(0x154)]()});const _0x5138fe={};_0x5138fe[_0x13eed7(0xca)]=_0x803e2b[_0x13eed7(0xed)];const _0x5a0151=new AWS[(_0x13eed7(0xf7))](_0x5138fe),_0x42fded=await fs[_0x13eed7(0xdc)](path['join'](__dirname,'..',_0x803e2b['QxzPr'],_0x803e2b[_0x13eed7(0x12a)]),_0x803e2b[_0x13eed7(0xd8)]),_0x4b910b={};_0x4b910b[_0x13eed7(0xc8)]=CLOUDFORMATION_SCHEMA;const _0x421f09=yaml[_0x13eed7(0xef)](_0x42fded,_0x4b910b);await _0x803e2b[_0x13eed7(0x158)](addVPCData,_0x421f09,_0x417cf5),await _0x803e2b[_0x13eed7(0xe0)](addS3Data,_0x421f09),await _0x803e2b[_0x13eed7(0x158)](addSubnetData,_0x421f09,_0x50fa11),await _0x803e2b[_0x13eed7(0xfb)](addTags,_0x421f09,_0x23f513,_0x33cb2c);const _0x9f5fab=JSON[_0x13eed7(0xd2)](_0x421f09),_0x238569={};_0x238569[_0x13eed7(0x159)]=CLUSTER_DEP_STACK_NAME+'-'+_0x23f513,_0x238569[_0x13eed7(0x133)]=_0x803e2b['VzeMq'],_0x238569[_0x13eed7(0x113)]=_0x9f5fab,_0x238569['Parameters']=[{'ParameterKey':_0x803e2b['ohiHt'],'ParameterValue':_0x23f513},{'ParameterKey':_0x803e2b[_0x13eed7(0x10c)],'ParameterValue':_0x23f513+'-NodeGroup'},{'ParameterKey':_0x803e2b[_0x13eed7(0xc4)],'ParameterValue':''+_0x7d7cd},{'ParameterKey':_0x803e2b[_0x13eed7(0xae)],'ParameterValue':'0'},{'ParameterKey':_0x803e2b[_0x13eed7(0xad)],'ParameterValue':'1'},{'ParameterKey':_0x803e2b[_0x13eed7(0x157)],'ParameterValue':''+_0x3afefd},{'ParameterKey':_0x803e2b[_0x13eed7(0x149)],'ParameterValue':global_registry[_0x13eed7(0x146)]},{'ParameterKey':_0x803e2b[_0x13eed7(0xaf)],'ParameterValue':global_registry[_0x13eed7(0x12e)]},{'ParameterKey':_0x803e2b[_0x13eed7(0x14f)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x803e2b[_0x13eed7(0xde)],'ParameterValue':_0x23f513+_0x13eed7(0xf6)}],_0x238569[_0x13eed7(0xe8)]=[_0x803e2b['AiJbU']],_0x238569[_0x13eed7(0x117)]=_0x33cb2c;const _0x361571=_0x238569;if(_0x803e2b['NnvbW'](_0x417cf5,null)&&_0x803e2b['uIvcn'](_0x417cf5,undefined)){if(_0x803e2b[_0x13eed7(0x10f)](_0x803e2b[_0x13eed7(0xd7)],_0x803e2b['ayQlA'])){const _0x155e31={};_0x155e31['ParameterKey']=_0x803e2b[_0x13eed7(0x140)],_0x155e31['ParameterValue']=_0x417cf5,_0x361571['Parameters'][_0x13eed7(0x122)](_0x155e31);}else{for(const _0x3b0a40 in _0x3fae9f[_0x13eed7(0xc9)]){_0x101349['Resources'][_0x3b0a40][_0x13eed7(0xb4)]&&_0x330600[_0x13eed7(0xc9)][_0x3b0a40][_0x13eed7(0xb4)][_0x13eed7(0x117)]&&_0x134536[_0x13eed7(0xc9)][_0x3b0a40]['Properties']['Tags'][_0x13eed7(0x122)](..._0x4daadb);}const _0x50fe95={};_0x1dfa21['forEach'](_0x37628f=>{const _0x351584=_0x13eed7;_0x50fe95[_0x37628f[_0x351584(0xc5)]]=_0x37628f[_0x351584(0xc7)];}),_0x1cf3ad[_0x13eed7(0xc9)][_0x803e2b[_0x13eed7(0xf5)]][_0x13eed7(0xb4)][_0x13eed7(0x117)]=_0x50fe95,_0x1ea694['Resources'][_0x803e2b[_0x13eed7(0xe4)]][_0x13eed7(0xb4)]['Tags']=_0x50fe95;}}if(_0x803e2b['NnvbW'](_0x50fa11,null)&&_0x803e2b[_0x13eed7(0xcf)](_0x50fa11,undefined)){let _0x378e31=0x1;_0x50fa11[_0x13eed7(0x14d)](_0x12b701=>{const _0x25f668=_0x13eed7;_0x361571['Parameters'][_0x25f668(0x122)]({'ParameterKey':'Subnet'+_0x803e2b[_0x25f668(0xe0)](String,_0x378e31)[_0x25f668(0x110)](0x2,'0'),'ParameterValue':_0x12b701[_0x25f668(0x100)]}),_0x378e31+=0x1;});}const _0x3faa6d=await _0x5a0151[_0x13eed7(0x144)](_0x361571)['promise']();logger[_0x13eed7(0xe6)](_0x803e2b[_0x13eed7(0x107)]);const _0x1dffce={};return _0x1dffce[_0x13eed7(0x159)]=_0x3faa6d[_0x13eed7(0xbe)],_0x5a0151[_0x13eed7(0x109)](_0x803e2b[_0x13eed7(0xfd)],_0x1dffce)[_0x13eed7(0xc6)]();};