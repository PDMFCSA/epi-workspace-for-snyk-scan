const a27_0x1f5fe8=a27_0x2772;function a27_0x2b6c(){const _0x11a015=['ZQiFM','qJbmX','WngUW','join','GFqCh','CloudFormation','Outputs','xxczZ','BuTFK','MNdeo','GcmBf','pxNpT','Isnxs','iVEwD','2010-05-15','readFileAsync','LEwss','FHDgM','UcqZP','25ifFTdO','weTGU','pwkMR','schema','WxhAz','keys','ParameterValue','iQVxC','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','awsObj','DELETE','arcCF','ZivIV','subnet-import.yaml','CFTemplates','52062cjpEFr','HIMpQ','stringify','Value','instanceType','YHHqx','LoYNm','vpc-create.yaml','-Windows-NodeGroup','47SxEZsO','JfotD','VPC','EWAOS','NodeGroupNameWindows','WllSI','tiQTR','promise','value','ParameterGroups','IvSDB','qokzu','3471771JQuyyD','Subnet02','zoDvZ','SKZzO','pTwDR','JFccF','wjdsA','cOUey','zOeVY','DependsOn','UDbgE','gishw','js-yaml','Swsoo','SubnetIds','3229074eogxuA','Uxito','rYLMj','XtqLs','gwGdw','Subnets','yRwaQ','zXEqG','NodeGroupWindows','sPZmX','StackName','595764ZebZIS','NodeAutoScalingGroupMinSizeWindows','xHthT','gYeHJ','Gpfgn','EKSCluster','fYCxu','Metadata','Subnet01','NodeImageId','Subnet02Block','dKDRA','promisifyAll','KPmek','HLZjw','apiVersion','33258663JrybDs','oSnuj','zjPjR','GLytU','Parameters','6191872rAIvYP','StackId','1|0|2|4|3|5','padgk','NodeGroup','RhFjW','HEOxA','lcGqv','ylPEH','load','forEach','xFYsm','../config/logger','-NodeGroup','Tags','NodeInstanceType','EOMOM','uTMzw','./AWSUtils','yVFfV','ResourcesVpcConfig','hmVkJ','yRMhD','AWS::CloudFormation::Interface','Fn::Join','XoFOF','aTkvZ','utf-8','subnet-create.yaml','idpOo','tuIsV','EXrBF','PltZL','lBWOA','createClusterStack','acHUu','Subnet','Properties','browserstack:creationDate','akxIw','GZSpv','path','Ref','AVIfT','hyLWu','zgUMV','HQTdF','bluebird','TemplateBody','stackCreateComplete','PRoQU','split','push','s3-create.yaml','createStack','slKXx','kdWrn','valueOf','GHPRf','AjPYA','8592353vEugtY','NodeAutoScalingGroupDesiredSizeWindows','IWNOg','dIPkI','padStart','NodeAutoScalingGroupMaxSize','qGvGt','Capabilities','Key','mEVKN','Subnet03Block','3|5|4|2|0|1','js-yaml-cloudformation-schema','afAmM','bkttm','gRzto','Resources','s3Bucket'];a27_0x2b6c=function(){return _0x11a015;};return a27_0x2b6c();}(function(_0x8a30b7,_0x50a44e){const _0x35645c=a27_0x2772,_0x49669b=_0x8a30b7();while(!![]){try{const _0x437c10=-parseInt(_0x35645c(0x182))/0x1*(parseInt(_0x35645c(0x179))/0x2)+-parseInt(_0x35645c(0x18e))/0x3+parseInt(_0x35645c(0x1a8))/0x4*(-parseInt(_0x35645c(0x16a))/0x5)+parseInt(_0x35645c(0x19d))/0x6+-parseInt(_0x35645c(0x145))/0x7+parseInt(_0x35645c(0x1bd))/0x8+parseInt(_0x35645c(0x1b8))/0x9;if(_0x437c10===_0x50a44e)break;else _0x49669b['push'](_0x49669b['shift']());}catch(_0x19adb5){_0x49669b['push'](_0x49669b['shift']());}}}(a27_0x2b6c,0x9fd50));const fs=require('fs'),path=require(a27_0x1f5fe8(0x132)),Promise=require(a27_0x1f5fe8(0x138)),yaml=require(a27_0x1f5fe8(0x19a)),{CLOUDFORMATION_SCHEMA}=require(a27_0x1f5fe8(0x151)),AWS=require('./AWSUtils')[a27_0x1f5fe8(0x173)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x1f5fe8(0x1c9)),{isBucketPresent}=require(a27_0x1f5fe8(0x11b));function a27_0x2772(_0x124bea,_0xcb2aca){const _0x2b6cb4=a27_0x2b6c();return a27_0x2772=function(_0x27729d,_0xcd059f){_0x27729d=_0x27729d-0x119;let _0x4e7994=_0x2b6cb4[_0x27729d];return _0x4e7994;},a27_0x2772(_0x124bea,_0xcb2aca);}Promise[a27_0x1f5fe8(0x1b4)](fs);const mergeTemplates=(_0x2282d7,_0x2a046e)=>{const _0x7df683=a27_0x1f5fe8,_0xe165b={};_0xe165b[_0x7df683(0x16e)]=function(_0x5e3bce,_0x1eed9a){return _0x5e3bce!==_0x1eed9a;},_0xe165b[_0x7df683(0x1c4)]=_0x7df683(0x1c2),_0xe165b[_0x7df683(0x160)]=function(_0x5313fc,_0x388d37){return _0x5313fc===_0x388d37;},_0xe165b[_0x7df683(0x13b)]=_0x7df683(0x190);const _0x5566e2=_0xe165b;Object[_0x7df683(0x16f)](_0x2a046e)[_0x7df683(0x1c7)](_0xc11d63=>{const _0x16cb7c=_0x7df683;if(_0x5566e2[_0x16cb7c(0x160)](_0x5566e2[_0x16cb7c(0x13b)],_0x5566e2[_0x16cb7c(0x13b)])){var _0x427109=_0x2a046e[_0xc11d63];Object[_0x16cb7c(0x16f)](_0x427109)[_0x16cb7c(0x1c7)](_0x58abd6=>{const _0x9053ad=_0x16cb7c;_0x5566e2[_0x9053ad(0x16e)](_0x5566e2['lcGqv'],_0x5566e2[_0x9053ad(0x1c4)])?_0x1e8cfe[_0x10a8e2[_0x9053ad(0x14d)]]=_0x3a7e64['Value']:_0x2282d7[_0xc11d63][_0x58abd6]=_0x427109[_0x58abd6];});}else _0x5559c4['Resources'][_0x21f474][_0x16cb7c(0x12e)][_0x16cb7c(0x1cb)][_0x16cb7c(0x13d)](..._0x155637);});},addVPCData=async(_0x57180e,_0x5ea8f8)=>{const _0x41c00a=a27_0x1f5fe8,_0x253363={'GLytU':function(_0x236f94,_0x5bb6f7){return _0x236f94!==_0x5bb6f7;},'GFqCh':'hGjml','iQVxC':_0x41c00a(0x187),'EOMOM':_0x41c00a(0x178),'SibiC':'vpc-import.yaml','fYCxu':_0x41c00a(0x124),'btJYX':function(_0x497418,_0x4b254a,_0x437988){return _0x497418(_0x4b254a,_0x437988);},'AjPYA':'AWS::CloudFormation::Interface','LoYNm':_0x41c00a(0x184),'LEwss':function(_0x5c00c8,_0x2bc6ae){return _0x5c00c8!==_0x2bc6ae;},'xxczZ':_0x41c00a(0x11f),'dIPkI':_0x41c00a(0x1c8),'ZivIV':_0x41c00a(0x180),'lBWOA':'VpcBlock'};if(_0x5ea8f8){if(_0x253363[_0x41c00a(0x1bb)](_0x253363[_0x41c00a(0x15b)],_0x253363[_0x41c00a(0x171)])){const _0x3cb80d=await fs[_0x41c00a(0x166)](path[_0x41c00a(0x15a)](__dirname,'..',_0x253363[_0x41c00a(0x119)],_0x253363['SibiC']),_0x253363['fYCxu']),_0x3203ee={};_0x3203ee['schema']=CLOUDFORMATION_SCHEMA;const _0x42da4b=yaml[_0x41c00a(0x1c6)](_0x3cb80d,_0x3203ee);_0x253363['btJYX'](mergeTemplates,_0x57180e,_0x42da4b),_0x57180e[_0x41c00a(0x1af)][_0x253363[_0x41c00a(0x144)]][_0x41c00a(0x18b)][0x0][_0x41c00a(0x1bc)][_0x41c00a(0x13d)](_0x253363[_0x41c00a(0x17f)]);}else _0xbbc93a[_0x41c00a(0x16f)](_0x3167b3)[_0x41c00a(0x1c7)](_0x3bf9ff=>{const _0x1ee13d=_0x41c00a;var _0x3636ad=_0xb5154c[_0x3bf9ff];_0x15ea72[_0x1ee13d(0x16f)](_0x3636ad)['forEach'](_0xa2995=>{_0x172746[_0x3bf9ff][_0xa2995]=_0x3636ad[_0xa2995];});});}else{if(_0x253363[_0x41c00a(0x167)](_0x253363[_0x41c00a(0x15e)],_0x253363[_0x41c00a(0x148)])){const _0x34d42a=await fs[_0x41c00a(0x166)](path['join'](__dirname,'..',_0x253363['EOMOM'],_0x253363[_0x41c00a(0x176)]),_0x253363[_0x41c00a(0x1ae)]),_0x3533e4={};_0x3533e4[_0x41c00a(0x16d)]=CLOUDFORMATION_SCHEMA;const _0x95edab=yaml[_0x41c00a(0x1c6)](_0x34d42a,_0x3533e4);_0x253363['btJYX'](mergeTemplates,_0x57180e,_0x95edab),_0x57180e[_0x41c00a(0x1af)][_0x253363['AjPYA']][_0x41c00a(0x18b)][0x0]['Parameters'][_0x41c00a(0x13d)](_0x253363[_0x41c00a(0x12a)]);}else{var _0x478c07=_0x4813ba[_0x21b4a0];_0x19b787[_0x41c00a(0x16f)](_0x478c07)[_0x41c00a(0x1c7)](_0x354ebe=>{_0x302c0e[_0x5d0df6][_0x354ebe]=_0x478c07[_0x354ebe];});}}},addS3Data=async _0x1d1174=>{const _0x3f03a7=a27_0x1f5fe8,_0x4cf9fb={'upLMi':function(_0x3a5ea0,_0x37505e,_0x118396){return _0x3a5ea0(_0x37505e,_0x118396);},'zgUMV':_0x3f03a7(0x178),'ygfiu':_0x3f03a7(0x13e),'Uxito':_0x3f03a7(0x124),'xHthT':function(_0x541f83,_0x3a4546){return _0x541f83(_0x3a4546);},'kdWrn':function(_0x22a6b4,_0x3d1002){return _0x22a6b4===_0x3d1002;},'Swsoo':_0x3f03a7(0x164),'JFccF':function(_0x1a0702,_0x36dee4,_0x3f92f2){return _0x1a0702(_0x36dee4,_0x3f92f2);}},_0x51642b=await fs['readFileAsync'](path[_0x3f03a7(0x15a)](__dirname,'..',_0x4cf9fb[_0x3f03a7(0x136)],_0x4cf9fb['ygfiu']),_0x4cf9fb[_0x3f03a7(0x19e)]),_0x8e51db={};_0x8e51db[_0x3f03a7(0x16d)]=CLOUDFORMATION_SCHEMA;const _0x50ee7f=yaml['load'](_0x51642b,_0x8e51db),_0x42655a=await _0x4cf9fb[_0x3f03a7(0x1aa)](isBucketPresent,global_registry[_0x3f03a7(0x156)]);_0x4cf9fb[_0x3f03a7(0x141)](_0x42655a,![])&&(_0x4cf9fb[_0x3f03a7(0x141)](_0x4cf9fb['Swsoo'],_0x4cf9fb[_0x3f03a7(0x19b)])?_0x4cf9fb[_0x3f03a7(0x193)](mergeTemplates,_0x1d1174,_0x50ee7f):_0x4cf9fb['upLMi'](_0x8a3cf7,_0x53942b,_0x531606));},addSubnetData=async(_0x23a7d3,_0x5874a5)=>{const _0x4c9636=a27_0x1f5fe8,_0x5c9d15={'UcqZP':function(_0x31c2d7,_0x3167f8){return _0x31c2d7===_0x3167f8;},'yRwaQ':_0x4c9636(0x16c),'CvPBy':_0x4c9636(0x150),'zOeVY':_0x4c9636(0x121),'HLZjw':function(_0x56ce54,_0x46e4d0){return _0x56ce54(_0x46e4d0);},'IWNOg':function(_0x405692,_0x5edac3){return _0x405692(_0x5edac3);},'pxNpT':_0x4c9636(0x120),'HQTdF':function(_0x57a97e,_0x2efa8b){return _0x57a97e!==_0x2efa8b;},'pTwDR':'FbhNM','rYLMj':'ClajE','bkttm':_0x4c9636(0x178),'ujBaJ':_0x4c9636(0x177),'akxIw':'utf-8','EWAOS':function(_0x5b9b4e,_0x35b0ae,_0x49753d){return _0x5b9b4e(_0x35b0ae,_0x49753d);},'YHHqx':function(_0x3aab6d,_0x51ea1b){return _0x3aab6d===_0x51ea1b;},'padgk':_0x4c9636(0x129),'wjdsA':_0x4c9636(0x125),'IvSDB':function(_0x40cc30,_0x5513eb,_0x3697ff){return _0x40cc30(_0x5513eb,_0x3697ff);},'SKZzO':_0x4c9636(0x1b0),'cOUey':_0x4c9636(0x18f),'EXrBF':'Subnet03','XtqLs':'Subnet01Block','KPmek':_0x4c9636(0x1b2),'yUQDq':_0x4c9636(0x14f)};if(_0x5874a5){if(_0x5c9d15[_0x4c9636(0x137)](_0x5c9d15[_0x4c9636(0x192)],_0x5c9d15[_0x4c9636(0x19f)])){const _0xc2eefa=await fs[_0x4c9636(0x166)](path[_0x4c9636(0x15a)](__dirname,'..',_0x5c9d15['bkttm'],_0x5c9d15['ujBaJ']),_0x5c9d15['akxIw']),_0x771dfc={};_0x771dfc['schema']=CLOUDFORMATION_SCHEMA;const _0x31f504=yaml['load'](_0xc2eefa,_0x771dfc);_0x5c9d15[_0x4c9636(0x185)](mergeTemplates,_0x23a7d3,_0x31f504);let _0xd57f65=0x1;_0x5874a5[_0x4c9636(0x1c7)](_0xa43135=>{const _0x2acdb2=_0x4c9636;if(_0x5c9d15[_0x2acdb2(0x169)](_0x5c9d15['yRwaQ'],_0x5c9d15[_0x2acdb2(0x1a3)])){const _0x19778c=_0x5c9d15['CvPBy'][_0x2acdb2(0x13c)]('|');let _0x5834b6=0x0;while(!![]){switch(_0x19778c[_0x5834b6++]){case'0':_0x23a7d3[_0x2acdb2(0x15d)][_0x2acdb2(0x19c)][_0x2acdb2(0x17c)][_0x5c9d15[_0x2acdb2(0x196)]][0x1][_0x2acdb2(0x13d)]({'Ref':_0x2acdb2(0x12d)+_0x5c9d15[_0x2acdb2(0x1b6)](String,_0xd57f65)[_0x2acdb2(0x149)](0x2,'0')});continue;case'1':_0xd57f65+=0x1;continue;case'2':_0x23a7d3[_0x2acdb2(0x155)]['NodeGroupWindows'][_0x2acdb2(0x12e)][_0x2acdb2(0x1a2)]['push']({'Ref':_0x2acdb2(0x12d)+_0x5c9d15['HLZjw'](String,_0xd57f65)[_0x2acdb2(0x149)](0x2,'0')});continue;case'3':_0x23a7d3['Resources'][_0x2acdb2(0x1ad)]['Properties'][_0x2acdb2(0x11d)][_0x2acdb2(0x19c)][_0x2acdb2(0x13d)]({'Ref':'Subnet'+_0x5c9d15[_0x2acdb2(0x1b6)](String,_0xd57f65)['padStart'](0x2,'0')});continue;case'4':_0x23a7d3[_0x2acdb2(0x155)][_0x2acdb2(0x1c1)][_0x2acdb2(0x12e)][_0x2acdb2(0x1a2)][_0x2acdb2(0x13d)]({'Ref':_0x2acdb2(0x12d)+_0x5c9d15[_0x2acdb2(0x147)](String,_0xd57f65)[_0x2acdb2(0x149)](0x2,'0')});continue;case'5':_0x23a7d3['Metadata'][_0x5c9d15[_0x2acdb2(0x162)]][_0x2acdb2(0x18b)][0x0][_0x2acdb2(0x1bc)]['push'](_0x2acdb2(0x12d)+_0x5c9d15[_0x2acdb2(0x147)](String,_0xd57f65)[_0x2acdb2(0x149)](0x2,'0'));continue;}break;}}else _0x4e4e1[_0x2acdb2(0x155)][_0x18af6f][_0x2acdb2(0x12e)]&&_0x3da012[_0x2acdb2(0x155)][_0x3567e0]['Properties'][_0x2acdb2(0x1cb)]&&_0x29da2d['Resources'][_0x42bc18][_0x2acdb2(0x12e)][_0x2acdb2(0x1cb)]['push'](..._0x30927b);});}else{const _0x510113={'gRzto':function(_0x3a62b1,_0x1030d6){const _0x1eccbf=_0x4c9636;return _0x5c9d15[_0x1eccbf(0x1b6)](_0x3a62b1,_0x1030d6);}};let _0x4f837c=0x1;_0x340480[_0x4c9636(0x1c7)](_0x16e1f4=>{const _0x3c6973=_0x4c9636;_0x456bbd[_0x3c6973(0x1bc)][_0x3c6973(0x13d)]({'ParameterKey':'Subnet'+_0x510113[_0x3c6973(0x154)](_0x3e0ab4,_0x4f837c)[_0x3c6973(0x149)](0x2,'0'),'ParameterValue':_0x16e1f4[_0x3c6973(0x18a)]}),_0x4f837c+=0x1;});}}else{if(_0x5c9d15[_0x4c9636(0x17e)](_0x5c9d15['padgk'],_0x5c9d15[_0x4c9636(0x1c0)])){const _0x2aa9f9=await fs[_0x4c9636(0x166)](path[_0x4c9636(0x15a)](__dirname,'..',_0x5c9d15[_0x4c9636(0x153)],_0x5c9d15[_0x4c9636(0x194)]),_0x5c9d15[_0x4c9636(0x130)]),_0xb5e7a9={};_0xb5e7a9['schema']=CLOUDFORMATION_SCHEMA;const _0x20aa52=yaml[_0x4c9636(0x1c6)](_0x2aa9f9,_0xb5e7a9);_0x5c9d15[_0x4c9636(0x18c)](mergeTemplates,_0x23a7d3,_0x20aa52),_0x23a7d3[_0x4c9636(0x155)][_0x4c9636(0x1ad)][_0x4c9636(0x197)]['push'](_0x5c9d15[_0x4c9636(0x191)],_0x5c9d15[_0x4c9636(0x195)],_0x5c9d15[_0x4c9636(0x128)]);const _0x570816={};_0x570816[_0x4c9636(0x133)]=_0x5c9d15[_0x4c9636(0x191)];const _0x59b2c={};_0x59b2c['Ref']=_0x5c9d15['cOUey'];const _0x15ba2e={};_0x15ba2e[_0x4c9636(0x133)]=_0x5c9d15['EXrBF'],_0x23a7d3[_0x4c9636(0x155)][_0x4c9636(0x1ad)]['Properties'][_0x4c9636(0x11d)][_0x4c9636(0x19c)]=[_0x570816,_0x59b2c,_0x15ba2e],_0x23a7d3[_0x4c9636(0x1af)][_0x5c9d15[_0x4c9636(0x162)]][_0x4c9636(0x18b)][0x0][_0x4c9636(0x1bc)][_0x4c9636(0x13d)](_0x5c9d15[_0x4c9636(0x1a0)],_0x5c9d15[_0x4c9636(0x1b5)],_0x5c9d15['yUQDq']);const _0x257318={};_0x257318[_0x4c9636(0x133)]=_0x5c9d15[_0x4c9636(0x191)];const _0x363caa={};_0x363caa[_0x4c9636(0x133)]=_0x5c9d15[_0x4c9636(0x195)];const _0x319df3={};_0x319df3[_0x4c9636(0x133)]=_0x5c9d15[_0x4c9636(0x128)],_0x23a7d3[_0x4c9636(0x155)][_0x4c9636(0x1c1)][_0x4c9636(0x12e)][_0x4c9636(0x1a2)]=[_0x257318,_0x363caa,_0x319df3];const _0xd85aa7={};_0xd85aa7[_0x4c9636(0x133)]=_0x5c9d15[_0x4c9636(0x191)];const _0x3d5d6d={};_0x3d5d6d[_0x4c9636(0x133)]=_0x5c9d15['cOUey'];const _0x18cc8c={};_0x18cc8c[_0x4c9636(0x133)]=_0x5c9d15[_0x4c9636(0x128)],_0x23a7d3[_0x4c9636(0x155)][_0x4c9636(0x1a5)][_0x4c9636(0x12e)]['Subnets']=[_0xd85aa7,_0x3d5d6d,_0x18cc8c],_0x23a7d3['Outputs']['SubnetIds'][_0x4c9636(0x17c)][_0x5c9d15[_0x4c9636(0x196)]][0x1]=[{'Ref':_0x5c9d15[_0x4c9636(0x191)]},{'Ref':_0x5c9d15[_0x4c9636(0x195)]},{'Ref':_0x5c9d15[_0x4c9636(0x128)]}];}else _0x136a2d[_0x4c9636(0x1bc)][_0x4c9636(0x13d)]({'ParameterKey':'Subnet'+_0x5c9d15['HLZjw'](_0x542ae5,_0x4d0589)['padStart'](0x2,'0'),'ParameterValue':_0x11471[_0x4c9636(0x18a)]}),_0x1d7b93+=0x1;}},addTags=async(_0x12b942,_0x3b6050,_0x3a86a6)=>{const _0x139448=a27_0x1f5fe8,_0x343b47={'aTkvZ':_0x139448(0x1bf),'tiQTR':'AWS::CloudFormation::Interface','uTMzw':function(_0x2eb7aa,_0x219c39){return _0x2eb7aa(_0x219c39);},'zXEqG':function(_0x1baf3b,_0x2ca93c){return _0x1baf3b(_0x2ca93c);},'FHDgM':_0x139448(0x121),'WngUW':function(_0x435126,_0x246328){return _0x435126(_0x246328);},'afAmM':_0x139448(0x1c1),'UDbgE':_0x139448(0x1a5),'weTGU':function(_0x4babf3,_0x12bb07){return _0x4babf3!==_0x12bb07;},'BuTFK':'xiAkG','qJbmX':_0x139448(0x14b),'XoFOF':function(_0xb75b13,_0x6484c9){return _0xb75b13===_0x6484c9;},'ZQiFM':'rfdTs','yVFfV':_0x139448(0x143)};for(const _0x594323 in _0x12b942[_0x139448(0x155)]){if(_0x343b47[_0x139448(0x122)](_0x343b47[_0x139448(0x157)],_0x343b47[_0x139448(0x157)]))_0x12b942[_0x139448(0x155)][_0x594323][_0x139448(0x12e)]&&_0x12b942[_0x139448(0x155)][_0x594323][_0x139448(0x12e)][_0x139448(0x1cb)]&&(_0x343b47[_0x139448(0x16b)](_0x343b47[_0x139448(0x11c)],_0x343b47['yVFfV'])?_0xc63f4d[_0x3efe5e][_0x5d1ce5]=_0x48947b[_0x3a2ab0]:_0x12b942[_0x139448(0x155)][_0x594323][_0x139448(0x12e)][_0x139448(0x1cb)][_0x139448(0x13d)](..._0x3a86a6));else{const _0x3a72b6=_0x343b47[_0x139448(0x123)]['split']('|');let _0x3f36a8=0x0;while(!![]){switch(_0x3a72b6[_0x3f36a8++]){case'0':_0x1bbe48[_0x139448(0x1af)][_0x343b47[_0x139448(0x188)]][_0x139448(0x18b)][0x0]['Parameters'][_0x139448(0x13d)](_0x139448(0x12d)+_0x343b47[_0x139448(0x11a)](_0x1bf78e,_0x1dd284)[_0x139448(0x149)](0x2,'0'));continue;case'1':_0xeb6001['Resources'][_0x139448(0x1ad)][_0x139448(0x12e)]['ResourcesVpcConfig'][_0x139448(0x19c)]['push']({'Ref':_0x139448(0x12d)+_0x343b47[_0x139448(0x1a4)](_0xf1ea6a,_0x37eb85)[_0x139448(0x149)](0x2,'0')});continue;case'2':_0x1d8cac[_0x139448(0x155)][_0x139448(0x1c1)][_0x139448(0x12e)][_0x139448(0x1a2)][_0x139448(0x13d)]({'Ref':_0x139448(0x12d)+_0x343b47['uTMzw'](_0x368b57,_0x41ade2)['padStart'](0x2,'0')});continue;case'3':_0x3669ef[_0x139448(0x15d)][_0x139448(0x19c)][_0x139448(0x17c)][_0x343b47[_0x139448(0x168)]][0x1][_0x139448(0x13d)]({'Ref':'Subnet'+_0x343b47[_0x139448(0x11a)](_0x5c8352,_0x5c7dd5)['padStart'](0x2,'0')});continue;case'4':_0x3770e3[_0x139448(0x155)][_0x139448(0x1a5)][_0x139448(0x12e)][_0x139448(0x1a2)][_0x139448(0x13d)]({'Ref':_0x139448(0x12d)+_0x343b47[_0x139448(0x159)](_0x15a601,_0x6e5efd)[_0x139448(0x149)](0x2,'0')});continue;case'5':_0x6f3356+=0x1;continue;}break;}}}const _0x5efb32={};_0x3a86a6[_0x139448(0x1c7)](_0x1ab4ab=>{const _0x5506b3=_0x139448,_0x2146ce={};_0x2146ce[_0x5506b3(0x11e)]=_0x343b47[_0x5506b3(0x152)],_0x2146ce[_0x5506b3(0x199)]=_0x343b47[_0x5506b3(0x198)];const _0x46eb62=_0x2146ce;if(_0x343b47['weTGU'](_0x343b47[_0x5506b3(0x15f)],_0x343b47[_0x5506b3(0x158)]))_0x5efb32[_0x1ab4ab[_0x5506b3(0x14d)]]=_0x1ab4ab['Value'];else{for(const _0x533c55 in _0x3ec515[_0x5506b3(0x155)]){_0x40fb73[_0x5506b3(0x155)][_0x533c55][_0x5506b3(0x12e)]&&_0x1f6a83[_0x5506b3(0x155)][_0x533c55][_0x5506b3(0x12e)][_0x5506b3(0x1cb)]&&_0xa4261d['Resources'][_0x533c55][_0x5506b3(0x12e)][_0x5506b3(0x1cb)][_0x5506b3(0x13d)](..._0xede970);}const _0xcb1a4d={};_0x5251a0[_0x5506b3(0x1c7)](_0x1b5021=>{const _0x42376b=_0x5506b3;_0xcb1a4d[_0x1b5021[_0x42376b(0x14d)]]=_0x1b5021[_0x42376b(0x17c)];}),_0x28004e[_0x5506b3(0x155)][_0x46eb62[_0x5506b3(0x11e)]][_0x5506b3(0x12e)][_0x5506b3(0x1cb)]=_0xcb1a4d,_0x24f072[_0x5506b3(0x155)][_0x46eb62[_0x5506b3(0x199)]]['Properties']['Tags']=_0xcb1a4d;}}),_0x12b942[_0x139448(0x155)][_0x343b47[_0x139448(0x152)]][_0x139448(0x12e)][_0x139448(0x1cb)]=_0x5efb32,_0x12b942[_0x139448(0x155)][_0x343b47[_0x139448(0x198)]][_0x139448(0x12e)][_0x139448(0x1cb)]=_0x5efb32;};exports[a27_0x1f5fe8(0x12b)]=async(_0x239e7b,_0x485ec3,_0x2aae20,_0x44f65a=null,_0x4d3aaa=null)=>{const _0x3802af=a27_0x1f5fe8,_0x2f4683={'Gpfgn':_0x3802af(0x184),'IsfbV':function(_0x249562,_0x1d75f4){return _0x249562(_0x1d75f4);},'hJrSS':'browserstack:cluster','arcCF':_0x3802af(0x12f),'LXasM':_0x3802af(0x165),'GZSpv':_0x3802af(0x178),'qokzu':'aws-eks-cluster-dep.yaml','zjPjR':_0x3802af(0x124),'dKDRA':function(_0x4f9db6,_0x109c94,_0x545143){return _0x4f9db6(_0x109c94,_0x545143);},'tMHsq':function(_0xe12680,_0x4a38bd,_0x7226de,_0x1bd33f){return _0xe12680(_0x4a38bd,_0x7226de,_0x1bd33f);},'HEOxA':_0x3802af(0x174),'idpOo':'ClusterName','Isnxs':'NodeGroupName','sPZmX':'NodeAutoScalingGroupMinSize','sDiKs':_0x3802af(0x1a9),'ZmZdK':_0x3802af(0x146),'GcmBf':_0x3802af(0x14a),'mEVKN':_0x3802af(0x1b1),'hyLWu':_0x3802af(0x1cc),'JfotD':'S3BucketName','gYeHJ':_0x3802af(0x186),'NtOhB':'CAPABILITY_NAMED_IAM','slKXx':function(_0x38d98c,_0x7477e4){return _0x38d98c!=_0x7477e4;},'oSnuj':function(_0x19b31c,_0x3964ed){return _0x19b31c!==_0x3964ed;},'tTRiz':function(_0x57243a,_0x16d703){return _0x57243a===_0x16d703;},'DkizW':_0x3802af(0x1c5),'gwGdw':'ORUvf','tuIsV':function(_0x4702ba,_0xe8f45e){return _0x4702ba!=_0xe8f45e;},'AVIfT':function(_0x530aff,_0x1d5c7e){return _0x530aff!==_0x1d5c7e;},'acHUu':_0x3802af(0x172),'HIMpQ':_0x3802af(0x13a)},_0x218fc9=COMMON_HST_TAGS,_0x44ebc3={};_0x44ebc3[_0x3802af(0x14d)]=_0x2f4683['hJrSS'],_0x44ebc3[_0x3802af(0x17c)]=_0x239e7b,_0x218fc9['push'](_0x44ebc3),_0x218fc9[_0x3802af(0x13d)]({'Key':_0x2f4683[_0x3802af(0x175)],'Value':new Date()[_0x3802af(0x142)]()['toString']()});const _0x5e1d90={};_0x5e1d90[_0x3802af(0x1b7)]=_0x2f4683['LXasM'];const _0x55204c=new AWS[(_0x3802af(0x15c))](_0x5e1d90),_0x346004=await fs['readFileAsync'](path[_0x3802af(0x15a)](__dirname,'..',_0x2f4683[_0x3802af(0x131)],_0x2f4683[_0x3802af(0x18d)]),_0x2f4683[_0x3802af(0x1ba)]),_0x213638={};_0x213638[_0x3802af(0x16d)]=CLOUDFORMATION_SCHEMA;const _0x1ee156=yaml[_0x3802af(0x1c6)](_0x346004,_0x213638);await _0x2f4683[_0x3802af(0x1b3)](addVPCData,_0x1ee156,_0x44f65a),await _0x2f4683['IsfbV'](addS3Data,_0x1ee156),await _0x2f4683['dKDRA'](addSubnetData,_0x1ee156,_0x4d3aaa),await _0x2f4683['tMHsq'](addTags,_0x1ee156,_0x239e7b,_0x218fc9);const _0x13b2e7=JSON[_0x3802af(0x17b)](_0x1ee156),_0xd7c2e7={};_0xd7c2e7[_0x3802af(0x1a7)]=CLUSTER_DEP_STACK_NAME+'-'+_0x239e7b,_0xd7c2e7['OnFailure']=_0x2f4683[_0x3802af(0x1c3)],_0xd7c2e7[_0x3802af(0x139)]=_0x13b2e7,_0xd7c2e7['Parameters']=[{'ParameterKey':_0x2f4683[_0x3802af(0x126)],'ParameterValue':_0x239e7b},{'ParameterKey':_0x2f4683[_0x3802af(0x163)],'ParameterValue':_0x239e7b+_0x3802af(0x1ca)},{'ParameterKey':_0x2f4683[_0x3802af(0x1a6)],'ParameterValue':''+_0x485ec3},{'ParameterKey':_0x2f4683['sDiKs'],'ParameterValue':'0'},{'ParameterKey':_0x2f4683['ZmZdK'],'ParameterValue':'1'},{'ParameterKey':_0x2f4683[_0x3802af(0x161)],'ParameterValue':''+_0x2aae20},{'ParameterKey':_0x2f4683[_0x3802af(0x14e)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x2f4683[_0x3802af(0x135)],'ParameterValue':global_registry[_0x3802af(0x17d)]},{'ParameterKey':_0x2f4683[_0x3802af(0x183)],'ParameterValue':global_registry[_0x3802af(0x156)]},{'ParameterKey':_0x2f4683[_0x3802af(0x1ab)],'ParameterValue':_0x239e7b+_0x3802af(0x181)}],_0xd7c2e7[_0x3802af(0x14c)]=[_0x2f4683['NtOhB']],_0xd7c2e7[_0x3802af(0x1cb)]=_0x218fc9;const _0x1321c9=_0xd7c2e7;if(_0x2f4683[_0x3802af(0x140)](_0x44f65a,null)&&_0x2f4683[_0x3802af(0x1b9)](_0x44f65a,undefined)){if(_0x2f4683['tTRiz'](_0x2f4683['DkizW'],_0x2f4683[_0x3802af(0x1a1)])){const _0x26d7df={};_0x26d7df['ParameterKey']=_0x2f4683[_0x3802af(0x1ac)],_0x26d7df['ParameterValue']=_0x5c4e60,_0x4168f3[_0x3802af(0x1bc)][_0x3802af(0x13d)](_0x26d7df);}else{const _0xe8e19b={};_0xe8e19b['ParameterKey']=_0x2f4683[_0x3802af(0x1ac)],_0xe8e19b[_0x3802af(0x170)]=_0x44f65a,_0x1321c9[_0x3802af(0x1bc)][_0x3802af(0x13d)](_0xe8e19b);}}if(_0x2f4683[_0x3802af(0x127)](_0x4d3aaa,null)&&_0x2f4683[_0x3802af(0x134)](_0x4d3aaa,undefined)){let _0x1872df=0x1;_0x4d3aaa[_0x3802af(0x1c7)](_0x56f986=>{const _0x5ac1d9=_0x3802af;_0x1321c9[_0x5ac1d9(0x1bc)]['push']({'ParameterKey':_0x5ac1d9(0x12d)+_0x2f4683['IsfbV'](String,_0x1872df)[_0x5ac1d9(0x149)](0x2,'0'),'ParameterValue':_0x56f986[_0x5ac1d9(0x18a)]}),_0x1872df+=0x1;});}const _0x39cee7=await _0x55204c[_0x3802af(0x13f)](_0x1321c9)[_0x3802af(0x189)]();logger['debug'](_0x2f4683[_0x3802af(0x12c)]);const _0x2a2463={};return _0x2a2463['StackName']=_0x39cee7[_0x3802af(0x1be)],_0x55204c['waitFor'](_0x2f4683[_0x3802af(0x17a)],_0x2a2463)[_0x3802af(0x189)]();};