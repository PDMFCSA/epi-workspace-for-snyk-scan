function a27_0x2120(_0x58d93a,_0x2bca35){const _0x4730a3=a27_0x4730();return a27_0x2120=function(_0x2120cd,_0x14e7ab){_0x2120cd=_0x2120cd-0x105;let _0x52a441=_0x4730a3[_0x2120cd];return _0x52a441;},a27_0x2120(_0x58d93a,_0x2bca35);}const a27_0x2bb902=a27_0x2120;(function(_0x1b3c32,_0x12ccf3){const _0x520339=a27_0x2120,_0x5ddc7e=_0x1b3c32();while(!![]){try{const _0x42e470=-parseInt(_0x520339(0x12b))/0x1+-parseInt(_0x520339(0x11e))/0x2+-parseInt(_0x520339(0x13f))/0x3*(parseInt(_0x520339(0x157))/0x4)+-parseInt(_0x520339(0x18a))/0x5*(-parseInt(_0x520339(0x168))/0x6)+-parseInt(_0x520339(0x159))/0x7+parseInt(_0x520339(0x148))/0x8*(parseInt(_0x520339(0x176))/0x9)+parseInt(_0x520339(0x1c0))/0xa;if(_0x42e470===_0x12ccf3)break;else _0x5ddc7e['push'](_0x5ddc7e['shift']());}catch(_0x597928){_0x5ddc7e['push'](_0x5ddc7e['shift']());}}}(a27_0x4730,0x90605));const fs=require('fs'),path=require(a27_0x2bb902(0x1b5)),Promise=require(a27_0x2bb902(0x10c)),yaml=require(a27_0x2bb902(0x113)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a27_0x2bb902(0x1a4))[a27_0x2bb902(0x1bf)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x2bb902(0x10e)),{logger}=require(a27_0x2bb902(0x138)),{isBucketPresent}=require(a27_0x2bb902(0x1a4));Promise[a27_0x2bb902(0x14b)](fs);const mergeTemplates=(_0x2adb6c,_0x136e41)=>{const _0x48877d=a27_0x2bb902,_0x19dbf8={'FxzWa':function(_0x20f9ec,_0x4c45c6){return _0x20f9ec(_0x4c45c6);},'pAaFU':function(_0x3e88d8,_0x1525ac,_0x1ba8e7){return _0x3e88d8(_0x1525ac,_0x1ba8e7);},'XwtGQ':function(_0x565ce1,_0x5926bb){return _0x565ce1!==_0x5926bb;},'gFfGV':_0x48877d(0x19a),'jAEYm':function(_0x3c5d30,_0x3f475a){return _0x3c5d30!==_0x3f475a;},'xTRFW':_0x48877d(0x182)};Object[_0x48877d(0x193)](_0x136e41)[_0x48877d(0x1b9)](_0x18cf95=>{const _0x5ec73d=_0x48877d,_0x4274c5={'RLQBL':function(_0x46401c,_0x41193b,_0x11e8c1){return _0x19dbf8['pAaFU'](_0x46401c,_0x41193b,_0x11e8c1);},'daDjR':function(_0x2f661f,_0x4f5b0c){const _0x26836=a27_0x2120;return _0x19dbf8[_0x26836(0x188)](_0x2f661f,_0x4f5b0c);},'exbNU':_0x19dbf8[_0x5ec73d(0x194)]};if(_0x19dbf8[_0x5ec73d(0x17f)](_0x19dbf8['xTRFW'],_0x19dbf8[_0x5ec73d(0x158)])){const _0x5317a5={'ABlOf':function(_0x572edf,_0x1e9b8c){const _0x44ea7f=_0x5ec73d;return _0x19dbf8[_0x44ea7f(0x128)](_0x572edf,_0x1e9b8c);}};let _0x4b364f=0x1;_0x47d996[_0x5ec73d(0x1b9)](_0x2a13c6=>{const _0x59ff12=_0x5ec73d;_0xb07282[_0x59ff12(0x12a)][_0x59ff12(0x195)]({'ParameterKey':_0x59ff12(0x1ba)+_0x5317a5[_0x59ff12(0x16b)](_0x53efd0,_0x4b364f)[_0x59ff12(0x1af)](0x2,'0'),'ParameterValue':_0x2a13c6[_0x59ff12(0x14c)]}),_0x4b364f+=0x1;});}else{var _0x28f791=_0x136e41[_0x18cf95];Object[_0x5ec73d(0x193)](_0x28f791)[_0x5ec73d(0x1b9)](_0x49c063=>{const _0x5b0d8d=_0x5ec73d,_0x5cf5fb={'XMrdi':function(_0x206728,_0x407b5b,_0xe766b3){const _0x5a3360=a27_0x2120;return _0x4274c5[_0x5a3360(0x172)](_0x206728,_0x407b5b,_0xe766b3);}};_0x4274c5['daDjR'](_0x4274c5['exbNU'],_0x4274c5[_0x5b0d8d(0x111)])?_0x5cf5fb[_0x5b0d8d(0x18c)](_0x691abd,_0x5e74ff,_0x2d3406):_0x2adb6c[_0x18cf95][_0x49c063]=_0x28f791[_0x49c063];});}});},addVPCData=async(_0x544bd7,_0x55aee1)=>{const _0x296217=a27_0x2bb902,_0x83138={'WZSvM':function(_0x562ffb,_0x1c1580){return _0x562ffb(_0x1c1580);},'futZh':function(_0x1aa46d,_0x25d371){return _0x1aa46d!==_0x25d371;},'tlPHa':'Kdozg','wvrWY':'CFTemplates','HlrFB':_0x296217(0x121),'Eahmo':'utf-8','rchxh':function(_0x195e4c,_0x333df0,_0x5de915){return _0x195e4c(_0x333df0,_0x5de915);},'SCXec':'AWS::CloudFormation::Interface','ULJww':'VPC','NTCYY':function(_0x3885ae,_0x2291a1){return _0x3885ae!==_0x2291a1;},'qoXYX':_0x296217(0x1b3),'mfsRQ':_0x296217(0x1ae),'CKbYt':_0x296217(0x197),'CdOFp':_0x296217(0x11b)};if(_0x55aee1){if(_0x83138[_0x296217(0x137)](_0x83138[_0x296217(0x132)],_0x83138[_0x296217(0x132)]))_0x51e394[_0x296217(0x12a)][_0x296217(0x195)]({'ParameterKey':_0x296217(0x1ba)+_0x83138[_0x296217(0x150)](_0x17b8da,_0x1bca49)['padStart'](0x2,'0'),'ParameterValue':_0x36bf2c[_0x296217(0x14c)]}),_0x3a976f+=0x1;else{const _0x31c21e=await fs[_0x296217(0x181)](path['join'](__dirname,'..',_0x83138['wvrWY'],_0x83138[_0x296217(0x19e)]),_0x83138['Eahmo']),_0x1508d3={};_0x1508d3[_0x296217(0x145)]=CLOUDFORMATION_SCHEMA;const _0x54f97a=yaml[_0x296217(0x186)](_0x31c21e,_0x1508d3);_0x83138[_0x296217(0x17e)](mergeTemplates,_0x544bd7,_0x54f97a),_0x544bd7[_0x296217(0x116)][_0x83138[_0x296217(0x107)]][_0x296217(0x1c7)][0x0]['Parameters'][_0x296217(0x195)](_0x83138[_0x296217(0x18b)]);}}else{if(_0x83138[_0x296217(0x1b0)](_0x83138['qoXYX'],_0x83138[_0x296217(0x167)])){const _0x1c66bf=await fs[_0x296217(0x181)](path[_0x296217(0x1ab)](__dirname,'..',_0x83138[_0x296217(0x152)],_0x83138[_0x296217(0x15f)]),_0x83138[_0x296217(0x119)]),_0x5df126={};_0x5df126[_0x296217(0x145)]=CLOUDFORMATION_SCHEMA;const _0x3fca6a=yaml[_0x296217(0x186)](_0x1c66bf,_0x5df126);_0x83138[_0x296217(0x17e)](mergeTemplates,_0x544bd7,_0x3fca6a),_0x544bd7[_0x296217(0x116)][_0x83138['SCXec']][_0x296217(0x1c7)][0x0][_0x296217(0x12a)][_0x296217(0x195)](_0x83138['CdOFp']);}else _0x593eab[_0x296217(0x1c6)][_0x57326b][_0x296217(0x13a)][_0x296217(0x177)][_0x296217(0x195)](..._0x1f5ffa);}},addS3Data=async _0x5b5c40=>{const _0x37e7fa=a27_0x2bb902,_0x2cce51={'NoHxO':_0x37e7fa(0x13d),'bOOTb':'CFTemplates','ywSCc':_0x37e7fa(0x1ad),'JUbiS':'utf-8','FtEYH':function(_0x3ee237,_0x9da044){return _0x3ee237(_0x9da044);},'kESYh':function(_0x4542fc,_0x29f3c6){return _0x4542fc===_0x29f3c6;},'JIXoe':function(_0x2bf3e7,_0x3bf2bc){return _0x2bf3e7!==_0x3bf2bc;},'XWAAf':_0x37e7fa(0x1bd),'SmfEx':_0x37e7fa(0x114),'bDzjk':function(_0x228de5,_0x1cc58b,_0x50d655){return _0x228de5(_0x1cc58b,_0x50d655);}},_0xf25d9=await fs['readFileAsync'](path[_0x37e7fa(0x1ab)](__dirname,'..',_0x2cce51[_0x37e7fa(0x166)],_0x2cce51[_0x37e7fa(0x165)]),_0x2cce51['JUbiS']),_0x373306={};_0x373306[_0x37e7fa(0x145)]=CLOUDFORMATION_SCHEMA;const _0x3c7925=yaml[_0x37e7fa(0x186)](_0xf25d9,_0x373306),_0x2d15ef=await _0x2cce51[_0x37e7fa(0x10f)](isBucketPresent,global_registry[_0x37e7fa(0x13b)]);if(_0x2cce51['kESYh'](_0x2d15ef,![])){if(_0x2cce51[_0x37e7fa(0x151)](_0x2cce51['XWAAf'],_0x2cce51[_0x37e7fa(0x17c)]))_0x2cce51[_0x37e7fa(0x16e)](mergeTemplates,_0x5b5c40,_0x3c7925);else{const _0x13ad05={};_0x13ad05[_0x37e7fa(0x174)]=_0x2cce51[_0x37e7fa(0x142)],_0x13ad05[_0x37e7fa(0x14a)]=_0x96335d,_0x424d1d[_0x37e7fa(0x12a)][_0x37e7fa(0x195)](_0x13ad05);}}},addSubnetData=async(_0x4ff526,_0xc304d)=>{const _0x529bba=a27_0x2bb902,_0x27070a={'jhyuv':'NodeGroup','gEMik':_0x529bba(0x11f),'ZWUrG':function(_0x2cc397,_0x16d722){return _0x2cc397!==_0x16d722;},'CqgeE':_0x529bba(0x1a0),'LXoiw':_0x529bba(0x1c4),'tZYTD':_0x529bba(0x139),'BClrT':function(_0xc3fc7e,_0x367d31){return _0xc3fc7e(_0x367d31);},'XoEXd':function(_0x5893bf,_0x52fed3){return _0x5893bf(_0x52fed3);},'YajKJ':_0x529bba(0x1a7),'jROAx':function(_0x1db2ef,_0x3232b8){return _0x1db2ef!==_0x3232b8;},'qwQvi':'ACfXd','cEQsI':_0x529bba(0x175),'jDOIn':'subnet-import.yaml','CCZRp':_0x529bba(0x108),'NGllx':function(_0x1d4b89,_0x19aec3,_0x3becb7){return _0x1d4b89(_0x19aec3,_0x3becb7);},'JOpJW':'BBybA','FMlMY':_0x529bba(0x1b7),'QHbQK':_0x529bba(0x185),'ggDgI':function(_0x2e7a9d,_0x436515,_0x1f35ae){return _0x2e7a9d(_0x436515,_0x1f35ae);},'CpAbt':_0x529bba(0x164),'UvBKJ':_0x529bba(0x133),'kkUcf':_0x529bba(0x117),'Uglpc':_0x529bba(0x125),'doNaV':_0x529bba(0x192),'JSNAG':_0x529bba(0x1b6)};if(_0xc304d){if(_0x27070a[_0x529bba(0x17d)](_0x27070a[_0x529bba(0x153)],_0x27070a[_0x529bba(0x153)]))_0x511ed1[_0x529bba(0x193)](_0x5f529d)[_0x529bba(0x1b9)](_0x500631=>{const _0x540997=_0x529bba;var _0x1d4da6=_0x1d5b24[_0x500631];_0x4c90fd[_0x540997(0x193)](_0x1d4da6)[_0x540997(0x1b9)](_0x541ac4=>{_0x58d64c[_0x500631][_0x541ac4]=_0x1d4da6[_0x541ac4];});});else{const _0x4f8eb9=await fs[_0x529bba(0x181)](path[_0x529bba(0x1ab)](__dirname,'..',_0x27070a[_0x529bba(0x11d)],_0x27070a[_0x529bba(0x19c)]),_0x27070a[_0x529bba(0x129)]),_0x321d30={};_0x321d30['schema']=CLOUDFORMATION_SCHEMA;const _0x1106ff=yaml['load'](_0x4f8eb9,_0x321d30);_0x27070a['NGllx'](mergeTemplates,_0x4ff526,_0x1106ff);let _0x43ef06=0x1;_0xc304d[_0x529bba(0x1b9)](_0x2e2df7=>{const _0x35edd7=_0x529bba,_0x1c336e={};_0x1c336e[_0x35edd7(0x1a9)]=_0x27070a['jhyuv'],_0x1c336e[_0x35edd7(0x1bb)]=_0x27070a[_0x35edd7(0x1a3)];const _0x1f0d25=_0x1c336e;if(_0x27070a[_0x35edd7(0x16a)](_0x27070a[_0x35edd7(0x1ac)],_0x27070a[_0x35edd7(0x1ac)])){for(const _0x6e85d7 in _0x5eca78[_0x35edd7(0x1c6)]){_0x72d4a4[_0x35edd7(0x1c6)][_0x6e85d7][_0x35edd7(0x13a)]&&_0x5eee80[_0x35edd7(0x1c6)][_0x6e85d7][_0x35edd7(0x13a)]['Tags']&&_0x4e2bef[_0x35edd7(0x1c6)][_0x6e85d7]['Properties'][_0x35edd7(0x177)][_0x35edd7(0x195)](..._0x1c2dcb);}const _0xebe790={};_0x312204[_0x35edd7(0x1b9)](_0x49db31=>{const _0x7002f0=_0x35edd7;_0xebe790[_0x49db31[_0x7002f0(0x1c1)]]=_0x49db31['Value'];}),_0x29d542[_0x35edd7(0x1c6)][_0x1f0d25[_0x35edd7(0x1a9)]]['Properties'][_0x35edd7(0x177)]=_0xebe790,_0x1a665b['Resources'][_0x1f0d25[_0x35edd7(0x1bb)]][_0x35edd7(0x13a)][_0x35edd7(0x177)]=_0xebe790;}else{const _0x5ece0a=_0x27070a[_0x35edd7(0x131)][_0x35edd7(0x12e)]('|');let _0x6712ef=0x0;while(!![]){switch(_0x5ece0a[_0x6712ef++]){case'0':_0x43ef06+=0x1;continue;case'1':_0x4ff526[_0x35edd7(0x116)][_0x27070a['tZYTD']][_0x35edd7(0x1c7)][0x0][_0x35edd7(0x12a)][_0x35edd7(0x195)]('Subnet'+_0x27070a[_0x35edd7(0x161)](String,_0x43ef06)[_0x35edd7(0x1af)](0x2,'0'));continue;case'2':_0x4ff526[_0x35edd7(0x1c6)][_0x35edd7(0x1c5)][_0x35edd7(0x13a)][_0x35edd7(0x196)]['SubnetIds'][_0x35edd7(0x195)]({'Ref':_0x35edd7(0x1ba)+_0x27070a['BClrT'](String,_0x43ef06)[_0x35edd7(0x1af)](0x2,'0')});continue;case'3':_0x4ff526[_0x35edd7(0x1c6)]['NodeGroup']['Properties'][_0x35edd7(0x122)][_0x35edd7(0x195)]({'Ref':_0x35edd7(0x1ba)+_0x27070a[_0x35edd7(0x161)](String,_0x43ef06)[_0x35edd7(0x1af)](0x2,'0')});continue;case'4':_0x4ff526[_0x35edd7(0x1c6)]['NodeGroupWindows']['Properties'][_0x35edd7(0x122)][_0x35edd7(0x195)]({'Ref':_0x35edd7(0x1ba)+_0x27070a[_0x35edd7(0x18d)](String,_0x43ef06)['padStart'](0x2,'0')});continue;case'5':_0x4ff526[_0x35edd7(0x14f)][_0x35edd7(0x1a5)][_0x35edd7(0x15c)][_0x27070a[_0x35edd7(0x1c8)]][0x1][_0x35edd7(0x195)]({'Ref':_0x35edd7(0x1ba)+_0x27070a[_0x35edd7(0x161)](String,_0x43ef06)[_0x35edd7(0x1af)](0x2,'0')});continue;}break;}}});}}else{if(_0x27070a[_0x529bba(0x16a)](_0x27070a[_0x529bba(0x189)],_0x27070a[_0x529bba(0x11c)])){const _0x1cbf00=await fs[_0x529bba(0x181)](path[_0x529bba(0x1ab)](__dirname,'..',_0x27070a['cEQsI'],_0x27070a[_0x529bba(0x147)]),_0x27070a['CCZRp']),_0x158a77={};_0x158a77[_0x529bba(0x145)]=CLOUDFORMATION_SCHEMA;const _0x287833=yaml[_0x529bba(0x186)](_0x1cbf00,_0x158a77);_0x27070a[_0x529bba(0x13e)](mergeTemplates,_0x4ff526,_0x287833),_0x4ff526[_0x529bba(0x1c6)][_0x529bba(0x1c5)]['DependsOn']['push'](_0x27070a[_0x529bba(0x144)],_0x27070a[_0x529bba(0x1c2)],_0x27070a[_0x529bba(0x1b1)]);const _0x4d7cc6={};_0x4d7cc6[_0x529bba(0x18f)]=_0x27070a[_0x529bba(0x144)];const _0xf54f2={};_0xf54f2['Ref']=_0x27070a[_0x529bba(0x1c2)];const _0x1d49f3={};_0x1d49f3['Ref']=_0x27070a[_0x529bba(0x1b1)],_0x4ff526['Resources'][_0x529bba(0x1c5)][_0x529bba(0x13a)][_0x529bba(0x196)][_0x529bba(0x1a5)]=[_0x4d7cc6,_0xf54f2,_0x1d49f3],_0x4ff526[_0x529bba(0x116)][_0x27070a['tZYTD']][_0x529bba(0x1c7)][0x0][_0x529bba(0x12a)][_0x529bba(0x195)](_0x27070a['Uglpc'],_0x27070a[_0x529bba(0x16f)],_0x27070a[_0x529bba(0x1a2)]);const _0x1d4761={};_0x1d4761[_0x529bba(0x18f)]=_0x27070a['CpAbt'];const _0x36bd0b={};_0x36bd0b['Ref']=_0x27070a['UvBKJ'];const _0x473871={};_0x473871['Ref']=_0x27070a[_0x529bba(0x1b1)],_0x4ff526[_0x529bba(0x1c6)][_0x529bba(0x160)][_0x529bba(0x13a)]['Subnets']=[_0x1d4761,_0x36bd0b,_0x473871];const _0x35e7d2={};_0x35e7d2[_0x529bba(0x18f)]=_0x27070a[_0x529bba(0x144)];const _0x1c40ad={};_0x1c40ad[_0x529bba(0x18f)]=_0x27070a['UvBKJ'];const _0x3a5655={};_0x3a5655['Ref']=_0x27070a[_0x529bba(0x1b1)],_0x4ff526[_0x529bba(0x1c6)]['NodeGroupWindows'][_0x529bba(0x13a)][_0x529bba(0x122)]=[_0x35e7d2,_0x1c40ad,_0x3a5655],_0x4ff526[_0x529bba(0x14f)][_0x529bba(0x1a5)][_0x529bba(0x15c)][_0x27070a['YajKJ']][0x1]=[{'Ref':_0x27070a[_0x529bba(0x144)]},{'Ref':_0x27070a[_0x529bba(0x1c2)]},{'Ref':_0x27070a[_0x529bba(0x1b1)]}];}else _0x2cf634[_0xe1c81c[_0x529bba(0x1c1)]]=_0x23bd1b[_0x529bba(0x15c)];}},addTags=async(_0x19c28f,_0x3a8dac,_0x25a419)=>{const _0x45655c=a27_0x2bb902,_0x340798={'mbiPK':'2|0|1|5|3|4','pgGku':_0x45655c(0x139),'wdsqY':function(_0x292d1c,_0x3fa7c5){return _0x292d1c(_0x3fa7c5);},'rfyiq':function(_0x2e8a27,_0x4e3af6){return _0x2e8a27(_0x4e3af6);},'gHGYT':_0x45655c(0x1a7),'bbxpc':function(_0x468893,_0x58dce4){return _0x468893!==_0x58dce4;},'eCiWH':_0x45655c(0x140),'ncpSB':function(_0x74611,_0x15039d){return _0x74611===_0x15039d;},'TbWZZ':'QLVvV','GQDXC':_0x45655c(0x190),'KTPab':function(_0x58f760,_0x1722e0){return _0x58f760!==_0x1722e0;},'ecxim':_0x45655c(0x149),'RUWCc':_0x45655c(0x160),'mYoNb':'NodeGroupWindows'};for(const _0x5c1fd0 in _0x19c28f['Resources']){if(_0x340798[_0x45655c(0x170)](_0x340798[_0x45655c(0x178)],_0x340798[_0x45655c(0x123)]))_0xccea85[_0x20795c][_0x3b2c54]=_0x2f62db[_0x2ea96d];else{if(_0x19c28f['Resources'][_0x5c1fd0][_0x45655c(0x13a)]&&_0x19c28f[_0x45655c(0x1c6)][_0x5c1fd0][_0x45655c(0x13a)][_0x45655c(0x177)]){if(_0x340798[_0x45655c(0x1b2)](_0x340798[_0x45655c(0x109)],_0x340798['ecxim'])){var _0x3ca5cf=_0x2e19fb[_0x852341];_0x1bc598[_0x45655c(0x193)](_0x3ca5cf)[_0x45655c(0x1b9)](_0x4c72ae=>{_0x4789d4[_0x2504c8][_0x4c72ae]=_0x3ca5cf[_0x4c72ae];});}else _0x19c28f['Resources'][_0x5c1fd0]['Properties']['Tags'][_0x45655c(0x195)](..._0x25a419);}}}const _0x21021c={};_0x25a419[_0x45655c(0x1b9)](_0x488dde=>{const _0x513f68=_0x45655c,_0xcd42d2={'xhZSe':_0x340798[_0x513f68(0x1be)],'eRQKC':_0x340798[_0x513f68(0x180)],'KqRur':function(_0x1e7231,_0x50e4b6){const _0x182da5=_0x513f68;return _0x340798[_0x182da5(0x169)](_0x1e7231,_0x50e4b6);},'PnqoT':function(_0x495a8a,_0x4e982b){return _0x340798['rfyiq'](_0x495a8a,_0x4e982b);},'ptEGo':_0x340798[_0x513f68(0x198)],'mDrPA':function(_0x17f4cd,_0x3069bf){const _0x15f0a6=_0x513f68;return _0x340798[_0x15f0a6(0x12c)](_0x17f4cd,_0x3069bf);}};if(_0x340798[_0x513f68(0x12f)](_0x340798[_0x513f68(0x126)],_0x340798['eCiWH'])){const _0x5ec382=_0xcd42d2[_0x513f68(0x12d)]['split']('|');let _0x1cfc0f=0x0;while(!![]){switch(_0x5ec382[_0x1cfc0f++]){case'0':_0x1bbaca[_0x513f68(0x116)][_0xcd42d2[_0x513f68(0x10d)]][_0x513f68(0x1c7)][0x0][_0x513f68(0x12a)]['push'](_0x513f68(0x1ba)+_0xcd42d2[_0x513f68(0x14d)](_0x4aa358,_0x458364)[_0x513f68(0x1af)](0x2,'0'));continue;case'1':_0x509398[_0x513f68(0x1c6)]['NodeGroup']['Properties'][_0x513f68(0x122)][_0x513f68(0x195)]({'Ref':_0x513f68(0x1ba)+_0xcd42d2['PnqoT'](_0x2a3925,_0x5caf59)[_0x513f68(0x1af)](0x2,'0')});continue;case'2':_0x2152b4['Resources'][_0x513f68(0x1c5)][_0x513f68(0x13a)][_0x513f68(0x196)][_0x513f68(0x1a5)][_0x513f68(0x195)]({'Ref':_0x513f68(0x1ba)+_0xcd42d2[_0x513f68(0x15d)](_0x299ef7,_0x1f6f41)[_0x513f68(0x1af)](0x2,'0')});continue;case'3':_0xb0ddec[_0x513f68(0x14f)][_0x513f68(0x1a5)]['Value'][_0xcd42d2['ptEGo']][0x1]['push']({'Ref':_0x513f68(0x1ba)+_0xcd42d2[_0x513f68(0x136)](_0x8d5692,_0x1cc4bf)[_0x513f68(0x1af)](0x2,'0')});continue;case'4':_0x88284f+=0x1;continue;case'5':_0x34f6c9[_0x513f68(0x1c6)][_0x513f68(0x11f)][_0x513f68(0x13a)]['Subnets'][_0x513f68(0x195)]({'Ref':_0x513f68(0x1ba)+_0xcd42d2[_0x513f68(0x15d)](_0x4b7419,_0x2e8275)[_0x513f68(0x1af)](0x2,'0')});continue;}break;}}else _0x21021c[_0x488dde[_0x513f68(0x1c1)]]=_0x488dde[_0x513f68(0x15c)];}),_0x19c28f[_0x45655c(0x1c6)][_0x340798[_0x45655c(0x173)]][_0x45655c(0x13a)][_0x45655c(0x177)]=_0x21021c,_0x19c28f[_0x45655c(0x1c6)][_0x340798[_0x45655c(0x143)]][_0x45655c(0x13a)][_0x45655c(0x177)]=_0x21021c;};function a27_0x4730(){const _0x5940c2=['DkwQk','EMbIg','Metadata','Subnet03','stackCreateComplete','Eahmo','SefIh','VpcBlock','FMlMY','cEQsI','280082nXeeHV','NodeGroupWindows','CAPABILITY_NAMED_IAM','vpc-import.yaml','Subnets','GQDXC','NodeGroupNameWindows','Subnet01Block','eCiWH','createStack','FxzWa','CCZRp','Parameters','833124fqeBrk','rfyiq','xhZSe','split','bbxpc','yWsBT','LXoiw','tlPHa','Subnet02','NodeAutoScalingGroupMinSize','apiVersion','mDrPA','futZh','../config/logger','AWS::CloudFormation::Interface','Properties','s3Bucket','ysgCb','VPC','ggDgI','17832kijZLr','zeGUS','uEQnz','NoHxO','mYoNb','CpAbt','schema','CloudFormation','QHbQK','16zdgbWt','aimTq','ParameterValue','promisifyAll','value','KqRur','browserstack:cluster','Outputs','WZSvM','JIXoe','wvrWY','qwQvi','promise','S3BucketName','qyTAM','720YlemKS','xTRFW','3907876FXPWNT','StackId','jUzZi','Value','PnqoT','JjSGZ','CKbYt','NodeGroup','BClrT','IsZeg','uyYiu','Subnet01','ywSCc','bOOTb','mfsRQ','1343418oKGqFn','wdsqY','ZWUrG','ABlOf','2010-05-15','xzvyO','bDzjk','doNaV','ncpSB','jGeSn','RLQBL','RUWCc','ParameterKey','CFTemplates','4068801MXRMPs','Tags','TbWZZ','NXJdS','TwHSq','KmVOD','SmfEx','jROAx','rchxh','jAEYm','pgGku','readFileAsync','UZvhD','TemplateBody','NodeAutoScalingGroupDesiredSizeWindows','subnet-create.yaml','load','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','XwtGQ','JOpJW','5XKOUDo','ULJww','XMrdi','XoEXd','UDhpf','Ref','AYZaB','BOXGS','Subnet02Block','keys','gFfGV','push','ResourcesVpcConfig','vpc-create.yaml','gHGYT','ami','BBrLt','fXCen','jDOIn','NodeImageId','HlrFB','aws-eks-cluster-dep.yaml','GiuAV','StackName','JSNAG','gEMik','./AWSUtils','SubnetIds','tmODr','Fn::Join','stringify','gdisU','NodeInstanceType','join','CqgeE','s3-create.yaml','rNsIR','padStart','NTCYY','kkUcf','KTPab','EqDVM','valueOf','path','Subnet03Block','uWYyy','GLNKv','forEach','Subnet','BQBRU','dRyjM','QqYjJ','mbiPK','awsObj','20646370lwpLfc','Key','UvBKJ','DELETE','2|1|3|4|5|0','EKSCluster','Resources','ParameterGroups','YajKJ','NodeAutoScalingGroupMinSizeWindows','GSYct','SCXec','utf-8','ecxim','PQBGG','NodeAutoScalingGroupMaxSize','bluebird','eRQKC','../config/constants','FtEYH','browserstack:creationDate','exbNU','ClusterName','js-yaml'];a27_0x4730=function(){return _0x5940c2;};return a27_0x4730();}exports['createClusterStack']=async(_0x1de666,_0x2c77bf,_0x33627c,_0x340af5=null,_0x4167d2=null)=>{const _0x40880b=a27_0x2bb902,_0x2f21ed={'EMbIg':function(_0x4b35bc,_0x538414){return _0x4b35bc(_0x538414);},'uyYiu':_0x40880b(0x14e),'jeVyg':_0x40880b(0x110),'weGXI':_0x40880b(0x16c),'tmODr':'CFTemplates','MdAjc':_0x40880b(0x19f),'dRyjM':_0x40880b(0x108),'wnwTT':function(_0x12dec2,_0x3448e1,_0x2dc6e4){return _0x12dec2(_0x3448e1,_0x2dc6e4);},'SefIh':function(_0x11effd,_0x1c6cb5){return _0x11effd(_0x1c6cb5);},'yWsBT':function(_0x488a8f,_0x190e0b,_0x4ddaaf,_0x599bd1){return _0x488a8f(_0x190e0b,_0x4ddaaf,_0x599bd1);},'NXJdS':_0x40880b(0x1c3),'fXCen':_0x40880b(0x112),'GLNKv':'NodeGroupName','cczgj':_0x40880b(0x134),'TwHSq':_0x40880b(0x105),'GSYct':_0x40880b(0x184),'qyTAM':_0x40880b(0x10b),'jGeSn':_0x40880b(0x19d),'IsZeg':_0x40880b(0x1aa),'UDhpf':_0x40880b(0x155),'jUzZi':_0x40880b(0x124),'ysgCb':_0x40880b(0x120),'PQBGG':function(_0x5074cd,_0xe6bc72){return _0x5074cd!=_0xe6bc72;},'HEwSB':function(_0x4c5129,_0x484722){return _0x4c5129!==_0x484722;},'IvgKo':function(_0xd4b2ba,_0x43edff){return _0xd4b2ba===_0x43edff;},'JjSGZ':'MdDXo','KmVOD':_0x40880b(0x13d),'xzvyO':function(_0x251ec6,_0x2dee7a){return _0x251ec6!==_0x2dee7a;},'uEQnz':_0x40880b(0x187),'BOXGS':_0x40880b(0x118)},_0x24fefc=COMMON_HST_TAGS,_0x2e57f0={};_0x2e57f0[_0x40880b(0x1c1)]=_0x2f21ed[_0x40880b(0x163)],_0x2e57f0[_0x40880b(0x15c)]=_0x1de666,_0x24fefc[_0x40880b(0x195)](_0x2e57f0),_0x24fefc[_0x40880b(0x195)]({'Key':_0x2f21ed['jeVyg'],'Value':new Date()[_0x40880b(0x1b4)]()['toString']()});const _0x2c24db={};_0x2c24db[_0x40880b(0x135)]=_0x2f21ed['weGXI'];const _0x3e39da=new AWS[(_0x40880b(0x146))](_0x2c24db),_0x4badde=await fs[_0x40880b(0x181)](path['join'](__dirname,'..',_0x2f21ed[_0x40880b(0x1a6)],_0x2f21ed['MdAjc']),_0x2f21ed[_0x40880b(0x1bc)]),_0x8f8f1b={};_0x8f8f1b['schema']=CLOUDFORMATION_SCHEMA;const _0x417893=yaml[_0x40880b(0x186)](_0x4badde,_0x8f8f1b);await _0x2f21ed['wnwTT'](addVPCData,_0x417893,_0x340af5),await _0x2f21ed[_0x40880b(0x11a)](addS3Data,_0x417893),await _0x2f21ed['wnwTT'](addSubnetData,_0x417893,_0x4167d2),await _0x2f21ed[_0x40880b(0x130)](addTags,_0x417893,_0x1de666,_0x24fefc);const _0x59823f=JSON[_0x40880b(0x1a8)](_0x417893),_0x186e2c={};_0x186e2c[_0x40880b(0x1a1)]=CLUSTER_DEP_STACK_NAME+'-'+_0x1de666,_0x186e2c['OnFailure']=_0x2f21ed[_0x40880b(0x179)],_0x186e2c[_0x40880b(0x183)]=_0x59823f,_0x186e2c[_0x40880b(0x12a)]=[{'ParameterKey':_0x2f21ed[_0x40880b(0x19b)],'ParameterValue':_0x1de666},{'ParameterKey':_0x2f21ed[_0x40880b(0x1b8)],'ParameterValue':_0x1de666+'-NodeGroup'},{'ParameterKey':_0x2f21ed['cczgj'],'ParameterValue':''+_0x2c77bf},{'ParameterKey':_0x2f21ed[_0x40880b(0x17a)],'ParameterValue':'0'},{'ParameterKey':_0x2f21ed[_0x40880b(0x106)],'ParameterValue':'1'},{'ParameterKey':_0x2f21ed[_0x40880b(0x156)],'ParameterValue':''+_0x33627c},{'ParameterKey':_0x2f21ed[_0x40880b(0x171)],'ParameterValue':global_registry[_0x40880b(0x199)]},{'ParameterKey':_0x2f21ed[_0x40880b(0x162)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x2f21ed[_0x40880b(0x18e)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x2f21ed[_0x40880b(0x15b)],'ParameterValue':_0x1de666+'-Windows-NodeGroup'}],_0x186e2c['Capabilities']=[_0x2f21ed[_0x40880b(0x13c)]],_0x186e2c[_0x40880b(0x177)]=_0x24fefc;const _0x17b451=_0x186e2c;if(_0x2f21ed['PQBGG'](_0x340af5,null)&&_0x2f21ed['HEwSB'](_0x340af5,undefined)){if(_0x2f21ed['IvgKo'](_0x2f21ed[_0x40880b(0x15e)],_0x2f21ed[_0x40880b(0x15e)])){const _0x134165={};_0x134165[_0x40880b(0x174)]=_0x2f21ed[_0x40880b(0x17b)],_0x134165[_0x40880b(0x14a)]=_0x340af5,_0x17b451['Parameters'][_0x40880b(0x195)](_0x134165);}else _0x4209ec[_0x40880b(0x1c6)][_0x2c30b2][_0x40880b(0x13a)]&&_0x207058[_0x40880b(0x1c6)][_0x343908]['Properties'][_0x40880b(0x177)]&&_0xe6578[_0x40880b(0x1c6)][_0xf2e782][_0x40880b(0x13a)][_0x40880b(0x177)][_0x40880b(0x195)](..._0x1b6cbb);}if(_0x2f21ed[_0x40880b(0x10a)](_0x4167d2,null)&&_0x2f21ed[_0x40880b(0x16d)](_0x4167d2,undefined)){let _0x2bd1f8=0x1;_0x4167d2[_0x40880b(0x1b9)](_0x6254b8=>{const _0x137f22=_0x40880b;_0x17b451['Parameters']['push']({'ParameterKey':'Subnet'+_0x2f21ed[_0x137f22(0x115)](String,_0x2bd1f8)['padStart'](0x2,'0'),'ParameterValue':_0x6254b8['value']}),_0x2bd1f8+=0x1;});}const _0x233593=await _0x3e39da[_0x40880b(0x127)](_0x17b451)[_0x40880b(0x154)]();logger['debug'](_0x2f21ed[_0x40880b(0x141)]);const _0x5f435c={};return _0x5f435c[_0x40880b(0x1a1)]=_0x233593[_0x40880b(0x15a)],_0x3e39da['waitFor'](_0x2f21ed[_0x40880b(0x191)],_0x5f435c)[_0x40880b(0x154)]();};