const a27_0x1bf425=a27_0x140b;(function(_0x2d260e,_0x3b626a){const _0x81e5cf=a27_0x140b,_0x14a5d9=_0x2d260e();while(!![]){try{const _0x3935bc=-parseInt(_0x81e5cf(0x180))/0x1*(parseInt(_0x81e5cf(0x1f6))/0x2)+-parseInt(_0x81e5cf(0x1a5))/0x3+parseInt(_0x81e5cf(0x159))/0x4*(parseInt(_0x81e5cf(0x16d))/0x5)+parseInt(_0x81e5cf(0x195))/0x6+-parseInt(_0x81e5cf(0x18c))/0x7+-parseInt(_0x81e5cf(0x1ca))/0x8+parseInt(_0x81e5cf(0x184))/0x9;if(_0x3935bc===_0x3b626a)break;else _0x14a5d9['push'](_0x14a5d9['shift']());}catch(_0x384f14){_0x14a5d9['push'](_0x14a5d9['shift']());}}}(a27_0x5a69,0x4bc59));const fs=require('fs'),path=require(a27_0x1bf425(0x1f5)),Promise=require('bluebird'),yaml=require(a27_0x1bf425(0x1ba)),{CLOUDFORMATION_SCHEMA}=require(a27_0x1bf425(0x198)),AWS=require(a27_0x1bf425(0x15d))[a27_0x1bf425(0x1ce)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x1bf425(0x183)),{logger}=require(a27_0x1bf425(0x1d4)),{isBucketPresent}=require('./AWSUtils');Promise['promisifyAll'](fs);const mergeTemplates=(_0x315f09,_0x347d53)=>{const _0xf18987=a27_0x1bf425,_0x3ea6f7={};_0x3ea6f7[_0xf18987(0x1d0)]=function(_0x28b954,_0x54c131){return _0x28b954===_0x54c131;},_0x3ea6f7[_0xf18987(0x16c)]=_0xf18987(0x1d2),_0x3ea6f7['qEfyp']='kwyBN';const _0x17623e=_0x3ea6f7;Object[_0xf18987(0x1de)](_0x347d53)[_0xf18987(0x209)](_0x184ccc=>{const _0x1e6405=_0xf18987;if(_0x17623e[_0x1e6405(0x1d0)](_0x17623e[_0x1e6405(0x177)],_0x17623e[_0x1e6405(0x177)])){var _0x142626=_0x347d53[_0x184ccc];Object[_0x1e6405(0x1de)](_0x142626)[_0x1e6405(0x209)](_0x5151e3=>{const _0x28e5e7=_0x1e6405;_0x17623e[_0x28e5e7(0x1d0)](_0x17623e['ygoky'],_0x17623e[_0x28e5e7(0x16c)])?_0x315f09[_0x184ccc][_0x5151e3]=_0x142626[_0x5151e3]:_0x416721['keys'](_0x5e37a0)['forEach'](_0x4f4275=>{const _0x120ea8=_0x28e5e7;var _0x48c16e=_0x51878e[_0x4f4275];_0x407781[_0x120ea8(0x1de)](_0x48c16e)[_0x120ea8(0x209)](_0x32f86d=>{_0x4d5e85[_0x4f4275][_0x32f86d]=_0x48c16e[_0x32f86d];});});});}else _0x260f60[_0x8432b3][_0xe202d1]=_0x581786[_0x23052e];});},addVPCData=async(_0xd8092e,_0x484b90)=>{const _0x305f2e=a27_0x1bf425,_0x348adb={'LwzUe':function(_0x233411,_0x18df8d){return _0x233411!==_0x18df8d;},'FCjkB':_0x305f2e(0x1f0),'oJMMM':'CFTemplates','Udeuq':_0x305f2e(0x1b7),'XRwkN':'utf-8','yKWZR':function(_0x1783e8,_0x430c10,_0x480878){return _0x1783e8(_0x430c10,_0x480878);},'yhgGe':_0x305f2e(0x193),'BoxTt':_0x305f2e(0x19b),'HqraH':function(_0x5ab685,_0x87dd3){return _0x5ab685===_0x87dd3;},'QhgSp':_0x305f2e(0x1d1),'JVzMp':_0x305f2e(0x16a),'QYaiH':_0x305f2e(0x17f),'nXkYT':function(_0x5e9c98,_0x442361,_0xbd8d71){return _0x5e9c98(_0x442361,_0xbd8d71);},'wtaFk':'VpcBlock'};if(_0x484b90){if(_0x348adb['LwzUe'](_0x348adb[_0x305f2e(0x1cc)],_0x348adb[_0x305f2e(0x1cc)])){var _0x5b95f1=_0x47aefc[_0x56d07b];_0x517315['keys'](_0x5b95f1)['forEach'](_0x588075=>{_0xbeb46[_0x1805e8][_0x588075]=_0x5b95f1[_0x588075];});}else{const _0x3cfe50=await fs['readFileAsync'](path[_0x305f2e(0x1a9)](__dirname,'..',_0x348adb[_0x305f2e(0x1eb)],_0x348adb[_0x305f2e(0x155)]),_0x348adb[_0x305f2e(0x1ec)]),_0x355b33={};_0x355b33[_0x305f2e(0x153)]=CLOUDFORMATION_SCHEMA;const _0x11796c=yaml[_0x305f2e(0x1bc)](_0x3cfe50,_0x355b33);_0x348adb[_0x305f2e(0x1dc)](mergeTemplates,_0xd8092e,_0x11796c),_0xd8092e[_0x305f2e(0x174)][_0x348adb['yhgGe']]['ParameterGroups'][0x0][_0x305f2e(0x17a)]['push'](_0x348adb[_0x305f2e(0x1bb)]);}}else{if(_0x348adb[_0x305f2e(0x208)](_0x348adb['QhgSp'],_0x348adb['JVzMp']))_0x41b270['Resources'][_0x4845dc][_0x305f2e(0x1cf)][_0x305f2e(0x178)][_0x305f2e(0x173)](..._0x4e322f);else{const _0x24b247=await fs[_0x305f2e(0x1b0)](path[_0x305f2e(0x1a9)](__dirname,'..',_0x348adb[_0x305f2e(0x1eb)],_0x348adb[_0x305f2e(0x1c6)]),_0x348adb[_0x305f2e(0x1ec)]),_0x397902={};_0x397902[_0x305f2e(0x153)]=CLOUDFORMATION_SCHEMA;const _0x389bef=yaml[_0x305f2e(0x1bc)](_0x24b247,_0x397902);_0x348adb['nXkYT'](mergeTemplates,_0xd8092e,_0x389bef),_0xd8092e[_0x305f2e(0x174)][_0x348adb[_0x305f2e(0x1a3)]][_0x305f2e(0x17b)][0x0][_0x305f2e(0x17a)][_0x305f2e(0x173)](_0x348adb['wtaFk']);}}},addS3Data=async _0x10aa16=>{const _0x402d5e=a27_0x1bf425,_0x4b95a6={'SNKLD':_0x402d5e(0x157),'kpwVO':function(_0x5072d5,_0x757d57){return _0x5072d5(_0x757d57);},'DOAqB':function(_0x374b7d,_0x1ddf44){return _0x374b7d(_0x1ddf44);},'lHOII':_0x402d5e(0x193),'xhDWJ':_0x402d5e(0x1ee),'rasBG':function(_0x15bc06,_0x48fb19){return _0x15bc06(_0x48fb19);},'WVXWT':_0x402d5e(0x1da),'MBute':'s3-create.yaml','IcGxN':'utf-8','YckuW':function(_0x4c548f,_0x2534fb){return _0x4c548f===_0x2534fb;},'bBiMy':_0x402d5e(0x1ed),'nqxTP':'dAsZg','loBLG':function(_0x4c2823,_0x4f144e,_0x138d18){return _0x4c2823(_0x4f144e,_0x138d18);}},_0xd783e0=await fs['readFileAsync'](path[_0x402d5e(0x1a9)](__dirname,'..',_0x4b95a6[_0x402d5e(0x171)],_0x4b95a6[_0x402d5e(0x1b3)]),_0x4b95a6[_0x402d5e(0x1f4)]),_0x16bfac={};_0x16bfac[_0x402d5e(0x153)]=CLOUDFORMATION_SCHEMA;const _0x54285c=yaml[_0x402d5e(0x1bc)](_0xd783e0,_0x16bfac),_0x5aad27=await _0x4b95a6[_0x402d5e(0x1ef)](isBucketPresent,global_registry[_0x402d5e(0x1b9)]);if(_0x4b95a6['YckuW'](_0x5aad27,![])){if(_0x4b95a6[_0x402d5e(0x1dd)](_0x4b95a6[_0x402d5e(0x19d)],_0x4b95a6['nqxTP'])){const _0x4e8c0c=_0x4b95a6[_0x402d5e(0x158)]['split']('|');let _0x1d6e85=0x0;while(!![]){switch(_0x4e8c0c[_0x1d6e85++]){case'0':_0x434c6b[_0x402d5e(0x200)][_0x402d5e(0x1d3)][_0x402d5e(0x1cf)][_0x402d5e(0x1c5)][_0x402d5e(0x173)]({'Ref':_0x402d5e(0x1bf)+_0x4b95a6[_0x402d5e(0x172)](_0x5d56d6,_0x37adbb)[_0x402d5e(0x15f)](0x2,'0')});continue;case'1':_0x877dea['Resources'][_0x402d5e(0x1ff)]['Properties'][_0x402d5e(0x1e4)]['SubnetIds'][_0x402d5e(0x173)]({'Ref':'Subnet'+_0x4b95a6[_0x402d5e(0x1a4)](_0x2f87c3,_0x144662)[_0x402d5e(0x15f)](0x2,'0')});continue;case'2':_0x14eb26[_0x402d5e(0x174)][_0x4b95a6[_0x402d5e(0x18f)]][_0x402d5e(0x17b)][0x0]['Parameters'][_0x402d5e(0x173)](_0x402d5e(0x1bf)+_0x4b95a6[_0x402d5e(0x172)](_0x44bf4,_0x2a8972)[_0x402d5e(0x15f)](0x2,'0'));continue;case'3':_0xf6049f+=0x1;continue;case'4':_0x10e1bb[_0x402d5e(0x200)][_0x402d5e(0x162)][_0x402d5e(0x1cf)][_0x402d5e(0x1c5)][_0x402d5e(0x173)]({'Ref':_0x402d5e(0x1bf)+_0x4b95a6['DOAqB'](_0x6f014,_0x349567)[_0x402d5e(0x15f)](0x2,'0')});continue;case'5':_0x3da79b[_0x402d5e(0x166)][_0x402d5e(0x207)][_0x402d5e(0x202)][_0x4b95a6['xhDWJ']][0x1][_0x402d5e(0x173)]({'Ref':_0x402d5e(0x1bf)+_0x4b95a6[_0x402d5e(0x1ef)](_0xd1f983,_0x2999c1)[_0x402d5e(0x15f)](0x2,'0')});continue;}break;}}else _0x4b95a6[_0x402d5e(0x1c0)](mergeTemplates,_0x10aa16,_0x54285c);}},addSubnetData=async(_0x1bdcf6,_0x5878b5)=>{const _0x4e5b33=a27_0x1bf425,_0x2e7b43={'PJqoW':function(_0x822e2d,_0x3446b3){return _0x822e2d(_0x3446b3);},'YsQLC':function(_0x158e67,_0x4de5d8){return _0x158e67===_0x4de5d8;},'VYxZI':_0x4e5b33(0x1db),'dfJZJ':_0x4e5b33(0x163),'aegFW':_0x4e5b33(0x1ee),'dsPpT':_0x4e5b33(0x193),'SnjvY':function(_0x5457d8,_0x304344){return _0x5457d8(_0x304344);},'WIQEF':function(_0x39d1e3,_0x434318){return _0x39d1e3(_0x434318);},'AIIYu':function(_0x4af935,_0x23c7d3){return _0x4af935(_0x23c7d3);},'bZWYi':function(_0x106c34,_0x2a76c2){return _0x106c34(_0x2a76c2);},'QLAZk':function(_0x428102,_0x29e7ba){return _0x428102!==_0x29e7ba;},'ZSieX':_0x4e5b33(0x1c1),'hpLvR':'Gnutp','nycfI':_0x4e5b33(0x1da),'vykcy':_0x4e5b33(0x1c7),'npmVW':_0x4e5b33(0x16b),'GlARy':function(_0x2e957d,_0x36e2ee,_0x43fbae){return _0x2e957d(_0x36e2ee,_0x43fbae);},'awyIH':_0x4e5b33(0x156),'AJucd':'subnet-create.yaml','PpgAK':function(_0x53e16c,_0x5be119,_0x3323a1){return _0x53e16c(_0x5be119,_0x3323a1);},'pbvZZ':_0x4e5b33(0x1b2),'dwoID':_0x4e5b33(0x1a8),'hYOWo':_0x4e5b33(0x201),'btKBP':_0x4e5b33(0x160),'GIZLu':_0x4e5b33(0x1ad),'jiNId':_0x4e5b33(0x170)};if(_0x5878b5){if(_0x2e7b43[_0x4e5b33(0x165)](_0x2e7b43['ZSieX'],_0x2e7b43[_0x4e5b33(0x1ac)])){const _0x145c58=await fs[_0x4e5b33(0x1b0)](path[_0x4e5b33(0x1a9)](__dirname,'..',_0x2e7b43[_0x4e5b33(0x19c)],_0x2e7b43[_0x4e5b33(0x1fb)]),_0x2e7b43[_0x4e5b33(0x16f)]),_0x58926d={};_0x58926d[_0x4e5b33(0x153)]=CLOUDFORMATION_SCHEMA;const _0x17aedd=yaml[_0x4e5b33(0x1bc)](_0x145c58,_0x58926d);_0x2e7b43[_0x4e5b33(0x1f2)](mergeTemplates,_0x1bdcf6,_0x17aedd);let _0x402432=0x1;_0x5878b5['forEach'](_0x5bff6a=>{const _0x36e2e2=_0x4e5b33,_0x501fff={'vOaMz':function(_0x3edd48,_0x1c2297){const _0x362a29=a27_0x140b;return _0x2e7b43[_0x362a29(0x1d7)](_0x3edd48,_0x1c2297);}};if(_0x2e7b43[_0x36e2e2(0x188)](_0x2e7b43[_0x36e2e2(0x1e5)],_0x2e7b43[_0x36e2e2(0x1e5)])){const _0x562bdb=_0x2e7b43[_0x36e2e2(0x1e8)]['split']('|');let _0x49910b=0x0;while(!![]){switch(_0x562bdb[_0x49910b++]){case'0':_0x1bdcf6[_0x36e2e2(0x166)][_0x36e2e2(0x207)][_0x36e2e2(0x202)][_0x2e7b43[_0x36e2e2(0x1a6)]][0x1][_0x36e2e2(0x173)]({'Ref':_0x36e2e2(0x1bf)+_0x2e7b43[_0x36e2e2(0x1d7)](String,_0x402432)[_0x36e2e2(0x15f)](0x2,'0')});continue;case'1':_0x1bdcf6['Metadata'][_0x2e7b43[_0x36e2e2(0x20a)]]['ParameterGroups'][0x0][_0x36e2e2(0x17a)]['push'](_0x36e2e2(0x1bf)+_0x2e7b43[_0x36e2e2(0x15a)](String,_0x402432)[_0x36e2e2(0x15f)](0x2,'0'));continue;case'2':_0x1bdcf6[_0x36e2e2(0x200)][_0x36e2e2(0x162)][_0x36e2e2(0x1cf)][_0x36e2e2(0x1c5)][_0x36e2e2(0x173)]({'Ref':_0x36e2e2(0x1bf)+_0x2e7b43[_0x36e2e2(0x191)](String,_0x402432)['padStart'](0x2,'0')});continue;case'3':_0x1bdcf6[_0x36e2e2(0x200)]['NodeGroupWindows'][_0x36e2e2(0x1cf)][_0x36e2e2(0x1c5)][_0x36e2e2(0x173)]({'Ref':_0x36e2e2(0x1bf)+_0x2e7b43['AIIYu'](String,_0x402432)[_0x36e2e2(0x15f)](0x2,'0')});continue;case'4':_0x402432+=0x1;continue;case'5':_0x1bdcf6[_0x36e2e2(0x200)][_0x36e2e2(0x1ff)][_0x36e2e2(0x1cf)]['ResourcesVpcConfig']['SubnetIds'][_0x36e2e2(0x173)]({'Ref':_0x36e2e2(0x1bf)+_0x2e7b43['bZWYi'](String,_0x402432)[_0x36e2e2(0x15f)](0x2,'0')});continue;}break;}}else{const _0x8b7186={'sGKoF':function(_0x323c5b,_0x16a6e2){const _0x3bb669=_0x36e2e2;return _0x501fff[_0x3bb669(0x1ae)](_0x323c5b,_0x16a6e2);}};let _0xf7359a=0x1;_0x4653b7['forEach'](_0x105e50=>{const _0xe31819=_0x36e2e2;_0x339cfa['Parameters'][_0xe31819(0x173)]({'ParameterKey':_0xe31819(0x1bf)+_0x8b7186[_0xe31819(0x190)](_0x24aee6,_0xf7359a)[_0xe31819(0x15f)](0x2,'0'),'ParameterValue':_0x105e50['value']}),_0xf7359a+=0x1;});}});}else _0x2f9441[_0x178dbd[_0x4e5b33(0x19f)]]=_0x4eb41c['Value'];}else{if(_0x2e7b43[_0x4e5b33(0x188)](_0x2e7b43[_0x4e5b33(0x1cd)],_0x2e7b43[_0x4e5b33(0x1cd)])){const _0x20d8cb=await fs[_0x4e5b33(0x1b0)](path[_0x4e5b33(0x1a9)](__dirname,'..',_0x2e7b43[_0x4e5b33(0x19c)],_0x2e7b43[_0x4e5b33(0x161)]),_0x2e7b43[_0x4e5b33(0x16f)]),_0x43c9a1={};_0x43c9a1[_0x4e5b33(0x153)]=CLOUDFORMATION_SCHEMA;const _0x203bfb=yaml[_0x4e5b33(0x1bc)](_0x20d8cb,_0x43c9a1);_0x2e7b43[_0x4e5b33(0x1aa)](mergeTemplates,_0x1bdcf6,_0x203bfb),_0x1bdcf6[_0x4e5b33(0x200)]['EKSCluster'][_0x4e5b33(0x1af)][_0x4e5b33(0x173)](_0x2e7b43['pbvZZ'],_0x2e7b43[_0x4e5b33(0x1df)],_0x2e7b43[_0x4e5b33(0x1fe)]);const _0x257030={};_0x257030[_0x4e5b33(0x205)]=_0x2e7b43[_0x4e5b33(0x1b8)];const _0xb2e60d={};_0xb2e60d['Ref']=_0x2e7b43['dwoID'];const _0x4bcdd1={};_0x4bcdd1[_0x4e5b33(0x205)]=_0x2e7b43['hYOWo'],_0x1bdcf6[_0x4e5b33(0x200)][_0x4e5b33(0x1ff)][_0x4e5b33(0x1cf)][_0x4e5b33(0x1e4)][_0x4e5b33(0x207)]=[_0x257030,_0xb2e60d,_0x4bcdd1],_0x1bdcf6['Metadata'][_0x2e7b43[_0x4e5b33(0x20a)]][_0x4e5b33(0x17b)][0x0][_0x4e5b33(0x17a)]['push'](_0x2e7b43['btKBP'],_0x2e7b43[_0x4e5b33(0x192)],_0x2e7b43['jiNId']);const _0x28880d={};_0x28880d['Ref']=_0x2e7b43[_0x4e5b33(0x1b8)];const _0x32807c={};_0x32807c['Ref']=_0x2e7b43[_0x4e5b33(0x1df)];const _0x5ee91f={};_0x5ee91f[_0x4e5b33(0x205)]=_0x2e7b43[_0x4e5b33(0x1fe)],_0x1bdcf6[_0x4e5b33(0x200)][_0x4e5b33(0x162)]['Properties'][_0x4e5b33(0x1c5)]=[_0x28880d,_0x32807c,_0x5ee91f];const _0x208b13={};_0x208b13[_0x4e5b33(0x205)]=_0x2e7b43['pbvZZ'];const _0x544207={};_0x544207['Ref']=_0x2e7b43[_0x4e5b33(0x1df)];const _0x8a4445={};_0x8a4445[_0x4e5b33(0x205)]=_0x2e7b43[_0x4e5b33(0x1fe)],_0x1bdcf6[_0x4e5b33(0x200)][_0x4e5b33(0x1d3)][_0x4e5b33(0x1cf)]['Subnets']=[_0x208b13,_0x544207,_0x8a4445],_0x1bdcf6['Outputs']['SubnetIds']['Value'][_0x2e7b43[_0x4e5b33(0x1a6)]][0x1]=[{'Ref':_0x2e7b43['pbvZZ']},{'Ref':_0x2e7b43['dwoID']},{'Ref':_0x2e7b43[_0x4e5b33(0x1fe)]}];}else _0x10ccfe['Resources'][_0x25b974][_0x4e5b33(0x1cf)]&&_0x194bc4[_0x4e5b33(0x200)][_0x2fc29c][_0x4e5b33(0x1cf)][_0x4e5b33(0x178)]&&_0x235ca2[_0x4e5b33(0x200)][_0x3c4f1d][_0x4e5b33(0x1cf)]['Tags'][_0x4e5b33(0x173)](..._0x234d28);}},addTags=async(_0x30fb18,_0x173c12,_0x23ca89)=>{const _0x165e16=a27_0x1bf425,_0x286e12={'vmAet':function(_0x292903,_0x3833f0,_0x5812c5){return _0x292903(_0x3833f0,_0x5812c5);},'NfJLU':_0x165e16(0x19b),'IvFht':_0x165e16(0x162),'zQZJc':_0x165e16(0x1d3),'ySwZf':function(_0x577d6c,_0x1f0f0f){return _0x577d6c===_0x1f0f0f;},'Bndxx':_0x165e16(0x1fc),'iTMte':function(_0x38b264,_0x24d1b4){return _0x38b264===_0x24d1b4;},'AmpTY':_0x165e16(0x1a1),'KjxVG':function(_0x4981ad,_0x15235e){return _0x4981ad!==_0x15235e;},'zebEI':_0x165e16(0x154),'DqcWz':_0x165e16(0x1a7)};for(const _0x446044 in _0x30fb18[_0x165e16(0x200)]){if(_0x286e12[_0x165e16(0x1f1)](_0x286e12[_0x165e16(0x1cb)],_0x286e12['AmpTY']))_0x30fb18[_0x165e16(0x200)][_0x446044][_0x165e16(0x1cf)]&&_0x30fb18[_0x165e16(0x200)][_0x446044][_0x165e16(0x1cf)]['Tags']&&(_0x286e12['KjxVG'](_0x286e12[_0x165e16(0x1c8)],_0x286e12[_0x165e16(0x1fd)])?_0x30fb18[_0x165e16(0x200)][_0x446044][_0x165e16(0x1cf)]['Tags'][_0x165e16(0x173)](..._0x23ca89):_0x286e12[_0x165e16(0x17e)](_0x282974,_0x20243c,_0xad5681));else{const _0x1d5db9={};_0x1d5db9[_0x165e16(0x1f7)]=_0x286e12['NfJLU'],_0x1d5db9[_0x165e16(0x197)]=_0x3c4cfa,_0x4ba901[_0x165e16(0x17a)][_0x165e16(0x173)](_0x1d5db9);}}const _0x361859={};_0x23ca89[_0x165e16(0x209)](_0x40a31a=>{const _0x34c5ad=_0x165e16,_0x46b376={};_0x46b376[_0x34c5ad(0x194)]=_0x286e12['IvFht'],_0x46b376[_0x34c5ad(0x152)]=_0x286e12['zQZJc'];const _0x8f742d=_0x46b376;if(_0x286e12[_0x34c5ad(0x176)](_0x286e12[_0x34c5ad(0x1ab)],_0x286e12['Bndxx']))_0x361859[_0x40a31a[_0x34c5ad(0x19f)]]=_0x40a31a[_0x34c5ad(0x202)];else{for(const _0x1fd96c in _0x29bb21[_0x34c5ad(0x200)]){_0x28a1fe['Resources'][_0x1fd96c]['Properties']&&_0x2efa42[_0x34c5ad(0x200)][_0x1fd96c][_0x34c5ad(0x1cf)][_0x34c5ad(0x178)]&&_0x58f14a[_0x34c5ad(0x200)][_0x1fd96c]['Properties']['Tags'][_0x34c5ad(0x173)](..._0x178d01);}const _0x200cdf={};_0x6c1228[_0x34c5ad(0x209)](_0x3df4f9=>{const _0x51d33b=_0x34c5ad;_0x200cdf[_0x3df4f9[_0x51d33b(0x19f)]]=_0x3df4f9['Value'];}),_0x5e20d4[_0x34c5ad(0x200)][_0x8f742d['AMFUa']][_0x34c5ad(0x1cf)]['Tags']=_0x200cdf,_0x2099a9[_0x34c5ad(0x200)][_0x8f742d[_0x34c5ad(0x152)]][_0x34c5ad(0x1cf)][_0x34c5ad(0x178)]=_0x200cdf;}}),_0x30fb18[_0x165e16(0x200)][_0x286e12[_0x165e16(0x1f9)]][_0x165e16(0x1cf)][_0x165e16(0x178)]=_0x361859,_0x30fb18[_0x165e16(0x200)][_0x286e12[_0x165e16(0x18e)]][_0x165e16(0x1cf)][_0x165e16(0x178)]=_0x361859;};function a27_0x5a69(){const _0x3e079e=['S3BucketName','SubnetIds','HqraH','forEach','dsPpT','cYNvb','CQEpg','schema','TSDKT','Udeuq','UmkfO','1|2|4|0|5|3','SNKLD','975820oZdYme','SnjvY','browserstack:cluster','CloudFormation','./AWSUtils','elHue','padStart','Subnet01Block','AJucd','NodeGroup','5|1|2|3|0|4','SrWZd','QLAZk','Outputs','stackCreateComplete','-NodeGroup','dioio','eLHTa','utf-8','ygoky','5AISSVa','valueOf','npmVW','Subnet03Block','WVXWT','kpwVO','push','Metadata','hdpTo','ySwZf','qEfyp','Tags','value','Parameters','ParameterGroups','instanceType','-Windows-NodeGroup','vmAet','vpc-create.yaml','212XoMTYr','ocBpV','StackName','../config/constants','4204350DUDpLX','ujaeH','createClusterStack','2010-05-15','YsQLC','ami','stringify','DELETE','653646aQTjnJ','StackId','zQZJc','lHOII','sGKoF','WIQEF','GIZLu','AWS::CloudFormation::Interface','AMFUa','1699620nEHSJz','SYnUG','ParameterValue','js-yaml-cloudformation-schema','xnprb','QzzNl','VPC','nycfI','bBiMy','NodeImageId','Key','NodeAutoScalingGroupMinSize','CTKHx','browserstack:creationDate','yhgGe','DOAqB','514485HWYwJj','aegFW','Hxzim','Subnet02','join','PpgAK','Bndxx','hpLvR','Subnet02Block','vOaMz','DependsOn','readFileAsync','PqaHL','Subnet01','MBute','toString','MuTFY','BDTQN','vpc-import.yaml','pbvZZ','s3Bucket','js-yaml','BoxTt','load','vLEVG','KNYxH','Subnet','loBLG','rMLiq','NodeAutoScalingGroupMaxSize','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','vCCpx','Subnets','QYaiH','subnet-import.yaml','zebEI','promise','1981064IdlzmV','AmpTY','FCjkB','awyIH','awsObj','Properties','lojqm','GlgLf','pPAHT','NodeGroupWindows','../config/logger','NodeGroupNameWindows','debug','PJqoW','AoHmN','YPuVR','CFTemplates','YwHJJ','yKWZR','YckuW','keys','dwoID','apiVersion','CDddt','TemplateBody','ClusterName','ResourcesVpcConfig','VYxZI','Capabilities','NodeAutoScalingGroupMinSizeWindows','dfJZJ','createStack','glItf','oJMMM','XRwkN','ysMfE','Fn::Join','rasBG','VIiNz','iTMte','GlARy','muRmx','IcGxN','path','1618jzLxYw','ParameterKey','OPxZS','IvFht','NodeGroupName','vykcy','PbETx','DqcWz','hYOWo','EKSCluster','Resources','Subnet03','Value','NodeAutoScalingGroupDesiredSizeWindows','npYlY','Ref'];a27_0x5a69=function(){return _0x3e079e;};return a27_0x5a69();}function a27_0x140b(_0x1dc0b9,_0x20d102){const _0x5a69fe=a27_0x5a69();return a27_0x140b=function(_0x140bca,_0x1b3245){_0x140bca=_0x140bca-0x152;let _0x310b83=_0x5a69fe[_0x140bca];return _0x310b83;},a27_0x140b(_0x1dc0b9,_0x20d102);}exports[a27_0x1bf425(0x186)]=async(_0x34a823,_0x4a6de6,_0x5b1f23,_0x5a2051=null,_0x111c43=null)=>{const _0x3a8074=a27_0x1bf425,_0x25d96b={'BbSaB':function(_0x4fa785,_0x97b6d0){return _0x4fa785(_0x97b6d0);},'BcxFG':function(_0x133892,_0x499172){return _0x133892(_0x499172);},'SrWZd':_0x3a8074(0x15b),'YPuVR':_0x3a8074(0x1a2),'hdpTo':_0x3a8074(0x187),'QzzNl':'CFTemplates','AoHmN':'aws-eks-cluster-dep.yaml','MuTFY':_0x3a8074(0x16b),'KNYxH':function(_0x5972f4,_0x2111ff,_0x214351){return _0x5972f4(_0x2111ff,_0x214351);},'AugQa':function(_0x3b1475,_0x27c499){return _0x3b1475(_0x27c499);},'elHue':function(_0x54155f,_0x441256,_0x96b3e1,_0x4dee6f){return _0x54155f(_0x441256,_0x96b3e1,_0x4dee6f);},'ocBpV':_0x3a8074(0x18b),'SYnUG':_0x3a8074(0x1e3),'jGMzY':_0x3a8074(0x1fa),'PqaHL':_0x3a8074(0x1a0),'BDTQN':_0x3a8074(0x1e7),'OduID':_0x3a8074(0x203),'CDddt':_0x3a8074(0x1c2),'muRmx':_0x3a8074(0x19e),'npYlY':'NodeInstanceType','OPxZS':_0x3a8074(0x206),'mmZCR':_0x3a8074(0x1d5),'LzeYg':'CAPABILITY_NAMED_IAM','vCCpx':function(_0x1f463b,_0x4e83d3){return _0x1f463b!=_0x4e83d3;},'glItf':function(_0x443c53,_0x5023e0){return _0x443c53!==_0x5023e0;},'vLEVG':_0x3a8074(0x199),'ujaeH':_0x3a8074(0x19b),'dioio':function(_0x414089,_0x199994){return _0x414089!=_0x199994;},'cYNvb':_0x3a8074(0x1c3),'IQFIU':_0x3a8074(0x167)},_0x184501=COMMON_HST_TAGS,_0x564139={};_0x564139[_0x3a8074(0x19f)]=_0x25d96b[_0x3a8074(0x164)],_0x564139[_0x3a8074(0x202)]=_0x34a823,_0x184501['push'](_0x564139),_0x184501['push']({'Key':_0x25d96b[_0x3a8074(0x1d9)],'Value':new Date()[_0x3a8074(0x16e)]()[_0x3a8074(0x1b4)]()});const _0x3992bb={};_0x3992bb[_0x3a8074(0x1e0)]=_0x25d96b[_0x3a8074(0x175)];const _0x4de904=new AWS[(_0x3a8074(0x15c))](_0x3992bb),_0x3347ac=await fs[_0x3a8074(0x1b0)](path[_0x3a8074(0x1a9)](__dirname,'..',_0x25d96b[_0x3a8074(0x19a)],_0x25d96b[_0x3a8074(0x1d8)]),_0x25d96b[_0x3a8074(0x1b5)]),_0xec8aa4={};_0xec8aa4[_0x3a8074(0x153)]=CLOUDFORMATION_SCHEMA;const _0x8ebf3d=yaml[_0x3a8074(0x1bc)](_0x3347ac,_0xec8aa4);await _0x25d96b[_0x3a8074(0x1be)](addVPCData,_0x8ebf3d,_0x5a2051),await _0x25d96b['AugQa'](addS3Data,_0x8ebf3d),await _0x25d96b[_0x3a8074(0x1be)](addSubnetData,_0x8ebf3d,_0x111c43),await _0x25d96b[_0x3a8074(0x15e)](addTags,_0x8ebf3d,_0x34a823,_0x184501);const _0x1bf9f6=JSON[_0x3a8074(0x18a)](_0x8ebf3d),_0x48ce9b={};_0x48ce9b[_0x3a8074(0x182)]=CLUSTER_DEP_STACK_NAME+'-'+_0x34a823,_0x48ce9b['OnFailure']=_0x25d96b[_0x3a8074(0x181)],_0x48ce9b[_0x3a8074(0x1e2)]=_0x1bf9f6,_0x48ce9b[_0x3a8074(0x17a)]=[{'ParameterKey':_0x25d96b[_0x3a8074(0x196)],'ParameterValue':_0x34a823},{'ParameterKey':_0x25d96b['jGMzY'],'ParameterValue':_0x34a823+_0x3a8074(0x168)},{'ParameterKey':_0x25d96b[_0x3a8074(0x1b1)],'ParameterValue':''+_0x4a6de6},{'ParameterKey':_0x25d96b[_0x3a8074(0x1b6)],'ParameterValue':'0'},{'ParameterKey':_0x25d96b['OduID'],'ParameterValue':'1'},{'ParameterKey':_0x25d96b[_0x3a8074(0x1e1)],'ParameterValue':''+_0x5b1f23},{'ParameterKey':_0x25d96b[_0x3a8074(0x1f3)],'ParameterValue':global_registry[_0x3a8074(0x189)]},{'ParameterKey':_0x25d96b[_0x3a8074(0x204)],'ParameterValue':global_registry[_0x3a8074(0x17c)]},{'ParameterKey':_0x25d96b[_0x3a8074(0x1f8)],'ParameterValue':global_registry[_0x3a8074(0x1b9)]},{'ParameterKey':_0x25d96b['mmZCR'],'ParameterValue':_0x34a823+_0x3a8074(0x17d)}],_0x48ce9b[_0x3a8074(0x1e6)]=[_0x25d96b['LzeYg']],_0x48ce9b[_0x3a8074(0x178)]=_0x184501;const _0x3ccc4d=_0x48ce9b;if(_0x25d96b[_0x3a8074(0x1c4)](_0x5a2051,null)&&_0x25d96b[_0x3a8074(0x1ea)](_0x5a2051,undefined)){if(_0x25d96b[_0x3a8074(0x1ea)](_0x25d96b[_0x3a8074(0x1bd)],_0x25d96b[_0x3a8074(0x1bd)]))_0x2408c8[_0x3a8074(0x17a)]['push']({'ParameterKey':_0x3a8074(0x1bf)+_0x25d96b['BbSaB'](_0x4a88f4,_0x1ff7e0)[_0x3a8074(0x15f)](0x2,'0'),'ParameterValue':_0x171096[_0x3a8074(0x179)]}),_0x44fed6+=0x1;else{const _0xe99a77={};_0xe99a77[_0x3a8074(0x1f7)]=_0x25d96b[_0x3a8074(0x185)],_0xe99a77['ParameterValue']=_0x5a2051,_0x3ccc4d['Parameters']['push'](_0xe99a77);}}if(_0x25d96b[_0x3a8074(0x169)](_0x111c43,null)&&_0x25d96b[_0x3a8074(0x1ea)](_0x111c43,undefined)){let _0x294f60=0x1;_0x111c43['forEach'](_0x4038a2=>{const _0x915962=_0x3a8074;_0x3ccc4d['Parameters'][_0x915962(0x173)]({'ParameterKey':'Subnet'+_0x25d96b['BcxFG'](String,_0x294f60)[_0x915962(0x15f)](0x2,'0'),'ParameterValue':_0x4038a2[_0x915962(0x179)]}),_0x294f60+=0x1;});}const _0x437f3f=await _0x4de904[_0x3a8074(0x1e9)](_0x3ccc4d)[_0x3a8074(0x1c9)]();logger[_0x3a8074(0x1d6)](_0x25d96b[_0x3a8074(0x20b)]);const _0x4531c4={};return _0x4531c4[_0x3a8074(0x182)]=_0x437f3f[_0x3a8074(0x18d)],_0x4de904['waitFor'](_0x25d96b['IQFIU'],_0x4531c4)['promise']();};