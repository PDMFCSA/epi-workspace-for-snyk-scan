function a27_0x3d60(_0x5a9292,_0x59a282){const _0x444ee9=a27_0x444e();return a27_0x3d60=function(_0x3d6097,_0x472084){_0x3d6097=_0x3d6097-0x110;let _0x4dc167=_0x444ee9[_0x3d6097];return _0x4dc167;},a27_0x3d60(_0x5a9292,_0x59a282);}const a27_0x57bdfb=a27_0x3d60;function a27_0x444e(){const _0x4a51e9=['afcqU','browserstack:cluster','puxbH','promisifyAll','ZJFUl','Subnets','CpZfb','xLQkD','LUOmv','vpc-create.yaml','svsQg','gvvLU','Resources','EKSCluster','../config/constants','SubnetIds','JQdkN','readFileAsync','JJLcD','vBVdV','muRpM','Value','subnet-import.yaml','VXEfy','2589665xrbmfZ','DependsOn','split','rJLZz','TemplateBody','fVADD','aws-eks-cluster-dep.yaml','pHkFR','TOWmq','createStack','KWLaS','ARBLK','AWS::CloudFormation::Interface','NodeImageId','WxxFM','ufFAH','qUiFj','hZunO','raYkA','Subnet','ParameterGroups','qUVlo','DPBYC','yLvis','iSjHA','GJuld','5|0|4|1|3|2','djxZn','pBfdM','ppZso','gvzft','CloudFormation','GIbmg','kVbaF','CAPABILITY_NAMED_IAM','deRUA','AiWHT','load','StackName','value','schema','keys','NVHvF','Tags','oWbyd','./AWSUtils','CGePf','ParameterValue','IsIcC','ResourcesVpcConfig','2010-05-15','path','join','hEwTS','ihuua','7vVlPRs','zHPZr','Outputs','3463248YvaEIs','6nezwZa','48131bbjLDI','uhsPQ','4|3|1|0|5|2','EJvCu','OnFailure','Rsaju','EKVIx','qkAAJ','instanceType','apiVersion','ikNaE','padStart','VpcBlock','Subnet02','Subnet01','-NodeGroup','forEach','SNGwM','toString','NodeGroup','LNrSv','cHKjn','../config/logger','uNexk','Drnwi','utf-8','PHxbf','26950320HaUbsQ','awsObj','YhbqT','Properties','twIZV','BhJal','9066798HqJBSN','Fn::Join','SyweJ','nBSgv','XseZI','ParameterKey','stackCreateComplete','ibyHV','YunQp','kByiy','XllzD','qeCUq','VPC','JWQap','FOMPT','Subnet01Block','IRmVG','kBWBy','NodeGroupNameWindows','stringify','UrWUd','CFTemplates','NodeInstanceType','jxhsA','9mHvdnZ','JEhxD','Subnet02Block','NodeAutoScalingGroupMinSizeWindows','xxBUf','DELETE','6648952uQKvDX','bSYLM','PAwTP','HvQsn','NDVHV','nWyVW','vpc-import.yaml','ETRzN','KtTaA','Ref','RjjfF','Parameters','vOEYm','hSIzE','js-yaml','wkHJo','YlAFG','hKnWC','ucKYK','FjZEt','Opwax','kzbKb','VTmtl','NodeAutoScalingGroupDesiredSizeWindows','promise','zEUlp','pGcff','createClusterStack','PpQUi','Metadata','push','92412vYdAai','ClusterName','yWClT','GGSDx','iVCNG','dDYag','NodeGroupWindows','Key','s3Bucket'];a27_0x444e=function(){return _0x4a51e9;};return a27_0x444e();}(function(_0x2b4e99,_0x3cfb80){const _0x5dfea6=a27_0x3d60,_0x390b5c=_0x2b4e99();while(!![]){try{const _0x2a7c70=-parseInt(_0x5dfea6(0x11f))/0x1*(parseInt(_0x5dfea6(0x11e))/0x2)+-parseInt(_0x5dfea6(0x158))/0x3*(parseInt(_0x5dfea6(0x17d))/0x4)+parseInt(_0x5dfea6(0x19e))/0x5+-parseInt(_0x5dfea6(0x11d))/0x6+parseInt(_0x5dfea6(0x11a))/0x7*(-parseInt(_0x5dfea6(0x15e))/0x8)+-parseInt(_0x5dfea6(0x140))/0x9+parseInt(_0x5dfea6(0x13a))/0xa;if(_0x2a7c70===_0x3cfb80)break;else _0x390b5c['push'](_0x390b5c['shift']());}catch(_0x5076a5){_0x390b5c['push'](_0x390b5c['shift']());}}}(a27_0x444e,0x8e75a));const fs=require('fs'),path=require(a27_0x57bdfb(0x116)),Promise=require('bluebird'),yaml=require(a27_0x57bdfb(0x16c)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require('./AWSUtils')[a27_0x57bdfb(0x13b)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x57bdfb(0x194)),{logger}=require(a27_0x57bdfb(0x135)),{isBucketPresent}=require(a27_0x57bdfb(0x110));Promise[a27_0x57bdfb(0x189)](fs);const mergeTemplates=(_0x2be1c5,_0x3c2dcf)=>{const _0x2b3d8a=a27_0x57bdfb,_0x674e49={'iVCNG':_0x2b3d8a(0x121),'UrWUd':function(_0x2ead05,_0x1e207f){return _0x2ead05(_0x1e207f);},'NVHvF':_0x2b3d8a(0x1aa),'LUOmv':function(_0x30f1ba,_0xce51df){return _0x30f1ba(_0xce51df);},'EJvCu':_0x2b3d8a(0x141),'fVADD':function(_0x3df3e8,_0x6a0e75){return _0x3df3e8!==_0x6a0e75;},'kzbKb':_0x2b3d8a(0x1a1),'FOMPT':_0x2b3d8a(0x142),'ARBLK':_0x2b3d8a(0x118)};Object['keys'](_0x3c2dcf)[_0x2b3d8a(0x12f)](_0x32f96d=>{const _0x50dc0b=_0x2b3d8a;if(_0x674e49[_0x50dc0b(0x1a3)](_0x674e49[_0x50dc0b(0x1a9)],_0x674e49[_0x50dc0b(0x1a9)]))_0x3a5d21[_0x30c0de[_0x50dc0b(0x184)]]=_0x3eed42[_0x50dc0b(0x19b)];else{var _0x234cb6=_0x3c2dcf[_0x32f96d];Object['keys'](_0x234cb6)['forEach'](_0x2b8958=>{const _0x31e211=_0x50dc0b,_0x3bde92={'YhbqT':_0x674e49[_0x31e211(0x181)],'YunQp':function(_0x82a620,_0x484f43){const _0x321e33=_0x31e211;return _0x674e49[_0x321e33(0x154)](_0x82a620,_0x484f43);},'PHxbf':_0x674e49[_0x31e211(0x1c8)],'ufFAH':function(_0x4a8ada,_0x37e8c1){const _0x51b151=_0x31e211;return _0x674e49[_0x51b151(0x18e)](_0x4a8ada,_0x37e8c1);},'cKuXl':_0x674e49[_0x31e211(0x122)],'puxbH':function(_0x5d1011,_0x66b6fe){const _0x76b14c=_0x31e211;return _0x674e49[_0x76b14c(0x154)](_0x5d1011,_0x66b6fe);}};if(_0x674e49[_0x31e211(0x1a3)](_0x674e49[_0x31e211(0x173)],_0x674e49[_0x31e211(0x14e)]))_0x2be1c5[_0x32f96d][_0x2b8958]=_0x234cb6[_0x2b8958];else{const _0x428817=_0x3bde92[_0x31e211(0x13c)][_0x31e211(0x1a0)]('|');let _0x5b5684=0x0;while(!![]){switch(_0x428817[_0x5b5684++]){case'0':_0x53596a[_0x31e211(0x192)][_0x31e211(0x183)][_0x31e211(0x13d)][_0x31e211(0x18b)][_0x31e211(0x17c)]({'Ref':'Subnet'+_0x3bde92[_0x31e211(0x148)](_0x5cdc0e,_0x10d2d9)[_0x31e211(0x12a)](0x2,'0')});continue;case'1':_0x39fffe[_0x31e211(0x192)][_0x31e211(0x132)][_0x31e211(0x13d)]['Subnets'][_0x31e211(0x17c)]({'Ref':_0x31e211(0x1b1)+_0x3bde92[_0x31e211(0x148)](_0x4d6c26,_0x2cd268)[_0x31e211(0x12a)](0x2,'0')});continue;case'2':_0x273ec0+=0x1;continue;case'3':_0x420f67['Metadata'][_0x3bde92[_0x31e211(0x139)]][_0x31e211(0x1b2)][0x0][_0x31e211(0x169)][_0x31e211(0x17c)]('Subnet'+_0x3bde92[_0x31e211(0x1ad)](_0x46875c,_0xc363e6)[_0x31e211(0x12a)](0x2,'0'));continue;case'4':_0x5bad47['Resources']['EKSCluster'][_0x31e211(0x13d)][_0x31e211(0x114)]['SubnetIds']['push']({'Ref':_0x31e211(0x1b1)+_0x3bde92[_0x31e211(0x1ad)](_0x2fcfc5,_0x276bed)['padStart'](0x2,'0')});continue;case'5':_0x5cb267[_0x31e211(0x11c)]['SubnetIds'][_0x31e211(0x19b)][_0x3bde92['cKuXl']][0x1][_0x31e211(0x17c)]({'Ref':_0x31e211(0x1b1)+_0x3bde92[_0x31e211(0x188)](_0x54b72c,_0x598a5f)[_0x31e211(0x12a)](0x2,'0')});continue;}break;}}});}});},addVPCData=async(_0x4d5206,_0x5ec2a8)=>{const _0x211f90=a27_0x57bdfb,_0x915986={'AiWHT':function(_0x3bc5d7,_0x5678a9){return _0x3bc5d7!==_0x5678a9;},'raYkA':_0x211f90(0x1b5),'ArQLe':_0x211f90(0x1b7),'kBWBy':'CFTemplates','xtjYP':_0x211f90(0x164),'ETRzN':_0x211f90(0x138),'LNrSv':function(_0x294d86,_0x593ab6,_0x417c37){return _0x294d86(_0x593ab6,_0x417c37);},'JWQap':_0x211f90(0x1aa),'hdnHo':'VPC','wkHJo':_0x211f90(0x166),'BhJal':_0x211f90(0x18f),'xLQkD':function(_0x5e2a4e,_0x54cc39,_0x4be2b1){return _0x5e2a4e(_0x54cc39,_0x4be2b1);},'DPBYC':_0x211f90(0x12b)};if(_0x5ec2a8){if(_0x915986[_0x211f90(0x1c2)](_0x915986[_0x211f90(0x1b0)],_0x915986['ArQLe'])){const _0x32d240=await fs['readFileAsync'](path[_0x211f90(0x117)](__dirname,'..',_0x915986['kBWBy'],_0x915986['xtjYP']),_0x915986[_0x211f90(0x165)]),_0x48673e={};_0x48673e[_0x211f90(0x1c6)]=CLOUDFORMATION_SCHEMA;const _0x409a72=yaml['load'](_0x32d240,_0x48673e);_0x915986[_0x211f90(0x133)](mergeTemplates,_0x4d5206,_0x409a72),_0x4d5206[_0x211f90(0x17b)][_0x915986[_0x211f90(0x14d)]][_0x211f90(0x1b2)][0x0][_0x211f90(0x169)][_0x211f90(0x17c)](_0x915986['hdnHo']);}else _0x4a6832[_0x136762][_0x10c0b0]=_0x2ab83d[_0x268957];}else{if(_0x915986[_0x211f90(0x1c2)](_0x915986[_0x211f90(0x16d)],_0x915986[_0x211f90(0x16d)])){var _0x2eaa5f=_0x1384f7[_0x1cb02a];_0x2baf07[_0x211f90(0x1c7)](_0x2eaa5f)[_0x211f90(0x12f)](_0x3e5922=>{_0x42d5f6[_0x40deed][_0x3e5922]=_0x2eaa5f[_0x3e5922];});}else{const _0x5c3d79=await fs[_0x211f90(0x197)](path[_0x211f90(0x117)](__dirname,'..',_0x915986[_0x211f90(0x151)],_0x915986[_0x211f90(0x13f)]),_0x915986[_0x211f90(0x165)]),_0x2e44b5={};_0x2e44b5[_0x211f90(0x1c6)]=CLOUDFORMATION_SCHEMA;const _0x2afbdd=yaml[_0x211f90(0x1c3)](_0x5c3d79,_0x2e44b5);_0x915986[_0x211f90(0x18d)](mergeTemplates,_0x4d5206,_0x2afbdd),_0x4d5206[_0x211f90(0x17b)][_0x915986[_0x211f90(0x14d)]][_0x211f90(0x1b2)][0x0][_0x211f90(0x169)][_0x211f90(0x17c)](_0x915986[_0x211f90(0x1b4)]);}}},addS3Data=async _0x25cb6e=>{const _0x429218=a27_0x57bdfb,_0x569d30={'zEUlp':'CFTemplates','GGSDx':'s3-create.yaml','XllzD':'utf-8','dDYag':function(_0xe15a9a,_0x17b562){return _0xe15a9a(_0x17b562);},'CGePf':function(_0x2a272b,_0x2dcc8f){return _0x2a272b===_0x2dcc8f;},'nBSgv':function(_0x1bde5b,_0x29d7f2){return _0x1bde5b===_0x29d7f2;},'uNexk':_0x429218(0x15c),'xZnuF':function(_0x135517,_0x39e06c,_0x3173f0){return _0x135517(_0x39e06c,_0x3173f0);}},_0x10e55d=await fs[_0x429218(0x197)](path[_0x429218(0x117)](__dirname,'..',_0x569d30[_0x429218(0x177)],_0x569d30[_0x429218(0x180)]),_0x569d30[_0x429218(0x14a)]),_0x36bcf8={};_0x36bcf8['schema']=CLOUDFORMATION_SCHEMA;const _0x4c2b8d=yaml[_0x429218(0x1c3)](_0x10e55d,_0x36bcf8),_0x4db9b5=await _0x569d30[_0x429218(0x182)](isBucketPresent,global_registry[_0x429218(0x185)]);_0x569d30[_0x429218(0x111)](_0x4db9b5,![])&&(_0x569d30[_0x429218(0x143)](_0x569d30[_0x429218(0x136)],_0x569d30['uNexk'])?_0x569d30['xZnuF'](mergeTemplates,_0x25cb6e,_0x4c2b8d):_0x1dcecd[_0x429218(0x1c7)](_0xb53544)[_0x429218(0x12f)](_0x4dfaf3=>{const _0x468b14=_0x429218;var _0x9d37c0=_0x4b27dc[_0x4dfaf3];_0x26c633['keys'](_0x9d37c0)[_0x468b14(0x12f)](_0x4a3bda=>{_0x26985a[_0x4dfaf3][_0x4a3bda]=_0x9d37c0[_0x4a3bda];});}));},addSubnetData=async(_0xfaca78,_0x8195a6)=>{const _0x533583=a27_0x57bdfb,_0x3f5bb5={'IRmVG':function(_0x37b88a,_0x344191){return _0x37b88a(_0x344191);},'WxxFM':function(_0x56a6fb,_0x406bdf){return _0x56a6fb!==_0x406bdf;},'ppZso':_0x533583(0x171),'JJLcD':_0x533583(0x1b8),'hSIzE':_0x533583(0x1aa),'twIZV':function(_0x2d3ebc,_0x53acfe){return _0x2d3ebc(_0x53acfe);},'gvvLU':_0x533583(0x141),'kSpNl':function(_0x19cde8,_0x3f094b){return _0x19cde8(_0x3f094b);},'TOWmq':function(_0x5cd042,_0x20eca6){return _0x5cd042(_0x20eca6);},'RjjfF':function(_0x314b77,_0x39b8aa){return _0x314b77(_0x39b8aa);},'pHkFR':function(_0x331208,_0x62af){return _0x331208!==_0x62af;},'ibyHV':_0x533583(0x1ae),'ucKYK':'CFTemplates','qLPbn':_0x533583(0x19c),'WfNpa':_0x533583(0x138),'kByiy':function(_0x15e1f4,_0x21c807,_0x266322){return _0x15e1f4(_0x21c807,_0x266322);},'VJdbS':function(_0x7a516,_0x45aa98){return _0x7a516!==_0x45aa98;},'EKVIx':'gTeJx','fYgjT':'subnet-create.yaml','PpQUi':_0x533583(0x12d),'GIbmg':_0x533583(0x12c),'Drnwi':'Subnet03','pBfdM':_0x533583(0x14f),'yWClT':_0x533583(0x15a),'qeCUq':'Subnet03Block'};if(_0x8195a6){if(_0x3f5bb5[_0x533583(0x1a5)](_0x3f5bb5[_0x533583(0x147)],_0x3f5bb5['ibyHV'])){let _0x4c5c9e=0x1;_0x31ee65[_0x533583(0x12f)](_0x176fcb=>{const _0x4c6719=_0x533583;_0x2e71f8[_0x4c6719(0x169)][_0x4c6719(0x17c)]({'ParameterKey':_0x4c6719(0x1b1)+_0x3f5bb5[_0x4c6719(0x150)](_0x34524d,_0x4c5c9e)[_0x4c6719(0x12a)](0x2,'0'),'ParameterValue':_0x176fcb['value']}),_0x4c5c9e+=0x1;});}else{const _0x26e589=await fs[_0x533583(0x197)](path['join'](__dirname,'..',_0x3f5bb5[_0x533583(0x170)],_0x3f5bb5['qLPbn']),_0x3f5bb5['WfNpa']),_0x3c1aa9={};_0x3c1aa9[_0x533583(0x1c6)]=CLOUDFORMATION_SCHEMA;const _0x5be991=yaml[_0x533583(0x1c3)](_0x26e589,_0x3c1aa9);_0x3f5bb5[_0x533583(0x149)](mergeTemplates,_0xfaca78,_0x5be991);let _0x415f22=0x1;_0x8195a6[_0x533583(0x12f)](_0x49a780=>{const _0xf21609=_0x533583,_0x53b319={'deRUA':function(_0x2d44ba,_0x3dc612){return _0x3f5bb5['IRmVG'](_0x2d44ba,_0x3dc612);}};if(_0x3f5bb5[_0xf21609(0x1ac)](_0x3f5bb5[_0xf21609(0x1bb)],_0x3f5bb5['ppZso']))_0x5d7595[_0xf21609(0x169)][_0xf21609(0x17c)]({'ParameterKey':_0xf21609(0x1b1)+_0x53b319[_0xf21609(0x1c1)](_0x262140,_0x843e70)[_0xf21609(0x12a)](0x2,'0'),'ParameterValue':_0x466f0c['value']}),_0x5743ab+=0x1;else{const _0x2fc316=_0x3f5bb5[_0xf21609(0x198)][_0xf21609(0x1a0)]('|');let _0x27c03b=0x0;while(!![]){switch(_0x2fc316[_0x27c03b++]){case'0':_0xfaca78[_0xf21609(0x17b)][_0x3f5bb5[_0xf21609(0x16b)]][_0xf21609(0x1b2)][0x0][_0xf21609(0x169)][_0xf21609(0x17c)](_0xf21609(0x1b1)+_0x3f5bb5[_0xf21609(0x13e)](String,_0x415f22)[_0xf21609(0x12a)](0x2,'0'));continue;case'1':_0xfaca78[_0xf21609(0x192)][_0xf21609(0x183)]['Properties'][_0xf21609(0x18b)][_0xf21609(0x17c)]({'Ref':_0xf21609(0x1b1)+_0x3f5bb5[_0xf21609(0x150)](String,_0x415f22)[_0xf21609(0x12a)](0x2,'0')});continue;case'2':_0x415f22+=0x1;continue;case'3':_0xfaca78[_0xf21609(0x11c)][_0xf21609(0x195)][_0xf21609(0x19b)][_0x3f5bb5[_0xf21609(0x191)]][0x1][_0xf21609(0x17c)]({'Ref':_0xf21609(0x1b1)+_0x3f5bb5['kSpNl'](String,_0x415f22)[_0xf21609(0x12a)](0x2,'0')});continue;case'4':_0xfaca78[_0xf21609(0x192)]['NodeGroup']['Properties'][_0xf21609(0x18b)][_0xf21609(0x17c)]({'Ref':'Subnet'+_0x3f5bb5[_0xf21609(0x1a6)](String,_0x415f22)[_0xf21609(0x12a)](0x2,'0')});continue;case'5':_0xfaca78[_0xf21609(0x192)]['EKSCluster'][_0xf21609(0x13d)]['ResourcesVpcConfig']['SubnetIds'][_0xf21609(0x17c)]({'Ref':_0xf21609(0x1b1)+_0x3f5bb5[_0xf21609(0x168)](String,_0x415f22)[_0xf21609(0x12a)](0x2,'0')});continue;}break;}}});}}else{if(_0x3f5bb5['VJdbS'](_0x3f5bb5[_0x533583(0x125)],_0x3f5bb5[_0x533583(0x125)]))_0x23c469[_0x533583(0x192)][_0x53b7e4][_0x533583(0x13d)][_0x533583(0x1c9)][_0x533583(0x17c)](..._0x340aaf);else{const _0x593999=await fs[_0x533583(0x197)](path[_0x533583(0x117)](__dirname,'..',_0x3f5bb5[_0x533583(0x170)],_0x3f5bb5['fYgjT']),_0x3f5bb5['WfNpa']),_0x63385a={};_0x63385a['schema']=CLOUDFORMATION_SCHEMA;const _0x5def39=yaml['load'](_0x593999,_0x63385a);_0x3f5bb5[_0x533583(0x149)](mergeTemplates,_0xfaca78,_0x5def39),_0xfaca78[_0x533583(0x192)][_0x533583(0x193)][_0x533583(0x19f)]['push'](_0x3f5bb5[_0x533583(0x17a)],_0x3f5bb5['GIbmg'],_0x3f5bb5[_0x533583(0x137)]);const _0x4cb026={};_0x4cb026[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x17a)];const _0x5b7a24={};_0x5b7a24['Ref']=_0x3f5bb5[_0x533583(0x1be)];const _0x4c976b={};_0x4c976b[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x137)],_0xfaca78[_0x533583(0x192)]['EKSCluster'][_0x533583(0x13d)]['ResourcesVpcConfig'][_0x533583(0x195)]=[_0x4cb026,_0x5b7a24,_0x4c976b],_0xfaca78[_0x533583(0x17b)][_0x3f5bb5[_0x533583(0x16b)]][_0x533583(0x1b2)][0x0][_0x533583(0x169)][_0x533583(0x17c)](_0x3f5bb5[_0x533583(0x1ba)],_0x3f5bb5[_0x533583(0x17f)],_0x3f5bb5[_0x533583(0x14b)]);const _0x3b3322={};_0x3b3322[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x17a)];const _0x6617c={};_0x6617c[_0x533583(0x167)]=_0x3f5bb5['GIbmg'];const _0x387365={};_0x387365[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x137)],_0xfaca78['Resources'][_0x533583(0x132)]['Properties'][_0x533583(0x18b)]=[_0x3b3322,_0x6617c,_0x387365];const _0x2b00df={};_0x2b00df[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x17a)];const _0x2cf562={};_0x2cf562[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x1be)];const _0x5dec2e={};_0x5dec2e[_0x533583(0x167)]=_0x3f5bb5[_0x533583(0x137)],_0xfaca78[_0x533583(0x192)]['NodeGroupWindows']['Properties'][_0x533583(0x18b)]=[_0x2b00df,_0x2cf562,_0x5dec2e],_0xfaca78[_0x533583(0x11c)]['SubnetIds'][_0x533583(0x19b)][_0x3f5bb5[_0x533583(0x191)]][0x1]=[{'Ref':_0x3f5bb5[_0x533583(0x17a)]},{'Ref':_0x3f5bb5[_0x533583(0x1be)]},{'Ref':_0x3f5bb5['Drnwi']}];}}},addTags=async(_0x4d6c50,_0x41f68c,_0x3997b3)=>{const _0x5dfe61=a27_0x57bdfb,_0x26f24f={'IsIcC':_0x5dfe61(0x14c),'XrTtD':function(_0x241f9f,_0x54f75f,_0x8788d4){return _0x241f9f(_0x54f75f,_0x8788d4);},'CpZfb':'NodeGroup','muRpM':_0x5dfe61(0x183),'DtWPk':function(_0x4bc3ca,_0x52ecc3){return _0x4bc3ca!==_0x52ecc3;},'PAwTP':_0x5dfe61(0x1bf),'qUVlo':function(_0x441685,_0x11bbbc){return _0x441685===_0x11bbbc;},'XseZI':_0x5dfe61(0x16f),'djxZn':function(_0x26be32,_0x350c15){return _0x26be32!==_0x350c15;},'jxhsA':_0x5dfe61(0x186),'nWyVW':'hPACH'};for(const _0xd0d4e2 in _0x4d6c50['Resources']){if(_0x26f24f[_0x5dfe61(0x1b3)](_0x26f24f[_0x5dfe61(0x144)],_0x26f24f['XseZI'])){if(_0x4d6c50[_0x5dfe61(0x192)][_0xd0d4e2][_0x5dfe61(0x13d)]&&_0x4d6c50['Resources'][_0xd0d4e2][_0x5dfe61(0x13d)][_0x5dfe61(0x1c9)]){if(_0x26f24f[_0x5dfe61(0x1b9)](_0x26f24f[_0x5dfe61(0x157)],_0x26f24f[_0x5dfe61(0x163)]))_0x4d6c50[_0x5dfe61(0x192)][_0xd0d4e2]['Properties'][_0x5dfe61(0x1c9)]['push'](..._0x3997b3);else{const _0x567798={};_0x567798[_0x5dfe61(0x145)]=_0x26f24f[_0x5dfe61(0x113)],_0x567798[_0x5dfe61(0x112)]=_0x59454f,_0x568366['Parameters'][_0x5dfe61(0x17c)](_0x567798);}}}else _0x26f24f['XrTtD'](_0x41f3e9,_0x436d3c,_0xe5565a);}const _0x3174a8={};_0x3997b3[_0x5dfe61(0x12f)](_0xe5d8ce=>{const _0x4bdef6=_0x5dfe61,_0xef7c2a={};_0xef7c2a['LKaRG']=_0x26f24f['CpZfb'],_0xef7c2a[_0x4bdef6(0x1bc)]=_0x26f24f[_0x4bdef6(0x19a)];const _0x5bbe6c=_0xef7c2a;if(_0x26f24f['DtWPk'](_0x26f24f[_0x4bdef6(0x160)],_0x26f24f[_0x4bdef6(0x160)])){for(const _0x386964 in _0x5d3562[_0x4bdef6(0x192)]){_0x3d6948[_0x4bdef6(0x192)][_0x386964][_0x4bdef6(0x13d)]&&_0x53c20d[_0x4bdef6(0x192)][_0x386964]['Properties'][_0x4bdef6(0x1c9)]&&_0x1f3089[_0x4bdef6(0x192)][_0x386964][_0x4bdef6(0x13d)][_0x4bdef6(0x1c9)][_0x4bdef6(0x17c)](..._0x3751ef);}const _0x388be1={};_0x1040c5[_0x4bdef6(0x12f)](_0x268d6e=>{const _0x3c0cae=_0x4bdef6;_0x388be1[_0x268d6e[_0x3c0cae(0x184)]]=_0x268d6e[_0x3c0cae(0x19b)];}),_0x580f47[_0x4bdef6(0x192)][_0x5bbe6c['LKaRG']][_0x4bdef6(0x13d)]['Tags']=_0x388be1,_0xa575f2[_0x4bdef6(0x192)][_0x5bbe6c[_0x4bdef6(0x1bc)]][_0x4bdef6(0x13d)]['Tags']=_0x388be1;}else _0x3174a8[_0xe5d8ce[_0x4bdef6(0x184)]]=_0xe5d8ce[_0x4bdef6(0x19b)];}),_0x4d6c50[_0x5dfe61(0x192)][_0x26f24f[_0x5dfe61(0x18c)]][_0x5dfe61(0x13d)][_0x5dfe61(0x1c9)]=_0x3174a8,_0x4d6c50['Resources'][_0x26f24f[_0x5dfe61(0x19a)]][_0x5dfe61(0x13d)][_0x5dfe61(0x1c9)]=_0x3174a8;};exports[a27_0x57bdfb(0x179)]=async(_0x5a53c4,_0x5aa0c6,_0x4561e8,_0x52e1e9=null,_0x375c10=null,_0x3425d0)=>{const _0x37884b=a27_0x57bdfb,_0xa036e1={'cHKjn':function(_0x227851,_0x2d1a39){return _0x227851(_0x2d1a39);},'JQdkN':_0x37884b(0x187),'iSjHA':'browserstack:creationDate','YlAFG':_0x37884b(0x115),'pGcff':_0x37884b(0x155),'bSYLM':_0x37884b(0x1a4),'oWbyd':_0x37884b(0x138),'knnna':function(_0x37d407,_0x3ebb0b,_0x589d9f){return _0x37d407(_0x3ebb0b,_0x589d9f);},'lwBiS':function(_0x56956f,_0x37d01e){return _0x56956f(_0x37d01e);},'vBVdV':function(_0xf084d7,_0x20ebb2,_0x12cf6f){return _0xf084d7(_0x20ebb2,_0x12cf6f);},'ZJFUl':function(_0x3de046,_0x39dfba,_0x11c454,_0x3d2e53){return _0x3de046(_0x39dfba,_0x11c454,_0x3d2e53);},'SNGwM':_0x37884b(0x15d),'hZunO':_0x37884b(0x17e),'KWLaS':'NodeGroupName','dVznc':'NodeAutoScalingGroupMinSize','LTbLo':_0x37884b(0x15b),'ibwdc':_0x37884b(0x175),'svsQg':'NodeAutoScalingGroupMaxSize','JEhxD':_0x37884b(0x1ab),'BkpGC':_0x37884b(0x156),'hxdHX':'S3BucketName','ufhhC':_0x37884b(0x152),'HvQsn':'ClusterAutoUpgrade','ZrIWS':'true','qkAAJ':'false','vOEYm':_0x37884b(0x1c0),'ikNaE':function(_0x3ab294,_0x258515){return _0x3ab294!=_0x258515;},'Opwax':function(_0x384f85,_0x3453fc){return _0x384f85!==_0x3453fc;},'ihuua':function(_0x1efd01,_0x25b721){return _0x1efd01!==_0x25b721;},'uhsPQ':_0x37884b(0x174),'NDVHV':_0x37884b(0x11b),'VXEfy':_0x37884b(0x14c),'QDaVt':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Rsaju':_0x37884b(0x146)},_0x3f79d3=COMMON_HST_TAGS,_0x1a92ea={};_0x1a92ea[_0x37884b(0x184)]=_0xa036e1[_0x37884b(0x196)],_0x1a92ea[_0x37884b(0x19b)]=_0x5a53c4,_0x3f79d3[_0x37884b(0x17c)](_0x1a92ea),_0x3f79d3[_0x37884b(0x17c)]({'Key':_0xa036e1[_0x37884b(0x1b6)],'Value':new Date()['valueOf']()[_0x37884b(0x131)]()});const _0x591837={};_0x591837[_0x37884b(0x128)]=_0xa036e1[_0x37884b(0x16e)];const _0x2e45a8=new AWS[(_0x37884b(0x1bd))](_0x591837),_0x5c99ff=await fs[_0x37884b(0x197)](path[_0x37884b(0x117)](__dirname,'..',_0xa036e1[_0x37884b(0x178)],_0xa036e1[_0x37884b(0x15f)]),_0xa036e1[_0x37884b(0x1ca)]),_0xf25e9b={};_0xf25e9b[_0x37884b(0x1c6)]=CLOUDFORMATION_SCHEMA;const _0x497144=yaml[_0x37884b(0x1c3)](_0x5c99ff,_0xf25e9b);await _0xa036e1['knnna'](addVPCData,_0x497144,_0x52e1e9),await _0xa036e1['lwBiS'](addS3Data,_0x497144),await _0xa036e1[_0x37884b(0x199)](addSubnetData,_0x497144,_0x375c10),await _0xa036e1[_0x37884b(0x18a)](addTags,_0x497144,_0x5a53c4,_0x3f79d3);const _0x1ac39f=JSON[_0x37884b(0x153)](_0x497144),_0x148abb={};_0x148abb[_0x37884b(0x1c4)]=CLUSTER_DEP_STACK_NAME+'-'+_0x5a53c4,_0x148abb[_0x37884b(0x123)]=_0xa036e1[_0x37884b(0x130)],_0x148abb[_0x37884b(0x1a2)]=_0x1ac39f,_0x148abb[_0x37884b(0x169)]=[{'ParameterKey':_0xa036e1[_0x37884b(0x1af)],'ParameterValue':_0x5a53c4},{'ParameterKey':_0xa036e1[_0x37884b(0x1a8)],'ParameterValue':_0x5a53c4+_0x37884b(0x12e)},{'ParameterKey':_0xa036e1['dVznc'],'ParameterValue':''+_0x5aa0c6},{'ParameterKey':_0xa036e1['LTbLo'],'ParameterValue':'0'},{'ParameterKey':_0xa036e1['ibwdc'],'ParameterValue':'1'},{'ParameterKey':_0xa036e1[_0x37884b(0x190)],'ParameterValue':''+_0x4561e8},{'ParameterKey':_0xa036e1[_0x37884b(0x159)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0xa036e1['BkpGC'],'ParameterValue':global_registry[_0x37884b(0x127)]},{'ParameterKey':_0xa036e1['hxdHX'],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0xa036e1['ufhhC'],'ParameterValue':_0x5a53c4+'-Windows-NodeGroup'},{'ParameterKey':_0xa036e1[_0x37884b(0x161)],'ParameterValue':_0x3425d0?_0xa036e1['ZrIWS']:_0xa036e1[_0x37884b(0x126)]}],_0x148abb['Capabilities']=[_0xa036e1[_0x37884b(0x16a)]],_0x148abb[_0x37884b(0x1c9)]=_0x3f79d3;const _0x3e6504=_0x148abb;if(_0xa036e1[_0x37884b(0x129)](_0x52e1e9,null)&&_0xa036e1[_0x37884b(0x172)](_0x52e1e9,undefined)){if(_0xa036e1[_0x37884b(0x119)](_0xa036e1[_0x37884b(0x120)],_0xa036e1[_0x37884b(0x162)])){const _0x6c233={};_0x6c233[_0x37884b(0x145)]=_0xa036e1[_0x37884b(0x19d)],_0x6c233[_0x37884b(0x112)]=_0x52e1e9,_0x3e6504['Parameters'][_0x37884b(0x17c)](_0x6c233);}else _0x3d65e3[_0x37884b(0x192)][_0x141dcd][_0x37884b(0x13d)]&&_0x10a55f['Resources'][_0x47c4ad][_0x37884b(0x13d)][_0x37884b(0x1c9)]&&_0x52c230[_0x37884b(0x192)][_0x250d85][_0x37884b(0x13d)][_0x37884b(0x1c9)]['push'](..._0x876056);}if(_0xa036e1[_0x37884b(0x129)](_0x375c10,null)&&_0xa036e1[_0x37884b(0x172)](_0x375c10,undefined)){let _0x361777=0x1;_0x375c10['forEach'](_0x43939d=>{const _0x1ae0be=_0x37884b;_0x3e6504['Parameters'][_0x1ae0be(0x17c)]({'ParameterKey':_0x1ae0be(0x1b1)+_0xa036e1[_0x1ae0be(0x134)](String,_0x361777)['padStart'](0x2,'0'),'ParameterValue':_0x43939d[_0x1ae0be(0x1c5)]}),_0x361777+=0x1;});}const _0x3d2ff3=await _0x2e45a8[_0x37884b(0x1a7)](_0x3e6504)[_0x37884b(0x176)]();logger['debug'](_0xa036e1['QDaVt']);const _0xd62ac8={};return _0xd62ac8['StackName']=_0x3d2ff3['StackId'],_0x2e45a8['waitFor'](_0xa036e1[_0x37884b(0x124)],_0xd62ac8)[_0x37884b(0x176)]();};