const a27_0x4f59e2=a27_0x3260;(function(_0x1e9d9a,_0xf0c716){const _0x35ea4e=a27_0x3260,_0x552839=_0x1e9d9a();while(!![]){try{const _0x312692=parseInt(_0x35ea4e(0x121))/0x1*(parseInt(_0x35ea4e(0x159))/0x2)+-parseInt(_0x35ea4e(0xe7))/0x3*(parseInt(_0x35ea4e(0x136))/0x4)+parseInt(_0x35ea4e(0x15a))/0x5*(-parseInt(_0x35ea4e(0xc9))/0x6)+-parseInt(_0x35ea4e(0x11f))/0x7+-parseInt(_0x35ea4e(0xc6))/0x8+-parseInt(_0x35ea4e(0x16a))/0x9*(parseInt(_0x35ea4e(0xe2))/0xa)+parseInt(_0x35ea4e(0x174))/0xb*(parseInt(_0x35ea4e(0x10b))/0xc);if(_0x312692===_0xf0c716)break;else _0x552839['push'](_0x552839['shift']());}catch(_0x4ec5a9){_0x552839['push'](_0x552839['shift']());}}}(a27_0x221d,0xca261));const fs=require('fs'),path=require(a27_0x4f59e2(0x126)),Promise=require(a27_0x4f59e2(0x119)),yaml=require(a27_0x4f59e2(0x172)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4f59e2(0xfc)),AWS=require(a27_0x4f59e2(0x14c))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x4f59e2(0x138)),{logger}=require(a27_0x4f59e2(0x175)),{isBucketPresent}=require(a27_0x4f59e2(0x14c));function a27_0x221d(){const _0xaed074=['Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Ref','kbnGq','schema','split','Ykpsx','Resources','khxCK','1083412fejxLl','oXgZr','../config/constants','pmzAy','NodeImageId','oyfyX','FggoI','Properties','mmnUQ','TMzXP','SubnetIds','uEbBa','bjsaT','ZKnoL','EuzpK','wsgTO','EKSCluster','Subnet03Block','Outputs','qFMso','RhmLf','GsQGs','./AWSUtils','NodeGroup','jrbpl','SAlpm','bwEEe','Subnets','zEsfY','OdCSt','jhuhQ','lMEoQ','Subnet01','CZLTg','ParameterValue','3142486iEtezZ','5805pUCuED','RGxcC','WBQaZ','YVlre','stackCreateComplete','tjaSy','pPEpO','2010-05-15','pBjMw','jPBip','-Windows-NodeGroup','ABxFC','IFLZT','OnFailure','2|0|1|5|4|3','bVWzY','81VQsegI','Key','Fn::Join','INWPb','tPdek','VPC','ulind','CAPABILITY_NAMED_IAM','js-yaml','qSvBm','30964967fuszXB','../config/logger','LFUAF','KZBlh','debug','oEexf','xrAkT','rIpoC','BAFaM','Tags','IXaIU','evwgn','8519744tQbdcj','xuwTX','StackName','4890rmryWN','mpNOM','NodeGroupName','2|5|1|3|0|4','NodeGroupNameWindows','NxMDq','fqBNv','CloudFormation','subnet-create.yaml','xSLae','UsNaw','DyFbF','PFkxs','Metadata','GelAZ','UkrCq','toString','promise','push','Subnet','Pilpt','YkDKZ','WCAFK','browserstack:cluster','valueOf','607610aeDMPN','Subnet02Block','fgnPE','gGCan','ParameterKey','3hVXfEt','VpcBlock','yMcrg','NodeAutoScalingGroupMinSizeWindows','true','Value','bIENL','PxkiA','dMZhu','oHnwr','dKMEt','rluqU','rEpOU','nxUsG','s3Bucket','forEach','ResourcesVpcConfig','MRslc','padStart','wYtZp','wJsas','js-yaml-cloudformation-schema','cctri','AWS::CloudFormation::Interface','NodeInstanceType','keys','RWQFf','NodeGroupWindows','Parameters','tIiWV','YjpqP','SfhnW','nAHQJ','btwDL','load','ZVtBq','12gSxDuC','instanceType','reYHg','ClusterAutoUpgrade','KdQEJ','ami','join','tEgTt','CFTemplates','readFileAsync','jPleR','buWtp','sVvms','S3BucketName','bluebird','ByCcY','uOlSO','zFLic','wipzT','WgrQI','5105478QROxtN','false','1EhfHcR','value','ParameterGroups','utf-8','ysOrz','path','IoCkP','createStack','StackId','axlxw','s3-create.yaml','drnoR','ETxXY'];a27_0x221d=function(){return _0xaed074;};return a27_0x221d();}Promise['promisifyAll'](fs);const mergeTemplates=(_0x28f1aa,_0x5f5c36)=>{const _0x1d38dc=a27_0x4f59e2,_0x3a91b0={};_0x3a91b0['btwDL']=function(_0x49f1a4,_0x32635e){return _0x49f1a4===_0x32635e;},_0x3a91b0[_0x1d38dc(0x13c)]='KBfHR',_0x3a91b0[_0x1d38dc(0xfb)]='pOPsV',_0x3a91b0[_0x1d38dc(0x17c)]=function(_0x1f7f4a,_0x4f8399){return _0x1f7f4a!==_0x4f8399;},_0x3a91b0[_0x1d38dc(0xfa)]='AfuKs';const _0x37dd69=_0x3a91b0;Object[_0x1d38dc(0x100)](_0x5f5c36)['forEach'](_0x5c39d8=>{const _0x22d9de=_0x1d38dc;if(_0x37dd69[_0x22d9de(0x17c)](_0x37dd69[_0x22d9de(0xfa)],_0x37dd69[_0x22d9de(0xfa)]))_0x2a5aac[_0x22d9de(0x134)][_0x1abc5a][_0x22d9de(0x13d)]&&_0x378726['Resources'][_0x2c3a59][_0x22d9de(0x13d)][_0x22d9de(0x17d)]&&_0x5e4c0c[_0x22d9de(0x134)][_0x19876d][_0x22d9de(0x13d)][_0x22d9de(0x17d)][_0x22d9de(0xdb)](..._0x141eba);else{var _0x4e2765=_0x5f5c36[_0x5c39d8];Object[_0x22d9de(0x100)](_0x4e2765)[_0x22d9de(0xf6)](_0x25c9ef=>{const _0x49f9ef=_0x22d9de;_0x37dd69[_0x49f9ef(0x108)](_0x37dd69[_0x49f9ef(0x13c)],_0x37dd69[_0x49f9ef(0xfb)])?_0x55ff97[_0xe1d773['Key']]=_0x238a59[_0x49f9ef(0xec)]:_0x28f1aa[_0x5c39d8][_0x25c9ef]=_0x4e2765[_0x25c9ef];});}});},addVPCData=async(_0x3c7a5a,_0x2bd706)=>{const _0xeda872=a27_0x4f59e2,_0x49ec66={'uOlSO':_0xeda872(0x14d),'yTyCK':_0xeda872(0x102),'bjsaT':function(_0x11b2d9,_0x5f0d8d){return _0x11b2d9===_0x5f0d8d;},'xuwTX':_0xeda872(0x150),'jPBip':_0xeda872(0x113),'cctri':'vpc-import.yaml','evwgn':'utf-8','wipzT':function(_0x348b76,_0x1a8f5a,_0x287c0f){return _0x348b76(_0x1a8f5a,_0x287c0f);},'xrAkT':_0xeda872(0xfe),'dKMEt':'VPC','Pilpt':function(_0x4699b2,_0xcec948){return _0x4699b2!==_0xcec948;},'bIENL':_0xeda872(0x15b),'LBPFK':'vpc-create.yaml','jNnQZ':_0xeda872(0xe8)};if(_0x2bd706){if(_0x49ec66[_0xeda872(0x142)](_0x49ec66[_0xeda872(0xc7)],_0x49ec66[_0xeda872(0xc7)])){const _0x14591e=await fs[_0xeda872(0x114)](path['join'](__dirname,'..',_0x49ec66['jPBip'],_0x49ec66[_0xeda872(0xfd)]),_0x49ec66[_0xeda872(0x17f)]),_0x19c76b={};_0x19c76b['schema']=CLOUDFORMATION_SCHEMA;const _0x413533=yaml[_0xeda872(0x109)](_0x14591e,_0x19c76b);_0x49ec66[_0xeda872(0x11d)](mergeTemplates,_0x3c7a5a,_0x413533),_0x3c7a5a['Metadata'][_0x49ec66[_0xeda872(0x17a)]][_0xeda872(0x123)][0x0]['Parameters'][_0xeda872(0xdb)](_0x49ec66[_0xeda872(0xf1)]);}else{for(const _0x2e0b9e in _0x52cb68[_0xeda872(0x134)]){_0x33ceb1[_0xeda872(0x134)][_0x2e0b9e][_0xeda872(0x13d)]&&_0x471e1c[_0xeda872(0x134)][_0x2e0b9e][_0xeda872(0x13d)][_0xeda872(0x17d)]&&_0x4ab5f1[_0xeda872(0x134)][_0x2e0b9e][_0xeda872(0x13d)][_0xeda872(0x17d)][_0xeda872(0xdb)](..._0x4b8e0f);}const _0x406270={};_0x57d913[_0xeda872(0xf6)](_0x3784cd=>{const _0x2301c9=_0xeda872;_0x406270[_0x3784cd[_0x2301c9(0x16b)]]=_0x3784cd[_0x2301c9(0xec)];}),_0x4c2ff0['Resources'][_0x49ec66[_0xeda872(0x11b)]][_0xeda872(0x13d)][_0xeda872(0x17d)]=_0x406270,_0xc68282[_0xeda872(0x134)][_0x49ec66['yTyCK']][_0xeda872(0x13d)]['Tags']=_0x406270;}}else{if(_0x49ec66[_0xeda872(0xdd)](_0x49ec66[_0xeda872(0xed)],_0x49ec66[_0xeda872(0xed)]))_0x56d12d[_0x205713][_0x57ba65]=_0x2c091f[_0x5651a0];else{const _0x5d87a0=await fs[_0xeda872(0x114)](path[_0xeda872(0x111)](__dirname,'..',_0x49ec66[_0xeda872(0x163)],_0x49ec66['LBPFK']),_0x49ec66[_0xeda872(0x17f)]),_0x2afca4={};_0x2afca4[_0xeda872(0x131)]=CLOUDFORMATION_SCHEMA;const _0x380ba1=yaml['load'](_0x5d87a0,_0x2afca4);_0x49ec66[_0xeda872(0x11d)](mergeTemplates,_0x3c7a5a,_0x380ba1),_0x3c7a5a['Metadata'][_0x49ec66[_0xeda872(0x17a)]][_0xeda872(0x123)][0x0][_0xeda872(0x103)][_0xeda872(0xdb)](_0x49ec66['jNnQZ']);}}},addS3Data=async _0x4dfa7a=>{const _0xf5bf8=a27_0x4f59e2,_0x596d84={'reYHg':_0xf5bf8(0x113),'NxMDq':_0xf5bf8(0x12b),'OdCSt':'utf-8','jPleR':function(_0x31f7b9,_0x5b14e1){return _0x31f7b9(_0x5b14e1);},'Ykpsx':function(_0x380eda,_0x329671){return _0x380eda===_0x329671;},'EuzpK':function(_0x4a4359,_0x9498e2){return _0x4a4359!==_0x9498e2;},'ByCcY':_0xf5bf8(0x176),'pBjMw':_0xf5bf8(0x179),'oXgZr':function(_0x4fbbe9,_0x4b3ce3,_0x2fce97){return _0x4fbbe9(_0x4b3ce3,_0x2fce97);}},_0x23a53b=await fs['readFileAsync'](path[_0xf5bf8(0x111)](__dirname,'..',_0x596d84[_0xf5bf8(0x10d)],_0x596d84[_0xf5bf8(0xce)]),_0x596d84[_0xf5bf8(0x153)]),_0x301266={};_0x301266[_0xf5bf8(0x131)]=CLOUDFORMATION_SCHEMA;const _0x395deb=yaml[_0xf5bf8(0x109)](_0x23a53b,_0x301266),_0x36d58e=await _0x596d84[_0xf5bf8(0x115)](isBucketPresent,global_registry[_0xf5bf8(0xf5)]);_0x596d84[_0xf5bf8(0x133)](_0x36d58e,![])&&(_0x596d84[_0xf5bf8(0x144)](_0x596d84[_0xf5bf8(0x11a)],_0x596d84[_0xf5bf8(0x162)])?_0x596d84[_0xf5bf8(0x137)](mergeTemplates,_0x4dfa7a,_0x395deb):_0xae7e39[_0xf5bf8(0x100)](_0x257710)[_0xf5bf8(0xf6)](_0x2f036d=>{const _0x529c01=_0xf5bf8;var _0x22d1df=_0x55174d[_0x2f036d];_0x5b322f[_0x529c01(0x100)](_0x22d1df)[_0x529c01(0xf6)](_0x1e68e1=>{_0x4e9c5b[_0x2f036d][_0x1e68e1]=_0x22d1df[_0x1e68e1];});}));},addSubnetData=async(_0x3cb366,_0x4dd1b7)=>{const _0x133548=a27_0x4f59e2,_0x3a3d8e={'NCafN':function(_0x3a88e4,_0x3688db,_0x58ce33){return _0x3a88e4(_0x3688db,_0x58ce33);},'WgrQI':function(_0x390dfe,_0x9c2109){return _0x390dfe!==_0x9c2109;},'uEbBa':_0x133548(0x15f),'oHnwr':_0x133548(0x101),'nAHQJ':_0x133548(0x168),'qFMso':_0x133548(0xfe),'IoCkP':function(_0x5094e3,_0x4e2b35){return _0x5094e3(_0x4e2b35);},'YkDKZ':_0x133548(0x16c),'ztWaf':function(_0xfa9f74,_0x2e07b2){return _0xfa9f74(_0x2e07b2);},'YVlre':_0x133548(0xcc),'IXaIU':function(_0x3f1864,_0x27e253){return _0x3f1864(_0x27e253);},'tPdek':function(_0x5a1f42,_0x3bb8bf){return _0x5a1f42!==_0x3bb8bf;},'fqBNv':'DuCLA','tEgTt':'CFTemplates','ABxFC':'subnet-import.yaml','pPEpO':_0x133548(0x124),'IFLZT':function(_0x108931,_0x3a9c3f){return _0x108931===_0x3a9c3f;},'SfhnW':'tzqIb','GsQGs':_0x133548(0xf2),'UUgpV':_0x133548(0xd1),'fgnPE':function(_0x552676,_0x235732,_0x28b207){return _0x552676(_0x235732,_0x28b207);},'WBQaZ':_0x133548(0x156),'YjpqP':'Subnet02','xSLae':'Subnet03','PFkxs':'Subnet01Block','ulind':_0x133548(0xe3),'KdQEJ':_0x133548(0x147)};if(_0x4dd1b7){if(_0x3a3d8e[_0x133548(0x16e)](_0x3a3d8e[_0x133548(0xcf)],_0x3a3d8e[_0x133548(0xcf)]))_0x3a3d8e['NCafN'](_0x2dc794,_0x5f45ba,_0x1aadb3);else{const _0x58d969=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3a3d8e[_0x133548(0x112)],_0x3a3d8e[_0x133548(0x165)]),_0x3a3d8e[_0x133548(0x160)]),_0xc4131b={};_0xc4131b[_0x133548(0x131)]=CLOUDFORMATION_SCHEMA;const _0xa3c686=yaml[_0x133548(0x109)](_0x58d969,_0xc4131b);_0x3a3d8e['NCafN'](mergeTemplates,_0x3cb366,_0xa3c686);let _0x1f68f9=0x1;_0x4dd1b7['forEach'](_0x5a2067=>{const _0x2814ad=_0x133548;if(_0x3a3d8e[_0x2814ad(0x11e)](_0x3a3d8e[_0x2814ad(0x141)],_0x3a3d8e[_0x2814ad(0xf0)])){const _0xfe66fe=_0x3a3d8e[_0x2814ad(0x107)][_0x2814ad(0x132)]('|');let _0x3b7e87=0x0;while(!![]){switch(_0xfe66fe[_0x3b7e87++]){case'0':_0x3cb366[_0x2814ad(0xd6)][_0x3a3d8e[_0x2814ad(0x149)]][_0x2814ad(0x123)][0x0][_0x2814ad(0x103)][_0x2814ad(0xdb)](_0x2814ad(0xdc)+_0x3a3d8e[_0x2814ad(0x127)](String,_0x1f68f9)[_0x2814ad(0xf9)](0x2,'0'));continue;case'1':_0x3cb366[_0x2814ad(0x134)][_0x2814ad(0x14d)][_0x2814ad(0x13d)]['Subnets'][_0x2814ad(0xdb)]({'Ref':_0x2814ad(0xdc)+_0x3a3d8e[_0x2814ad(0x127)](String,_0x1f68f9)[_0x2814ad(0xf9)](0x2,'0')});continue;case'2':_0x3cb366[_0x2814ad(0x134)]['EKSCluster']['Properties']['ResourcesVpcConfig'][_0x2814ad(0x140)][_0x2814ad(0xdb)]({'Ref':_0x2814ad(0xdc)+_0x3a3d8e[_0x2814ad(0x127)](String,_0x1f68f9)[_0x2814ad(0xf9)](0x2,'0')});continue;case'3':_0x1f68f9+=0x1;continue;case'4':_0x3cb366[_0x2814ad(0x148)][_0x2814ad(0x140)]['Value'][_0x3a3d8e['YkDKZ']][0x1]['push']({'Ref':_0x2814ad(0xdc)+_0x3a3d8e[_0x2814ad(0x127)](String,_0x1f68f9)[_0x2814ad(0xf9)](0x2,'0')});continue;case'5':_0x3cb366[_0x2814ad(0x134)][_0x2814ad(0x102)][_0x2814ad(0x13d)]['Subnets']['push']({'Ref':'Subnet'+_0x3a3d8e['ztWaf'](String,_0x1f68f9)[_0x2814ad(0xf9)](0x2,'0')});continue;}break;}}else _0x875a34[_0x2814ad(0x134)][_0x3db6e8][_0x2814ad(0x13d)]['Tags'][_0x2814ad(0xdb)](..._0x3ce685);});}}else{if(_0x3a3d8e[_0x133548(0x166)](_0x3a3d8e[_0x133548(0x106)],_0x3a3d8e[_0x133548(0x14b)])){const _0x54e131=_0x3a3d8e[_0x133548(0x15d)][_0x133548(0x132)]('|');let _0x57aa9b=0x0;while(!![]){switch(_0x54e131[_0x57aa9b++]){case'0':_0x3c82d5[_0x133548(0x148)][_0x133548(0x140)][_0x133548(0xec)][_0x3a3d8e[_0x133548(0xde)]][0x1][_0x133548(0xdb)]({'Ref':'Subnet'+_0x3a3d8e[_0x133548(0x17e)](_0x168698,_0x3afb25)[_0x133548(0xf9)](0x2,'0')});continue;case'1':_0x852b1f[_0x133548(0x134)]['NodeGroup'][_0x133548(0x13d)][_0x133548(0x151)]['push']({'Ref':_0x133548(0xdc)+_0x3a3d8e[_0x133548(0x17e)](_0x1588a2,_0x30c81b)['padStart'](0x2,'0')});continue;case'2':_0x52b3fc[_0x133548(0x134)][_0x133548(0x146)][_0x133548(0x13d)][_0x133548(0xf7)][_0x133548(0x140)][_0x133548(0xdb)]({'Ref':_0x133548(0xdc)+_0x3a3d8e[_0x133548(0x17e)](_0x128f66,_0x5733da)[_0x133548(0xf9)](0x2,'0')});continue;case'3':_0x1bff73['Resources'][_0x133548(0x102)][_0x133548(0x13d)][_0x133548(0x151)][_0x133548(0xdb)]({'Ref':_0x133548(0xdc)+_0x3a3d8e['IXaIU'](_0x592e1b,_0x1d3869)[_0x133548(0xf9)](0x2,'0')});continue;case'4':_0x3542c5+=0x1;continue;case'5':_0x3b74d9[_0x133548(0xd6)][_0x3a3d8e[_0x133548(0x149)]][_0x133548(0x123)][0x0]['Parameters']['push'](_0x133548(0xdc)+_0x3a3d8e['IXaIU'](_0x528969,_0x2bf655)[_0x133548(0xf9)](0x2,'0'));continue;}break;}}else{const _0x126398=await fs[_0x133548(0x114)](path[_0x133548(0x111)](__dirname,'..',_0x3a3d8e[_0x133548(0x112)],_0x3a3d8e['UUgpV']),_0x3a3d8e[_0x133548(0x160)]),_0x1f19df={};_0x1f19df['schema']=CLOUDFORMATION_SCHEMA;const _0x432df1=yaml[_0x133548(0x109)](_0x126398,_0x1f19df);_0x3a3d8e[_0x133548(0xe4)](mergeTemplates,_0x3cb366,_0x432df1),_0x3cb366['Resources']['EKSCluster']['DependsOn'][_0x133548(0xdb)](_0x3a3d8e[_0x133548(0x15c)],_0x3a3d8e[_0x133548(0x105)],_0x3a3d8e[_0x133548(0xd2)]);const _0x576eef={};_0x576eef[_0x133548(0x12f)]=_0x3a3d8e[_0x133548(0x15c)];const _0x553578={};_0x553578['Ref']=_0x3a3d8e[_0x133548(0x105)];const _0x50c8dc={};_0x50c8dc[_0x133548(0x12f)]=_0x3a3d8e[_0x133548(0xd2)],_0x3cb366[_0x133548(0x134)][_0x133548(0x146)][_0x133548(0x13d)][_0x133548(0xf7)][_0x133548(0x140)]=[_0x576eef,_0x553578,_0x50c8dc],_0x3cb366[_0x133548(0xd6)][_0x3a3d8e[_0x133548(0x149)]][_0x133548(0x123)][0x0]['Parameters'][_0x133548(0xdb)](_0x3a3d8e[_0x133548(0xd5)],_0x3a3d8e[_0x133548(0x170)],_0x3a3d8e[_0x133548(0x10f)]);const _0x68b37={};_0x68b37['Ref']=_0x3a3d8e[_0x133548(0x15c)];const _0x2ecf9a={};_0x2ecf9a[_0x133548(0x12f)]=_0x3a3d8e[_0x133548(0x105)];const _0x107dc0={};_0x107dc0[_0x133548(0x12f)]=_0x3a3d8e['xSLae'],_0x3cb366[_0x133548(0x134)]['NodeGroup'][_0x133548(0x13d)][_0x133548(0x151)]=[_0x68b37,_0x2ecf9a,_0x107dc0];const _0x1acb52={};_0x1acb52[_0x133548(0x12f)]=_0x3a3d8e[_0x133548(0x15c)];const _0xba46eb={};_0xba46eb[_0x133548(0x12f)]=_0x3a3d8e[_0x133548(0x105)];const _0x2dbc44={};_0x2dbc44[_0x133548(0x12f)]=_0x3a3d8e[_0x133548(0xd2)],_0x3cb366[_0x133548(0x134)]['NodeGroupWindows'][_0x133548(0x13d)][_0x133548(0x151)]=[_0x1acb52,_0xba46eb,_0x2dbc44],_0x3cb366['Outputs'][_0x133548(0x140)][_0x133548(0xec)][_0x3a3d8e['YkDKZ']][0x1]=[{'Ref':_0x3a3d8e[_0x133548(0x15c)]},{'Ref':_0x3a3d8e[_0x133548(0x105)]},{'Ref':_0x3a3d8e[_0x133548(0xd2)]}];}}},addTags=async(_0x1121cb,_0x324d0f,_0x409dda)=>{const _0xda3e00=a27_0x4f59e2,_0x273f8e={'UsNaw':_0xda3e00(0x16f),'GelAZ':function(_0x5e7855,_0x6fb04f){return _0x5e7855(_0x6fb04f);},'ETxXY':function(_0x2d485a,_0x22ba5d){return _0x2d485a(_0x22ba5d);},'gXdGq':function(_0x418c5d,_0x898876){return _0x418c5d!==_0x898876;},'tIiWV':_0xda3e00(0x12c),'jrbpl':function(_0x40414e,_0x4c0567){return _0x40414e!==_0x4c0567;},'zFLic':_0xda3e00(0xf3),'iXBWN':_0xda3e00(0x117),'pmzAy':function(_0x156d9b,_0x16fa55){return _0x156d9b===_0x16fa55;},'TMzXP':_0xda3e00(0x17b),'DnoAM':_0xda3e00(0x14d),'yMcrg':_0xda3e00(0x102)};for(const _0x4bbede in _0x1121cb[_0xda3e00(0x134)]){if(_0x273f8e[_0xda3e00(0x14e)](_0x273f8e[_0xda3e00(0x11c)],_0x273f8e['iXBWN'])){if(_0x1121cb[_0xda3e00(0x134)][_0x4bbede][_0xda3e00(0x13d)]&&_0x1121cb['Resources'][_0x4bbede]['Properties'][_0xda3e00(0x17d)]){if(_0x273f8e[_0xda3e00(0x139)](_0x273f8e['TMzXP'],_0x273f8e[_0xda3e00(0x13f)]))_0x1121cb[_0xda3e00(0x134)][_0x4bbede][_0xda3e00(0x13d)][_0xda3e00(0x17d)][_0xda3e00(0xdb)](..._0x409dda);else{const _0xb94bfa={};_0xb94bfa[_0xda3e00(0xe6)]=_0x273f8e[_0xda3e00(0xd3)],_0xb94bfa[_0xda3e00(0x158)]=_0xa3df25,_0x389b89['Parameters'][_0xda3e00(0xdb)](_0xb94bfa);}}}else{const _0x53b972={'ZVtBq':function(_0x395435,_0x45ae8a){const _0x40eff5=_0xda3e00;return _0x273f8e[_0x40eff5(0xd7)](_0x395435,_0x45ae8a);}};let _0x88a364=0x1;_0x4dacad['forEach'](_0x36adb5=>{const _0x198d9c=_0xda3e00;_0x468d3b[_0x198d9c(0x103)][_0x198d9c(0xdb)]({'ParameterKey':_0x198d9c(0xdc)+_0x53b972[_0x198d9c(0x10a)](_0x52459d,_0x88a364)[_0x198d9c(0xf9)](0x2,'0'),'ParameterValue':_0x36adb5[_0x198d9c(0x122)]}),_0x88a364+=0x1;});}}const _0x31d484={};_0x409dda[_0xda3e00(0xf6)](_0x10623e=>{const _0x5c7dd0=_0xda3e00,_0x28b2f9={'axlxw':function(_0x6a5fb4,_0x5f497f){const _0x445f75=a27_0x3260;return _0x273f8e[_0x445f75(0x12d)](_0x6a5fb4,_0x5f497f);}};_0x273f8e['gXdGq'](_0x273f8e[_0x5c7dd0(0x104)],_0x273f8e[_0x5c7dd0(0x104)])?(_0x4e395f[_0x5c7dd0(0x103)]['push']({'ParameterKey':_0x5c7dd0(0xdc)+_0x28b2f9[_0x5c7dd0(0x12a)](_0x5d7fbe,_0x34ad40)[_0x5c7dd0(0xf9)](0x2,'0'),'ParameterValue':_0x328ec4[_0x5c7dd0(0x122)]}),_0x2b793a+=0x1):_0x31d484[_0x10623e[_0x5c7dd0(0x16b)]]=_0x10623e[_0x5c7dd0(0xec)];}),_0x1121cb[_0xda3e00(0x134)][_0x273f8e['DnoAM']]['Properties']['Tags']=_0x31d484,_0x1121cb[_0xda3e00(0x134)][_0x273f8e[_0xda3e00(0xe9)]][_0xda3e00(0x13d)][_0xda3e00(0x17d)]=_0x31d484;};function a27_0x3260(_0xe8eaf1,_0x21a8f6){const _0x221da7=a27_0x221d();return a27_0x3260=function(_0x326007,_0x3b57a6){_0x326007=_0x326007-0xc6;let _0x9b3840=_0x221da7[_0x326007];return _0x9b3840;},a27_0x3260(_0xe8eaf1,_0x21a8f6);}exports['createClusterStack']=async(_0x1cc9c8,_0x163290,_0x3812cb,_0x333bee=null,_0xf37761=null,_0x5c53e7)=>{const _0x8c122b=a27_0x4f59e2,_0x369bd1={'khxCK':function(_0x1d6de4,_0x4eb541){return _0x1d6de4(_0x4eb541);},'mpNOM':_0x8c122b(0xe0),'KZBlh':'browserstack:creationDate','SAlpm':_0x8c122b(0x161),'kbnGq':'CFTemplates','wsgTO':'aws-eks-cluster-dep.yaml','WCAFK':_0x8c122b(0x124),'dMZhu':function(_0x4b8193,_0x422b98,_0x2a6beb){return _0x4b8193(_0x422b98,_0x2a6beb);},'buWtp':function(_0x47b179,_0x361a7b,_0x32a91d){return _0x47b179(_0x361a7b,_0x32a91d);},'bjFFJ':function(_0x3b480d,_0x5bf80d,_0x53136c,_0x5cf228){return _0x3b480d(_0x5bf80d,_0x53136c,_0x5cf228);},'qSvBm':'DELETE','nxUsG':'ClusterName','MRslc':_0x8c122b(0xcb),'gzEKE':'NodeAutoScalingGroupMinSize','NUrFN':_0x8c122b(0xea),'SLEUy':'NodeAutoScalingGroupDesiredSizeWindows','aMaja':'NodeAutoScalingGroupMaxSize','zEsfY':_0x8c122b(0x13a),'PxkiA':_0x8c122b(0xff),'oyfyX':_0x8c122b(0x118),'mmnUQ':_0x8c122b(0xcd),'ysOrz':_0x8c122b(0x10e),'CZLTg':_0x8c122b(0xeb),'gGCan':_0x8c122b(0x120),'RcmBV':_0x8c122b(0x171),'UkrCq':function(_0x9f0eda,_0x2d6370){return _0x9f0eda!=_0x2d6370;},'oLDMQ':function(_0x2f9811,_0x3e1cb8){return _0x2f9811!==_0x3e1cb8;},'bVWzY':function(_0x339de6,_0x5b1617){return _0x339de6===_0x5b1617;},'DyFbF':'qvnsg','lMEoQ':_0x8c122b(0x154),'hmwVJ':_0x8c122b(0x16f),'ZKnoL':function(_0x12951b,_0x535a52){return _0x12951b!=_0x535a52;},'RhmLf':function(_0x32a1f1,_0x149668){return _0x32a1f1!==_0x149668;},'wAjyy':_0x8c122b(0x12e),'INWPb':_0x8c122b(0x15e)},_0x5c0453=COMMON_HST_TAGS,_0x3e8d53={};_0x3e8d53[_0x8c122b(0x16b)]=_0x369bd1[_0x8c122b(0xca)],_0x3e8d53[_0x8c122b(0xec)]=_0x1cc9c8,_0x5c0453[_0x8c122b(0xdb)](_0x3e8d53),_0x5c0453[_0x8c122b(0xdb)]({'Key':_0x369bd1[_0x8c122b(0x177)],'Value':new Date()[_0x8c122b(0xe1)]()[_0x8c122b(0xd9)]()});const _0x2ebb2d={};_0x2ebb2d['apiVersion']=_0x369bd1[_0x8c122b(0x14f)];const _0x4867a4=new AWS[(_0x8c122b(0xd0))](_0x2ebb2d),_0x44c3aa=await fs[_0x8c122b(0x114)](path[_0x8c122b(0x111)](__dirname,'..',_0x369bd1[_0x8c122b(0x130)],_0x369bd1[_0x8c122b(0x145)]),_0x369bd1[_0x8c122b(0xdf)]),_0x3fc83d={};_0x3fc83d['schema']=CLOUDFORMATION_SCHEMA;const _0x1fd5d8=yaml[_0x8c122b(0x109)](_0x44c3aa,_0x3fc83d);await _0x369bd1[_0x8c122b(0xef)](addVPCData,_0x1fd5d8,_0x333bee),await _0x369bd1[_0x8c122b(0x135)](addS3Data,_0x1fd5d8),await _0x369bd1[_0x8c122b(0x116)](addSubnetData,_0x1fd5d8,_0xf37761),await _0x369bd1['bjFFJ'](addTags,_0x1fd5d8,_0x1cc9c8,_0x5c0453);const _0xdf80e2=JSON['stringify'](_0x1fd5d8),_0x1a9c4f={};_0x1a9c4f[_0x8c122b(0xc8)]=CLUSTER_DEP_STACK_NAME+'-'+_0x1cc9c8,_0x1a9c4f[_0x8c122b(0x167)]=_0x369bd1[_0x8c122b(0x173)],_0x1a9c4f['TemplateBody']=_0xdf80e2,_0x1a9c4f[_0x8c122b(0x103)]=[{'ParameterKey':_0x369bd1[_0x8c122b(0xf4)],'ParameterValue':_0x1cc9c8},{'ParameterKey':_0x369bd1[_0x8c122b(0xf8)],'ParameterValue':_0x1cc9c8+'-NodeGroup'},{'ParameterKey':_0x369bd1['gzEKE'],'ParameterValue':''+_0x163290},{'ParameterKey':_0x369bd1['NUrFN'],'ParameterValue':'0'},{'ParameterKey':_0x369bd1['SLEUy'],'ParameterValue':'1'},{'ParameterKey':_0x369bd1['aMaja'],'ParameterValue':''+_0x3812cb},{'ParameterKey':_0x369bd1[_0x8c122b(0x152)],'ParameterValue':global_registry[_0x8c122b(0x110)]},{'ParameterKey':_0x369bd1[_0x8c122b(0xee)],'ParameterValue':global_registry[_0x8c122b(0x10c)]},{'ParameterKey':_0x369bd1[_0x8c122b(0x13b)],'ParameterValue':global_registry[_0x8c122b(0xf5)]},{'ParameterKey':_0x369bd1[_0x8c122b(0x13e)],'ParameterValue':_0x1cc9c8+_0x8c122b(0x164)},{'ParameterKey':_0x369bd1[_0x8c122b(0x125)],'ParameterValue':_0x5c53e7?_0x369bd1[_0x8c122b(0x157)]:_0x369bd1[_0x8c122b(0xe5)]}],_0x1a9c4f['Capabilities']=[_0x369bd1['RcmBV']],_0x1a9c4f[_0x8c122b(0x17d)]=_0x5c0453;const _0x41b8e1=_0x1a9c4f;if(_0x369bd1[_0x8c122b(0xd8)](_0x333bee,null)&&_0x369bd1['oLDMQ'](_0x333bee,undefined)){if(_0x369bd1[_0x8c122b(0x169)](_0x369bd1[_0x8c122b(0xd4)],_0x369bd1[_0x8c122b(0x155)])){var _0x5c52f0=_0x27e3d5[_0x37ad];_0x182456[_0x8c122b(0x100)](_0x5c52f0)[_0x8c122b(0xf6)](_0x13c912=>{_0x316384[_0x2ace01][_0x13c912]=_0x5c52f0[_0x13c912];});}else{const _0x245d4f={};_0x245d4f[_0x8c122b(0xe6)]=_0x369bd1['hmwVJ'],_0x245d4f[_0x8c122b(0x158)]=_0x333bee,_0x41b8e1[_0x8c122b(0x103)][_0x8c122b(0xdb)](_0x245d4f);}}if(_0x369bd1[_0x8c122b(0x143)](_0xf37761,null)&&_0x369bd1[_0x8c122b(0x14a)](_0xf37761,undefined)){let _0x1d4ab5=0x1;_0xf37761[_0x8c122b(0xf6)](_0x303484=>{const _0x4853dc=_0x8c122b;_0x41b8e1['Parameters'][_0x4853dc(0xdb)]({'ParameterKey':_0x4853dc(0xdc)+_0x369bd1[_0x4853dc(0x135)](String,_0x1d4ab5)['padStart'](0x2,'0'),'ParameterValue':_0x303484[_0x4853dc(0x122)]}),_0x1d4ab5+=0x1;});}const _0x5a2f3b=await _0x4867a4[_0x8c122b(0x128)](_0x41b8e1)['promise']();logger[_0x8c122b(0x178)](_0x369bd1['wAjyy']);const _0x2f60dc={};return _0x2f60dc['StackName']=_0x5a2f3b[_0x8c122b(0x129)],_0x4867a4['waitFor'](_0x369bd1[_0x8c122b(0x16d)],_0x2f60dc)[_0x8c122b(0xda)]();};