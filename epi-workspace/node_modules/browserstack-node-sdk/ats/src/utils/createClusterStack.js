const a27_0x4005d9=a27_0x2f4e;(function(_0xf4449f,_0x233028){const _0x5023da=a27_0x2f4e,_0x5d61dc=_0xf4449f();while(!![]){try{const _0x11e240=parseInt(_0x5023da(0x139))/0x1+-parseInt(_0x5023da(0x13d))/0x2+parseInt(_0x5023da(0xee))/0x3*(parseInt(_0x5023da(0x13a))/0x4)+parseInt(_0x5023da(0x108))/0x5*(-parseInt(_0x5023da(0x17d))/0x6)+-parseInt(_0x5023da(0x140))/0x7*(parseInt(_0x5023da(0x157))/0x8)+parseInt(_0x5023da(0x176))/0x9*(parseInt(_0x5023da(0xd2))/0xa)+-parseInt(_0x5023da(0xf9))/0xb;if(_0x11e240===_0x233028)break;else _0x5d61dc['push'](_0x5d61dc['shift']());}catch(_0x39df94){_0x5d61dc['push'](_0x5d61dc['shift']());}}}(a27_0x4e79,0x4b251));const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require(a27_0x4005d9(0x17b)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4005d9(0x19a)),AWS=require(a27_0x4005d9(0x110))[a27_0x4005d9(0xfe)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x4005d9(0x110));function a27_0x4e79(){const _0x1eae39=['XDolS','stackCreateComplete','385392pxdzBR','24jhsGfc','jpBNV','EKSCluster','884440FPxAke','NodeGroup','PcLgi','88683VnXggi','eNzSn','NodeInstanceType','pNpBJ','wTMua','Metadata','Fn::Join','DdZNG','wmsKD','LjNKL','wSnAF','YlevE','debug','sLEWT','qzEDY','XMwDi','ParameterValue','Subnet01','StackId','kWmZc','ntsZJ','NodeAutoScalingGroupMaxSize','PpReX','24IuFVSj','bDDmW','load','hCvuq','SGXsN','3|2|4|1|5|0','VqTvv','nqQQl','NodeAutoScalingGroupMinSize','CFTemplates','CAPABILITY_NAMED_IAM','2010-05-15','3|5|2|0|4|1','Ahpcw','NodeGroupName','RDttc','s3Bucket','value','split','cDUxK','promise','NJhqb','nmSHC','jLYyK','wDUor','-Windows-NodeGroup','xRDzP','DymRA','rSjhY','TbqLI','bfvYA','989676AjMJwN','rBdPi','DnwVz','WKNMz','GJETE','js-yaml','SgFsR','1878eMNIhy','valueOf','AWS::CloudFormation::Interface','QcjWR','YlNYX','DependsOn','XUGTO','dASfl','hfMAR','elTOL','azpQA','VtJux','oaqqy','xLrHI','Ref','ami','VPC','StackName','Subnet03Block','XmwMD','stringify','XblpR','promisifyAll','aws-eks-cluster-dep.yaml','OLnTq','dLbJE','ZbefV','myBjZ','QjnFT','js-yaml-cloudformation-schema','NodeGroupWindows','Tylmc','BoAHV','GuEvi','instanceType','zCBXv','20hoRHsV','Tags','giJto','ClusterName','Subnet','TemplateBody','shGln','KacgD','readFileAsync','waitFor','xLdEm','ZzWSz','Subnets','FmMJt','Parameters','join','LzCPR','ParameterGroups','S3BucketName','false','Resources','Subnet01Block','aWyFJ','SmWst','wRmDp','HCVtp','rYJFQ','oSTtt','208602XhYPfF','browserstack:cluster','jVYXb','EQmVI','PSiHG','LtyBy','umIhn','ParameterKey','prPBB','-NodeGroup','utf-8','448327UVxUZb','PRukP','Outputs','keys','ResourcesVpcConfig','awsObj','oYHjZ','Properties','gJetP','rkZym','yxweO','vFhNz','toString','fDyCn','KVByj','3095GMuDPD','vpc-import.yaml','schema','VpcBlock','yahEi','push','Value','Subnet02','./AWSUtils','Subnet03','ijbuI','NodeAutoScalingGroupDesiredSizeWindows','NodeImageId','xjmXn','hPsFU','Subnet02Block','browserstack:creationDate','twUSo','SubnetIds','forEach','EKoFr','rmkhi','padStart','iqqLv','EPOSF','lcivp','Capabilities','pgrix','ZPpxU','nILRh','DELETE','MfNKZ','hnVAc','oGovc','WVeYT','createStack','QRtUi','s3-create.yaml','Key','xXWjx','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','cxPXB','OEvrt','njGVS','FzFKX','OnFailure','CLXaa'];a27_0x4e79=function(){return _0x1eae39;};return a27_0x4e79();}Promise[a27_0x4005d9(0x193)](fs);const mergeTemplates=(_0x5c3323,_0x1b0e0c)=>{const _0x4209fe=a27_0x4005d9,_0x55964e={'elTOL':function(_0xb4d2b3,_0x2dec9c,_0xc67775){return _0xb4d2b3(_0x2dec9c,_0xc67775);},'nmSHC':function(_0x7ba3db,_0x583cbe){return _0x7ba3db===_0x583cbe;},'ZPpxU':_0x4209fe(0xf1),'hPsFU':function(_0x5b588d,_0x5ad381){return _0x5b588d!==_0x5ad381;},'SmWst':_0x4209fe(0x12c),'GkCQN':_0x4209fe(0xdd)};Object[_0x4209fe(0xfc)](_0x1b0e0c)[_0x4209fe(0x11b)](_0x342380=>{const _0x5002bb=_0x4209fe,_0x236aa4={'BaJhx':function(_0x14e0d0,_0x2bf41e,_0x42a547){const _0x17581a=a27_0x2f4e;return _0x55964e[_0x17581a(0x186)](_0x14e0d0,_0x2bf41e,_0x42a547);},'ZbefV':function(_0x418455,_0x4623c3){const _0xe61bae=a27_0x2f4e;return _0x55964e[_0xe61bae(0x16d)](_0x418455,_0x4623c3);},'xRDzP':_0x55964e[_0x5002bb(0x124)]};if(_0x55964e[_0x5002bb(0x116)](_0x55964e[_0x5002bb(0xe9)],_0x55964e['GkCQN'])){var _0x58b7bb=_0x1b0e0c[_0x342380];Object['keys'](_0x58b7bb)[_0x5002bb(0x11b)](_0x39224c=>{const _0x539781=_0x5002bb,_0x1005ab={'myBjZ':function(_0x152369,_0x55c4ca,_0x26b98a){return _0x236aa4['BaJhx'](_0x152369,_0x55c4ca,_0x26b98a);}};_0x236aa4[_0x539781(0x197)](_0x236aa4[_0x539781(0x171)],_0x236aa4[_0x539781(0x171)])?_0x5c3323[_0x342380][_0x39224c]=_0x58b7bb[_0x39224c]:_0x1005ab[_0x539781(0x198)](_0x71ecdf,_0x4088e8,_0x110837);});}else _0xd67d32[_0x5002bb(0xe6)][_0x3fcfdd][_0x5002bb(0x100)]&&_0x2a7deb[_0x5002bb(0xe6)][_0x562f45][_0x5002bb(0x100)]['Tags']&&_0x3c5ecd[_0x5002bb(0xe6)][_0x50890c][_0x5002bb(0x100)][_0x5002bb(0xd3)]['push'](..._0x1ddfc9);});},addVPCData=async(_0x4b0e64,_0x4f1959)=>{const _0x53d1ad=a27_0x4005d9,_0x4527fa={'wlBfI':'NodeGroup','CxvUL':_0x53d1ad(0x19b),'prPBB':function(_0x229131,_0x100a7d){return _0x229131!==_0x100a7d;},'OBnZa':_0x53d1ad(0x15d),'iqqLv':_0x53d1ad(0x14a),'azpQA':_0x53d1ad(0x160),'MUICs':_0x53d1ad(0x109),'YlevE':_0x53d1ad(0xf8),'xLrHI':function(_0x2868bc,_0x62ac72,_0x60715b){return _0x2868bc(_0x62ac72,_0x60715b);},'fDyCn':_0x53d1ad(0x17f),'rSjhY':'VPC','eNzSn':function(_0x300509,_0x3da15f){return _0x300509===_0x3da15f;},'XblpR':_0x53d1ad(0xcf),'wDUor':'vpc-create.yaml','xLdEm':function(_0x5c10cc,_0x1ad406,_0x3551cd){return _0x5c10cc(_0x1ad406,_0x3551cd);},'dLbJE':_0x53d1ad(0x10b)};if(_0x4f1959){if(_0x4527fa[_0x53d1ad(0xf6)](_0x4527fa['OBnZa'],_0x4527fa[_0x53d1ad(0x11f)])){const _0x3416ed=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4527fa[_0x53d1ad(0x187)],_0x4527fa['MUICs']),_0x4527fa['YlevE']),_0x219e23={};_0x219e23[_0x53d1ad(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x56c7c3=yaml[_0x53d1ad(0x159)](_0x3416ed,_0x219e23);_0x4527fa[_0x53d1ad(0x18a)](mergeTemplates,_0x4b0e64,_0x56c7c3),_0x4b0e64['Metadata'][_0x4527fa[_0x53d1ad(0x106)]][_0x53d1ad(0xe3)][0x0]['Parameters'][_0x53d1ad(0x10d)](_0x4527fa[_0x53d1ad(0x173)]);}else _0x4541f6[_0x53d1ad(0xfc)](_0x340dfb)[_0x53d1ad(0x11b)](_0x4fe515=>{var _0x2823b5=_0x15b297[_0x4fe515];_0x450603['keys'](_0x2823b5)['forEach'](_0x42c27a=>{_0x463496[_0x4fe515][_0x42c27a]=_0x2823b5[_0x42c27a];});});}else{if(_0x4527fa[_0x53d1ad(0x141)](_0x4527fa[_0x53d1ad(0x192)],_0x4527fa[_0x53d1ad(0x192)])){const _0x8420e2=await fs[_0x53d1ad(0xda)](path[_0x53d1ad(0xe1)](__dirname,'..',_0x4527fa['azpQA'],_0x4527fa[_0x53d1ad(0x16f)]),_0x4527fa[_0x53d1ad(0x14b)]),_0x2be4c0={};_0x2be4c0['schema']=CLOUDFORMATION_SCHEMA;const _0x5cd748=yaml[_0x53d1ad(0x159)](_0x8420e2,_0x2be4c0);_0x4527fa[_0x53d1ad(0xdc)](mergeTemplates,_0x4b0e64,_0x5cd748),_0x4b0e64[_0x53d1ad(0x145)][_0x4527fa['fDyCn']][_0x53d1ad(0xe3)][0x0][_0x53d1ad(0xe0)][_0x53d1ad(0x10d)](_0x4527fa[_0x53d1ad(0x196)]);}else{for(const _0x1a45df in _0x909cc3[_0x53d1ad(0xe6)]){_0x4cb217[_0x53d1ad(0xe6)][_0x1a45df][_0x53d1ad(0x100)]&&_0xb2dcf0[_0x53d1ad(0xe6)][_0x1a45df][_0x53d1ad(0x100)][_0x53d1ad(0xd3)]&&_0x446f78[_0x53d1ad(0xe6)][_0x1a45df]['Properties'][_0x53d1ad(0xd3)][_0x53d1ad(0x10d)](..._0x266e32);}const _0x268663={};_0x520d44[_0x53d1ad(0x11b)](_0x4f18ab=>{const _0x507abf=_0x53d1ad;_0x268663[_0x4f18ab[_0x507abf(0x12e)]]=_0x4f18ab['Value'];}),_0x4d4f4b[_0x53d1ad(0xe6)][_0x4527fa['wlBfI']][_0x53d1ad(0x100)][_0x53d1ad(0xd3)]=_0x268663,_0x115911[_0x53d1ad(0xe6)][_0x4527fa['CxvUL']]['Properties'][_0x53d1ad(0xd3)]=_0x268663;}}},addS3Data=async _0x337d21=>{const _0x22459e=a27_0x4005d9,_0x21ab75={'rYJFQ':function(_0x37bd2c,_0x19ae66){return _0x37bd2c(_0x19ae66);},'IAYwz':_0x22459e(0x160),'XMwDi':_0x22459e(0x12d),'OLnTq':_0x22459e(0xf8),'TbqLI':function(_0x22646a,_0x19928f){return _0x22646a===_0x19928f;},'wTMua':function(_0x53948b,_0x1d9768){return _0x53948b===_0x1d9768;},'bfvYA':_0x22459e(0x16a),'BoAHV':_0x22459e(0x137),'jLYyK':function(_0x481beb,_0x5dd4f9,_0x41d52a){return _0x481beb(_0x5dd4f9,_0x41d52a);}},_0x326cdc=await fs[_0x22459e(0xda)](path[_0x22459e(0xe1)](__dirname,'..',_0x21ab75['IAYwz'],_0x21ab75[_0x22459e(0x14f)]),_0x21ab75[_0x22459e(0x195)]),_0x1d2676={};_0x1d2676[_0x22459e(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x477f1c=yaml[_0x22459e(0x159)](_0x326cdc,_0x1d2676),_0x2432d=await _0x21ab75[_0x22459e(0xec)](isBucketPresent,global_registry[_0x22459e(0x167)]);if(_0x21ab75[_0x22459e(0x174)](_0x2432d,![])){if(_0x21ab75[_0x22459e(0x144)](_0x21ab75[_0x22459e(0x175)],_0x21ab75[_0x22459e(0xce)])){let _0x5d11a6=0x1;_0x1ead85[_0x22459e(0x11b)](_0x520a30=>{const _0x4bd489=_0x22459e;_0xa5ac26[_0x4bd489(0xe0)]['push']({'ParameterKey':'Subnet'+_0x21ab75['rYJFQ'](_0x398297,_0x5d11a6)[_0x4bd489(0x11e)](0x2,'0'),'ParameterValue':_0x520a30[_0x4bd489(0x168)]}),_0x5d11a6+=0x1;});}else _0x21ab75[_0x22459e(0x16e)](mergeTemplates,_0x337d21,_0x477f1c);}},addSubnetData=async(_0x10fb1b,_0xe279c3)=>{const _0x1fc752=a27_0x4005d9,_0x22d743={'wRmDp':function(_0x2714c3,_0x318f0e){return _0x2714c3(_0x318f0e);},'oYHjZ':function(_0x44b7d1,_0x34e8de){return _0x44b7d1!==_0x34e8de;},'lcivp':_0x1fc752(0x180),'dASfl':_0x1fc752(0x188),'vFhNz':_0x1fc752(0x15c),'HqXzj':function(_0x1c1d67,_0x3dc4f4){return _0x1c1d67(_0x3dc4f4);},'NJhqb':'AWS::CloudFormation::Interface','PRukP':function(_0x1c9017,_0x5dc823){return _0x1c9017(_0x5dc823);},'EKoFr':function(_0x21eaf9,_0x530680){return _0x21eaf9(_0x530680);},'ijbuI':_0x1fc752(0x146),'jSEHS':function(_0x5a218a,_0x18441b){return _0x5a218a(_0x18441b);},'shGln':function(_0x20fda4,_0x184148){return _0x20fda4!==_0x184148;},'MfNKZ':'oyczI','FmMJt':_0x1fc752(0x160),'yxweO':'subnet-import.yaml','PpReX':_0x1fc752(0xf8),'ZPoEp':function(_0x321168,_0x6c5069,_0x8756c3){return _0x321168(_0x6c5069,_0x8756c3);},'WKNMz':function(_0x49aece,_0x3131d6){return _0x49aece!==_0x3131d6;},'OEvrt':_0x1fc752(0x158),'rmkhi':'subnet-create.yaml','xXWjx':function(_0x12ebe6,_0x3553a6,_0x13de79){return _0x12ebe6(_0x3553a6,_0x13de79);},'njGVS':_0x1fc752(0x151),'giJto':_0x1fc752(0x10f),'aWyFJ':_0x1fc752(0x111),'LtyBy':_0x1fc752(0xe7),'cxPXB':_0x1fc752(0x117),'DymRA':_0x1fc752(0x18f)};if(_0xe279c3){if(_0x22d743[_0x1fc752(0xd8)](_0x22d743[_0x1fc752(0x127)],_0x22d743[_0x1fc752(0x127)]))_0x4d1057[_0x535645[_0x1fc752(0x12e)]]=_0x162f53[_0x1fc752(0x10e)];else{const _0x2839f1=await fs['readFileAsync'](path[_0x1fc752(0xe1)](__dirname,'..',_0x22d743[_0x1fc752(0xdf)],_0x22d743[_0x1fc752(0x103)]),_0x22d743[_0x1fc752(0x156)]),_0x6dfb20={};_0x6dfb20[_0x1fc752(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x4f6326=yaml[_0x1fc752(0x159)](_0x2839f1,_0x6dfb20);_0x22d743['ZPoEp'](mergeTemplates,_0x10fb1b,_0x4f6326);let _0x292980=0x1;_0xe279c3[_0x1fc752(0x11b)](_0x41982b=>{const _0x35bcdc=_0x1fc752,_0x301143={'HCVtp':function(_0x5234a7,_0x3b3a8e){const _0x38aad2=a27_0x2f4e;return _0x22d743[_0x38aad2(0xea)](_0x5234a7,_0x3b3a8e);}};if(_0x22d743[_0x35bcdc(0xff)](_0x22d743[_0x35bcdc(0x121)],_0x22d743[_0x35bcdc(0x184)])){const _0x5cf1ae=_0x22d743[_0x35bcdc(0x104)]['split']('|');let _0x41d2f4=0x0;while(!![]){switch(_0x5cf1ae[_0x41d2f4++]){case'0':_0x292980+=0x1;continue;case'1':_0x10fb1b[_0x35bcdc(0xe6)][_0x35bcdc(0x19b)][_0x35bcdc(0x100)]['Subnets']['push']({'Ref':_0x35bcdc(0xd6)+_0x22d743['HqXzj'](String,_0x292980)[_0x35bcdc(0x11e)](0x2,'0')});continue;case'2':_0x10fb1b[_0x35bcdc(0x145)][_0x22d743[_0x35bcdc(0x16c)]][_0x35bcdc(0xe3)][0x0]['Parameters'][_0x35bcdc(0x10d)](_0x35bcdc(0xd6)+_0x22d743['HqXzj'](String,_0x292980)[_0x35bcdc(0x11e)](0x2,'0'));continue;case'3':_0x10fb1b[_0x35bcdc(0xe6)][_0x35bcdc(0x13c)]['Properties'][_0x35bcdc(0xfd)][_0x35bcdc(0x11a)][_0x35bcdc(0x10d)]({'Ref':_0x35bcdc(0xd6)+_0x22d743[_0x35bcdc(0xfa)](String,_0x292980)[_0x35bcdc(0x11e)](0x2,'0')});continue;case'4':_0x10fb1b['Resources']['NodeGroup'][_0x35bcdc(0x100)][_0x35bcdc(0xde)][_0x35bcdc(0x10d)]({'Ref':_0x35bcdc(0xd6)+_0x22d743[_0x35bcdc(0x11c)](String,_0x292980)['padStart'](0x2,'0')});continue;case'5':_0x10fb1b[_0x35bcdc(0xfb)][_0x35bcdc(0x11a)][_0x35bcdc(0x10e)][_0x22d743['ijbuI']][0x1]['push']({'Ref':_0x35bcdc(0xd6)+_0x22d743['jSEHS'](String,_0x292980)[_0x35bcdc(0x11e)](0x2,'0')});continue;}break;}}else _0x3303a9[_0x35bcdc(0xe0)][_0x35bcdc(0x10d)]({'ParameterKey':_0x35bcdc(0xd6)+_0x301143[_0x35bcdc(0xeb)](_0x39093e,_0x28a98d)['padStart'](0x2,'0'),'ParameterValue':_0xe3eb57['value']}),_0x526bfc+=0x1;});}}else{if(_0x22d743[_0x1fc752(0x179)](_0x22d743[_0x1fc752(0x132)],_0x22d743[_0x1fc752(0x132)])){var _0x2af4d2=_0x346542[_0x3d8113];_0x226f22[_0x1fc752(0xfc)](_0x2af4d2)[_0x1fc752(0x11b)](_0x2f0b2b=>{_0x5d473e[_0x30de1a][_0x2f0b2b]=_0x2af4d2[_0x2f0b2b];});}else{const _0xc9f739=await fs['readFileAsync'](path['join'](__dirname,'..',_0x22d743['FmMJt'],_0x22d743[_0x1fc752(0x11d)]),_0x22d743[_0x1fc752(0x156)]),_0x440d8b={};_0x440d8b[_0x1fc752(0x10a)]=CLOUDFORMATION_SCHEMA;const _0x47cd72=yaml[_0x1fc752(0x159)](_0xc9f739,_0x440d8b);_0x22d743[_0x1fc752(0x12f)](mergeTemplates,_0x10fb1b,_0x47cd72),_0x10fb1b[_0x1fc752(0xe6)][_0x1fc752(0x13c)][_0x1fc752(0x182)][_0x1fc752(0x10d)](_0x22d743[_0x1fc752(0x133)],_0x22d743[_0x1fc752(0xd4)],_0x22d743['aWyFJ']);const _0x53becf={};_0x53becf[_0x1fc752(0x18b)]=_0x22d743[_0x1fc752(0x133)];const _0xcaae59={};_0xcaae59['Ref']=_0x22d743['giJto'];const _0x114bbf={};_0x114bbf['Ref']=_0x22d743[_0x1fc752(0xe8)],_0x10fb1b[_0x1fc752(0xe6)][_0x1fc752(0x13c)][_0x1fc752(0x100)][_0x1fc752(0xfd)][_0x1fc752(0x11a)]=[_0x53becf,_0xcaae59,_0x114bbf],_0x10fb1b['Metadata'][_0x22d743['NJhqb']][_0x1fc752(0xe3)][0x0]['Parameters'][_0x1fc752(0x10d)](_0x22d743[_0x1fc752(0xf3)],_0x22d743[_0x1fc752(0x131)],_0x22d743[_0x1fc752(0x172)]);const _0x213d8d={};_0x213d8d['Ref']=_0x22d743['njGVS'];const _0x3987c2={};_0x3987c2[_0x1fc752(0x18b)]=_0x22d743['giJto'];const _0x286ecf={};_0x286ecf[_0x1fc752(0x18b)]=_0x22d743[_0x1fc752(0xe8)],_0x10fb1b[_0x1fc752(0xe6)]['NodeGroup'][_0x1fc752(0x100)][_0x1fc752(0xde)]=[_0x213d8d,_0x3987c2,_0x286ecf];const _0x3755bb={};_0x3755bb[_0x1fc752(0x18b)]=_0x22d743['njGVS'];const _0x4de258={};_0x4de258[_0x1fc752(0x18b)]=_0x22d743['giJto'];const _0x2998ce={};_0x2998ce[_0x1fc752(0x18b)]=_0x22d743[_0x1fc752(0xe8)],_0x10fb1b[_0x1fc752(0xe6)][_0x1fc752(0x19b)][_0x1fc752(0x100)]['Subnets']=[_0x3755bb,_0x4de258,_0x2998ce],_0x10fb1b[_0x1fc752(0xfb)][_0x1fc752(0x11a)][_0x1fc752(0x10e)][_0x22d743[_0x1fc752(0x112)]][0x1]=[{'Ref':_0x22d743[_0x1fc752(0x133)]},{'Ref':_0x22d743[_0x1fc752(0xd4)]},{'Ref':_0x22d743['aWyFJ']}];}}},addTags=async(_0x5e2d4c,_0x3a9b13,_0x113895)=>{const _0x4516fe=a27_0x4005d9,_0x5a6053={'rBdPi':_0x4516fe(0x163),'oSTtt':function(_0x4dfc54,_0x90f034){return _0x4dfc54(_0x90f034);},'XmwMD':_0x4516fe(0x146),'oaqqy':function(_0x3bcf8e,_0x5507f5){return _0x3bcf8e(_0x5507f5);},'zCBXv':_0x4516fe(0x17f),'wmsKD':function(_0x46beeb,_0x45b779){return _0x46beeb===_0x45b779;},'PSiHG':'yjxVR','QjnFT':_0x4516fe(0x129),'hCvuq':_0x4516fe(0x12a),'SgFsR':_0x4516fe(0x17a),'AyPll':_0x4516fe(0x14d),'RDttc':'NodeGroup','SVmsA':_0x4516fe(0x19b)};for(const _0x27a82b in _0x5e2d4c[_0x4516fe(0xe6)]){_0x5a6053[_0x4516fe(0x148)](_0x5a6053[_0x4516fe(0x15a)],_0x5a6053[_0x4516fe(0x15a)])?_0x5e2d4c[_0x4516fe(0xe6)][_0x27a82b][_0x4516fe(0x100)]&&_0x5e2d4c['Resources'][_0x27a82b][_0x4516fe(0x100)][_0x4516fe(0xd3)]&&(_0x5a6053[_0x4516fe(0x148)](_0x5a6053[_0x4516fe(0x17c)],_0x5a6053['AyPll'])?_0x4f25f8[_0x180986][_0x58570c]=_0x3cbda1[_0x2a3134]:_0x5e2d4c[_0x4516fe(0xe6)][_0x27a82b][_0x4516fe(0x100)][_0x4516fe(0xd3)][_0x4516fe(0x10d)](..._0x113895)):_0x1c7f6a['Resources'][_0x46a98f]['Properties'][_0x4516fe(0xd3)][_0x4516fe(0x10d)](..._0x2d680b);}const _0x52fb6a={};_0x113895['forEach'](_0x2915de=>{const _0x1f2d40=_0x4516fe,_0x39d3b1={'pNpBJ':_0x5a6053[_0x1f2d40(0x177)],'Tylmc':function(_0x2f1573,_0x4c92b0){const _0x35a1ab=_0x1f2d40;return _0x5a6053[_0x35a1ab(0xed)](_0x2f1573,_0x4c92b0);},'YlNYX':_0x5a6053[_0x1f2d40(0x190)],'nqQQl':function(_0x4560a0,_0x589afe){const _0x20b3a9=_0x1f2d40;return _0x5a6053[_0x20b3a9(0x189)](_0x4560a0,_0x589afe);},'FzFKX':_0x5a6053[_0x1f2d40(0xd1)],'uuHhc':function(_0x241ff8,_0x5e587f){return _0x5a6053['oaqqy'](_0x241ff8,_0x5e587f);}};if(_0x5a6053['wmsKD'](_0x5a6053[_0x1f2d40(0xf2)],_0x5a6053[_0x1f2d40(0x199)])){const _0x58068d=_0x39d3b1[_0x1f2d40(0x143)][_0x1f2d40(0x169)]('|');let _0x39328a=0x0;while(!![]){switch(_0x58068d[_0x39328a++]){case'0':_0x3a4186[_0x1f2d40(0xe6)][_0x1f2d40(0x19b)][_0x1f2d40(0x100)][_0x1f2d40(0xde)][_0x1f2d40(0x10d)]({'Ref':_0x1f2d40(0xd6)+_0x39d3b1[_0x1f2d40(0xcd)](_0x5b8d97,_0x3c8a1a)['padStart'](0x2,'0')});continue;case'1':_0x58692a+=0x1;continue;case'2':_0x5da2cc['Resources'][_0x1f2d40(0x13e)][_0x1f2d40(0x100)]['Subnets']['push']({'Ref':'Subnet'+_0x39d3b1[_0x1f2d40(0xcd)](_0x5721e5,_0x7eb6d1)['padStart'](0x2,'0')});continue;case'3':_0x122403[_0x1f2d40(0xe6)][_0x1f2d40(0x13c)][_0x1f2d40(0x100)][_0x1f2d40(0xfd)][_0x1f2d40(0x11a)]['push']({'Ref':_0x1f2d40(0xd6)+_0x39d3b1[_0x1f2d40(0xcd)](_0x2788ae,_0xeca242)[_0x1f2d40(0x11e)](0x2,'0')});continue;case'4':_0x10b1cd[_0x1f2d40(0xfb)][_0x1f2d40(0x11a)]['Value'][_0x39d3b1[_0x1f2d40(0x181)]][0x1][_0x1f2d40(0x10d)]({'Ref':_0x1f2d40(0xd6)+_0x39d3b1[_0x1f2d40(0x15e)](_0x33d5cd,_0x5b8d5c)['padStart'](0x2,'0')});continue;case'5':_0x44dea0[_0x1f2d40(0x145)][_0x39d3b1[_0x1f2d40(0x134)]]['ParameterGroups'][0x0][_0x1f2d40(0xe0)][_0x1f2d40(0x10d)](_0x1f2d40(0xd6)+_0x39d3b1['uuHhc'](_0x22991a,_0x5786f4)['padStart'](0x2,'0'));continue;}break;}}else _0x52fb6a[_0x2915de['Key']]=_0x2915de[_0x1f2d40(0x10e)];}),_0x5e2d4c[_0x4516fe(0xe6)][_0x5a6053[_0x4516fe(0x166)]][_0x4516fe(0x100)][_0x4516fe(0xd3)]=_0x52fb6a,_0x5e2d4c[_0x4516fe(0xe6)][_0x5a6053['SVmsA']]['Properties'][_0x4516fe(0xd3)]=_0x52fb6a;};function a27_0x2f4e(_0x185b19,_0x2e7c38){const _0x4e792b=a27_0x4e79();return a27_0x2f4e=function(_0x2f4e33,_0x363d36){_0x2f4e33=_0x2f4e33-0xcd;let _0x4470e9=_0x4e792b[_0x2f4e33];return _0x4470e9;},a27_0x2f4e(_0x185b19,_0x2e7c38);}exports['createClusterStack']=async(_0x42fba0,_0xe93634,_0x46ecdd,_0x4b8e93=null,_0x2ced1=null,_0x3e4fde)=>{const _0x4bb2cc=a27_0x4005d9,_0x2c19c0={'Vkand':_0x4bb2cc(0x18d),'Ahpcw':function(_0x22fe85,_0x2df3e7){return _0x22fe85(_0x2df3e7);},'rkZym':_0x4bb2cc(0xef),'SGXsN':_0x4bb2cc(0x118),'DdZNG':_0x4bb2cc(0x162),'nILRh':_0x4bb2cc(0x160),'TNehs':_0x4bb2cc(0x194),'hfMAR':_0x4bb2cc(0xf8),'pgrix':function(_0x262788,_0x422850,_0x4890c3){return _0x262788(_0x422850,_0x4890c3);},'LzCPR':function(_0x462047,_0x3c92c7,_0x3f1153,_0x4b91c4){return _0x462047(_0x3c92c7,_0x3f1153,_0x4b91c4);},'yahEi':_0x4bb2cc(0x126),'kWmZc':_0x4bb2cc(0xd5),'qzEDY':_0x4bb2cc(0x165),'gJetP':_0x4bb2cc(0x15f),'OppIB':'NodeAutoScalingGroupMinSizeWindows','PcLgi':_0x4bb2cc(0x113),'DnwVz':_0x4bb2cc(0x155),'tivSO':_0x4bb2cc(0x114),'XUGTO':_0x4bb2cc(0x142),'CLXaa':_0x4bb2cc(0xe4),'jVYXb':'NodeGroupNameWindows','xjmXn':'ClusterAutoUpgrade','HSwlF':'true','umIhn':_0x4bb2cc(0xe5),'EPOSF':_0x4bb2cc(0x161),'KVByj':function(_0x1db031,_0x40e221){return _0x1db031!=_0x40e221;},'GSGwU':function(_0x56b70d,_0x2c2cd6){return _0x56b70d!==_0x2c2cd6;},'KacgD':function(_0x2c3f94,_0x557465){return _0x2c3f94!==_0x557465;},'ntsZJ':_0x4bb2cc(0x128),'DpXrm':_0x4bb2cc(0x13b),'LjNKL':function(_0x5995bc,_0x1ee93d){return _0x5995bc!=_0x1ee93d;},'twUSo':_0x4bb2cc(0x130),'yuDph':_0x4bb2cc(0x138)},_0x3d89e6=COMMON_HST_TAGS,_0x3e1c12={};_0x3e1c12[_0x4bb2cc(0x12e)]=_0x2c19c0[_0x4bb2cc(0x102)],_0x3e1c12[_0x4bb2cc(0x10e)]=_0x42fba0,_0x3d89e6['push'](_0x3e1c12),_0x3d89e6[_0x4bb2cc(0x10d)]({'Key':_0x2c19c0[_0x4bb2cc(0x15b)],'Value':new Date()[_0x4bb2cc(0x17e)]()[_0x4bb2cc(0x105)]()});const _0x1610cd={};_0x1610cd['apiVersion']=_0x2c19c0[_0x4bb2cc(0x147)];const _0x377d80=new AWS['CloudFormation'](_0x1610cd),_0x161037=await fs[_0x4bb2cc(0xda)](path['join'](__dirname,'..',_0x2c19c0[_0x4bb2cc(0x125)],_0x2c19c0['TNehs']),_0x2c19c0[_0x4bb2cc(0x185)]),_0x43862b={};_0x43862b[_0x4bb2cc(0x10a)]=CLOUDFORMATION_SCHEMA;const _0xf2f5f6=yaml['load'](_0x161037,_0x43862b);await _0x2c19c0[_0x4bb2cc(0x123)](addVPCData,_0xf2f5f6,_0x4b8e93),await _0x2c19c0['Ahpcw'](addS3Data,_0xf2f5f6),await _0x2c19c0['pgrix'](addSubnetData,_0xf2f5f6,_0x2ced1),await _0x2c19c0[_0x4bb2cc(0xe2)](addTags,_0xf2f5f6,_0x42fba0,_0x3d89e6);const _0x2103d3=JSON[_0x4bb2cc(0x191)](_0xf2f5f6),_0x15308a={};_0x15308a[_0x4bb2cc(0x18e)]=CLUSTER_DEP_STACK_NAME+'-'+_0x42fba0,_0x15308a[_0x4bb2cc(0x135)]=_0x2c19c0[_0x4bb2cc(0x10c)],_0x15308a[_0x4bb2cc(0xd7)]=_0x2103d3,_0x15308a['Parameters']=[{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x153)],'ParameterValue':_0x42fba0},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x14e)],'ParameterValue':_0x42fba0+_0x4bb2cc(0xf7)},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x101)],'ParameterValue':''+_0xe93634},{'ParameterKey':_0x2c19c0['OppIB'],'ParameterValue':'0'},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x13f)],'ParameterValue':'1'},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x178)],'ParameterValue':''+_0x46ecdd},{'ParameterKey':_0x2c19c0['tivSO'],'ParameterValue':global_registry[_0x4bb2cc(0x18c)]},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x183)],'ParameterValue':global_registry[_0x4bb2cc(0xd0)]},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x136)],'ParameterValue':global_registry[_0x4bb2cc(0x167)]},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0xf0)],'ParameterValue':_0x42fba0+_0x4bb2cc(0x170)},{'ParameterKey':_0x2c19c0[_0x4bb2cc(0x115)],'ParameterValue':_0x3e4fde?_0x2c19c0['HSwlF']:_0x2c19c0[_0x4bb2cc(0xf4)]}],_0x15308a[_0x4bb2cc(0x122)]=[_0x2c19c0[_0x4bb2cc(0x120)]],_0x15308a['Tags']=_0x3d89e6;const _0x358501=_0x15308a;if(_0x2c19c0[_0x4bb2cc(0x107)](_0x4b8e93,null)&&_0x2c19c0['GSGwU'](_0x4b8e93,undefined)){if(_0x2c19c0[_0x4bb2cc(0xd9)](_0x2c19c0[_0x4bb2cc(0x154)],_0x2c19c0['DpXrm'])){const _0x395b82={};_0x395b82[_0x4bb2cc(0xf5)]=_0x2c19c0['Vkand'],_0x395b82[_0x4bb2cc(0x150)]=_0x4b8e93,_0x358501[_0x4bb2cc(0xe0)][_0x4bb2cc(0x10d)](_0x395b82);}else{const _0x1ad1f9={};_0x1ad1f9[_0x4bb2cc(0xf5)]=_0x2c19c0['Vkand'],_0x1ad1f9[_0x4bb2cc(0x150)]=_0x550f7e,_0x16bf2d[_0x4bb2cc(0xe0)][_0x4bb2cc(0x10d)](_0x1ad1f9);}}if(_0x2c19c0[_0x4bb2cc(0x149)](_0x2ced1,null)&&_0x2c19c0[_0x4bb2cc(0xd9)](_0x2ced1,undefined)){let _0x271ad5=0x1;_0x2ced1['forEach'](_0x10a01e=>{const _0x53e660=_0x4bb2cc;_0x358501[_0x53e660(0xe0)][_0x53e660(0x10d)]({'ParameterKey':_0x53e660(0xd6)+_0x2c19c0[_0x53e660(0x164)](String,_0x271ad5)['padStart'](0x2,'0'),'ParameterValue':_0x10a01e[_0x53e660(0x168)]}),_0x271ad5+=0x1;});}const _0x543cfc=await _0x377d80[_0x4bb2cc(0x12b)](_0x358501)[_0x4bb2cc(0x16b)]();logger[_0x4bb2cc(0x14c)](_0x2c19c0[_0x4bb2cc(0x119)]);const _0x208103={};return _0x208103[_0x4bb2cc(0x18e)]=_0x543cfc[_0x4bb2cc(0x152)],_0x377d80[_0x4bb2cc(0xdb)](_0x2c19c0['yuDph'],_0x208103)[_0x4bb2cc(0x16b)]();};