const a27_0x47ac85=a27_0x5765;(function(_0x29e3ae,_0x2af255){const _0x54748f=a27_0x5765,_0x1a7ec2=_0x29e3ae();while(!![]){try{const _0x190c00=parseInt(_0x54748f(0x117))/0x1+-parseInt(_0x54748f(0xa0))/0x2+-parseInt(_0x54748f(0xca))/0x3*(-parseInt(_0x54748f(0xf7))/0x4)+parseInt(_0x54748f(0x138))/0x5*(parseInt(_0x54748f(0x152))/0x6)+parseInt(_0x54748f(0xef))/0x7+parseInt(_0x54748f(0xbe))/0x8*(parseInt(_0x54748f(0xe8))/0x9)+-parseInt(_0x54748f(0xa8))/0xa;if(_0x190c00===_0x2af255)break;else _0x1a7ec2['push'](_0x1a7ec2['shift']());}catch(_0x563f8a){_0x1a7ec2['push'](_0x1a7ec2['shift']());}}}(a27_0x2fa7,0x6fea2));const fs=require('fs'),path=require(a27_0x47ac85(0xf6)),Promise=require(a27_0x47ac85(0x132)),yaml=require(a27_0x47ac85(0x111)),{CLOUDFORMATION_SCHEMA}=require(a27_0x47ac85(0xda)),AWS=require(a27_0x47ac85(0x151))[a27_0x47ac85(0xab)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x47ac85(0xee)),{isBucketPresent}=require(a27_0x47ac85(0x151));function a27_0x5765(_0x56cdad,_0x30a169){const _0x2fa7f0=a27_0x2fa7();return a27_0x5765=function(_0x57651c,_0x2c9cc2){_0x57651c=_0x57651c-0x98;let _0xc9df85=_0x2fa7f0[_0x57651c];return _0xc9df85;},a27_0x5765(_0x56cdad,_0x30a169);}Promise[a27_0x47ac85(0xf1)](fs);function a27_0x2fa7(){const _0x4b24df=['CAPABILITY_NAMED_IAM','VxBWp','schema','VpcBlock','NodeGroupWindows','Nkfff','wgRTO','tJhQp','kNjuE','jjUff','subnet-create.yaml','oiAZS','8sndVRb','JCXSS','3|1|5|0|4|2','cyWTY','KCcXP','DELETE','Fn::Join','jfDdJ','BMWEA','GuVPc','Subnet02Block','uvedb','15HGKSrh','ADWAF','TogGW','BVeuC','OnFailure','load','hUohk','Value','AgQle','utf-8','readFileAsync','AWS::CloudFormation::Interface','vYqoS','Metadata','iLaeb','kABQV','js-yaml-cloudformation-schema','yHVmc','TTlUM','NkYpw','StackName','NkSPb','debug','browserstack:cluster','apiVersion','-NodeGroup','valueOf','vpc-create.yaml','padStart','ZOhvZ','8218062NWCRWm','ParameterValue','NodeAutoScalingGroupMaxSize','ResourcesVpcConfig','aJGyO','zabWT','../config/logger','355313lPQYUn','beDFw','promisifyAll','stackCreateComplete','NodeAutoScalingGroupDesiredSizeWindows','join','GOmrw','path','705656jtBMkX','BMRus','SmmFz','keys','FIKgK','StackId','EDbDp','NodeGroup','LAAIx','jSIbf','S3BucketName','NodeImageId','JKRBk','DnIpC','VYOGq','GcpfP','ami','UYbUY','subnet-import.yaml','Key','TemplateBody','EKSCluster','Parameters','MaAiR','kIIYB','xHWLf','js-yaml','ZjNbF','rIdoO','-Windows-NodeGroup','syQaP','s3Bucket','492085bbPaBF','NxueY','VPC','SubnetIds','CKFvL','aws-eks-cluster-dep.yaml','tnfQS','Ref','vjZKG','vVReS','stringify','uczJo','NodeInstanceType','inlqO','split','WKLQy','MHbyu','browserstack:creationDate','0|5|3|2|1|4','ParameterKey','qpEBE','tVOpz','Subnet01Block','hYkCl','wxABT','NodeAutoScalingGroupMinSizeWindows','Properties','bluebird','qhYEF','lFMxp','qhCZE','IvDBc','duZIY','2457305QDGcXa','waitFor','push','EjdDk','Resources','NodeGroupNameWindows','vgXcf','Subnet03','Outputs','vCXro','Subnets','2010-05-15','LaWUU','vpc-import.yaml','cdcAb','XOIzu','RNFSz','VFPTv','FgTrt','hvhwh','LLjgx','ECiFq','ParameterGroups','ClusterName','createClusterStack','./AWSUtils','6asxguP','CloudFormation','forEach','SzYpA','DependsOn','Tags','s3-create.yaml','aycLc','TmXtd','sqxcx','TFrRK','GKuDG','Subnet','DhCIg','chqyn','1656258SjUAWX','promise','StSHP','NodeAutoScalingGroupMinSize','CFTemplates','fFUTl','DrMYd','nCmxp','15429620dBIKpJ','cKpIT','EVirY','awsObj','value','Subnet02','usebk','eTXZZ','Subnet03Block','WEjmq'];a27_0x2fa7=function(){return _0x4b24df;};return a27_0x2fa7();}const mergeTemplates=(_0x37394f,_0xc15a86)=>{const _0x18ebf6=a27_0x47ac85,_0x115ac3={'hUohk':function(_0x4d58c8,_0x52aa54){return _0x4d58c8===_0x52aa54;},'GuVPc':_0x18ebf6(0xa6),'chqyn':_0x18ebf6(0xaf),'FgTrt':_0x18ebf6(0xc0),'syQaP':function(_0x1cf7c1,_0x47a443){return _0x1cf7c1(_0x47a443);},'wgRTO':_0x18ebf6(0xd5),'JKRBk':'Fn::Join','VFPTv':'DiXsE','usebk':'kRgbb'};Object[_0x18ebf6(0xfa)](_0xc15a86)[_0x18ebf6(0x154)](_0x83959a=>{const _0x44a8d9=_0x18ebf6,_0x21b7bb={'nCmxp':_0x115ac3[_0x44a8d9(0x14a)],'xHWLf':function(_0x4b94b2,_0x580404){const _0x16b1e8=_0x44a8d9;return _0x115ac3[_0x16b1e8(0x115)](_0x4b94b2,_0x580404);},'GnEMk':_0x115ac3[_0x44a8d9(0xb8)],'cyWTY':function(_0x41119a,_0x191ab1){const _0x10f03b=_0x44a8d9;return _0x115ac3[_0x10f03b(0x115)](_0x41119a,_0x191ab1);},'Oxdkg':_0x115ac3[_0x44a8d9(0x103)],'hYkCl':function(_0x2209d,_0x37a5e7){const _0x5a1700=_0x44a8d9;return _0x115ac3[_0x5a1700(0x115)](_0x2209d,_0x37a5e7);}};if(_0x115ac3['hUohk'](_0x115ac3[_0x44a8d9(0x149)],_0x115ac3[_0x44a8d9(0xae)]))_0x313b76[_0x44a8d9(0x13c)][_0x5f2caa]['Properties']&&_0x173d2f[_0x44a8d9(0x13c)][_0x5dfff5][_0x44a8d9(0x131)][_0x44a8d9(0x157)]&&_0x57dbc7[_0x44a8d9(0x13c)][_0x3da160][_0x44a8d9(0x131)][_0x44a8d9(0x157)]['push'](..._0x3d58ec);else{var _0x233db0=_0xc15a86[_0x83959a];Object['keys'](_0x233db0)[_0x44a8d9(0x154)](_0x389601=>{const _0x591537=_0x44a8d9;if(_0x115ac3[_0x591537(0xd0)](_0x115ac3[_0x591537(0xc7)],_0x115ac3[_0x591537(0x9f)])){const _0x4ebf7b=_0x21b7bb[_0x591537(0xa7)]['split']('|');let _0x173a93=0x0;while(!![]){switch(_0x4ebf7b[_0x173a93++]){case'0':_0x97f862[_0x591537(0x13c)][_0x591537(0xb6)]['Properties'][_0x591537(0x142)][_0x591537(0x13a)]({'Ref':_0x591537(0x9d)+_0x21b7bb[_0x591537(0x110)](_0x15926d,_0x559281)[_0x591537(0xe6)](0x2,'0')});continue;case'1':_0x42153a[_0x591537(0xd7)][_0x21b7bb['GnEMk']][_0x591537(0x14e)][0x0]['Parameters'][_0x591537(0x13a)](_0x591537(0x9d)+_0x21b7bb[_0x591537(0x110)](_0x5bcd14,_0x1b8919)[_0x591537(0xe6)](0x2,'0'));continue;case'2':_0x102b6f+=0x1;continue;case'3':_0x4351f0[_0x591537(0x13c)][_0x591537(0x10c)][_0x591537(0x131)]['ResourcesVpcConfig'][_0x591537(0x11a)][_0x591537(0x13a)]({'Ref':'Subnet'+_0x21b7bb[_0x591537(0xc1)](_0x27803f,_0x1ef881)[_0x591537(0xe6)](0x2,'0')});continue;case'4':_0x2f211a[_0x591537(0x140)][_0x591537(0x11a)]['Value'][_0x21b7bb['Oxdkg']][0x1][_0x591537(0x13a)]({'Ref':_0x591537(0x9d)+_0x21b7bb[_0x591537(0x110)](_0x4fdb38,_0x5e304d)[_0x591537(0xe6)](0x2,'0')});continue;case'5':_0x33d753[_0x591537(0x13c)]['NodeGroup'][_0x591537(0x131)][_0x591537(0x142)][_0x591537(0x13a)]({'Ref':_0x591537(0x9d)+_0x21b7bb[_0x591537(0x12e)](_0x1fc10c,_0x2a2240)[_0x591537(0xe6)](0x2,'0')});continue;}break;}}else _0x37394f[_0x83959a][_0x389601]=_0x233db0[_0x389601];});}});},addVPCData=async(_0x2fa29a,_0xa8065c)=>{const _0x38dc0f=a27_0x47ac85,_0x31d1de={'nQCJH':function(_0x2473ad,_0x29f14a){return _0x2473ad!==_0x29f14a;},'GcpfP':_0x38dc0f(0x11f),'tVOpz':'CFTemplates','ZOnqL':_0x38dc0f(0x145),'jSIbf':'utf-8','kABQV':function(_0x4ec379,_0x2337f2,_0x263eba){return _0x4ec379(_0x2337f2,_0x263eba);},'JCXSS':_0x38dc0f(0xd5),'EVirY':_0x38dc0f(0x119),'JknJl':function(_0x3e9753,_0x31624f){return _0x3e9753===_0x31624f;},'uPvqD':'XBVZS','cdcAb':_0x38dc0f(0x14b),'ZjNbF':_0x38dc0f(0xe5),'uczJo':_0x38dc0f(0xb5)};if(_0xa8065c){if(_0x31d1de['nQCJH'](_0x31d1de[_0x38dc0f(0x106)],_0x31d1de['GcpfP']))_0x5456e0[_0x38dc0f(0x13c)][_0x56ecac]['Properties'][_0x38dc0f(0x157)][_0x38dc0f(0x13a)](..._0x3bbea6);else{const _0x1a6ace=await fs[_0x38dc0f(0xd4)](path['join'](__dirname,'..',_0x31d1de[_0x38dc0f(0x12c)],_0x31d1de['ZOnqL']),_0x31d1de[_0x38dc0f(0x100)]),_0x4b25aa={};_0x4b25aa['schema']=CLOUDFORMATION_SCHEMA;const _0x15b3d8=yaml[_0x38dc0f(0xcf)](_0x1a6ace,_0x4b25aa);_0x31d1de[_0x38dc0f(0xd9)](mergeTemplates,_0x2fa29a,_0x15b3d8),_0x2fa29a['Metadata'][_0x31d1de[_0x38dc0f(0xbf)]]['ParameterGroups'][0x0][_0x38dc0f(0x10d)][_0x38dc0f(0x13a)](_0x31d1de[_0x38dc0f(0xaa)]);}}else{if(_0x31d1de['JknJl'](_0x31d1de['uPvqD'],_0x31d1de[_0x38dc0f(0x146)])){var _0x5d094f=_0x3df169[_0x5808f4];_0x2994ee[_0x38dc0f(0xfa)](_0x5d094f)[_0x38dc0f(0x154)](_0x1f0e9c=>{_0x5b843e[_0x53d10d][_0x1f0e9c]=_0x5d094f[_0x1f0e9c];});}else{const _0x123430=await fs['readFileAsync'](path[_0x38dc0f(0xf4)](__dirname,'..',_0x31d1de[_0x38dc0f(0x12c)],_0x31d1de[_0x38dc0f(0x112)]),_0x31d1de['jSIbf']),_0x434104={};_0x434104['schema']=CLOUDFORMATION_SCHEMA;const _0x3beb42=yaml[_0x38dc0f(0xcf)](_0x123430,_0x434104);_0x31d1de['kABQV'](mergeTemplates,_0x2fa29a,_0x3beb42),_0x2fa29a[_0x38dc0f(0xd7)][_0x31d1de[_0x38dc0f(0xbf)]][_0x38dc0f(0x14e)][0x0][_0x38dc0f(0x10d)][_0x38dc0f(0x13a)](_0x31d1de[_0x38dc0f(0x122)]);}}},addS3Data=async _0x5e0ba2=>{const _0x50d973=a27_0x47ac85,_0x118e2c={'mrkNx':_0x50d973(0xa4),'WKLQy':_0x50d973(0x158),'EugoZ':'utf-8','DhCIg':function(_0x5f2ebf,_0x94f4c2){return _0x5f2ebf(_0x94f4c2);},'SmmFz':function(_0x4fa7c1,_0x1e1b93){return _0x4fa7c1===_0x1e1b93;},'GOmrw':'mLKXa','EDbDp':function(_0x11d3a8,_0x22de5c,_0xcb6a3b){return _0x11d3a8(_0x22de5c,_0xcb6a3b);}},_0x5c4f00=await fs[_0x50d973(0xd4)](path[_0x50d973(0xf4)](__dirname,'..',_0x118e2c['mrkNx'],_0x118e2c[_0x50d973(0x126)]),_0x118e2c['EugoZ']),_0x3fac96={};_0x3fac96[_0x50d973(0xb4)]=CLOUDFORMATION_SCHEMA;const _0x39a223=yaml[_0x50d973(0xcf)](_0x5c4f00,_0x3fac96),_0x5c1734=await _0x118e2c[_0x50d973(0x9e)](isBucketPresent,global_registry[_0x50d973(0x116)]);_0x118e2c[_0x50d973(0xf9)](_0x5c1734,![])&&(_0x118e2c[_0x50d973(0xf9)](_0x118e2c[_0x50d973(0xf5)],_0x118e2c[_0x50d973(0xf5)])?_0x118e2c[_0x50d973(0xfd)](mergeTemplates,_0x5e0ba2,_0x39a223):_0x4f0e7a[_0x48c06b[_0x50d973(0x10a)]]=_0x15db61['Value']);},addSubnetData=async(_0x350fba,_0x3ffbd0)=>{const _0x3a27f4=a27_0x47ac85,_0x3cd1a5={'VcVst':'VPC','AgQle':_0x3a27f4(0xfe),'BMRus':'NodeGroupWindows','wxABT':function(_0x194f21,_0x104731){return _0x194f21!==_0x104731;},'LaWUU':_0x3a27f4(0xf0),'XOIzu':'pARQr','BMWEA':_0x3a27f4(0x129),'CKFvL':function(_0x584699,_0x5a6e5f){return _0x584699(_0x5a6e5f);},'EjdDk':_0x3a27f4(0xc4),'RgnnA':function(_0x1545c6,_0x238a2c){return _0x1545c6(_0x238a2c);},'vCXro':_0x3a27f4(0xd5),'tJhQp':function(_0x5ea445,_0xfc61ff){return _0x5ea445(_0xfc61ff);},'qhYEF':function(_0x441ed6,_0x5bf7a5){return _0x441ed6===_0x5bf7a5;},'QduHx':_0x3a27f4(0xb3),'vVReS':_0x3a27f4(0x98),'duZIY':_0x3a27f4(0xa4),'MHbyu':_0x3a27f4(0x109),'tnfQS':'utf-8','EVUgY':function(_0x44760f,_0x516447,_0x580bee){return _0x44760f(_0x516447,_0x580bee);},'ECiFq':_0x3a27f4(0xbb),'kzlyv':_0x3a27f4(0xbc),'GKuDG':function(_0x392d68,_0x513f3c,_0x11ae8a){return _0x392d68(_0x513f3c,_0x11ae8a);},'kIIYB':'Subnet01','zabWT':_0x3a27f4(0xad),'MaAiR':_0x3a27f4(0x13f),'jfDdJ':_0x3a27f4(0x12d),'qhCZE':_0x3a27f4(0xc8),'iLaeb':_0x3a27f4(0xb0)};if(_0x3ffbd0){if(_0x3cd1a5[_0x3a27f4(0x133)](_0x3cd1a5['QduHx'],_0x3cd1a5[_0x3a27f4(0x120)])){const _0x3f1f1b={};_0x3f1f1b[_0x3a27f4(0x12a)]=_0x3cd1a5['VcVst'],_0x3f1f1b[_0x3a27f4(0xe9)]=_0x57d2b7,_0x6e1951[_0x3a27f4(0x10d)]['push'](_0x3f1f1b);}else{const _0x41b7d3=await fs[_0x3a27f4(0xd4)](path[_0x3a27f4(0xf4)](__dirname,'..',_0x3cd1a5[_0x3a27f4(0x137)],_0x3cd1a5[_0x3a27f4(0x127)]),_0x3cd1a5[_0x3a27f4(0x11d)]),_0x482898={};_0x482898[_0x3a27f4(0xb4)]=CLOUDFORMATION_SCHEMA;const _0x324404=yaml[_0x3a27f4(0xcf)](_0x41b7d3,_0x482898);_0x3cd1a5['EVUgY'](mergeTemplates,_0x350fba,_0x324404);let _0x4b3aab=0x1;_0x3ffbd0[_0x3a27f4(0x154)](_0x448c95=>{const _0x269b1d=_0x3a27f4,_0xae119c={};_0xae119c[_0x269b1d(0x13e)]=_0x3cd1a5[_0x269b1d(0xd2)],_0xae119c[_0x269b1d(0xcc)]=_0x3cd1a5[_0x269b1d(0xf8)];const _0x2def28=_0xae119c;if(_0x3cd1a5[_0x269b1d(0x12f)](_0x3cd1a5[_0x269b1d(0x144)],_0x3cd1a5[_0x269b1d(0x147)])){const _0x23ac80=_0x3cd1a5[_0x269b1d(0xc6)][_0x269b1d(0x125)]('|');let _0x5ea6a4=0x0;while(!![]){switch(_0x23ac80[_0x5ea6a4++]){case'0':_0x350fba[_0x269b1d(0x13c)][_0x269b1d(0x10c)][_0x269b1d(0x131)][_0x269b1d(0xeb)][_0x269b1d(0x11a)][_0x269b1d(0x13a)]({'Ref':_0x269b1d(0x9d)+_0x3cd1a5['CKFvL'](String,_0x4b3aab)[_0x269b1d(0xe6)](0x2,'0')});continue;case'1':_0x350fba[_0x269b1d(0x140)]['SubnetIds']['Value'][_0x3cd1a5['EjdDk']][0x1][_0x269b1d(0x13a)]({'Ref':'Subnet'+_0x3cd1a5[_0x269b1d(0x11b)](String,_0x4b3aab)[_0x269b1d(0xe6)](0x2,'0')});continue;case'2':_0x350fba[_0x269b1d(0x13c)][_0x269b1d(0xb6)][_0x269b1d(0x131)][_0x269b1d(0x142)][_0x269b1d(0x13a)]({'Ref':_0x269b1d(0x9d)+_0x3cd1a5[_0x269b1d(0x11b)](String,_0x4b3aab)['padStart'](0x2,'0')});continue;case'3':_0x350fba[_0x269b1d(0x13c)][_0x269b1d(0xfe)][_0x269b1d(0x131)]['Subnets'][_0x269b1d(0x13a)]({'Ref':_0x269b1d(0x9d)+_0x3cd1a5['RgnnA'](String,_0x4b3aab)[_0x269b1d(0xe6)](0x2,'0')});continue;case'4':_0x4b3aab+=0x1;continue;case'5':_0x350fba[_0x269b1d(0xd7)][_0x3cd1a5['vCXro']]['ParameterGroups'][0x0][_0x269b1d(0x10d)][_0x269b1d(0x13a)]('Subnet'+_0x3cd1a5[_0x269b1d(0xb9)](String,_0x4b3aab)[_0x269b1d(0xe6)](0x2,'0'));continue;}break;}}else{for(const _0x54c24e in _0x3d94ac['Resources']){_0x2c107d[_0x269b1d(0x13c)][_0x54c24e][_0x269b1d(0x131)]&&_0xc39fb3[_0x269b1d(0x13c)][_0x54c24e][_0x269b1d(0x131)][_0x269b1d(0x157)]&&_0x1d63fc['Resources'][_0x54c24e][_0x269b1d(0x131)][_0x269b1d(0x157)]['push'](..._0x7a5d7);}const _0x3c5854={};_0x3dbe4c['forEach'](_0x27a880=>{const _0x256663=_0x269b1d;_0x3c5854[_0x27a880[_0x256663(0x10a)]]=_0x27a880[_0x256663(0xd1)];}),_0x3c5f02[_0x269b1d(0x13c)][_0x2def28[_0x269b1d(0x13e)]][_0x269b1d(0x131)][_0x269b1d(0x157)]=_0x3c5854,_0x21762e[_0x269b1d(0x13c)][_0x2def28[_0x269b1d(0xcc)]][_0x269b1d(0x131)][_0x269b1d(0x157)]=_0x3c5854;}});}}else{if(_0x3cd1a5[_0x3a27f4(0x12f)](_0x3cd1a5[_0x3a27f4(0x14d)],_0x3cd1a5['ECiFq'])){const _0x240ecd={'FIKgK':function(_0x2d1d77,_0x5ec711){return _0x3cd1a5['CKFvL'](_0x2d1d77,_0x5ec711);}};let _0x10a63f=0x1;_0x45c43b[_0x3a27f4(0x154)](_0x4a7713=>{const _0x670a92=_0x3a27f4;_0x494331[_0x670a92(0x10d)]['push']({'ParameterKey':_0x670a92(0x9d)+_0x240ecd[_0x670a92(0xfb)](_0x110050,_0x10a63f)[_0x670a92(0xe6)](0x2,'0'),'ParameterValue':_0x4a7713[_0x670a92(0xac)]}),_0x10a63f+=0x1;});}else{const _0x195403=await fs['readFileAsync'](path[_0x3a27f4(0xf4)](__dirname,'..',_0x3cd1a5[_0x3a27f4(0x137)],_0x3cd1a5['kzlyv']),_0x3cd1a5[_0x3a27f4(0x11d)]),_0x30d7dc={};_0x30d7dc[_0x3a27f4(0xb4)]=CLOUDFORMATION_SCHEMA;const _0x34e3f4=yaml[_0x3a27f4(0xcf)](_0x195403,_0x30d7dc);_0x3cd1a5[_0x3a27f4(0x9c)](mergeTemplates,_0x350fba,_0x34e3f4),_0x350fba['Resources']['EKSCluster'][_0x3a27f4(0x156)][_0x3a27f4(0x13a)](_0x3cd1a5[_0x3a27f4(0x10f)],_0x3cd1a5[_0x3a27f4(0xed)],_0x3cd1a5[_0x3a27f4(0x10e)]);const _0x6eb470={};_0x6eb470[_0x3a27f4(0x11e)]=_0x3cd1a5['kIIYB'];const _0x18a844={};_0x18a844['Ref']=_0x3cd1a5[_0x3a27f4(0xed)];const _0x524698={};_0x524698['Ref']=_0x3cd1a5['MaAiR'],_0x350fba['Resources']['EKSCluster'][_0x3a27f4(0x131)][_0x3a27f4(0xeb)][_0x3a27f4(0x11a)]=[_0x6eb470,_0x18a844,_0x524698],_0x350fba[_0x3a27f4(0xd7)][_0x3cd1a5[_0x3a27f4(0x141)]][_0x3a27f4(0x14e)][0x0]['Parameters'][_0x3a27f4(0x13a)](_0x3cd1a5[_0x3a27f4(0xc5)],_0x3cd1a5[_0x3a27f4(0x135)],_0x3cd1a5[_0x3a27f4(0xd8)]);const _0x313650={};_0x313650['Ref']=_0x3cd1a5[_0x3a27f4(0x10f)];const _0x742301={};_0x742301['Ref']=_0x3cd1a5[_0x3a27f4(0xed)];const _0x113312={};_0x113312[_0x3a27f4(0x11e)]=_0x3cd1a5[_0x3a27f4(0x10e)],_0x350fba[_0x3a27f4(0x13c)]['NodeGroup'][_0x3a27f4(0x131)]['Subnets']=[_0x313650,_0x742301,_0x113312];const _0x542312={};_0x542312[_0x3a27f4(0x11e)]=_0x3cd1a5[_0x3a27f4(0x10f)];const _0x4ce78f={};_0x4ce78f[_0x3a27f4(0x11e)]=_0x3cd1a5[_0x3a27f4(0xed)];const _0x2fd287={};_0x2fd287[_0x3a27f4(0x11e)]=_0x3cd1a5[_0x3a27f4(0x10e)],_0x350fba['Resources']['NodeGroupWindows'][_0x3a27f4(0x131)][_0x3a27f4(0x142)]=[_0x542312,_0x4ce78f,_0x2fd287],_0x350fba['Outputs'][_0x3a27f4(0x11a)]['Value'][_0x3cd1a5[_0x3a27f4(0x13b)]][0x1]=[{'Ref':_0x3cd1a5[_0x3a27f4(0x10f)]},{'Ref':_0x3cd1a5['zabWT']},{'Ref':_0x3cd1a5[_0x3a27f4(0x10e)]}];}}},addTags=async(_0x3215b0,_0x3f7d4a,_0x58c5d5)=>{const _0x1eb752=a27_0x47ac85,_0x5cbf75={'ADWAF':function(_0x2541c2,_0x512d4d,_0x1f033d){return _0x2541c2(_0x512d4d,_0x1f033d);},'cRCia':function(_0x4e751e,_0x116fa3){return _0x4e751e!==_0x116fa3;},'cKpIT':'ZVlaF','aqRlz':_0x1eb752(0x105),'inlqO':function(_0x409331,_0x1e3513){return _0x409331===_0x1e3513;},'fFUTl':'JkZGU','LAAIx':_0x1eb752(0x134),'kNjuE':_0x1eb752(0x118),'Nkfff':_0x1eb752(0xfe),'RNFSz':_0x1eb752(0xb6)};for(const _0xedfd0b in _0x3215b0[_0x1eb752(0x13c)]){_0x5cbf75['inlqO'](_0x5cbf75[_0x1eb752(0xa5)],_0x5cbf75[_0x1eb752(0xa5)])?_0x3215b0[_0x1eb752(0x13c)][_0xedfd0b][_0x1eb752(0x131)]&&_0x3215b0[_0x1eb752(0x13c)][_0xedfd0b][_0x1eb752(0x131)][_0x1eb752(0x157)]&&(_0x5cbf75[_0x1eb752(0x124)](_0x5cbf75[_0x1eb752(0xff)],_0x5cbf75[_0x1eb752(0xba)])?_0x530a3b[_0x30d7bb][_0x3ddaa1]=_0xc6890f[_0xd265f5]:_0x3215b0[_0x1eb752(0x13c)][_0xedfd0b]['Properties'][_0x1eb752(0x157)][_0x1eb752(0x13a)](..._0x58c5d5)):_0x5cbf75[_0x1eb752(0xcb)](_0x57e931,_0x3fe18c,_0x3e9e24);}const _0x347a4b={};_0x58c5d5[_0x1eb752(0x154)](_0x1bdd5f=>{const _0x51216a=_0x1eb752;_0x5cbf75['cRCia'](_0x5cbf75[_0x51216a(0xa9)],_0x5cbf75['aqRlz'])?_0x347a4b[_0x1bdd5f[_0x51216a(0x10a)]]=_0x1bdd5f[_0x51216a(0xd1)]:_0x413e34['keys'](_0x4b088f)[_0x51216a(0x154)](_0x3e6eb8=>{const _0x2b8990=_0x51216a;var _0x1731fb=_0x29cb1d[_0x3e6eb8];_0x1f1693[_0x2b8990(0xfa)](_0x1731fb)[_0x2b8990(0x154)](_0x89429d=>{_0x462d4e[_0x3e6eb8][_0x89429d]=_0x1731fb[_0x89429d];});});}),_0x3215b0[_0x1eb752(0x13c)][_0x5cbf75[_0x1eb752(0xb7)]][_0x1eb752(0x131)][_0x1eb752(0x157)]=_0x347a4b,_0x3215b0['Resources'][_0x5cbf75[_0x1eb752(0x148)]]['Properties'][_0x1eb752(0x157)]=_0x347a4b;};exports[a27_0x47ac85(0x150)]=async(_0x393629,_0x53ffe3,_0x324fd4,_0x36fe5a=null,_0x38c7d9=null)=>{const _0x45f51c=a27_0x47ac85,_0x3e2997={'IvDBc':function(_0x1d5d67,_0x117385){return _0x1d5d67(_0x117385);},'StSHP':function(_0x4fd7e4,_0x624f46){return _0x4fd7e4(_0x624f46);},'TbIbf':_0x45f51c(0xe1),'uvedb':_0x45f51c(0x128),'ZFPuK':_0x45f51c(0x143),'qpEBE':_0x45f51c(0xa4),'yHVmc':_0x45f51c(0x11c),'oiAZS':_0x45f51c(0xd3),'TFrRK':function(_0x48e13b,_0x5e7efe,_0x4830dd){return _0x48e13b(_0x5e7efe,_0x4830dd);},'ZOhvZ':function(_0x19cf67,_0x1e2680){return _0x19cf67(_0x1e2680);},'BVeuC':function(_0x30ecd3,_0x170a11,_0x478e69,_0xc218d3){return _0x30ecd3(_0x170a11,_0x478e69,_0xc218d3);},'aJGyO':_0x45f51c(0xc3),'NkYpw':_0x45f51c(0x14f),'KCcXP':'NodeGroupName','UYbUY':_0x45f51c(0xa3),'cnQuF':_0x45f51c(0x130),'WEjmq':_0x45f51c(0xf3),'DnIpC':_0x45f51c(0xea),'gAnZn':_0x45f51c(0x102),'NkSPb':_0x45f51c(0x123),'vYqoS':_0x45f51c(0x101),'sqxcx':_0x45f51c(0x13d),'bAzcM':_0x45f51c(0xb2),'vSgKp':function(_0x256672,_0x6ac663){return _0x256672!=_0x6ac663;},'afVVQ':function(_0x37c90e,_0x135bca){return _0x37c90e!==_0x135bca;},'SzYpA':_0x45f51c(0x99),'aelGL':'VPC','rIdoO':function(_0x5d93ec,_0x35bd79){return _0x5d93ec!=_0x35bd79;},'LLjgx':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','TTlUM':_0x45f51c(0xf2)},_0x3af88b=COMMON_HST_TAGS,_0x531e64={};_0x531e64['Key']=_0x3e2997['TbIbf'],_0x531e64[_0x45f51c(0xd1)]=_0x393629,_0x3af88b[_0x45f51c(0x13a)](_0x531e64),_0x3af88b[_0x45f51c(0x13a)]({'Key':_0x3e2997[_0x45f51c(0xc9)],'Value':new Date()[_0x45f51c(0xe4)]()['toString']()});const _0x4d4c0d={};_0x4d4c0d[_0x45f51c(0xe2)]=_0x3e2997['ZFPuK'];const _0x36af19=new AWS[(_0x45f51c(0x153))](_0x4d4c0d),_0x134c4c=await fs[_0x45f51c(0xd4)](path['join'](__dirname,'..',_0x3e2997[_0x45f51c(0x12b)],_0x3e2997[_0x45f51c(0xdb)]),_0x3e2997[_0x45f51c(0xbd)]),_0x38c2d2={};_0x38c2d2[_0x45f51c(0xb4)]=CLOUDFORMATION_SCHEMA;const _0x19299e=yaml['load'](_0x134c4c,_0x38c2d2);await _0x3e2997[_0x45f51c(0x9b)](addVPCData,_0x19299e,_0x36fe5a),await _0x3e2997[_0x45f51c(0xe7)](addS3Data,_0x19299e),await _0x3e2997[_0x45f51c(0x9b)](addSubnetData,_0x19299e,_0x38c7d9),await _0x3e2997[_0x45f51c(0xcd)](addTags,_0x19299e,_0x393629,_0x3af88b);const _0x5ec542=JSON[_0x45f51c(0x121)](_0x19299e),_0x2230c7={};_0x2230c7[_0x45f51c(0xde)]=CLUSTER_DEP_STACK_NAME+'-'+_0x393629,_0x2230c7[_0x45f51c(0xce)]=_0x3e2997[_0x45f51c(0xec)],_0x2230c7[_0x45f51c(0x10b)]=_0x5ec542,_0x2230c7[_0x45f51c(0x10d)]=[{'ParameterKey':_0x3e2997[_0x45f51c(0xdd)],'ParameterValue':_0x393629},{'ParameterKey':_0x3e2997[_0x45f51c(0xc2)],'ParameterValue':_0x393629+_0x45f51c(0xe3)},{'ParameterKey':_0x3e2997[_0x45f51c(0x108)],'ParameterValue':''+_0x53ffe3},{'ParameterKey':_0x3e2997['cnQuF'],'ParameterValue':'0'},{'ParameterKey':_0x3e2997[_0x45f51c(0xb1)],'ParameterValue':'1'},{'ParameterKey':_0x3e2997[_0x45f51c(0x104)],'ParameterValue':''+_0x324fd4},{'ParameterKey':_0x3e2997['gAnZn'],'ParameterValue':global_registry[_0x45f51c(0x107)]},{'ParameterKey':_0x3e2997[_0x45f51c(0xdf)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x3e2997[_0x45f51c(0xd6)],'ParameterValue':global_registry[_0x45f51c(0x116)]},{'ParameterKey':_0x3e2997[_0x45f51c(0x9a)],'ParameterValue':_0x393629+_0x45f51c(0x114)}],_0x2230c7['Capabilities']=[_0x3e2997['bAzcM']],_0x2230c7['Tags']=_0x3af88b;const _0x4f1a2f=_0x2230c7;if(_0x3e2997['vSgKp'](_0x36fe5a,null)&&_0x3e2997['afVVQ'](_0x36fe5a,undefined)){if(_0x3e2997['afVVQ'](_0x3e2997[_0x45f51c(0x155)],_0x3e2997[_0x45f51c(0x155)]))_0x554351[_0x45f51c(0x10d)][_0x45f51c(0x13a)]({'ParameterKey':_0x45f51c(0x9d)+_0x3e2997[_0x45f51c(0x136)](_0x11b287,_0x1b3940)[_0x45f51c(0xe6)](0x2,'0'),'ParameterValue':_0x5ba740[_0x45f51c(0xac)]}),_0x5c53d3+=0x1;else{const _0x35ff0e={};_0x35ff0e[_0x45f51c(0x12a)]=_0x3e2997['aelGL'],_0x35ff0e['ParameterValue']=_0x36fe5a,_0x4f1a2f[_0x45f51c(0x10d)]['push'](_0x35ff0e);}}if(_0x3e2997[_0x45f51c(0x113)](_0x38c7d9,null)&&_0x3e2997['afVVQ'](_0x38c7d9,undefined)){let _0x4152c6=0x1;_0x38c7d9[_0x45f51c(0x154)](_0x1bc0dd=>{const _0x23aad8=_0x45f51c;_0x4f1a2f[_0x23aad8(0x10d)]['push']({'ParameterKey':'Subnet'+_0x3e2997[_0x23aad8(0xa2)](String,_0x4152c6)[_0x23aad8(0xe6)](0x2,'0'),'ParameterValue':_0x1bc0dd['value']}),_0x4152c6+=0x1;});}const _0xdcd8c9=await _0x36af19['createStack'](_0x4f1a2f)[_0x45f51c(0xa1)]();logger[_0x45f51c(0xe0)](_0x3e2997[_0x45f51c(0x14c)]);const _0x255e34={};return _0x255e34[_0x45f51c(0xde)]=_0xdcd8c9[_0x45f51c(0xfc)],_0x36af19[_0x45f51c(0x139)](_0x3e2997[_0x45f51c(0xdc)],_0x255e34)[_0x45f51c(0xa1)]();};