const a27_0x435b65=a27_0xc53e;(function(_0x463a2f,_0x4b0d22){const _0xc85bc1=a27_0xc53e,_0x32b4f1=_0x463a2f();while(!![]){try{const _0x1d0a50=parseInt(_0xc85bc1(0xbf))/0x1*(parseInt(_0xc85bc1(0xea))/0x2)+-parseInt(_0xc85bc1(0x156))/0x3+-parseInt(_0xc85bc1(0x102))/0x4*(parseInt(_0xc85bc1(0xc0))/0x5)+parseInt(_0xc85bc1(0xd4))/0x6*(-parseInt(_0xc85bc1(0xeb))/0x7)+parseInt(_0xc85bc1(0xf6))/0x8*(parseInt(_0xc85bc1(0x108))/0x9)+parseInt(_0xc85bc1(0xe4))/0xa+-parseInt(_0xc85bc1(0x151))/0xb*(-parseInt(_0xc85bc1(0xef))/0xc);if(_0x1d0a50===_0x4b0d22)break;else _0x32b4f1['push'](_0x32b4f1['shift']());}catch(_0x458934){_0x32b4f1['push'](_0x32b4f1['shift']());}}}(a27_0xaf5d,0x30008));const fs=require('fs'),path=require(a27_0x435b65(0x14d)),Promise=require(a27_0x435b65(0xd7)),yaml=require(a27_0x435b65(0xd3)),{CLOUDFORMATION_SCHEMA}=require(a27_0x435b65(0x113)),AWS=require(a27_0x435b65(0xdb))[a27_0x435b65(0xcf)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require(a27_0x435b65(0x121)),{isBucketPresent}=require(a27_0x435b65(0xdb));Promise[a27_0x435b65(0xc1)](fs);function a27_0xc53e(_0x1a2bb2,_0xe171f9){const _0xaf5db9=a27_0xaf5d();return a27_0xc53e=function(_0xc53e9d,_0x1c2eea){_0xc53e9d=_0xc53e9d-0xa7;let _0x588b4a=_0xaf5db9[_0xc53e9d];return _0x588b4a;},a27_0xc53e(_0x1a2bb2,_0xe171f9);}function a27_0xaf5d(){const _0x38d95f=['LOaxF','forEach','ONFoF','CsnaF','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','true','s3Bucket','ZImOA','GXyzM','5|1|0|2|4|3','stackCreateComplete','load','akZHU','Subnet03Block','aiuTt','ZbVUt','sQjqb','apiVersion','split','TONuz','stringify','VpcBlock','Subnet01Block','2010-05-15','LOaED','NodeAutoScalingGroupMinSize','KTNBA','uYElv','GwtMA','path','StackName','wkKHY','Metadata','90893kIeYta','Akjqf','heXZI','XRVuF','NodeAutoScalingGroupDesiredSizeWindows','1166445ENnIPi','pizxH','meJyo','padStart','hsLCZ','TwDXH','pPQGw','GQSoj','Fn::Join','MlYqc','push','Key','keys','TemplateBody','EKSCluster','Resources','mwPoE','CynTT','EgpoX','StackId','UGuur','TFLyL','DkDYo','qTKlT','value','Subnets','unGcM','erWaA','CloudFormation','UysdK','NodeGroupWindows','3|1|0|2|4|5','Outputs','lKlsV','EiemR','rzBKx','ukDie','TGBMR','uYpff','schema','Mghmz','ParameterValue','NodeImageId','npFZv','Xjrvt','s3-create.yaml','4331QydFec','12295uOoFnf','promisifyAll','valueOf','NFlFq','NodeGroupNameWindows','PrwBN','flvpa','stBtL','ClusterAutoUpgrade','qCbIi','rkGas','ExjLe','kWYgR','oxuPk','SzuyK','awsObj','vpc-import.yaml','join','subnet-create.yaml','js-yaml','18RYKXCU','IwRDk','VPC','bluebird','uCloW','wpzDA','TlvZF','./AWSUtils','aOOBV','ZtsTF','createClusterStack','toString','Subnet','mnFth','debug','OjSXl','3035540mgapoJ','NodeGroupName','gUhUg','wjEyi','WRHJa','rcTTD','50xDFJqm','288281vUmtqu','AWS::CloudFormation::Interface','Tags','Subnet02Block','312KreBbP','SubnetIds','uHwHT','aws-eks-cluster-dep.yaml','PodqQ','false','readFileAsync','8cClxdW','NodeGroup','subnet-import.yaml','QpKUs','BlvAE','qqPvL','uwDVO','Value','PRfgU','xMfQb','Subnet01','Parameters','296fSjblZ','Capabilities','ParameterKey','ami','promise','VBTgd','2378511qPMkfD','vpc-create.yaml','XlhMa','SrfIX','ResourcesVpcConfig','HOqZO','mZxhy','AKKZC','MLPHd','vEtCJ','CFTemplates','js-yaml-cloudformation-schema','Subnet03','ZMuXF','qGfLF','ParameterGroups','WLWOF','rchbD','qchzT','yxGns','Ref','waitFor','S3BucketName','wIGjQ','yGMIU','../config/logger','BsJWE','Properties','utf-8','jMmFj','CAPABILITY_NAMED_IAM','XRKuF','pEeLW','RQGxR','xHyfg','lXsLf','NodeAutoScalingGroupMaxSize','WHufp','vpMXG','-NodeGroup'];a27_0xaf5d=function(){return _0x38d95f;};return a27_0xaf5d();}const mergeTemplates=(_0x3177c4,_0x1c48e9)=>{const _0x439e26=a27_0x435b65,_0x1f8cb3={'qchzT':function(_0x99642d,_0x41cb6e){return _0x99642d(_0x41cb6e);},'wIGjQ':function(_0x20bf12,_0x3581d2){return _0x20bf12===_0x3581d2;},'iRPkb':_0x439e26(0xfc),'ONFoF':_0x439e26(0x118),'EgpoX':function(_0x2ec887,_0x2e151b){return _0x2ec887!==_0x2e151b;},'oxuPk':'Zjoux','PRfgU':_0x439e26(0xc7)};Object['keys'](_0x1c48e9)['forEach'](_0x5baafe=>{const _0x1b9505=_0x439e26;if(_0x1f8cb3[_0x1b9505(0x168)](_0x1f8cb3[_0x1b9505(0xcd)],_0x1f8cb3[_0x1b9505(0xfe)])){var _0x487f18=_0x1c48e9[_0x5baafe];Object['keys'](_0x487f18)[_0x1b9505(0x131)](_0x12222c=>{const _0xf4e88a=_0x1b9505,_0x477c22={'aiuTt':function(_0x31180b,_0x36d8fa){const _0x1be878=a27_0xc53e;return _0x1f8cb3[_0x1be878(0x11a)](_0x31180b,_0x36d8fa);}};if(_0x1f8cb3[_0xf4e88a(0x11f)](_0x1f8cb3['iRPkb'],_0x1f8cb3[_0xf4e88a(0x132)])){const _0x22ac49={'Mghmz':function(_0x3bd72f,_0x3dd5fb){const _0x148d52=_0xf4e88a;return _0x477c22[_0x148d52(0x13e)](_0x3bd72f,_0x3dd5fb);}};let _0x43ef65=0x1;_0x1e4b0f['forEach'](_0x2f7731=>{const _0x149a3d=_0xf4e88a;_0x2a9129['Parameters']['push']({'ParameterKey':_0x149a3d(0xe0)+_0x22ac49[_0x149a3d(0xb9)](_0x39ba25,_0x43ef65)['padStart'](0x2,'0'),'ParameterValue':_0x2f7731[_0x149a3d(0xa9)]}),_0x43ef65+=0x1;});}else _0x3177c4[_0x5baafe][_0x12222c]=_0x487f18[_0x12222c];});}else _0x3928d1[_0x1b9505(0x162)](_0xac835e)[_0x1b9505(0x131)](_0x183772=>{const _0x2e1a7d=_0x1b9505;var _0x12ad9=_0x3e0891[_0x183772];_0x1fc168[_0x2e1a7d(0x162)](_0x12ad9)['forEach'](_0x46728e=>{_0x1460a1[_0x183772][_0x46728e]=_0x12ad9[_0x46728e];});});});},addVPCData=async(_0x5d174c,_0x29ff9b)=>{const _0x2d090a=a27_0x435b65,_0x287a64={'WRHJa':function(_0x18825a,_0x1db9d9,_0x3e07f6){return _0x18825a(_0x1db9d9,_0x3e07f6);},'QQREO':_0x2d090a(0xb0),'WHufp':function(_0x4176d4,_0x97a4bc){return _0x4176d4(_0x97a4bc);},'ExjLe':_0x2d090a(0xec),'jMmFj':function(_0x3bb346,_0x1fb717){return _0x3bb346(_0x1fb717);},'MLPHd':_0x2d090a(0x15e),'hsLCZ':function(_0x54b6ee,_0x392f74){return _0x54b6ee!==_0x392f74;},'SrfIX':_0x2d090a(0x14f),'ZMuXF':_0x2d090a(0xcc),'mwPoE':_0x2d090a(0x112),'TszFq':_0x2d090a(0xd0),'lXsLf':'utf-8','tJbBo':function(_0x540918,_0x1aafcb,_0x470a6b){return _0x540918(_0x1aafcb,_0x470a6b);},'qTKlT':_0x2d090a(0xd6),'rzBKx':_0x2d090a(0x10e),'npFZv':_0x2d090a(0x109),'NFlFq':_0x2d090a(0x145)};if(_0x29ff9b){if(_0x287a64[_0x2d090a(0x15a)](_0x287a64[_0x2d090a(0x10b)],_0x287a64[_0x2d090a(0x115)])){const _0x40ab63=await fs[_0x2d090a(0xf5)](path[_0x2d090a(0xd1)](__dirname,'..',_0x287a64[_0x2d090a(0x166)],_0x287a64['TszFq']),_0x287a64[_0x2d090a(0x12b)]),_0x58c7d9={};_0x58c7d9['schema']=CLOUDFORMATION_SCHEMA;const _0x19ee7e=yaml[_0x2d090a(0x13b)](_0x40ab63,_0x58c7d9);_0x287a64['tJbBo'](mergeTemplates,_0x5d174c,_0x19ee7e),_0x5d174c['Metadata'][_0x287a64[_0x2d090a(0xcb)]][_0x2d090a(0x117)][0x0][_0x2d090a(0x101)][_0x2d090a(0x160)](_0x287a64[_0x2d090a(0xa8)]);}else _0x287a64[_0x2d090a(0xe8)](_0x5eee45,_0x3f99e6,_0x1fbefe);}else{if(_0x287a64['hsLCZ'](_0x287a64[_0x2d090a(0xb4)],_0x287a64[_0x2d090a(0xb4)])){const _0x3f2edd=_0x287a64['QQREO'][_0x2d090a(0x142)]('|');let _0x113a29=0x0;while(!![]){switch(_0x3f2edd[_0x113a29++]){case'0':_0x26e04e[_0x2d090a(0x165)][_0x2d090a(0xf7)][_0x2d090a(0x123)][_0x2d090a(0xaa)][_0x2d090a(0x160)]({'Ref':_0x2d090a(0xe0)+_0x287a64[_0x2d090a(0x12d)](_0x129936,_0x321e54)[_0x2d090a(0x159)](0x2,'0')});continue;case'1':_0x3df422[_0x2d090a(0x150)][_0x287a64[_0x2d090a(0xcb)]]['ParameterGroups'][0x0][_0x2d090a(0x101)][_0x2d090a(0x160)](_0x2d090a(0xe0)+_0x287a64['jMmFj'](_0x807231,_0x4aabba)[_0x2d090a(0x159)](0x2,'0'));continue;case'2':_0x17d40e[_0x2d090a(0x165)][_0x2d090a(0xaf)]['Properties']['Subnets']['push']({'Ref':_0x2d090a(0xe0)+_0x287a64[_0x2d090a(0x125)](_0x195789,_0x7aa6aa)[_0x2d090a(0x159)](0x2,'0')});continue;case'3':_0x158932[_0x2d090a(0x165)][_0x2d090a(0x164)]['Properties'][_0x2d090a(0x10c)][_0x2d090a(0xf0)][_0x2d090a(0x160)]({'Ref':_0x2d090a(0xe0)+_0x287a64[_0x2d090a(0x12d)](_0x3562ac,_0x14796d)[_0x2d090a(0x159)](0x2,'0')});continue;case'4':_0x12a590[_0x2d090a(0xb1)][_0x2d090a(0xf0)]['Value'][_0x287a64[_0x2d090a(0x110)]][0x1][_0x2d090a(0x160)]({'Ref':_0x2d090a(0xe0)+_0x287a64[_0x2d090a(0x12d)](_0x49e606,_0x7a428d)['padStart'](0x2,'0')});continue;case'5':_0x600875+=0x1;continue;}break;}}else{const _0x14d47f=await fs['readFileAsync'](path[_0x2d090a(0xd1)](__dirname,'..',_0x287a64[_0x2d090a(0x166)],_0x287a64[_0x2d090a(0xbc)]),_0x287a64[_0x2d090a(0x12b)]),_0x452770={};_0x452770[_0x2d090a(0xb8)]=CLOUDFORMATION_SCHEMA;const _0x1b583e=yaml[_0x2d090a(0x13b)](_0x14d47f,_0x452770);_0x287a64[_0x2d090a(0xe8)](mergeTemplates,_0x5d174c,_0x1b583e),_0x5d174c['Metadata'][_0x287a64[_0x2d090a(0xcb)]]['ParameterGroups'][0x0][_0x2d090a(0x101)][_0x2d090a(0x160)](_0x287a64[_0x2d090a(0xc3)]);}}},addS3Data=async _0x54ba77=>{const _0x98e9a0=a27_0x435b65,_0x2a335a={'lKlsV':'CFTemplates','bkEhM':_0x98e9a0(0xbe),'DkDYo':_0x98e9a0(0x124),'uHwHT':function(_0x203e83,_0x23c8a2){return _0x203e83(_0x23c8a2);},'Akjqf':function(_0x582fc3,_0x22b562){return _0x582fc3===_0x22b562;},'uCloW':function(_0x53a8b1,_0x47e95b){return _0x53a8b1!==_0x47e95b;},'YurDr':_0x98e9a0(0x15d),'PzkTX':_0x98e9a0(0xff),'Wvqiu':function(_0x2f4b63,_0x559202,_0x2a76af){return _0x2f4b63(_0x559202,_0x2a76af);}},_0x3f8cb1=await fs['readFileAsync'](path[_0x98e9a0(0xd1)](__dirname,'..',_0x2a335a[_0x98e9a0(0xb2)],_0x2a335a['bkEhM']),_0x2a335a[_0x98e9a0(0xa7)]),_0xf0fa2a={};_0xf0fa2a[_0x98e9a0(0xb8)]=CLOUDFORMATION_SCHEMA;const _0x4667df=yaml[_0x98e9a0(0x13b)](_0x3f8cb1,_0xf0fa2a),_0x5c333a=await _0x2a335a[_0x98e9a0(0xf1)](isBucketPresent,global_registry['s3Bucket']);_0x2a335a[_0x98e9a0(0x152)](_0x5c333a,![])&&(_0x2a335a[_0x98e9a0(0xd8)](_0x2a335a['YurDr'],_0x2a335a['PzkTX'])?_0x2a335a['Wvqiu'](mergeTemplates,_0x54ba77,_0x4667df):_0x152533[_0x98e9a0(0x165)][_0x4ca897][_0x98e9a0(0x123)][_0x98e9a0(0xed)][_0x98e9a0(0x160)](..._0x9f0500));},addSubnetData=async(_0x958209,_0x30d0cb)=>{const _0x5729e4=a27_0x435b65,_0x71eadb={'KTNBA':function(_0x400df9,_0x396129){return _0x400df9(_0x396129);},'TFLyL':function(_0x3a2cb8,_0x1a0cf8){return _0x3a2cb8===_0x1a0cf8;},'MlYqc':_0x5729e4(0x15b),'rchbD':_0x5729e4(0xd9),'YzULT':_0x5729e4(0x139),'LOaED':'AWS::CloudFormation::Interface','yGMIU':_0x5729e4(0x15e),'qCbIi':function(_0x3828af,_0x3aa6a4){return _0x3828af(_0x3aa6a4);},'AKKZC':function(_0x45e159,_0x4c976f){return _0x45e159(_0x4c976f);},'pPQGw':_0x5729e4(0xd6),'SzuyK':function(_0x4f6566,_0x18b267){return _0x4f6566===_0x18b267;},'ZtsTF':_0x5729e4(0xb6),'heXZI':'rIUMf','HOqZO':_0x5729e4(0x112),'OjSXl':_0x5729e4(0xf8),'XlhMa':_0x5729e4(0x124),'Xjrvt':function(_0x2e4721,_0x380800,_0x85ccd2){return _0x2e4721(_0x380800,_0x85ccd2);},'vpMXG':function(_0x3ff81c,_0x3d7286){return _0x3ff81c!==_0x3d7286;},'pEeLW':_0x5729e4(0x14b),'TlvZF':'gEyFZ','ukDie':_0x5729e4(0xd2),'mnFth':_0x5729e4(0x100),'EiemR':'Subnet02','akZHU':_0x5729e4(0x114),'aOOBV':_0x5729e4(0x146),'DtinN':_0x5729e4(0xee),'PrwBN':_0x5729e4(0x13d)};if(_0x30d0cb){if(_0x71eadb[_0x5729e4(0xce)](_0x71eadb[_0x5729e4(0xdd)],_0x71eadb[_0x5729e4(0x153)]))_0x4d5f1e[_0x5729e4(0x101)][_0x5729e4(0x160)]({'ParameterKey':'Subnet'+_0x71eadb[_0x5729e4(0x14a)](_0x1b51f0,_0x42a79a)[_0x5729e4(0x159)](0x2,'0'),'ParameterValue':_0x31e2bb[_0x5729e4(0xa9)]}),_0x2e8fcd+=0x1;else{const _0x175eb2=await fs['readFileAsync'](path['join'](__dirname,'..',_0x71eadb['HOqZO'],_0x71eadb[_0x5729e4(0xe3)]),_0x71eadb[_0x5729e4(0x10a)]),_0x42f599={};_0x42f599[_0x5729e4(0xb8)]=CLOUDFORMATION_SCHEMA;const _0x1af592=yaml['load'](_0x175eb2,_0x42f599);_0x71eadb[_0x5729e4(0xbd)](mergeTemplates,_0x958209,_0x1af592);let _0x520311=0x1;_0x30d0cb['forEach'](_0x43f3b=>{const _0x816830=_0x5729e4;if(_0x71eadb[_0x816830(0x16b)](_0x71eadb[_0x816830(0x15f)],_0x71eadb[_0x816830(0x119)]))_0x505faa[_0x7ef392][_0x315ac2]=_0x8edb69[_0x143675];else{const _0x15f812=_0x71eadb['YzULT'][_0x816830(0x142)]('|');let _0x539c92=0x0;while(!![]){switch(_0x15f812[_0x539c92++]){case'0':_0x958209[_0x816830(0x165)][_0x816830(0xf7)]['Properties']['Subnets']['push']({'Ref':_0x816830(0xe0)+_0x71eadb[_0x816830(0x14a)](String,_0x520311)[_0x816830(0x159)](0x2,'0')});continue;case'1':_0x958209[_0x816830(0x150)][_0x71eadb[_0x816830(0x148)]][_0x816830(0x117)][0x0][_0x816830(0x101)][_0x816830(0x160)](_0x816830(0xe0)+_0x71eadb[_0x816830(0x14a)](String,_0x520311)[_0x816830(0x159)](0x2,'0'));continue;case'2':_0x958209[_0x816830(0x165)][_0x816830(0xaf)][_0x816830(0x123)][_0x816830(0xaa)]['push']({'Ref':_0x816830(0xe0)+_0x71eadb[_0x816830(0x14a)](String,_0x520311)['padStart'](0x2,'0')});continue;case'3':_0x520311+=0x1;continue;case'4':_0x958209['Outputs']['SubnetIds'][_0x816830(0xfd)][_0x71eadb[_0x816830(0x120)]][0x1][_0x816830(0x160)]({'Ref':_0x816830(0xe0)+_0x71eadb[_0x816830(0xc9)](String,_0x520311)[_0x816830(0x159)](0x2,'0')});continue;case'5':_0x958209[_0x816830(0x165)][_0x816830(0x164)][_0x816830(0x123)][_0x816830(0x10c)][_0x816830(0xf0)]['push']({'Ref':_0x816830(0xe0)+_0x71eadb[_0x816830(0x10f)](String,_0x520311)[_0x816830(0x159)](0x2,'0')});continue;}break;}}});}}else{if(_0x71eadb[_0x5729e4(0x12e)](_0x71eadb[_0x5729e4(0x128)],_0x71eadb[_0x5729e4(0xda)])){const _0x331d8b=await fs[_0x5729e4(0xf5)](path[_0x5729e4(0xd1)](__dirname,'..',_0x71eadb[_0x5729e4(0x10d)],_0x71eadb[_0x5729e4(0xb5)]),_0x71eadb[_0x5729e4(0x10a)]),_0x4195c5={};_0x4195c5['schema']=CLOUDFORMATION_SCHEMA;const _0x186e2b=yaml[_0x5729e4(0x13b)](_0x331d8b,_0x4195c5);_0x71eadb[_0x5729e4(0xbd)](mergeTemplates,_0x958209,_0x186e2b),_0x958209[_0x5729e4(0x165)][_0x5729e4(0x164)]['DependsOn']['push'](_0x71eadb[_0x5729e4(0xe1)],_0x71eadb[_0x5729e4(0xb3)],_0x71eadb[_0x5729e4(0x13c)]);const _0x232af5={};_0x232af5[_0x5729e4(0x11c)]=_0x71eadb[_0x5729e4(0xe1)];const _0x111203={};_0x111203[_0x5729e4(0x11c)]=_0x71eadb['EiemR'];const _0x5b7eca={};_0x5b7eca[_0x5729e4(0x11c)]=_0x71eadb[_0x5729e4(0x13c)],_0x958209[_0x5729e4(0x165)][_0x5729e4(0x164)][_0x5729e4(0x123)]['ResourcesVpcConfig'][_0x5729e4(0xf0)]=[_0x232af5,_0x111203,_0x5b7eca],_0x958209['Metadata'][_0x71eadb['LOaED']][_0x5729e4(0x117)][0x0][_0x5729e4(0x101)]['push'](_0x71eadb[_0x5729e4(0xdc)],_0x71eadb['DtinN'],_0x71eadb[_0x5729e4(0xc5)]);const _0x16d573={};_0x16d573[_0x5729e4(0x11c)]=_0x71eadb[_0x5729e4(0xe1)];const _0x20a390={};_0x20a390[_0x5729e4(0x11c)]=_0x71eadb[_0x5729e4(0xb3)];const _0x19f1a9={};_0x19f1a9[_0x5729e4(0x11c)]=_0x71eadb[_0x5729e4(0x13c)],_0x958209['Resources'][_0x5729e4(0xf7)]['Properties']['Subnets']=[_0x16d573,_0x20a390,_0x19f1a9];const _0x2d7d79={};_0x2d7d79[_0x5729e4(0x11c)]=_0x71eadb[_0x5729e4(0xe1)];const _0x1f541b={};_0x1f541b['Ref']=_0x71eadb[_0x5729e4(0xb3)];const _0x3c5558={};_0x3c5558['Ref']=_0x71eadb[_0x5729e4(0x13c)],_0x958209[_0x5729e4(0x165)][_0x5729e4(0xaf)][_0x5729e4(0x123)][_0x5729e4(0xaa)]=[_0x2d7d79,_0x1f541b,_0x3c5558],_0x958209[_0x5729e4(0xb1)][_0x5729e4(0xf0)][_0x5729e4(0xfd)][_0x71eadb[_0x5729e4(0x120)]][0x1]=[{'Ref':_0x71eadb['mnFth']},{'Ref':_0x71eadb[_0x5729e4(0xb3)]},{'Ref':_0x71eadb['akZHU']}];}else{const _0x192c29={};_0x192c29[_0x5729e4(0x104)]=_0x71eadb[_0x5729e4(0x15c)],_0x192c29[_0x5729e4(0xba)]=_0x1fb265,_0x5be221['Parameters'][_0x5729e4(0x160)](_0x192c29);}}},addTags=async(_0x201d8c,_0x251fe8,_0x11e2a4)=>{const _0xaf2b00=a27_0x435b65,_0x4609ed={};_0x4609ed['sQjqb']='NodeGroup',_0x4609ed[_0xaf2b00(0x133)]=_0xaf2b00(0xaf),_0x4609ed[_0xaf2b00(0x143)]=function(_0xabbc0,_0x5567fc){return _0xabbc0===_0x5567fc;},_0x4609ed['XRKuF']=_0xaf2b00(0xe6),_0x4609ed[_0xaf2b00(0xd5)]=function(_0x42c036,_0x5d6d8b){return _0x42c036!==_0x5d6d8b;},_0x4609ed[_0xaf2b00(0x167)]=_0xaf2b00(0xfa),_0x4609ed[_0xaf2b00(0xe9)]=_0xaf2b00(0xc6),_0x4609ed['xHyfg']=_0xaf2b00(0x116);const _0x1a00bd=_0x4609ed;for(const _0x1d4a69 in _0x201d8c['Resources']){if(_0x1a00bd['IwRDk'](_0x1a00bd[_0xaf2b00(0x167)],_0x1a00bd[_0xaf2b00(0x167)])){for(const _0x758ad6 in _0x5f5d4b[_0xaf2b00(0x165)]){_0x3c00c2[_0xaf2b00(0x165)][_0x758ad6][_0xaf2b00(0x123)]&&_0x5c4376[_0xaf2b00(0x165)][_0x758ad6][_0xaf2b00(0x123)][_0xaf2b00(0xed)]&&_0x5ef684['Resources'][_0x758ad6][_0xaf2b00(0x123)][_0xaf2b00(0xed)][_0xaf2b00(0x160)](..._0x296f2f);}const _0x5ccce3={};_0x3673f2[_0xaf2b00(0x131)](_0x51eb55=>{const _0x100011=_0xaf2b00;_0x5ccce3[_0x51eb55[_0x100011(0x161)]]=_0x51eb55[_0x100011(0xfd)];}),_0x397fc8[_0xaf2b00(0x165)][_0x1a00bd['sQjqb']][_0xaf2b00(0x123)][_0xaf2b00(0xed)]=_0x5ccce3,_0x3c6fd4[_0xaf2b00(0x165)][_0x1a00bd[_0xaf2b00(0x133)]][_0xaf2b00(0x123)][_0xaf2b00(0xed)]=_0x5ccce3;}else{if(_0x201d8c[_0xaf2b00(0x165)][_0x1d4a69][_0xaf2b00(0x123)]&&_0x201d8c[_0xaf2b00(0x165)][_0x1d4a69][_0xaf2b00(0x123)]['Tags']){if(_0x1a00bd[_0xaf2b00(0xd5)](_0x1a00bd[_0xaf2b00(0xe9)],_0x1a00bd[_0xaf2b00(0x12a)]))_0x201d8c[_0xaf2b00(0x165)][_0x1d4a69][_0xaf2b00(0x123)][_0xaf2b00(0xed)]['push'](..._0x11e2a4);else{var _0x271cf0=_0x521e16[_0x5bb21c];_0x355b0a['keys'](_0x271cf0)[_0xaf2b00(0x131)](_0x55b20a=>{_0x1f6f41[_0x2848f5][_0x55b20a]=_0x271cf0[_0x55b20a];});}}}}const _0x560ff5={};_0x11e2a4['forEach'](_0x1a51a2=>{const _0x4e0d6a=_0xaf2b00;_0x1a00bd[_0x4e0d6a(0x143)](_0x1a00bd[_0x4e0d6a(0x127)],_0x1a00bd['XRKuF'])?_0x560ff5[_0x1a51a2[_0x4e0d6a(0x161)]]=_0x1a51a2['Value']:_0x2c111b[_0x4e0d6a(0x165)][_0x1d8377][_0x4e0d6a(0x123)]&&_0x421310['Resources'][_0x2db8c8][_0x4e0d6a(0x123)][_0x4e0d6a(0xed)]&&_0x5d79f3[_0x4e0d6a(0x165)][_0x168673][_0x4e0d6a(0x123)][_0x4e0d6a(0xed)][_0x4e0d6a(0x160)](..._0x159be5);}),_0x201d8c[_0xaf2b00(0x165)][_0x1a00bd[_0xaf2b00(0x140)]][_0xaf2b00(0x123)]['Tags']=_0x560ff5,_0x201d8c['Resources'][_0x1a00bd['CsnaF']][_0xaf2b00(0x123)][_0xaf2b00(0xed)]=_0x560ff5;};exports[a27_0x435b65(0xde)]=async(_0x223e0d,_0xd5af87,_0x3996e8,_0x4cc9fd=null,_0x11214d=null,_0x428400)=>{const _0x15e7a5=a27_0x435b65,_0x57ef98={'UGuur':function(_0x3c4347,_0x3b718f){return _0x3c4347(_0x3b718f);},'ZImOA':'browserstack:cluster','vEtCJ':'browserstack:creationDate','QCNRw':_0x15e7a5(0x147),'QpKUs':_0x15e7a5(0x112),'NpkYD':_0x15e7a5(0xf2),'UYFcF':_0x15e7a5(0x124),'sEYCp':function(_0x331482,_0x588aae,_0x2aa6ca){return _0x331482(_0x588aae,_0x2aa6ca);},'pizxH':function(_0x363f66,_0x6f0001){return _0x363f66(_0x6f0001);},'rkGas':function(_0x588379,_0x4528f5,_0xc5a1f8){return _0x588379(_0x4528f5,_0xc5a1f8);},'XRVuF':function(_0x533d9e,_0x1f59d9,_0xf2085c,_0x2583f8){return _0x533d9e(_0x1f59d9,_0xf2085c,_0x2583f8);},'qqPvL':'DELETE','LOaxF':'ClusterName','wjEyi':_0x15e7a5(0xe5),'ZknHc':_0x15e7a5(0x149),'Hetcw':'NodeAutoScalingGroupMinSizeWindows','PodqQ':_0x15e7a5(0x155),'HIvtN':_0x15e7a5(0x12c),'ZbVUt':_0x15e7a5(0xbb),'BsJWE':'NodeInstanceType','nonwK':_0x15e7a5(0x11e),'unGcM':_0x15e7a5(0xc4),'uYpff':_0x15e7a5(0xc8),'yxGns':_0x15e7a5(0x135),'bjGoT':_0x15e7a5(0xf4),'meJyo':_0x15e7a5(0x126),'VBTgd':function(_0x2e6cf6,_0x31e3b2){return _0x2e6cf6!=_0x31e3b2;},'GXyzM':function(_0x41f903,_0x4ec531){return _0x41f903!==_0x4ec531;},'GwtMA':_0x15e7a5(0xae),'vaKaW':_0x15e7a5(0xd6),'RQGxR':_0x15e7a5(0x134),'erWaA':_0x15e7a5(0x13a)},_0x325974=COMMON_HST_TAGS,_0x3058f0={};_0x3058f0[_0x15e7a5(0x161)]=_0x57ef98[_0x15e7a5(0x137)],_0x3058f0[_0x15e7a5(0xfd)]=_0x223e0d,_0x325974[_0x15e7a5(0x160)](_0x3058f0),_0x325974['push']({'Key':_0x57ef98[_0x15e7a5(0x111)],'Value':new Date()[_0x15e7a5(0xc2)]()[_0x15e7a5(0xdf)]()});const _0xfd7585={};_0xfd7585[_0x15e7a5(0x141)]=_0x57ef98['QCNRw'];const _0x2b45da=new AWS[(_0x15e7a5(0xad))](_0xfd7585),_0x437a2d=await fs['readFileAsync'](path[_0x15e7a5(0xd1)](__dirname,'..',_0x57ef98[_0x15e7a5(0xf9)],_0x57ef98['NpkYD']),_0x57ef98['UYFcF']),_0x4216ee={};_0x4216ee[_0x15e7a5(0xb8)]=CLOUDFORMATION_SCHEMA;const _0x5be30e=yaml[_0x15e7a5(0x13b)](_0x437a2d,_0x4216ee);await _0x57ef98['sEYCp'](addVPCData,_0x5be30e,_0x4cc9fd),await _0x57ef98[_0x15e7a5(0x157)](addS3Data,_0x5be30e),await _0x57ef98[_0x15e7a5(0xca)](addSubnetData,_0x5be30e,_0x11214d),await _0x57ef98[_0x15e7a5(0x154)](addTags,_0x5be30e,_0x223e0d,_0x325974);const _0x184aa1=JSON[_0x15e7a5(0x144)](_0x5be30e),_0x129cd5={};_0x129cd5[_0x15e7a5(0x14e)]=CLUSTER_DEP_STACK_NAME+'-'+_0x223e0d,_0x129cd5['OnFailure']=_0x57ef98[_0x15e7a5(0xfb)],_0x129cd5[_0x15e7a5(0x163)]=_0x184aa1,_0x129cd5['Parameters']=[{'ParameterKey':_0x57ef98[_0x15e7a5(0x130)],'ParameterValue':_0x223e0d},{'ParameterKey':_0x57ef98[_0x15e7a5(0xe7)],'ParameterValue':_0x223e0d+_0x15e7a5(0x12f)},{'ParameterKey':_0x57ef98['ZknHc'],'ParameterValue':''+_0xd5af87},{'ParameterKey':_0x57ef98['Hetcw'],'ParameterValue':'0'},{'ParameterKey':_0x57ef98[_0x15e7a5(0xf3)],'ParameterValue':'1'},{'ParameterKey':_0x57ef98['HIvtN'],'ParameterValue':''+_0x3996e8},{'ParameterKey':_0x57ef98[_0x15e7a5(0x13f)],'ParameterValue':global_registry[_0x15e7a5(0x105)]},{'ParameterKey':_0x57ef98[_0x15e7a5(0x122)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x57ef98['nonwK'],'ParameterValue':global_registry[_0x15e7a5(0x136)]},{'ParameterKey':_0x57ef98[_0x15e7a5(0xab)],'ParameterValue':_0x223e0d+'-Windows-NodeGroup'},{'ParameterKey':_0x57ef98[_0x15e7a5(0xb7)],'ParameterValue':_0x428400?_0x57ef98[_0x15e7a5(0x11b)]:_0x57ef98['bjGoT']}],_0x129cd5[_0x15e7a5(0x103)]=[_0x57ef98[_0x15e7a5(0x158)]],_0x129cd5[_0x15e7a5(0xed)]=_0x325974;const _0x19ee81=_0x129cd5;if(_0x57ef98[_0x15e7a5(0x107)](_0x4cc9fd,null)&&_0x57ef98[_0x15e7a5(0x138)](_0x4cc9fd,undefined)){if(_0x57ef98[_0x15e7a5(0x138)](_0x57ef98[_0x15e7a5(0x14c)],_0x57ef98[_0x15e7a5(0x14c)]))_0x38b931[_0x2af677[_0x15e7a5(0x161)]]=_0x277f0e[_0x15e7a5(0xfd)];else{const _0x59431f={};_0x59431f[_0x15e7a5(0x104)]=_0x57ef98['vaKaW'],_0x59431f[_0x15e7a5(0xba)]=_0x4cc9fd,_0x19ee81[_0x15e7a5(0x101)][_0x15e7a5(0x160)](_0x59431f);}}if(_0x57ef98['VBTgd'](_0x11214d,null)&&_0x57ef98['GXyzM'](_0x11214d,undefined)){let _0x11cad3=0x1;_0x11214d[_0x15e7a5(0x131)](_0x146f63=>{const _0x208e50=_0x15e7a5;_0x19ee81['Parameters'][_0x208e50(0x160)]({'ParameterKey':_0x208e50(0xe0)+_0x57ef98[_0x208e50(0x16a)](String,_0x11cad3)[_0x208e50(0x159)](0x2,'0'),'ParameterValue':_0x146f63[_0x208e50(0xa9)]}),_0x11cad3+=0x1;});}const _0x4cbd57=await _0x2b45da['createStack'](_0x19ee81)[_0x15e7a5(0x106)]();logger[_0x15e7a5(0xe2)](_0x57ef98[_0x15e7a5(0x129)]);const _0x59edda={};return _0x59edda['StackName']=_0x4cbd57[_0x15e7a5(0x169)],_0x2b45da[_0x15e7a5(0x11d)](_0x57ef98[_0x15e7a5(0xac)],_0x59edda)[_0x15e7a5(0x106)]();};