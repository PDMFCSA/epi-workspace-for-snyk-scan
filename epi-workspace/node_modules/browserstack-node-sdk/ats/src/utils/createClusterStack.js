const a27_0x4a6a1c=a27_0x284b;(function(_0xa0152c,_0x58b824){const _0x6bdcec=a27_0x284b,_0x208949=_0xa0152c();while(!![]){try{const _0x49aeb4=-parseInt(_0x6bdcec(0xa1))/0x1*(parseInt(_0x6bdcec(0xf4))/0x2)+parseInt(_0x6bdcec(0xe1))/0x3*(-parseInt(_0x6bdcec(0xef))/0x4)+-parseInt(_0x6bdcec(0xce))/0x5+parseInt(_0x6bdcec(0x130))/0x6+-parseInt(_0x6bdcec(0x107))/0x7+parseInt(_0x6bdcec(0xa9))/0x8*(parseInt(_0x6bdcec(0xec))/0x9)+parseInt(_0x6bdcec(0x15a))/0xa*(parseInt(_0x6bdcec(0xb7))/0xb);if(_0x49aeb4===_0x58b824)break;else _0x208949['push'](_0x208949['shift']());}catch(_0x32fec7){_0x208949['push'](_0x208949['shift']());}}}(a27_0x5be5,0x83d2c));const fs=require('fs'),path=require(a27_0x4a6a1c(0xa4)),Promise=require(a27_0x4a6a1c(0x142)),yaml=require(a27_0x4a6a1c(0x93)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4a6a1c(0x13c)),AWS=require(a27_0x4a6a1c(0x14c))[a27_0x4a6a1c(0x95)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x4a6a1c(0x9b)),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x4a6a1c(0x14c));Promise[a27_0x4a6a1c(0xee)](fs);function a27_0x5be5(){const _0x50316d=['Subnet01Block','PQjwS','forEach','NodeImageId','2|5|3|0|4|1','vpc-create.yaml','waitFor','WMHuy','split','SubnetIds','js-yaml-cloudformation-schema','OUfEh','CLpDW','Tiadl','oeIHq','Capabilities','bluebird','fenjm','sxChd','EKSCluster','StackName','hyJPl','Subnets','RLKbG','utf-8','Subnet02Block','./AWSUtils','Metadata','JgBgv','gFlMR','VpcBlock','NodeAutoScalingGroupMinSize','Subnet','sibrp','gUbDI','MZZaP','imkTd','lucCJ','value','0|3|4|5|2|1','5882230mzCbBb','S3BucketName','TemplateBody','YtMYe','ccFsp','ParameterValue','js-yaml','false','awsObj','true','umzZP','esdaO','QojrL','ParameterGroups','../config/constants','zJTFS','toString','BQWLG','aOBzx','eMARv','96992klfqNP','XztEf','push','path','-Windows-NodeGroup','OuAKC','Ref','UGrcA','50024LqbkWu','yMKRt','mHPaJ','CFTemplates','aPsIC','subnet-create.yaml','FtyLy','RIjZS','LhNCS','CAPABILITY_NAMED_IAM','vwucM','Parameters','FMyhj','fqlyB','22hCSHbq','IMPyQ','JQCpI','HmHRi','HdmyT','jMhja','XqQQV','rSPLg','jHHwO','PyhVQ','ezKqr','join','debug','lsHGO','createClusterStack','NoNme','NodeGroupWindows','promise','dSJzz','BwvUk','schema','PLsva','KjCLJ','2110370XYxWur','NodeAutoScalingGroupMaxSize','PzzLc','NodeGroup','EQKbN','bVWjE','GjLbK','OnFailure','XLwcB','dPNso','Subnet02','Properties','eEUkF','suWUk','UcnDg','Outputs','Tags','createStack','kdpJa','3207aLVzfx','GJwnc','tTwcZ','aIGCi','dvxwX','KGXQe','DLwdI','ResourcesVpcConfig','load','UZvJg','Key','1287eeqnOW','padStart','promisifyAll','568BAuIYT','keys','NodeInstanceType','-NodeGroup','ClusterAutoUpgrade','8wHiZyt','browserstack:creationDate','stringify','ParameterKey','GoWss','fQpok','ToUey','valueOf','VPC','hUIXI','ZtYKf','xSqRr','UbuLZ','NodeGroupNameWindows','ejIGr','UqsAg','NodeAutoScalingGroupDesiredSizeWindows','PqUke','readFileAsync','5615498JMEsXc','mUfZB','AWS::CloudFormation::Interface','ZHdkQ','gDkKI','DELETE','tYgVH','YHoHF','YJxnE','s3-create.yaml','s3Bucket','KcRKm','ccbVZ','DyVts','yfytB','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','stackCreateComplete','DependsOn','vpc-import.yaml','qBgrI','Value','NXoHV','Wctmw','YmCzu','Fn::Join','ClusterName','Resources','lTkZp','jNYJH','TTOmO','instanceType','MCIlf','DpIZv','VEpZC','gELte','eEHQy','Subnet01','ekdBw','browserstack:cluster','Subnet03Block','nCaNi','1400262XUxpEI','cJNHb'];a27_0x5be5=function(){return _0x50316d;};return a27_0x5be5();}function a27_0x284b(_0x40a99a,_0x178d38){const _0x5be53c=a27_0x5be5();return a27_0x284b=function(_0x284bbd,_0x5cf899){_0x284bbd=_0x284bbd-0x8e;let _0x103811=_0x5be53c[_0x284bbd];return _0x103811;},a27_0x284b(_0x40a99a,_0x178d38);}const mergeTemplates=(_0x73abe1,_0x39bef3)=>{const _0x1b1e12=a27_0x4a6a1c,_0xad9ed3={'qukUS':function(_0x1867b1,_0x5f2bb6){return _0x1867b1(_0x5f2bb6);},'Nmpff':'VPC','nFPZU':function(_0x19817b,_0x3da80b){return _0x19817b!==_0x3da80b;},'jNYJH':_0x1b1e12(0x139),'ZHdkQ':'ZFrTj','mUfZB':function(_0x5459b3,_0x34dba7){return _0x5459b3===_0x34dba7;},'zJTFS':_0x1b1e12(0xba),'eEUkF':_0x1b1e12(0x115)};Object['keys'](_0x39bef3)['forEach'](_0x35d1ff=>{const _0x2c1a75=_0x1b1e12,_0x2bbd29={'GJwnc':_0xad9ed3['Nmpff'],'esdaO':function(_0x2d94a3,_0x24e22e){return _0xad9ed3['nFPZU'](_0x2d94a3,_0x24e22e);},'PQjwS':_0xad9ed3[_0x2c1a75(0x123)],'xSqRr':_0xad9ed3[_0x2c1a75(0x10a)]};if(_0xad9ed3[_0x2c1a75(0x108)](_0xad9ed3[_0x2c1a75(0x9c)],_0xad9ed3[_0x2c1a75(0xda)])){const _0x4bbe4e={'jfusJ':function(_0x3e8ef0,_0x3cdf46){return _0xad9ed3['qukUS'](_0x3e8ef0,_0x3cdf46);}};let _0x1476ff=0x1;_0x547c08[_0x2c1a75(0x134)](_0x2b9f10=>{const _0x11755d=_0x2c1a75;_0x5bb6c3[_0x11755d(0xb4)][_0x11755d(0xa3)]({'ParameterKey':'Subnet'+_0x4bbe4e['jfusJ'](_0x6fe3ff,_0x1476ff)[_0x11755d(0xed)](0x2,'0'),'ParameterValue':_0x2b9f10[_0x11755d(0x158)]}),_0x1476ff+=0x1;});}else{var _0x41158c=_0x39bef3[_0x35d1ff];Object[_0x2c1a75(0xf0)](_0x41158c)[_0x2c1a75(0x134)](_0x58f6b5=>{const _0x36adbe=_0x2c1a75,_0x32655d={};_0x32655d[_0x36adbe(0x124)]=_0x2bbd29[_0x36adbe(0xe2)];const _0x372388=_0x32655d;if(_0x2bbd29[_0x36adbe(0x98)](_0x2bbd29[_0x36adbe(0x133)],_0x2bbd29[_0x36adbe(0xff)]))_0x73abe1[_0x35d1ff][_0x58f6b5]=_0x41158c[_0x58f6b5];else{const _0x3d97f5={};_0x3d97f5[_0x36adbe(0xf7)]=_0x372388[_0x36adbe(0x124)],_0x3d97f5[_0x36adbe(0x92)]=_0x2fa207,_0x30b52b[_0x36adbe(0xb4)][_0x36adbe(0xa3)](_0x3d97f5);}});}});},addVPCData=async(_0x16062b,_0x580ffa)=>{const _0x2ede1a=a27_0x4a6a1c,_0x24b8bf={'gELte':_0x2ede1a(0xd1),'eYZTV':_0x2ede1a(0xc7),'tTwcZ':function(_0x19d341,_0x462d8a){return _0x19d341===_0x462d8a;},'suWUk':_0x2ede1a(0x147),'nCaNi':_0x2ede1a(0xac),'ccbVZ':_0x2ede1a(0x119),'bVWjE':_0x2ede1a(0x14a),'suoVb':function(_0x1d419a,_0x45b7dc,_0x47a91d){return _0x1d419a(_0x45b7dc,_0x47a91d);},'BQWLG':_0x2ede1a(0x109),'cJNHb':'VPC','KjCLJ':function(_0x1567a3,_0x2d9630){return _0x1567a3===_0x2d9630;},'ewfog':_0x2ede1a(0xca),'qhGbQ':_0x2ede1a(0xe4),'PqUke':_0x2ede1a(0x137),'zJgbA':function(_0x37f043,_0x509b62,_0x1498e5){return _0x37f043(_0x509b62,_0x1498e5);},'Rpqdn':_0x2ede1a(0x150)};if(_0x580ffa){if(_0x24b8bf[_0x2ede1a(0xe3)](_0x24b8bf[_0x2ede1a(0xdb)],_0x24b8bf[_0x2ede1a(0xdb)])){const _0x566aa3=await fs[_0x2ede1a(0x106)](path[_0x2ede1a(0xc2)](__dirname,'..',_0x24b8bf[_0x2ede1a(0x12f)],_0x24b8bf[_0x2ede1a(0x113)]),_0x24b8bf['bVWjE']),_0x5e61d7={};_0x5e61d7['schema']=CLOUDFORMATION_SCHEMA;const _0x310054=yaml[_0x2ede1a(0xe9)](_0x566aa3,_0x5e61d7);_0x24b8bf['suoVb'](mergeTemplates,_0x16062b,_0x310054),_0x16062b['Metadata'][_0x24b8bf[_0x2ede1a(0x9e)]][_0x2ede1a(0x9a)][0x0]['Parameters'][_0x2ede1a(0xa3)](_0x24b8bf[_0x2ede1a(0x131)]);}else _0x2492f5[_0x29fd83][_0x340b0a]=_0x1b39ac[_0x2a7b90];}else{if(_0x24b8bf[_0x2ede1a(0xcd)](_0x24b8bf['ewfog'],_0x24b8bf['qhGbQ'])){for(const _0x51030e in _0x2d0b5b['Resources']){_0x13e45e[_0x2ede1a(0x121)][_0x51030e][_0x2ede1a(0xd9)]&&_0x11c284[_0x2ede1a(0x121)][_0x51030e][_0x2ede1a(0xd9)]['Tags']&&_0x167eb0[_0x2ede1a(0x121)][_0x51030e][_0x2ede1a(0xd9)]['Tags'][_0x2ede1a(0xa3)](..._0x3dd8b4);}const _0x4137b0={};_0x5d904a[_0x2ede1a(0x134)](_0x326646=>{const _0x4cf6cc=_0x2ede1a;_0x4137b0[_0x326646['Key']]=_0x326646[_0x4cf6cc(0x11b)];}),_0x5ab60b[_0x2ede1a(0x121)][_0x24b8bf[_0x2ede1a(0x129)]]['Properties']['Tags']=_0x4137b0,_0x210696[_0x2ede1a(0x121)][_0x24b8bf['eYZTV']][_0x2ede1a(0xd9)]['Tags']=_0x4137b0;}else{const _0x4137ea=await fs[_0x2ede1a(0x106)](path[_0x2ede1a(0xc2)](__dirname,'..',_0x24b8bf[_0x2ede1a(0x12f)],_0x24b8bf[_0x2ede1a(0x105)]),_0x24b8bf[_0x2ede1a(0xd3)]),_0x14ffdc={};_0x14ffdc[_0x2ede1a(0xcb)]=CLOUDFORMATION_SCHEMA;const _0x3d460a=yaml[_0x2ede1a(0xe9)](_0x4137ea,_0x14ffdc);_0x24b8bf['zJgbA'](mergeTemplates,_0x16062b,_0x3d460a),_0x16062b['Metadata'][_0x24b8bf['BQWLG']][_0x2ede1a(0x9a)][0x0][_0x2ede1a(0xb4)][_0x2ede1a(0xa3)](_0x24b8bf['Rpqdn']);}}},addS3Data=async _0x39ef29=>{const _0x27688b=a27_0x4a6a1c,_0x1e9c4c={'dPNso':_0x27688b(0xac),'fQpok':_0x27688b(0x110),'VEpZC':_0x27688b(0x14a),'qWdUp':function(_0x4de164,_0x214ed0){return _0x4de164(_0x214ed0);},'XqQQV':function(_0x2bdce6,_0x143f0a){return _0x2bdce6===_0x143f0a;},'kqqad':function(_0x997494,_0x547cab){return _0x997494!==_0x547cab;},'ccFsp':_0x27688b(0x13d),'UGrcA':function(_0x530598,_0x4e76b0,_0x1b0bd1){return _0x530598(_0x4e76b0,_0x1b0bd1);}},_0x30993b=await fs[_0x27688b(0x106)](path[_0x27688b(0xc2)](__dirname,'..',_0x1e9c4c[_0x27688b(0xd7)],_0x1e9c4c[_0x27688b(0xf9)]),_0x1e9c4c[_0x27688b(0x128)]),_0x477d27={};_0x477d27[_0x27688b(0xcb)]=CLOUDFORMATION_SCHEMA;const _0x1da34d=yaml[_0x27688b(0xe9)](_0x30993b,_0x477d27),_0x311f09=await _0x1e9c4c['qWdUp'](isBucketPresent,global_registry['s3Bucket']);_0x1e9c4c[_0x27688b(0xbd)](_0x311f09,![])&&(_0x1e9c4c['kqqad'](_0x1e9c4c[_0x27688b(0x91)],_0x1e9c4c[_0x27688b(0x91)])?_0x139a3b['Resources'][_0x41b00b][_0x27688b(0xd9)][_0x27688b(0xde)][_0x27688b(0xa3)](..._0x4fb84c):_0x1e9c4c[_0x27688b(0xa8)](mergeTemplates,_0x39ef29,_0x1da34d));},addSubnetData=async(_0x2dec66,_0x2f2619)=>{const _0x1b432d=a27_0x4a6a1c,_0x2af198={'PzzLc':function(_0x1fe112,_0x37f658,_0x3feb2f){return _0x1fe112(_0x37f658,_0x3feb2f);},'gQShW':function(_0x152f33,_0x3c86a9){return _0x152f33!==_0x3c86a9;},'DpIZv':'eiMUl','fenjm':_0x1b432d(0xc9),'SecUd':_0x1b432d(0x136),'UcnDg':function(_0x5d6063,_0x4498b1){return _0x5d6063(_0x4498b1);},'MZZaP':function(_0x45de12,_0x3da6da){return _0x45de12(_0x3da6da);},'PyhVQ':function(_0x26e458,_0xc30742){return _0x26e458(_0xc30742);},'PLsva':_0x1b432d(0x11f),'lsHGO':function(_0xae6e35,_0x596526){return _0xae6e35(_0x596526);},'RLKbG':_0x1b432d(0x109),'hUIXI':function(_0x16a3ee,_0x1c3c90){return _0x16a3ee(_0x1c3c90);},'HdmyT':function(_0x4b1cee,_0x21908f){return _0x4b1cee(_0x21908f);},'UqsAg':function(_0x2fa58a,_0x5a82d6){return _0x2fa58a!==_0x5a82d6;},'Tiadl':_0x1b432d(0xbe),'obNaa':_0x1b432d(0xad),'imkTd':_0x1b432d(0xac),'KGXQe':'subnet-import.yaml','Mwquw':_0x1b432d(0x14a),'gUbDI':function(_0x4043c9,_0x50422b,_0xaf0e30){return _0x4043c9(_0x50422b,_0xaf0e30);},'sibrp':_0x1b432d(0x10e),'FAiAF':_0x1b432d(0xae),'XLwcB':function(_0xfb5b42,_0x451a5e,_0x463871){return _0xfb5b42(_0x451a5e,_0x463871);},'UZvJg':_0x1b432d(0x12b),'sxChd':_0x1b432d(0xd8),'KcRKm':'Subnet03','XztEf':_0x1b432d(0x132),'vklNo':_0x1b432d(0x14b),'jMhja':_0x1b432d(0x12e)};if(_0x2f2619){if(_0x2af198[_0x1b432d(0x103)](_0x2af198[_0x1b432d(0x13f)],_0x2af198['obNaa'])){const _0x3f0f69=await fs[_0x1b432d(0x106)](path[_0x1b432d(0xc2)](__dirname,'..',_0x2af198[_0x1b432d(0x156)],_0x2af198[_0x1b432d(0xe6)]),_0x2af198['Mwquw']),_0x30c1a1={};_0x30c1a1[_0x1b432d(0xcb)]=CLOUDFORMATION_SCHEMA;const _0x39de7d=yaml[_0x1b432d(0xe9)](_0x3f0f69,_0x30c1a1);_0x2af198[_0x1b432d(0x154)](mergeTemplates,_0x2dec66,_0x39de7d);let _0x40a244=0x1;_0x2f2619['forEach'](_0x6ea75f=>{const _0x489962=_0x1b432d,_0x45df89={'JgBgv':function(_0x539c42,_0x499eea,_0xeebf5){const _0x3790c2=a27_0x284b;return _0x2af198[_0x3790c2(0xd0)](_0x539c42,_0x499eea,_0xeebf5);}};if(_0x2af198['gQShW'](_0x2af198[_0x489962(0x127)],_0x2af198[_0x489962(0x143)])){const _0x4f622d=_0x2af198['SecUd'][_0x489962(0x13a)]('|');let _0x431247=0x0;while(!![]){switch(_0x4f622d[_0x431247++]){case'0':_0x2dec66['Resources']['NodeGroupWindows'][_0x489962(0xd9)][_0x489962(0x148)]['push']({'Ref':_0x489962(0x152)+_0x2af198[_0x489962(0xdc)](String,_0x40a244)[_0x489962(0xed)](0x2,'0')});continue;case'1':_0x40a244+=0x1;continue;case'2':_0x2dec66['Resources']['EKSCluster']['Properties'][_0x489962(0xe8)][_0x489962(0x13b)][_0x489962(0xa3)]({'Ref':'Subnet'+_0x2af198[_0x489962(0x155)](String,_0x40a244)[_0x489962(0xed)](0x2,'0')});continue;case'3':_0x2dec66[_0x489962(0x121)][_0x489962(0xd1)]['Properties'][_0x489962(0x148)][_0x489962(0xa3)]({'Ref':_0x489962(0x152)+_0x2af198[_0x489962(0xc0)](String,_0x40a244)[_0x489962(0xed)](0x2,'0')});continue;case'4':_0x2dec66[_0x489962(0xdd)][_0x489962(0x13b)][_0x489962(0x11b)][_0x2af198[_0x489962(0xcc)]][0x1][_0x489962(0xa3)]({'Ref':_0x489962(0x152)+_0x2af198[_0x489962(0xc4)](String,_0x40a244)[_0x489962(0xed)](0x2,'0')});continue;case'5':_0x2dec66[_0x489962(0x14d)][_0x2af198['RLKbG']][_0x489962(0x9a)][0x0][_0x489962(0xb4)][_0x489962(0xa3)](_0x489962(0x152)+_0x2af198[_0x489962(0xfd)](String,_0x40a244)[_0x489962(0xed)](0x2,'0'));continue;}break;}}else _0x45df89[_0x489962(0x14e)](_0x20fd73,_0x1b356d,_0xc3b41e);});}else _0x178663[_0x1b432d(0xb4)][_0x1b432d(0xa3)]({'ParameterKey':'Subnet'+_0x2af198[_0x1b432d(0xbb)](_0x4eeb99,_0x106059)['padStart'](0x2,'0'),'ParameterValue':_0x1c24c9[_0x1b432d(0x158)]}),_0x53301d+=0x1;}else{if(_0x2af198[_0x1b432d(0x103)](_0x2af198[_0x1b432d(0x153)],_0x2af198['sibrp']))_0x498ed6[_0x1b432d(0xf0)](_0x3810c1)[_0x1b432d(0x134)](_0xfa5832=>{const _0x100ed5=_0x1b432d;var _0x1b6288=_0x176d52[_0xfa5832];_0x2d554d[_0x100ed5(0xf0)](_0x1b6288)[_0x100ed5(0x134)](_0x437b67=>{_0x396e76[_0xfa5832][_0x437b67]=_0x1b6288[_0x437b67];});});else{const _0x26ddd6=await fs[_0x1b432d(0x106)](path[_0x1b432d(0xc2)](__dirname,'..',_0x2af198['imkTd'],_0x2af198['FAiAF']),_0x2af198['Mwquw']),_0x1a9aaa={};_0x1a9aaa[_0x1b432d(0xcb)]=CLOUDFORMATION_SCHEMA;const _0x48949a=yaml[_0x1b432d(0xe9)](_0x26ddd6,_0x1a9aaa);_0x2af198[_0x1b432d(0xd6)](mergeTemplates,_0x2dec66,_0x48949a),_0x2dec66[_0x1b432d(0x121)]['EKSCluster'][_0x1b432d(0x118)][_0x1b432d(0xa3)](_0x2af198[_0x1b432d(0xea)],_0x2af198[_0x1b432d(0x144)],_0x2af198[_0x1b432d(0x112)]);const _0x5bdb65={};_0x5bdb65['Ref']=_0x2af198[_0x1b432d(0xea)];const _0x4171b8={};_0x4171b8['Ref']=_0x2af198['sxChd'];const _0x3d1218={};_0x3d1218[_0x1b432d(0xa7)]=_0x2af198[_0x1b432d(0x112)],_0x2dec66[_0x1b432d(0x121)][_0x1b432d(0x145)][_0x1b432d(0xd9)][_0x1b432d(0xe8)]['SubnetIds']=[_0x5bdb65,_0x4171b8,_0x3d1218],_0x2dec66[_0x1b432d(0x14d)][_0x2af198[_0x1b432d(0x149)]]['ParameterGroups'][0x0][_0x1b432d(0xb4)]['push'](_0x2af198[_0x1b432d(0xa2)],_0x2af198['vklNo'],_0x2af198[_0x1b432d(0xbc)]);const _0x1ed1b8={};_0x1ed1b8[_0x1b432d(0xa7)]=_0x2af198[_0x1b432d(0xea)];const _0xa7e191={};_0xa7e191['Ref']=_0x2af198['sxChd'];const _0x1d523f={};_0x1d523f['Ref']=_0x2af198[_0x1b432d(0x112)],_0x2dec66[_0x1b432d(0x121)][_0x1b432d(0xd1)]['Properties'][_0x1b432d(0x148)]=[_0x1ed1b8,_0xa7e191,_0x1d523f];const _0x397bc3={};_0x397bc3['Ref']=_0x2af198[_0x1b432d(0xea)];const _0x349185={};_0x349185[_0x1b432d(0xa7)]=_0x2af198[_0x1b432d(0x144)];const _0xba9657={};_0xba9657[_0x1b432d(0xa7)]=_0x2af198[_0x1b432d(0x112)],_0x2dec66[_0x1b432d(0x121)][_0x1b432d(0xc7)]['Properties'][_0x1b432d(0x148)]=[_0x397bc3,_0x349185,_0xba9657],_0x2dec66['Outputs'][_0x1b432d(0x13b)][_0x1b432d(0x11b)][_0x2af198['PLsva']][0x1]=[{'Ref':_0x2af198[_0x1b432d(0xea)]},{'Ref':_0x2af198['sxChd']},{'Ref':_0x2af198['KcRKm']}];}}},addTags=async(_0x21c0e2,_0x5634e5,_0x3844c1)=>{const _0x40cd7e=a27_0x4a6a1c,_0x573f9c={'yMKRt':_0x40cd7e(0x159),'YmCzu':function(_0x4d9801,_0x109dd9){return _0x4d9801(_0x109dd9);},'rFJou':_0x40cd7e(0x11f),'IMPyQ':function(_0x3a6370,_0x1345d0){return _0x3a6370(_0x1345d0);},'ezKqr':_0x40cd7e(0x109),'EQKbN':function(_0x18dd2a,_0x505c9e){return _0x18dd2a(_0x505c9e);},'yYJZq':function(_0x52f9c0,_0x15e276){return _0x52f9c0(_0x15e276);},'jOyBZ':function(_0x306f78,_0x463b08){return _0x306f78(_0x463b08);},'UbuLZ':function(_0x502b8e,_0x3262c1){return _0x502b8e===_0x3262c1;},'QojrL':_0x40cd7e(0xb1),'lTkZp':_0x40cd7e(0xab),'ToUey':function(_0x25eccd,_0x130a7d){return _0x25eccd!==_0x130a7d;},'DLwdI':_0x40cd7e(0x10f),'oeIHq':'NZEvj','JQCpI':_0x40cd7e(0xaf),'ejIGr':'NodeGroup','fqlyB':_0x40cd7e(0xc7)};for(const _0x6360b8 in _0x21c0e2['Resources']){if(_0x573f9c[_0x40cd7e(0xfa)](_0x573f9c[_0x40cd7e(0xe7)],_0x573f9c[_0x40cd7e(0xe7)])){var _0x4f3a34=_0xdd0fd2[_0x57f34f];_0x5d5638[_0x40cd7e(0xf0)](_0x4f3a34)[_0x40cd7e(0x134)](_0x5604fa=>{_0x72257b[_0x2efdde][_0x5604fa]=_0x4f3a34[_0x5604fa];});}else{if(_0x21c0e2[_0x40cd7e(0x121)][_0x6360b8][_0x40cd7e(0xd9)]&&_0x21c0e2[_0x40cd7e(0x121)][_0x6360b8]['Properties'][_0x40cd7e(0xde)]){if(_0x573f9c[_0x40cd7e(0x100)](_0x573f9c[_0x40cd7e(0x140)],_0x573f9c[_0x40cd7e(0xb9)])){const _0x432832=_0x573f9c[_0x40cd7e(0xaa)][_0x40cd7e(0x13a)]('|');let _0x218ce2=0x0;while(!![]){switch(_0x432832[_0x218ce2++]){case'0':_0x308af4[_0x40cd7e(0x121)][_0x40cd7e(0x145)][_0x40cd7e(0xd9)][_0x40cd7e(0xe8)][_0x40cd7e(0x13b)]['push']({'Ref':_0x40cd7e(0x152)+_0x573f9c[_0x40cd7e(0x11e)](_0x24342a,_0x5b6f29)[_0x40cd7e(0xed)](0x2,'0')});continue;case'1':_0x4cdf9b+=0x1;continue;case'2':_0x4159aa['Outputs'][_0x40cd7e(0x13b)]['Value'][_0x573f9c['rFJou']][0x1][_0x40cd7e(0xa3)]({'Ref':_0x40cd7e(0x152)+_0x573f9c[_0x40cd7e(0xb8)](_0x1a238d,_0x566e7f)['padStart'](0x2,'0')});continue;case'3':_0x466b29[_0x40cd7e(0x14d)][_0x573f9c[_0x40cd7e(0xc1)]][_0x40cd7e(0x9a)][0x0][_0x40cd7e(0xb4)]['push'](_0x40cd7e(0x152)+_0x573f9c[_0x40cd7e(0xd2)](_0x4de987,_0x30dcf3)[_0x40cd7e(0xed)](0x2,'0'));continue;case'4':_0x443be1[_0x40cd7e(0x121)][_0x40cd7e(0xd1)][_0x40cd7e(0xd9)]['Subnets'][_0x40cd7e(0xa3)]({'Ref':'Subnet'+_0x573f9c['yYJZq'](_0x16dfc2,_0x557b2f)[_0x40cd7e(0xed)](0x2,'0')});continue;case'5':_0x5348c1[_0x40cd7e(0x121)][_0x40cd7e(0xc7)][_0x40cd7e(0xd9)][_0x40cd7e(0x148)][_0x40cd7e(0xa3)]({'Ref':_0x40cd7e(0x152)+_0x573f9c['jOyBZ'](_0x461a50,_0x48e586)[_0x40cd7e(0xed)](0x2,'0')});continue;}break;}}else _0x21c0e2['Resources'][_0x6360b8][_0x40cd7e(0xd9)][_0x40cd7e(0xde)][_0x40cd7e(0xa3)](..._0x3844c1);}}}const _0x45874f={};_0x3844c1[_0x40cd7e(0x134)](_0x14a25e=>{const _0x3eb5d5=_0x40cd7e;_0x573f9c[_0x3eb5d5(0x100)](_0x573f9c[_0x3eb5d5(0x99)],_0x573f9c[_0x3eb5d5(0x122)])?_0x51cc64[_0x3eb5d5(0x121)][_0x3be71a]['Properties']&&_0x2ea992[_0x3eb5d5(0x121)][_0xf18861][_0x3eb5d5(0xd9)][_0x3eb5d5(0xde)]&&_0x46b002[_0x3eb5d5(0x121)][_0x53ec96][_0x3eb5d5(0xd9)][_0x3eb5d5(0xde)][_0x3eb5d5(0xa3)](..._0x2175ba):_0x45874f[_0x14a25e['Key']]=_0x14a25e[_0x3eb5d5(0x11b)];}),_0x21c0e2[_0x40cd7e(0x121)][_0x573f9c[_0x40cd7e(0x102)]][_0x40cd7e(0xd9)]['Tags']=_0x45874f,_0x21c0e2[_0x40cd7e(0x121)][_0x573f9c[_0x40cd7e(0xb6)]][_0x40cd7e(0xd9)]['Tags']=_0x45874f;};exports[a27_0x4a6a1c(0xc5)]=async(_0x4500f9,_0x5ccab8,_0x1b701a,_0x351c14=null,_0x1fe312=null,_0x37d24c)=>{const _0x4dc8a4=a27_0x4a6a1c,_0x869af7={'gDkKI':function(_0xcb78a6,_0x69c36d){return _0xcb78a6(_0x69c36d);},'GoWss':_0x4dc8a4(0x12d),'ekdBw':_0x4dc8a4(0xf5),'mbvGX':'2010-05-15','GjLbK':_0x4dc8a4(0xac),'NXoHV':'aws-eks-cluster-dep.yaml','scsQb':_0x4dc8a4(0x14a),'gutWe':function(_0x13dee2,_0x57d49e,_0x523e60){return _0x13dee2(_0x57d49e,_0x523e60);},'NoNme':function(_0x11417b,_0x598e9f){return _0x11417b(_0x598e9f);},'CLpDW':function(_0x3f41d4,_0x2259f9,_0x46852e){return _0x3f41d4(_0x2259f9,_0x46852e);},'tirWz':function(_0x297f59,_0x202dad,_0x2e469f,_0x426774){return _0x297f59(_0x202dad,_0x2e469f,_0x426774);},'YtMYe':_0x4dc8a4(0x10c),'FMyhj':_0x4dc8a4(0x120),'ZtYKf':'NodeGroupName','Wctmw':_0x4dc8a4(0x151),'yjCUV':'NodeAutoScalingGroupMinSizeWindows','vwucM':_0x4dc8a4(0x104),'uzFRE':_0x4dc8a4(0xcf),'LAbyv':_0x4dc8a4(0x135),'jHHwO':_0x4dc8a4(0xf1),'eMARv':_0x4dc8a4(0x8e),'gRKRw':_0x4dc8a4(0x101),'umzZP':_0x4dc8a4(0xf3),'gFlMR':_0x4dc8a4(0x96),'dvxwX':_0x4dc8a4(0x94),'lucCJ':_0x4dc8a4(0xb2),'qBgrI':function(_0x2db1d8,_0x53ae9a){return _0x2db1d8!=_0x53ae9a;},'OuAKC':function(_0x2e3a32,_0x3e4458){return _0x2e3a32!==_0x3e4458;},'eEHQy':function(_0x3828d4,_0x2ab61e){return _0x3828d4===_0x2ab61e;},'DyVts':'pIgty','RIjZS':_0x4dc8a4(0x126),'JiuZG':_0x4dc8a4(0xfc),'kdpJa':function(_0x41d845,_0x187e0d){return _0x41d845!=_0x187e0d;},'aOBzx':_0x4dc8a4(0x116),'tYgVH':_0x4dc8a4(0x117)},_0x54bf4c=COMMON_HST_TAGS,_0x4f4d1e={};_0x4f4d1e[_0x4dc8a4(0xeb)]=_0x869af7[_0x4dc8a4(0xf8)],_0x4f4d1e[_0x4dc8a4(0x11b)]=_0x4500f9,_0x54bf4c[_0x4dc8a4(0xa3)](_0x4f4d1e),_0x54bf4c[_0x4dc8a4(0xa3)]({'Key':_0x869af7[_0x4dc8a4(0x12c)],'Value':new Date()[_0x4dc8a4(0xfb)]()[_0x4dc8a4(0x9d)]()});const _0x2418da={};_0x2418da['apiVersion']=_0x869af7['mbvGX'];const _0x203010=new AWS['CloudFormation'](_0x2418da),_0x4a9c72=await fs[_0x4dc8a4(0x106)](path[_0x4dc8a4(0xc2)](__dirname,'..',_0x869af7[_0x4dc8a4(0xd4)],_0x869af7[_0x4dc8a4(0x11c)]),_0x869af7['scsQb']),_0x3a12d6={};_0x3a12d6[_0x4dc8a4(0xcb)]=CLOUDFORMATION_SCHEMA;const _0x246860=yaml[_0x4dc8a4(0xe9)](_0x4a9c72,_0x3a12d6);await _0x869af7['gutWe'](addVPCData,_0x246860,_0x351c14),await _0x869af7[_0x4dc8a4(0xc6)](addS3Data,_0x246860),await _0x869af7[_0x4dc8a4(0x13e)](addSubnetData,_0x246860,_0x1fe312),await _0x869af7['tirWz'](addTags,_0x246860,_0x4500f9,_0x54bf4c);const _0x2b57a9=JSON[_0x4dc8a4(0xf6)](_0x246860),_0x147c8d={};_0x147c8d[_0x4dc8a4(0x146)]=CLUSTER_DEP_STACK_NAME+'-'+_0x4500f9,_0x147c8d[_0x4dc8a4(0xd5)]=_0x869af7[_0x4dc8a4(0x90)],_0x147c8d[_0x4dc8a4(0x8f)]=_0x2b57a9,_0x147c8d['Parameters']=[{'ParameterKey':_0x869af7[_0x4dc8a4(0xb5)],'ParameterValue':_0x4500f9},{'ParameterKey':_0x869af7[_0x4dc8a4(0xfe)],'ParameterValue':_0x4500f9+_0x4dc8a4(0xf2)},{'ParameterKey':_0x869af7[_0x4dc8a4(0x11d)],'ParameterValue':''+_0x5ccab8},{'ParameterKey':_0x869af7['yjCUV'],'ParameterValue':'0'},{'ParameterKey':_0x869af7[_0x4dc8a4(0xb3)],'ParameterValue':'1'},{'ParameterKey':_0x869af7['uzFRE'],'ParameterValue':''+_0x1b701a},{'ParameterKey':_0x869af7['LAbyv'],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x869af7[_0x4dc8a4(0xbf)],'ParameterValue':global_registry[_0x4dc8a4(0x125)]},{'ParameterKey':_0x869af7[_0x4dc8a4(0xa0)],'ParameterValue':global_registry[_0x4dc8a4(0x111)]},{'ParameterKey':_0x869af7['gRKRw'],'ParameterValue':_0x4500f9+_0x4dc8a4(0xa5)},{'ParameterKey':_0x869af7[_0x4dc8a4(0x97)],'ParameterValue':_0x37d24c?_0x869af7[_0x4dc8a4(0x14f)]:_0x869af7[_0x4dc8a4(0xe5)]}],_0x147c8d[_0x4dc8a4(0x141)]=[_0x869af7[_0x4dc8a4(0x157)]],_0x147c8d['Tags']=_0x54bf4c;const _0x44d2ab=_0x147c8d;if(_0x869af7[_0x4dc8a4(0x11a)](_0x351c14,null)&&_0x869af7[_0x4dc8a4(0xa6)](_0x351c14,undefined)){if(_0x869af7[_0x4dc8a4(0x12a)](_0x869af7[_0x4dc8a4(0x114)],_0x869af7[_0x4dc8a4(0xb0)]))_0x1444ae[_0x4a20fb[_0x4dc8a4(0xeb)]]=_0x18642e['Value'];else{const _0x53ec59={};_0x53ec59[_0x4dc8a4(0xf7)]=_0x869af7['JiuZG'],_0x53ec59['ParameterValue']=_0x351c14,_0x44d2ab[_0x4dc8a4(0xb4)]['push'](_0x53ec59);}}if(_0x869af7[_0x4dc8a4(0xe0)](_0x1fe312,null)&&_0x869af7[_0x4dc8a4(0xa6)](_0x1fe312,undefined)){let _0x37424a=0x1;_0x1fe312[_0x4dc8a4(0x134)](_0x50a467=>{const _0x233dd0=_0x4dc8a4;_0x44d2ab[_0x233dd0(0xb4)][_0x233dd0(0xa3)]({'ParameterKey':_0x233dd0(0x152)+_0x869af7[_0x233dd0(0x10b)](String,_0x37424a)[_0x233dd0(0xed)](0x2,'0'),'ParameterValue':_0x50a467[_0x233dd0(0x158)]}),_0x37424a+=0x1;});}const _0x488eb8=await _0x203010[_0x4dc8a4(0xdf)](_0x44d2ab)['promise']();logger[_0x4dc8a4(0xc3)](_0x869af7[_0x4dc8a4(0x9f)]);const _0x2a31dc={};return _0x2a31dc[_0x4dc8a4(0x146)]=_0x488eb8['StackId'],_0x203010[_0x4dc8a4(0x138)](_0x869af7[_0x4dc8a4(0x10d)],_0x2a31dc)[_0x4dc8a4(0xc8)]();};