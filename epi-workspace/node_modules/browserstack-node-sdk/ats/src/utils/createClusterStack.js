const a25_0x5e89c7=a25_0xbf1b;function a25_0xbf1b(_0x23272a,_0x41ffa3){const _0x26bcee=a25_0x26bc();return a25_0xbf1b=function(_0xbf1b4f,_0x365d40){_0xbf1b4f=_0xbf1b4f-0xcc;let _0x3ccbec=_0x26bcee[_0xbf1b4f];return _0x3ccbec;},a25_0xbf1b(_0x23272a,_0x41ffa3);}(function(_0xe807c,_0x1b342b){const _0x32c010=a25_0xbf1b,_0xe8c461=_0xe807c();while(!![]){try{const _0x420b36=-parseInt(_0x32c010(0x10d))/0x1*(-parseInt(_0x32c010(0x116))/0x2)+-parseInt(_0x32c010(0x15a))/0x3*(-parseInt(_0x32c010(0x17f))/0x4)+parseInt(_0x32c010(0x152))/0x5*(-parseInt(_0x32c010(0x142))/0x6)+-parseInt(_0x32c010(0x114))/0x7+-parseInt(_0x32c010(0x140))/0x8+parseInt(_0x32c010(0x143))/0x9*(parseInt(_0x32c010(0x100))/0xa)+-parseInt(_0x32c010(0xdb))/0xb*(-parseInt(_0x32c010(0x164))/0xc);if(_0x420b36===_0x1b342b)break;else _0xe8c461['push'](_0xe8c461['shift']());}catch(_0x54f183){_0xe8c461['push'](_0xe8c461['shift']());}}}(a25_0x26bc,0x55beb));const fs=require('fs'),path=require(a25_0x5e89c7(0x185)),Promise=require(a25_0x5e89c7(0x170)),yaml=require(a25_0x5e89c7(0x168)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a25_0x5e89c7(0x141))[a25_0x5e89c7(0xe5)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a25_0x5e89c7(0x166)),{logger}=require('../config/logger'),{isBucketPresent}=require(a25_0x5e89c7(0x141));function a25_0x26bc(){const _0x5c5a7a=['GLfmX','SGaxV','EKSCluster','VDIUV','FzqLm','aws-eks-cluster-dep.yaml','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','xgoie','fYsiF','ParameterGroups','IuMFv','VOsuA','ClusterName','wxwZQ','QNRCf','UKMtD','s3-create.yaml','KxCij','SubnetIds','browserstack:creationDate','apiVersion','S3BucketName','HdCah','eMQAA','WORkG','AWS::CloudFormation::Interface','readFileAsync','vpc-import.yaml','ParameterValue','bYynv','USLFp','511368xCqxSa','./AWSUtils','43716gdXklO','17289zUedEZ','ATaOm','PQvZm','LzcCM','cuBBT','split','NodeGroupWindows','IzAbQ','Outputs','VPC','xXtWc','psWYJ','NamLK','aYkuk','-NodeGroup','145zphzXk','hEpEp','XMmFS','stringify','Tags','hssUn','CloudFormation','Key','21579IKOJoq','promise','ZGzIn','zeHQJ','Metadata','HTxoO','forEach','RKjFC','Fn::Join','padStart','3645024HYbkuc','Value','../config/constants','ZYvzB','js-yaml','mGmqU','gPwXP','spvHG','utf-8','QTjkH','TtdgM','ikXsD','bluebird','Properties','pqoGw','NodeImageId','KgbOO','NodeAutoScalingGroupMinSize','Ttggr','gqojQ','LIVDP','NNaxt','Subnets','UjUYO','FcHVG','NodeAutoScalingGroupDesiredSizeWindows','TiYfB','48LxLRoc','ompFt','luQuu','zvbyD','Subnet02Block','subnet-create.yaml','path','uBteO','CAPABILITY_NAMED_IAM','NodeGroupName','load','HjewJ','NodeAutoScalingGroupMinSizeWindows','OnFailure','YIgGh','fuuoc','1|2|0|3|5|4','CGxwr','HYIWy','Capabilities','qvWsv','Ydwgy','11fwHHNs','DELETE','KjVld','Parameters','stackCreateComplete','mveJH','iFIYo','StackId','2010-05-15','Subnet','awsObj','Ref','kJnBL','schema','zThZa','mlFfR','rvsxk','pBqKb','xNHpf','createStack','CFTemplates','gnXBO','OfWtH','push','lLTxU','oZLTK','ZLjsx','CWBWu','ICqbJ','lasoy','qQIuX','zgTrl','ZryVK','keys','value','s3Bucket','Subnet03','2370TxqGtB','yjqGC','lMsyn','FKNKT','CKjjy','TemplateBody','Resources','valueOf','ResourcesVpcConfig','5|4|0|1|3|2','ebgQj','VEoWR','xAvmi','5261ONkmrB','ryuKW','whdqg','Subnet02','NodeGroup','-Windows-NodeGroup','VpcBlock','2268973layUKw','browserstack:cluster','40FQgmah','XplPH','waitFor','join','hKmqh','RFGVV','StackName','NodeGroupNameWindows','ami','ParameterKey','EISsS'];a25_0x26bc=function(){return _0x5c5a7a;};return a25_0x26bc();}Promise['promisifyAll'](fs);const mergeTemplates=(_0x222dd3,_0x5248ab)=>{const _0x221df5=a25_0x5e89c7,_0x414d97={'jirlI':function(_0x4ef1a2,_0x19e53d){return _0x4ef1a2(_0x19e53d);},'OqWhf':function(_0x2d038b,_0x333467){return _0x2d038b!==_0x333467;},'IzAbQ':_0x221df5(0x15d),'GBYaA':_0x221df5(0xd9),'pqoGw':function(_0x39710e,_0x5b4554){return _0x39710e===_0x5b4554;},'VEoWR':_0x221df5(0x150),'aIBNz':_0x221df5(0xd6)};Object[_0x221df5(0xfc)](_0x5248ab)[_0x221df5(0x160)](_0x5db753=>{const _0x1ca81a=_0x221df5,_0x28981f={'UjUYO':function(_0x653ca4,_0x3e06ea){return _0x414d97['jirlI'](_0x653ca4,_0x3e06ea);},'psWYJ':function(_0x293aa5,_0x2d31b3){return _0x414d97['OqWhf'](_0x293aa5,_0x2d31b3);},'HTxoO':_0x414d97[_0x1ca81a(0x14a)],'mlFfR':_0x414d97['GBYaA']};if(_0x414d97[_0x1ca81a(0x172)](_0x414d97[_0x1ca81a(0x10b)],_0x414d97['aIBNz'])){let _0x3384f9=0x1;_0x4ff99a[_0x1ca81a(0x160)](_0x1477ff=>{const _0x434a79=_0x1ca81a;_0x15bca5[_0x434a79(0xde)]['push']({'ParameterKey':_0x434a79(0xe4)+_0x28981f[_0x434a79(0x17b)](_0x1e6dc7,_0x3384f9)[_0x434a79(0x163)](0x2,'0'),'ParameterValue':_0x1477ff[_0x434a79(0xfd)]}),_0x3384f9+=0x1;});}else{var _0x1e89f0=_0x5248ab[_0x5db753];Object[_0x1ca81a(0xfc)](_0x1e89f0)['forEach'](_0x293021=>{const _0x386f18=_0x1ca81a;_0x28981f[_0x386f18(0x14e)](_0x28981f[_0x386f18(0x15f)],_0x28981f[_0x386f18(0xea)])?_0x222dd3[_0x5db753][_0x293021]=_0x1e89f0[_0x293021]:_0x4b7fea[_0x5a435f][_0x91ea16]=_0x45ce2f[_0x30dcac];});}});},addVPCData=async(_0x4eca8a,_0x37899d)=>{const _0x4f3279=a25_0x5e89c7,_0x3cdfa4={'HjewJ':_0x4f3279(0xd5),'XMmFS':function(_0x56421d,_0x239a44){return _0x56421d(_0x239a44);},'HYIWy':_0x4f3279(0x13a),'vOfiW':function(_0x1f96cc,_0x1f8f61){return _0x1f96cc(_0x1f8f61);},'OTnNI':_0x4f3279(0x162),'cuBBT':function(_0xa6f5fc,_0x52e1de){return _0xa6f5fc===_0x52e1de;},'hKmqh':_0x4f3279(0x12f),'wxwZQ':'CPMWT','zTrfh':'CFTemplates','KjVld':_0x4f3279(0x13c),'xAvmi':_0x4f3279(0x16c),'FzqLm':function(_0x587849,_0x315196,_0x9dc1c7){return _0x587849(_0x315196,_0x9dc1c7);},'ATaOm':_0x4f3279(0x14c),'xNHpf':_0x4f3279(0xe7),'USLFp':'vpc-create.yaml','eMQAA':_0x4f3279(0x113)};if(_0x37899d){if(_0x3cdfa4[_0x4f3279(0x147)](_0x3cdfa4[_0x4f3279(0x11a)],_0x3cdfa4[_0x4f3279(0x12e)]))_0x48a7cc['Resources'][_0x27af41][_0x4f3279(0x171)]&&_0x37d86a[_0x4f3279(0x106)][_0x44f1ec]['Properties']['Tags']&&_0x1c88ef[_0x4f3279(0x106)][_0x456294][_0x4f3279(0x171)][_0x4f3279(0x156)][_0x4f3279(0xf2)](..._0xf642e9);else{const _0xe95cd=await fs[_0x4f3279(0x13b)](path[_0x4f3279(0x119)](__dirname,'..',_0x3cdfa4['zTrfh'],_0x3cdfa4[_0x4f3279(0xdd)]),_0x3cdfa4[_0x4f3279(0x10c)]),_0x3dd0da={};_0x3dd0da[_0x4f3279(0xe8)]=CLOUDFORMATION_SCHEMA;const _0x543c30=yaml[_0x4f3279(0xcf)](_0xe95cd,_0x3dd0da);_0x3cdfa4[_0x4f3279(0x125)](mergeTemplates,_0x4eca8a,_0x543c30),_0x4eca8a[_0x4f3279(0x15e)][_0x3cdfa4['HYIWy']][_0x4f3279(0x12a)][0x0][_0x4f3279(0xde)][_0x4f3279(0xf2)](_0x3cdfa4[_0x4f3279(0x144)]);}}else{if(_0x3cdfa4[_0x4f3279(0x147)](_0x3cdfa4['xNHpf'],_0x3cdfa4[_0x4f3279(0xed)])){const _0x513302=await fs[_0x4f3279(0x13b)](path[_0x4f3279(0x119)](__dirname,'..',_0x3cdfa4['zTrfh'],_0x3cdfa4[_0x4f3279(0x13f)]),_0x3cdfa4[_0x4f3279(0x10c)]),_0x4ce921={};_0x4ce921['schema']=CLOUDFORMATION_SCHEMA;const _0x34eaaa=yaml[_0x4f3279(0xcf)](_0x513302,_0x4ce921);_0x3cdfa4['FzqLm'](mergeTemplates,_0x4eca8a,_0x34eaaa),_0x4eca8a[_0x4f3279(0x15e)][_0x3cdfa4[_0x4f3279(0xd7)]][_0x4f3279(0x12a)][0x0][_0x4f3279(0xde)][_0x4f3279(0xf2)](_0x3cdfa4[_0x4f3279(0x138)]);}else{const _0xe8db7c=_0x3cdfa4[_0x4f3279(0xd0)]['split']('|');let _0x450a8e=0x0;while(!![]){switch(_0xe8db7c[_0x450a8e++]){case'0':_0x1e8725[_0x4f3279(0x106)][_0x4f3279(0x111)][_0x4f3279(0x171)][_0x4f3279(0x17a)]['push']({'Ref':_0x4f3279(0xe4)+_0x3cdfa4[_0x4f3279(0x154)](_0x380a61,_0x4b7fa6)[_0x4f3279(0x163)](0x2,'0')});continue;case'1':_0x4ddd97[_0x4f3279(0x106)][_0x4f3279(0x123)][_0x4f3279(0x171)][_0x4f3279(0x108)][_0x4f3279(0x133)]['push']({'Ref':_0x4f3279(0xe4)+_0x3cdfa4[_0x4f3279(0x154)](_0x3c6100,_0x4ef9be)[_0x4f3279(0x163)](0x2,'0')});continue;case'2':_0x41974a[_0x4f3279(0x15e)][_0x3cdfa4[_0x4f3279(0xd7)]]['ParameterGroups'][0x0][_0x4f3279(0xde)][_0x4f3279(0xf2)]('Subnet'+_0x3cdfa4['vOfiW'](_0x4f04ff,_0x47f325)[_0x4f3279(0x163)](0x2,'0'));continue;case'3':_0x645212[_0x4f3279(0x106)][_0x4f3279(0x149)][_0x4f3279(0x171)][_0x4f3279(0x17a)][_0x4f3279(0xf2)]({'Ref':_0x4f3279(0xe4)+_0x3cdfa4['vOfiW'](_0x3c5188,_0x246a6a)['padStart'](0x2,'0')});continue;case'4':_0x5aad73+=0x1;continue;case'5':_0x364b6f[_0x4f3279(0x14b)][_0x4f3279(0x133)][_0x4f3279(0x165)][_0x3cdfa4['OTnNI']][0x1]['push']({'Ref':'Subnet'+_0x3cdfa4[_0x4f3279(0x154)](_0x13e765,_0x233847)['padStart'](0x2,'0')});continue;}break;}}}},addS3Data=async _0x35a889=>{const _0x19f851=a25_0x5e89c7,_0x88c556={'RKjFC':_0x19f851(0xef),'bYpYz':_0x19f851(0x131),'lOLKp':_0x19f851(0x16c),'ryuKW':function(_0xe86a4b,_0x420e6b){return _0xe86a4b(_0x420e6b);},'RFGVV':function(_0x5f4b5e,_0x34f5ba){return _0x5f4b5e===_0x34f5ba;},'RXoMj':function(_0x3f6c26,_0x57322a){return _0x3f6c26===_0x57322a;},'KgbOO':_0x19f851(0xfa),'ZhkFF':function(_0x1568f0,_0x45f878,_0x49c556){return _0x1568f0(_0x45f878,_0x49c556);}},_0x34bc1a=await fs[_0x19f851(0x13b)](path[_0x19f851(0x119)](__dirname,'..',_0x88c556[_0x19f851(0x161)],_0x88c556['bYpYz']),_0x88c556['lOLKp']),_0x446a70={};_0x446a70[_0x19f851(0xe8)]=CLOUDFORMATION_SCHEMA;const _0x348010=yaml[_0x19f851(0xcf)](_0x34bc1a,_0x446a70),_0x5e0c9b=await _0x88c556[_0x19f851(0x10e)](isBucketPresent,global_registry[_0x19f851(0xfe)]);_0x88c556[_0x19f851(0x11b)](_0x5e0c9b,![])&&(_0x88c556['RXoMj'](_0x88c556[_0x19f851(0x174)],_0x88c556['KgbOO'])?_0x88c556['ZhkFF'](mergeTemplates,_0x35a889,_0x348010):_0xc3ef71[_0x43a16d['Key']]=_0x8ba1be['Value']);},addSubnetData=async(_0x5e81b3,_0x4747bb)=>{const _0x160502=a25_0x5e89c7,_0x5063c0={'XplPH':function(_0x5e44fa,_0x5b0a5c){return _0x5e44fa===_0x5b0a5c;},'YlkWB':_0x160502(0x14d),'ZKRYg':_0x160502(0x176),'mveJH':_0x160502(0x109),'rvsxk':function(_0x5b0042,_0x571642){return _0x5b0042(_0x571642);},'zbJQe':function(_0x8b1d26,_0x18122e){return _0x8b1d26(_0x18122e);},'IuMFv':'Fn::Join','VDIUV':_0x160502(0x13a),'ZLjsx':'NodeGroup','YIgGh':_0x160502(0x149),'lMsyn':function(_0x173782,_0x5f1d3d){return _0x173782(_0x5f1d3d);},'XdfEp':function(_0x2ac231,_0x576b80){return _0x2ac231!==_0x576b80;},'NNaxt':'rosUF','ePtDQ':_0x160502(0x130),'ebgQj':_0x160502(0xef),'lLTxU':'subnet-import.yaml','ZryVK':_0x160502(0x16c),'gqojQ':function(_0x44856f,_0x3b2e38,_0x1cb3f9){return _0x44856f(_0x3b2e38,_0x1cb3f9);},'fYsiF':function(_0x26b055,_0x4ebfa7){return _0x26b055===_0x4ebfa7;},'zvbyD':'MQCkS','Ydwgy':'nUwjl','hEpEp':_0x160502(0x184),'KxCij':function(_0x2b2073,_0x2333c7,_0x3a8eb8){return _0x2b2073(_0x2333c7,_0x3a8eb8);},'pBqKb':'Subnet01','uBteO':_0x160502(0x110),'gnXBO':_0x160502(0xff),'qQIuX':'Subnet01Block','yjqGC':_0x160502(0x183),'ptjfi':'Subnet03Block'};if(_0x4747bb){if(_0x5063c0['XdfEp'](_0x5063c0[_0x160502(0x179)],_0x5063c0['ePtDQ'])){const _0x9022d2=await fs[_0x160502(0x13b)](path[_0x160502(0x119)](__dirname,'..',_0x5063c0[_0x160502(0x10a)],_0x5063c0[_0x160502(0xf3)]),_0x5063c0[_0x160502(0xfb)]),_0x1e205d={};_0x1e205d[_0x160502(0xe8)]=CLOUDFORMATION_SCHEMA;const _0x594608=yaml[_0x160502(0xcf)](_0x9022d2,_0x1e205d);_0x5063c0[_0x160502(0x177)](mergeTemplates,_0x5e81b3,_0x594608);let _0x507d4b=0x1;_0x4747bb[_0x160502(0x160)](_0x63d9e9=>{const _0x5edcf5=_0x160502;if(_0x5063c0[_0x5edcf5(0x117)](_0x5063c0['YlkWB'],_0x5063c0['ZKRYg']))_0x17bd6a[_0x5edcf5(0xfc)](_0x51494b)[_0x5edcf5(0x160)](_0x5b552f=>{const _0x129643=_0x5edcf5;var _0x4f9c17=_0x3fb364[_0x5b552f];_0x5757f7['keys'](_0x4f9c17)[_0x129643(0x160)](_0x1e3629=>{_0x5f5b19[_0x5b552f][_0x1e3629]=_0x4f9c17[_0x1e3629];});});else{const _0x2fb353=_0x5063c0[_0x5edcf5(0xe0)][_0x5edcf5(0x148)]('|');let _0x40e902=0x0;while(!![]){switch(_0x2fb353[_0x40e902++]){case'0':_0x5e81b3['Resources'][_0x5edcf5(0x111)][_0x5edcf5(0x171)]['Subnets'][_0x5edcf5(0xf2)]({'Ref':_0x5edcf5(0xe4)+_0x5063c0['rvsxk'](String,_0x507d4b)[_0x5edcf5(0x163)](0x2,'0')});continue;case'1':_0x5e81b3[_0x5edcf5(0x106)][_0x5edcf5(0x149)][_0x5edcf5(0x171)]['Subnets'][_0x5edcf5(0xf2)]({'Ref':'Subnet'+_0x5063c0['zbJQe'](String,_0x507d4b)['padStart'](0x2,'0')});continue;case'2':_0x507d4b+=0x1;continue;case'3':_0x5e81b3[_0x5edcf5(0x14b)]['SubnetIds']['Value'][_0x5063c0[_0x5edcf5(0x12b)]][0x1]['push']({'Ref':_0x5edcf5(0xe4)+_0x5063c0['zbJQe'](String,_0x507d4b)[_0x5edcf5(0x163)](0x2,'0')});continue;case'4':_0x5e81b3[_0x5edcf5(0x15e)][_0x5063c0[_0x5edcf5(0x124)]][_0x5edcf5(0x12a)][0x0]['Parameters'][_0x5edcf5(0xf2)]('Subnet'+_0x5063c0['rvsxk'](String,_0x507d4b)[_0x5edcf5(0x163)](0x2,'0'));continue;case'5':_0x5e81b3[_0x5edcf5(0x106)][_0x5edcf5(0x123)][_0x5edcf5(0x171)][_0x5edcf5(0x108)][_0x5edcf5(0x133)][_0x5edcf5(0xf2)]({'Ref':_0x5edcf5(0xe4)+_0x5063c0[_0x5edcf5(0xeb)](String,_0x507d4b)['padStart'](0x2,'0')});continue;}break;}}});}else{for(const _0x3b37ec in _0x9b4bfd['Resources']){_0x43b592[_0x160502(0x106)][_0x3b37ec][_0x160502(0x171)]&&_0x174516[_0x160502(0x106)][_0x3b37ec][_0x160502(0x171)][_0x160502(0x156)]&&_0x8df1f2[_0x160502(0x106)][_0x3b37ec][_0x160502(0x171)]['Tags']['push'](..._0x1866d5);}const _0x1af9eb={};_0x159957[_0x160502(0x160)](_0x559f18=>{const _0x6cdf2e=_0x160502;_0x1af9eb[_0x559f18[_0x6cdf2e(0x159)]]=_0x559f18[_0x6cdf2e(0x165)];}),_0x19d582[_0x160502(0x106)][_0x5063c0[_0x160502(0xf5)]][_0x160502(0x171)]['Tags']=_0x1af9eb,_0x22485a[_0x160502(0x106)][_0x5063c0[_0x160502(0xd3)]][_0x160502(0x171)][_0x160502(0x156)]=_0x1af9eb;}}else{if(_0x5063c0[_0x160502(0x129)](_0x5063c0[_0x160502(0x182)],_0x5063c0[_0x160502(0xda)]))_0x9d4d37[_0x160502(0xde)][_0x160502(0xf2)]({'ParameterKey':_0x160502(0xe4)+_0x5063c0[_0x160502(0x102)](_0x45aed0,_0xae4e7)['padStart'](0x2,'0'),'ParameterValue':_0x2501d9[_0x160502(0xfd)]}),_0x4698a1+=0x1;else{const _0x2b79e0=await fs[_0x160502(0x13b)](path[_0x160502(0x119)](__dirname,'..',_0x5063c0[_0x160502(0x10a)],_0x5063c0[_0x160502(0x153)]),_0x5063c0['ZryVK']),_0x52fc6c={};_0x52fc6c['schema']=CLOUDFORMATION_SCHEMA;const _0xd3d95=yaml[_0x160502(0xcf)](_0x2b79e0,_0x52fc6c);_0x5063c0[_0x160502(0x132)](mergeTemplates,_0x5e81b3,_0xd3d95),_0x5e81b3[_0x160502(0x106)][_0x160502(0x123)]['DependsOn'][_0x160502(0xf2)](_0x5063c0['pBqKb'],_0x5063c0[_0x160502(0xcc)],_0x5063c0[_0x160502(0xf0)]);const _0x5aed2d={};_0x5aed2d['Ref']=_0x5063c0[_0x160502(0xec)];const _0x449281={};_0x449281[_0x160502(0xe6)]=_0x5063c0['uBteO'];const _0xc93c40={};_0xc93c40['Ref']=_0x5063c0[_0x160502(0xf0)],_0x5e81b3['Resources'][_0x160502(0x123)][_0x160502(0x171)][_0x160502(0x108)]['SubnetIds']=[_0x5aed2d,_0x449281,_0xc93c40],_0x5e81b3[_0x160502(0x15e)][_0x5063c0[_0x160502(0x124)]][_0x160502(0x12a)][0x0]['Parameters'][_0x160502(0xf2)](_0x5063c0[_0x160502(0xf9)],_0x5063c0[_0x160502(0x101)],_0x5063c0['ptjfi']);const _0x43c9d5={};_0x43c9d5[_0x160502(0xe6)]=_0x5063c0[_0x160502(0xec)];const _0x3c6846={};_0x3c6846[_0x160502(0xe6)]=_0x5063c0['uBteO'];const _0xd06288={};_0xd06288['Ref']=_0x5063c0[_0x160502(0xf0)],_0x5e81b3[_0x160502(0x106)][_0x160502(0x111)][_0x160502(0x171)][_0x160502(0x17a)]=[_0x43c9d5,_0x3c6846,_0xd06288];const _0x233ef0={};_0x233ef0[_0x160502(0xe6)]=_0x5063c0[_0x160502(0xec)];const _0x40f8c={};_0x40f8c[_0x160502(0xe6)]=_0x5063c0[_0x160502(0xcc)];const _0x5ccb61={};_0x5ccb61[_0x160502(0xe6)]=_0x5063c0[_0x160502(0xf0)],_0x5e81b3[_0x160502(0x106)]['NodeGroupWindows'][_0x160502(0x171)][_0x160502(0x17a)]=[_0x233ef0,_0x40f8c,_0x5ccb61],_0x5e81b3[_0x160502(0x14b)][_0x160502(0x133)]['Value'][_0x5063c0[_0x160502(0x12b)]][0x1]=[{'Ref':_0x5063c0['pBqKb']},{'Ref':_0x5063c0['uBteO']},{'Ref':_0x5063c0[_0x160502(0xf0)]}];}}},addTags=async(_0x5ddc01,_0x174d10,_0x253fe5)=>{const _0x3c9ddd=a25_0x5e89c7,_0x302969={'NamLK':function(_0x1c305b,_0x41be97,_0x6b1453){return _0x1c305b(_0x41be97,_0x6b1453);},'ZGzIn':function(_0x2b8a10,_0xeec654){return _0x2b8a10!==_0xeec654;},'WORkG':_0x3c9ddd(0x13e),'pGBvD':_0x3c9ddd(0xe9),'ikXsD':_0x3c9ddd(0x103),'CWBWu':_0x3c9ddd(0x111),'SGaxV':'NodeGroupWindows'};for(const _0x5c490f in _0x5ddc01['Resources']){_0x302969['ZGzIn'](_0x302969['pGBvD'],_0x302969['pGBvD'])?_0x302969[_0x3c9ddd(0x14f)](_0x11a025,_0x6c53ae,_0x1374bf):_0x5ddc01[_0x3c9ddd(0x106)][_0x5c490f][_0x3c9ddd(0x171)]&&_0x5ddc01[_0x3c9ddd(0x106)][_0x5c490f][_0x3c9ddd(0x171)]['Tags']&&(_0x302969[_0x3c9ddd(0x15c)](_0x302969[_0x3c9ddd(0x16f)],_0x302969[_0x3c9ddd(0x16f)])?_0x34c7eb[_0x3c9ddd(0x106)][_0x5dfa3f][_0x3c9ddd(0x171)][_0x3c9ddd(0x156)][_0x3c9ddd(0xf2)](..._0x67de74):_0x5ddc01['Resources'][_0x5c490f][_0x3c9ddd(0x171)][_0x3c9ddd(0x156)]['push'](..._0x253fe5));}const _0x3d213d={};_0x253fe5[_0x3c9ddd(0x160)](_0x3a030a=>{const _0x31a90f=_0x3c9ddd;if(_0x302969['ZGzIn'](_0x302969[_0x31a90f(0x139)],_0x302969[_0x31a90f(0x139)])){var _0x43f1c7=_0x446115[_0x5dded6];_0x713ed7['keys'](_0x43f1c7)[_0x31a90f(0x160)](_0x323b72=>{_0x2c8049[_0x47d5ae][_0x323b72]=_0x43f1c7[_0x323b72];});}else _0x3d213d[_0x3a030a[_0x31a90f(0x159)]]=_0x3a030a['Value'];}),_0x5ddc01[_0x3c9ddd(0x106)][_0x302969[_0x3c9ddd(0xf6)]]['Properties'][_0x3c9ddd(0x156)]=_0x3d213d,_0x5ddc01[_0x3c9ddd(0x106)][_0x302969[_0x3c9ddd(0x122)]][_0x3c9ddd(0x171)][_0x3c9ddd(0x156)]=_0x3d213d;};exports['createClusterStack']=async(_0x2202b5,_0x37f42e,_0x4a28a8,_0x48a2ca=null,_0x2fc1ac=null)=>{const _0x2267a2=a25_0x5e89c7,_0x4fe204={'QTjkH':_0x2267a2(0x14c),'HdCah':function(_0x1d62fb,_0x611f55){return _0x1d62fb(_0x611f55);},'oZLTK':_0x2267a2(0x115),'EkjCV':_0x2267a2(0x134),'OVLCI':_0x2267a2(0xe3),'xgoie':'CFTemplates','iFIYo':_0x2267a2(0x126),'FcHVG':_0x2267a2(0x16c),'SjHhw':function(_0x51f077,_0x274f07,_0xf31085){return _0x51f077(_0x274f07,_0xf31085);},'TtdgM':function(_0x35c5de,_0x2d460b,_0x3ddffc){return _0x35c5de(_0x2d460b,_0x3ddffc);},'tmRWz':function(_0x5a14da,_0x5a8a2f,_0xc132aa,_0x1864d5){return _0x5a14da(_0x5a8a2f,_0xc132aa,_0x1864d5);},'EISsS':_0x2267a2(0xdc),'LIVDP':_0x2267a2(0x12d),'VOsuA':_0x2267a2(0xce),'fuuoc':_0x2267a2(0x175),'OfWtH':_0x2267a2(0xd1),'TiYfB':_0x2267a2(0x17d),'ompFt':'NodeAutoScalingGroupMaxSize','ZYvzB':_0x2267a2(0x173),'gPwXP':'NodeInstanceType','luQuu':_0x2267a2(0x136),'lasoy':_0x2267a2(0x11d),'AYQuO':_0x2267a2(0xcd),'CKjjy':function(_0x747e76,_0x168f57){return _0x747e76!=_0x168f57;},'ICqbJ':function(_0x50b316,_0x3287fc){return _0x50b316!==_0x3287fc;},'hssUn':function(_0x131d05,_0x21bf91){return _0x131d05===_0x21bf91;},'spvHG':_0x2267a2(0x146),'PQvZm':_0x2267a2(0x121),'whdqg':function(_0x2557eb,_0x38da18){return _0x2557eb!=_0x38da18;},'XXoMM':_0x2267a2(0x127),'mGmqU':_0x2267a2(0xdf)},_0x14e35f=COMMON_HST_TAGS,_0x36e7dd={};_0x36e7dd['Key']=_0x4fe204[_0x2267a2(0xf4)],_0x36e7dd['Value']=_0x2202b5,_0x14e35f['push'](_0x36e7dd),_0x14e35f[_0x2267a2(0xf2)]({'Key':_0x4fe204['EkjCV'],'Value':new Date()[_0x2267a2(0x107)]()['toString']()});const _0xa06d06={};_0xa06d06[_0x2267a2(0x135)]=_0x4fe204['OVLCI'];const _0x472fdd=new AWS[(_0x2267a2(0x158))](_0xa06d06),_0x1cfa5d=await fs['readFileAsync'](path[_0x2267a2(0x119)](__dirname,'..',_0x4fe204[_0x2267a2(0x128)],_0x4fe204[_0x2267a2(0xe1)]),_0x4fe204[_0x2267a2(0x17c)]),_0x5ef749={};_0x5ef749[_0x2267a2(0xe8)]=CLOUDFORMATION_SCHEMA;const _0xec0565=yaml[_0x2267a2(0xcf)](_0x1cfa5d,_0x5ef749);await _0x4fe204['SjHhw'](addVPCData,_0xec0565,_0x48a2ca),await _0x4fe204[_0x2267a2(0x137)](addS3Data,_0xec0565),await _0x4fe204[_0x2267a2(0x16e)](addSubnetData,_0xec0565,_0x2fc1ac),await _0x4fe204['tmRWz'](addTags,_0xec0565,_0x2202b5,_0x14e35f);const _0x465de1=JSON[_0x2267a2(0x155)](_0xec0565),_0x478d00={};_0x478d00[_0x2267a2(0x11c)]=CLUSTER_DEP_STACK_NAME+'-'+_0x2202b5,_0x478d00[_0x2267a2(0xd2)]=_0x4fe204[_0x2267a2(0x120)],_0x478d00[_0x2267a2(0x105)]=_0x465de1,_0x478d00[_0x2267a2(0xde)]=[{'ParameterKey':_0x4fe204[_0x2267a2(0x178)],'ParameterValue':_0x2202b5},{'ParameterKey':_0x4fe204[_0x2267a2(0x12c)],'ParameterValue':_0x2202b5+_0x2267a2(0x151)},{'ParameterKey':_0x4fe204[_0x2267a2(0xd4)],'ParameterValue':''+_0x37f42e},{'ParameterKey':_0x4fe204[_0x2267a2(0xf1)],'ParameterValue':'0'},{'ParameterKey':_0x4fe204[_0x2267a2(0x17e)],'ParameterValue':'1'},{'ParameterKey':_0x4fe204[_0x2267a2(0x180)],'ParameterValue':''+_0x4a28a8},{'ParameterKey':_0x4fe204[_0x2267a2(0x167)],'ParameterValue':global_registry[_0x2267a2(0x11e)]},{'ParameterKey':_0x4fe204[_0x2267a2(0x16a)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x4fe204[_0x2267a2(0x181)],'ParameterValue':global_registry['s3Bucket']},{'ParameterKey':_0x4fe204[_0x2267a2(0xf8)],'ParameterValue':_0x2202b5+_0x2267a2(0x112)}],_0x478d00[_0x2267a2(0xd8)]=[_0x4fe204['AYQuO']],_0x478d00[_0x2267a2(0x156)]=_0x14e35f;const _0x4a6865=_0x478d00;if(_0x4fe204[_0x2267a2(0x104)](_0x48a2ca,null)&&_0x4fe204[_0x2267a2(0xf7)](_0x48a2ca,undefined)){if(_0x4fe204[_0x2267a2(0x157)](_0x4fe204[_0x2267a2(0x16b)],_0x4fe204[_0x2267a2(0x145)])){const _0x2b671a={};_0x2b671a[_0x2267a2(0x11f)]=_0x4fe204[_0x2267a2(0x16d)],_0x2b671a[_0x2267a2(0x13d)]=_0x5d3de7,_0x25883b[_0x2267a2(0xde)][_0x2267a2(0xf2)](_0x2b671a);}else{const _0x49d41d={};_0x49d41d[_0x2267a2(0x11f)]=_0x4fe204[_0x2267a2(0x16d)],_0x49d41d[_0x2267a2(0x13d)]=_0x48a2ca,_0x4a6865[_0x2267a2(0xde)][_0x2267a2(0xf2)](_0x49d41d);}}if(_0x4fe204[_0x2267a2(0x10f)](_0x2fc1ac,null)&&_0x4fe204[_0x2267a2(0xf7)](_0x2fc1ac,undefined)){let _0x5ea7bc=0x1;_0x2fc1ac['forEach'](_0x297e31=>{const _0x27914b=_0x2267a2;_0x4a6865[_0x27914b(0xde)][_0x27914b(0xf2)]({'ParameterKey':_0x27914b(0xe4)+_0x4fe204[_0x27914b(0x137)](String,_0x5ea7bc)[_0x27914b(0x163)](0x2,'0'),'ParameterValue':_0x297e31[_0x27914b(0xfd)]}),_0x5ea7bc+=0x1;});}const _0x207be3=await _0x472fdd[_0x2267a2(0xee)](_0x4a6865)[_0x2267a2(0x15b)]();logger['debug'](_0x4fe204['XXoMM']);const _0x5a4298={};return _0x5a4298['StackName']=_0x207be3[_0x2267a2(0xe2)],_0x472fdd[_0x2267a2(0x118)](_0x4fe204[_0x2267a2(0x169)],_0x5a4298)[_0x2267a2(0x15b)]();};